(self.webpackChunkclient=self.webpackChunkclient||[]).push([[179],{2090:(wt,Fe,_)=>{"use strict";_.d(Fe,{BH:()=>xe,G6:()=>we,L:()=>K,LL:()=>ye,Pz:()=>he,Rd:()=>ne,Sg:()=>je,UG:()=>dt,ZB:()=>U,ZR:()=>Z,aH:()=>pe,b$:()=>at,eu:()=>Ne,hl:()=>ke,jU:()=>Ue,m9:()=>Ln,n2:()=>ct,ne:()=>ut,pd:()=>Qt,r3:()=>qn,ru:()=>Ot,tV:()=>Y,uI:()=>Xe,vZ:()=>re,w1:()=>$t,xO:()=>It,xb:()=>Pn,z$:()=>Pe,zd:()=>Pt});const O=function(Ze){const Ve=[];let et=0;for(let Rt=0;Rt<Ze.length;Rt++){let ht=Ze.charCodeAt(Rt);ht<128?Ve[et++]=ht:ht<2048?(Ve[et++]=ht>>6|192,Ve[et++]=63&ht|128):55296==(64512&ht)&&Rt+1<Ze.length&&56320==(64512&Ze.charCodeAt(Rt+1))?(ht=65536+((1023&ht)<<10)+(1023&Ze.charCodeAt(++Rt)),Ve[et++]=ht>>18|240,Ve[et++]=ht>>12&63|128,Ve[et++]=ht>>6&63|128,Ve[et++]=63&ht|128):(Ve[et++]=ht>>12|224,Ve[et++]=ht>>6&63|128,Ve[et++]=63&ht|128)}return Ve},ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ze,Ve){if(!Array.isArray(Ze))throw Error("encodeByteArray takes an array as a parameter");this.init_();const et=Ve?this.byteToCharMapWebSafe_:this.byteToCharMap_,Rt=[];for(let ht=0;ht<Ze.length;ht+=3){const tt=Ze[ht],X=ht+1<Ze.length,L=X?Ze[ht+1]:0,T=ht+2<Ze.length,j=T?Ze[ht+2]:0;let st=(15&L)<<2|j>>6,_t=63&j;T||(_t=64,X||(st=64)),Rt.push(et[tt>>2],et[(3&tt)<<4|L>>4],et[st],et[_t])}return Rt.join("")},encodeString(Ze,Ve){return this.HAS_NATIVE_SUPPORT&&!Ve?btoa(Ze):this.encodeByteArray(O(Ze),Ve)},decodeString(Ze,Ve){return this.HAS_NATIVE_SUPPORT&&!Ve?atob(Ze):function(Ze){const Ve=[];let et=0,Rt=0;for(;et<Ze.length;){const ht=Ze[et++];if(ht<128)Ve[Rt++]=String.fromCharCode(ht);else if(ht>191&&ht<224){const tt=Ze[et++];Ve[Rt++]=String.fromCharCode((31&ht)<<6|63&tt)}else if(ht>239&&ht<365){const T=((7&ht)<<18|(63&Ze[et++])<<12|(63&Ze[et++])<<6|63&Ze[et++])-65536;Ve[Rt++]=String.fromCharCode(55296+(T>>10)),Ve[Rt++]=String.fromCharCode(56320+(1023&T))}else{const tt=Ze[et++],X=Ze[et++];Ve[Rt++]=String.fromCharCode((15&ht)<<12|(63&tt)<<6|63&X)}}return Ve.join("")}(this.decodeStringToByteArray(Ze,Ve))},decodeStringToByteArray(Ze,Ve){this.init_();const et=Ve?this.charToByteMapWebSafe_:this.charToByteMap_,Rt=[];for(let ht=0;ht<Ze.length;){const tt=et[Ze.charAt(ht++)],L=ht<Ze.length?et[Ze.charAt(ht)]:0;++ht;const j=ht<Ze.length?et[Ze.charAt(ht)]:64;++ht;const Oe=ht<Ze.length?et[Ze.charAt(ht)]:64;if(++ht,null==tt||null==L||null==j||null==Oe)throw new te;Rt.push(tt<<2|L>>4),64!==j&&(Rt.push(L<<4&240|j>>2),64!==Oe&&Rt.push(j<<6&192|Oe))}return Rt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ze=0;Ze<this.ENCODED_VALS.length;Ze++)this.byteToCharMap_[Ze]=this.ENCODED_VALS.charAt(Ze),this.charToByteMap_[this.byteToCharMap_[Ze]]=Ze,this.byteToCharMapWebSafe_[Ze]=this.ENCODED_VALS_WEBSAFE.charAt(Ze),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ze]]=Ze,Ze>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ze)]=Ze,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ze)]=Ze)}}};class te extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const K=function(Ze){return function(Ze){const Ve=O(Ze);return ee.encodeByteArray(Ve,!0)}(Ze).replace(/\./g,"")},Y=function(Ze){try{return ee.decodeString(Ze,!0)}catch(Ve){console.error("base64Decode failed: ",Ve)}return null};function U(Ze,Ve){if(!(Ve instanceof Object))return Ve;switch(Ve.constructor){case Date:return new Date(Ve.getTime());case Object:void 0===Ze&&(Ze={});break;case Array:Ze=[];break;default:return Ve}for(const et in Ve)!Ve.hasOwnProperty(et)||!W(et)||(Ze[et]=U(Ze[et],Ve[et]));return Ze}function W(Ze){return"__proto__"!==Ze}function ne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const oe=()=>{try{return ne().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ze=process.env.__FIREBASE_DEFAULTS__;return Ze?JSON.parse(Ze):void 0})()||(()=>{if(typeof document>"u")return;let Ze;try{Ze=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Ve=Ze&&Y(Ze[1]);return Ve&&JSON.parse(Ve)})()}catch(Ze){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ze}`)}},pe=()=>{var Ze;return null===(Ze=oe())||void 0===Ze?void 0:Ze.config},he=Ze=>{var Ve;return null===(Ve=oe())||void 0===Ve?void 0:Ve[`_${Ze}`]};class xe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ve,et)=>{this.resolve=Ve,this.reject=et})}wrapCallback(Ve){return(et,Rt)=>{et?this.reject(et):this.resolve(Rt),"function"==typeof Ve&&(this.promise.catch(()=>{}),1===Ve.length?Ve(et):Ve(et,Rt))}}}function je(Ze,Ve){if(Ze.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Rt=Ve||"demo-project",ht=Ze.iat||0,tt=Ze.sub||Ze.user_id;if(!tt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const X=Object.assign({iss:`https://securetoken.google.com/${Rt}`,aud:Rt,iat:ht,exp:ht+3600,auth_time:ht,sub:tt,user_id:tt,firebase:{sign_in_provider:"custom",identities:{}}},Ze);return[K(JSON.stringify({alg:"none",type:"JWT"})),K(JSON.stringify(X)),""].join(".")}function Pe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Xe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pe())}function dt(){var Ze;const Ve=null===(Ze=oe())||void 0===Ze?void 0:Ze.forceEnvironment;if("node"===Ve)return!0;if("browser"===Ve)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ue(){return typeof window<"u"||ct()}function ct(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Ot(){const Ze="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ze&&void 0!==Ze.id}function at(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function $t(){const Ze=Pe();return Ze.indexOf("MSIE ")>=0||Ze.indexOf("Trident/")>=0}function we(){return!dt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ke(){try{return"object"==typeof indexedDB}catch{return!1}}function Ne(){return new Promise((Ze,Ve)=>{try{let et=!0;const Rt="validate-browser-context-for-indexeddb-analytics-module",ht=self.indexedDB.open(Rt);ht.onsuccess=()=>{ht.result.close(),et||self.indexedDB.deleteDatabase(Rt),Ze(!0)},ht.onupgradeneeded=()=>{et=!1},ht.onerror=()=>{var tt;Ve((null===(tt=ht.error)||void 0===tt?void 0:tt.message)||"")}}catch(et){Ve(et)}})}class Z extends Error{constructor(Ve,et,Rt){super(et),this.code=Ve,this.customData=Rt,this.name="FirebaseError",Object.setPrototypeOf(this,Z.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ye.prototype.create)}}class ye{constructor(Ve,et,Rt){this.service=Ve,this.serviceName=et,this.errors=Rt}create(Ve,...et){const Rt=et[0]||{},ht=`${this.service}/${Ve}`,tt=this.errors[Ve],X=tt?function R(Ze,Ve){return Ze.replace(Se,(et,Rt)=>{const ht=Ve[Rt];return null!=ht?String(ht):`<${Rt}?>`})}(tt,Rt):"Error";return new Z(ht,`${this.serviceName}: ${X} (${ht}).`,Rt)}}const Se=/\{\$([^}]+)}/g;function qn(Ze,Ve){return Object.prototype.hasOwnProperty.call(Ze,Ve)}function Pn(Ze){for(const Ve in Ze)if(Object.prototype.hasOwnProperty.call(Ze,Ve))return!1;return!0}function re(Ze,Ve){if(Ze===Ve)return!0;const et=Object.keys(Ze),Rt=Object.keys(Ve);for(const ht of et){if(!Rt.includes(ht))return!1;const tt=Ze[ht],X=Ve[ht];if(ge(tt)&&ge(X)){if(!re(tt,X))return!1}else if(tt!==X)return!1}for(const ht of Rt)if(!et.includes(ht))return!1;return!0}function ge(Ze){return null!==Ze&&"object"==typeof Ze}function It(Ze){const Ve=[];for(const[et,Rt]of Object.entries(Ze))Array.isArray(Rt)?Rt.forEach(ht=>{Ve.push(encodeURIComponent(et)+"="+encodeURIComponent(ht))}):Ve.push(encodeURIComponent(et)+"="+encodeURIComponent(Rt));return Ve.length?"&"+Ve.join("&"):""}function Pt(Ze){const Ve={};return Ze.replace(/^\?/,"").split("&").forEach(Rt=>{if(Rt){const[ht,tt]=Rt.split("=");Ve[decodeURIComponent(ht)]=decodeURIComponent(tt)}}),Ve}function Qt(Ze){const Ve=Ze.indexOf("?");if(!Ve)return"";const et=Ze.indexOf("#",Ve);return Ze.substring(Ve,et>0?et:void 0)}function ut(Ze,Ve){const et=new Ye(Ze,Ve);return et.subscribe.bind(et)}class Ye{constructor(Ve,et){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=et,this.task.then(()=>{Ve(this)}).catch(Rt=>{this.error(Rt)})}next(Ve){this.forEachObserver(et=>{et.next(Ve)})}error(Ve){this.forEachObserver(et=>{et.error(Ve)}),this.close(Ve)}complete(){this.forEachObserver(Ve=>{Ve.complete()}),this.close()}subscribe(Ve,et,Rt){let ht;if(void 0===Ve&&void 0===et&&void 0===Rt)throw new Error("Missing Observer.");ht=function rt(Ze,Ve){if("object"!=typeof Ze||null===Ze)return!1;for(const et of Ve)if(et in Ze&&"function"==typeof Ze[et])return!0;return!1}(Ve,["next","error","complete"])?Ve:{next:Ve,error:et,complete:Rt},void 0===ht.next&&(ht.next=Wt),void 0===ht.error&&(ht.error=Wt),void 0===ht.complete&&(ht.complete=Wt);const tt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ht.error(this.finalError):ht.complete()}catch{}}),this.observers.push(ht),tt}unsubscribeOne(Ve){void 0===this.observers||void 0===this.observers[Ve]||(delete this.observers[Ve],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ve){if(!this.finalized)for(let et=0;et<this.observers.length;et++)this.sendOne(et,Ve)}sendOne(Ve,et){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ve])try{et(this.observers[Ve])}catch(Rt){typeof console<"u"&&console.error&&console.error(Rt)}})}close(Ve){this.finalized||(this.finalized=!0,void 0!==Ve&&(this.finalError=Ve),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wt(){}function Ln(Ze){return Ze&&Ze._delegate?Ze._delegate:Ze}},1327:(wt,Fe,_)=>{"use strict";_.d(Fe,{j:()=>z});var l=_(4650),b=_(1779),f=_(4416),O=_(3378),de=_(7392),ee=_(3267),te=_(9022);let z=(()=>{class K{constructor(k,U,W,ne){this.router=k,this.route=U,this.employeeService=W,this.cookieService=ne}ngOnInit(){this.employeeId=this.cookieService.userID(),this.organizationId=this.cookieService.organization(),this.organizationId&&this.employeeId?this.getEmployee(this.employeeId):window.location.reload()}ngAfterViewInit(){document.querySelectorAll(".material-icons").forEach(U=>{U.setAttribute("translate","no")})}getEmployee(k){this.employeeService.fetchFullEmployee(k).subscribe(U=>{this.employeeEmail=U?.employee?.email,this.employeeName=U?.employee?.firstname+" "+U?.employee?.lastname,this.employeeProfile=U?.employee?.image},U=>{console.log(U)})}logout(){this.cookieService.logout(),this.router.navigate(["/login"])}static#e=this.\u0275fac=function(U){return new(U||K)(l.Y36(b.F0),l.Y36(b.gz),l.Y36(f.G),l.Y36(O.e))};static#t=this.\u0275cmp=l.Xpm({type:K,selectors:[["app-free-dashboard"]],decls:96,vars:3,consts:[[1,"heading","w-100","sticky-top"],[1,"d-flex","align-items-center","justify-content-center"],[1,"btn-1",3,"click"],["id","orgName","routerLink","/dashboard",1,"d-none","d-md-flex"],[1,"d-flex","align-items-center","justify-content-around"],[1,"main-bar-profile-tag"],[1,"d-flex","align-items-center"],[1,"ms-2","dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"profile-pic","me-md-3"],["alt","profile",3,"src"],[1,"dropdown-menu","dropdown-menu-end"],["routerLink","/",1,"dropdown-item"],[1,"material-icons"],[1,"dropdown-divider"],["routerLink","/dashboard/personal-profile",1,"dropdown-item"],["routerLink","/my-jobs",1,"dropdown-item"],["routerLink","/dashboard/personal-profile-settings",1,"dropdown-item"],["routerLink","/dashboard/business-profile-my",1,"dropdown-item"],["routerLink","/dashboard/business-profile-settings",1,"dropdown-item"],["routerLink","/locked",1,"dropdown-item"],[1,"dropdown-item",3,"click"],[1,"d-none","d-md-flex","flex-column","justify-content-between","profile-tag"],[1,"w-100"],[1,"drawer-container"],["mode","over",1,"drawer"],["drawer",""],[1,"accordian"],["routerLink","/dashboard/overview"],["routerLink","/dashboard/personal-profile"],["routerLink","/dashboard/business-profile-my"],["routerLink","/job-post"],["routerLink","/dashboard/company-jobs"],["routerLink","/dashboard/applicants"],["routerLink","/dashboard/company-analysis"],["routerLink","/dashboard/billing"],[1,"footer-tag"],[2,"overflow-y","auto","max-height","calc(100vh - 70px)"]],template:function(U,W){if(1&U){const ne=l.EpF();l.TgZ(0,"div",0)(1,"div",1)(2,"button",2),l.NdJ("click",function(){l.CHM(ne);const Ae=l.MAs(68);return l.KtG(Ae.toggle())}),l.TgZ(3,"mat-icon"),l._uU(4,"reorder"),l.qZA()(),l.TgZ(5,"span",3),l._uU(6,"TALENT BOOZT DASHBOARD"),l.qZA()(),l.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8),l._UZ(12,"img",9),l.qZA(),l.TgZ(13,"ul",10)(14,"li")(15,"a",11)(16,"i",12),l._uU(17,"autorenew"),l.qZA(),l._uU(18," Switch to Seeker"),l.qZA()(),l.TgZ(19,"li"),l._UZ(20,"hr",13),l.qZA(),l.TgZ(21,"li")(22,"a",14)(23,"i",12),l._uU(24,"perm_identity"),l.qZA(),l._uU(25," Personal Profile"),l.qZA()(),l.TgZ(26,"li")(27,"a",15)(28,"i",12),l._uU(29,"assignment"),l.qZA(),l._uU(30," My Jobs"),l.qZA()(),l.TgZ(31,"li")(32,"a",16)(33,"i",12),l._uU(34,"settings"),l.qZA(),l._uU(35," Personal Setting"),l.qZA()(),l.TgZ(36,"li"),l._UZ(37,"hr",13),l.qZA(),l.TgZ(38,"li")(39,"a",17)(40,"i",12),l._uU(41,"business"),l.qZA(),l._uU(42," Business Profile"),l.qZA()(),l.TgZ(43,"li")(44,"a",18)(45,"i",12),l._uU(46,"settings"),l.qZA(),l._uU(47," Business Setting"),l.qZA()(),l.TgZ(48,"li"),l._UZ(49,"hr",13),l.qZA(),l.TgZ(50,"li")(51,"a",19)(52,"i",12),l._uU(53,"lock"),l.qZA(),l._uU(54," Lock Screen"),l.qZA()(),l.TgZ(55,"li")(56,"a",20),l.NdJ("click",function(){return W.logout()}),l.TgZ(57,"i",12),l._uU(58,"logout"),l.qZA(),l._uU(59," Logout"),l.qZA()()()(),l.TgZ(60,"div",21)(61,"h6"),l._uU(62),l.qZA(),l.TgZ(63,"span"),l._uU(64),l.qZA()()()()()(),l.TgZ(65,"div",22)(66,"mat-drawer-container",23)(67,"mat-drawer",24,25)(69,"span"),l._uU(70,"MENU"),l.qZA(),l.TgZ(71,"div",26)(72,"mat-accordion")(73,"ul")(74,"li",27),l._uU(75,"Overview"),l.qZA(),l.TgZ(76,"li",28),l._uU(77,"Personal Profile"),l.qZA(),l.TgZ(78,"li",29),l._uU(79,"Business Profile"),l.qZA(),l.TgZ(80,"li",30),l._uU(81,"Post a Job"),l.qZA(),l.TgZ(82,"li",31),l._uU(83,"Company Posted Jobs"),l.qZA(),l.TgZ(84,"li",32),l._uU(85,"Applicants"),l.qZA(),l.TgZ(86,"li",33),l._uU(87,"Company Analysis"),l.qZA(),l.TgZ(88,"li",34),l._uU(89,"Billing and Usage"),l.qZA(),l.TgZ(90,"li"),l._uU(91,"Teams"),l.qZA()()()(),l.TgZ(92,"div",35),l._uU(93," Powered By: TALENT BOOZT "),l.qZA()(),l.TgZ(94,"mat-drawer-content",36),l._UZ(95,"router-outlet"),l.qZA()()()}2&U&&(l.xp6(12),l.Q6J("src",W.employeeProfile?W.employeeProfile:"./assets/imgs/shared/default_emp_dp.svg",l.LSH),l.xp6(50),l.Oqu(W.employeeName?W.employeeName:"not available"),l.xp6(2),l.Oqu(W.employeeEmail?W.employeeEmail:"not available"))},dependencies:[b.lC,b.rH,de.Hw,ee.jA,ee.kh,ee.LW,te.pp],styles:[".heading[_ngcontent-%COMP%]{background-color:var(--color-primary-200);height:70px;padding:0 50px;display:flex;align-items:center;justify-content:space-between}.heading[_ngcontent-%COMP%]   #orgName[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;text-align:center;font-weight:500;font-size:22px;padding-left:20px;color:var(--color-text-200);cursor:pointer}.heading[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px;height:70px;margin-left:15px;cursor:pointer}.heading[_ngcontent-%COMP%]   .btn-1[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;padding:10px}.heading[_ngcontent-%COMP%]   .btn-1[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding:0;margin:0}.heading[_ngcontent-%COMP%]   .main-bar-profile-tag[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:30%;background-color:#fff;cursor:pointer;margin-left:10px;border:2px solid var(--color-primary-500);outline:none;padding:0;overflow:hidden}.heading[_ngcontent-%COMP%]   .main-bar-profile-tag[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;margin:0;padding:0}.heading[_ngcontent-%COMP%]   .main-bar-profile-tag[_ngcontent-%COMP%]   .profile-tag[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%], .heading[_ngcontent-%COMP%]   .main-bar-profile-tag[_ngcontent-%COMP%]   .profile-tag[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0;padding:0;color:#fff;cursor:pointer;transition:color .3s ease}.heading[_ngcontent-%COMP%]   .main-bar-profile-tag[_ngcontent-%COMP%]   .profile-tag[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]:hover, .heading[_ngcontent-%COMP%]   .main-bar-profile-tag[_ngcontent-%COMP%]   .profile-tag[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:var(--color-primary-600)}.heading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;cursor:pointer;font-size:13px}.drawer-container[_ngcontent-%COMP%]{width:100%;max-height:100vh}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]{width:250px;height:100%}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]   .accordian[_ngcontent-%COMP%]{margin-bottom:26px;overflow-y:auto}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]   .accordian[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0 0 0 24px}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]   .accordian[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px 5px;cursor:pointer;color:var(--color-text-300)}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]   .accordian[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:var(--color-surface-mixed-400);color:var(--color-text-100);cursor:pointer}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]   .footer-tag[_ngcontent-%COMP%]{width:100%;height:24px;text-align:center;display:flex;align-items:center;justify-content:center;color:var(--color-text-400);position:absolute;bottom:0;left:0;font-size:12px;background-color:var(--color-surface-200)}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px 5px;cursor:pointer;color:var(--color-text-300)}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:var(--color-surface-mixed-400);color:var(--color-text-100);cursor:pointer}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .list-2[_ngcontent-%COMP%]{padding-left:24px}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;margin-left:20px}.drawer-container[_ngcontent-%COMP%]   mat-drawer-content[_ngcontent-%COMP%]{width:100%;min-height:calc(100vh - 70px)}.p-1[_ngcontent-%COMP%]{color:#fff}"]})}return K})()},2711:(wt,Fe,_)=>{"use strict";_.d(Fe,{H:()=>z});var l=_(4650),b=_(1779),f=_(4416),O=_(3378),de=_(7392),ee=_(3267),te=_(9022);let z=(()=>{class K{constructor(k,U,W,ne){this.router=k,this.route=U,this.employeeService=W,this.cookieService=ne}ngOnInit(){this.employeeId=this.cookieService.userID(),this.organizationId=this.cookieService.organization(),this.organizationId&&this.employeeId?this.getEmployee(this.employeeId):window.location.reload()}ngAfterViewInit(){document.querySelectorAll(".material-icons").forEach(U=>{U.setAttribute("translate","no")})}getEmployee(k){this.employeeService.fetchFullEmployee(k).subscribe(U=>{this.employeeEmail=U?.employee?.email,this.employeeName=U?.employee?.firstname+" "+U?.employee?.lastname,this.employeeProfile=U?.employee?.image},U=>{console.log(U)})}logout(){this.cookieService.logout(),this.router.navigate(["/login"])}static#e=this.\u0275fac=function(U){return new(U||K)(l.Y36(b.F0),l.Y36(b.gz),l.Y36(f.G),l.Y36(O.e))};static#t=this.\u0275cmp=l.Xpm({type:K,selectors:[["app-pro-dashboard"]],decls:96,vars:3,consts:[[1,"heading","w-100","sticky-top"],[1,"d-flex","align-items-center","justify-content-center"],[1,"btn-1",3,"click"],["id","orgName","routerLink","/pro",1,"d-none","d-md-flex"],[1,"d-flex","align-items-center","justify-content-around"],[1,"main-bar-profile-tag"],[1,"d-flex","align-items-center"],[1,"ms-2","dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"profile-pic","me-md-3"],["alt","profile",3,"src"],[1,"dropdown-menu","dropdown-menu-end"],["routerLink","/",1,"dropdown-item"],[1,"material-icons"],[1,"dropdown-divider"],["routerLink","/dashboard/personal-profile",1,"dropdown-item"],["routerLink","/my-jobs",1,"dropdown-item"],["routerLink","/dashboard/personal-profile-settings",1,"dropdown-item"],["routerLink","/dashboard/business-profile-my",1,"dropdown-item"],["routerLink","/dashboard/business-profile-settings",1,"dropdown-item"],["routerLink","/locked",1,"dropdown-item"],[1,"dropdown-item",3,"click"],[1,"d-none","d-md-flex","flex-column","justify-content-between","profile-tag"],[1,"w-100"],[1,"drawer-container"],["mode","over",1,"drawer"],["drawer",""],[1,"accordian"],["routerLink","/pro/overview"],["routerLink","/pro/personal-profile"],["routerLink","/pro/business-profile-my"],["routerLink","/job-post"],["routerLink","/pro/company-jobs"],["routerLink","/pro/applicants"],["routerLink","/pro/company-analysis"],[1,"footer-tag"],[2,"overflow-y","auto","max-height","calc(100vh - 70px)"]],template:function(U,W){if(1&U){const ne=l.EpF();l.TgZ(0,"div",0)(1,"div",1)(2,"button",2),l.NdJ("click",function(){l.CHM(ne);const Ae=l.MAs(68);return l.KtG(Ae.toggle())}),l.TgZ(3,"mat-icon"),l._uU(4,"reorder"),l.qZA()(),l.TgZ(5,"span",3),l._uU(6,"TALENT BOOZT DASHBOARD"),l.qZA()(),l.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8),l._UZ(12,"img",9),l.qZA(),l.TgZ(13,"ul",10)(14,"li")(15,"a",11)(16,"i",12),l._uU(17,"autorenew"),l.qZA(),l._uU(18," Switch to Seeker"),l.qZA()(),l.TgZ(19,"li"),l._UZ(20,"hr",13),l.qZA(),l.TgZ(21,"li")(22,"a",14)(23,"i",12),l._uU(24,"perm_identity"),l.qZA(),l._uU(25," Personal Profile"),l.qZA()(),l.TgZ(26,"li")(27,"a",15)(28,"i",12),l._uU(29,"assignment"),l.qZA(),l._uU(30," My Jobs"),l.qZA()(),l.TgZ(31,"li")(32,"a",16)(33,"i",12),l._uU(34,"settings"),l.qZA(),l._uU(35," Personal Setting"),l.qZA()(),l.TgZ(36,"li"),l._UZ(37,"hr",13),l.qZA(),l.TgZ(38,"li")(39,"a",17)(40,"i",12),l._uU(41,"business"),l.qZA(),l._uU(42," Business Profile"),l.qZA()(),l.TgZ(43,"li")(44,"a",18)(45,"i",12),l._uU(46,"settings"),l.qZA(),l._uU(47," Business Setting"),l.qZA()(),l.TgZ(48,"li"),l._UZ(49,"hr",13),l.qZA(),l.TgZ(50,"li")(51,"a",19)(52,"i",12),l._uU(53,"lock"),l.qZA(),l._uU(54," Lock Screen"),l.qZA()(),l.TgZ(55,"li")(56,"a",20),l.NdJ("click",function(){return W.logout()}),l.TgZ(57,"i",12),l._uU(58,"logout"),l.qZA(),l._uU(59," Logout"),l.qZA()()()(),l.TgZ(60,"div",21)(61,"h6"),l._uU(62),l.qZA(),l.TgZ(63,"span"),l._uU(64),l.qZA()()()()()(),l.TgZ(65,"div",22)(66,"mat-drawer-container",23)(67,"mat-drawer",24,25)(69,"span"),l._uU(70,"MENU"),l.qZA(),l.TgZ(71,"div",26)(72,"mat-accordion")(73,"ul")(74,"li",27),l._uU(75,"Overview"),l.qZA(),l.TgZ(76,"li",28),l._uU(77,"Personal Profile"),l.qZA(),l.TgZ(78,"li",29),l._uU(79,"Business Profile"),l.qZA(),l.TgZ(80,"li",30),l._uU(81,"Post a Job"),l.qZA(),l.TgZ(82,"li",31),l._uU(83,"Company Posted Jobs"),l.qZA(),l.TgZ(84,"li",32),l._uU(85,"Applicants"),l.qZA(),l.TgZ(86,"li",33),l._uU(87,"Company Analysis"),l.qZA(),l.TgZ(88,"li"),l._uU(89,"Billing and Usage"),l.qZA(),l.TgZ(90,"li"),l._uU(91,"Teams"),l.qZA()()()(),l.TgZ(92,"div",34),l._uU(93," Powered By: TALENT BOOZT "),l.qZA()(),l.TgZ(94,"mat-drawer-content",35),l._UZ(95,"router-outlet"),l.qZA()()()}2&U&&(l.xp6(12),l.Q6J("src",W.employeeProfile?W.employeeProfile:"./assets/imgs/shared/default_emp_dp.svg",l.LSH),l.xp6(50),l.Oqu(W.employeeName?W.employeeName:"not available"),l.xp6(2),l.Oqu(W.employeeEmail?W.employeeEmail:"not available"))},dependencies:[b.lC,b.rH,de.Hw,ee.jA,ee.kh,ee.LW,te.pp],styles:[".heading[_ngcontent-%COMP%]{background-color:var(--color-primary-200);height:70px;padding:0 50px;display:flex;align-items:center;justify-content:space-between}.heading[_ngcontent-%COMP%]   #orgName[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;text-align:center;font-weight:500;font-size:22px;padding-left:20px;color:var(--color-text-200);cursor:pointer}.heading[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px;height:70px;margin-left:15px;cursor:pointer}.heading[_ngcontent-%COMP%]   .btn-1[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;padding:10px}.heading[_ngcontent-%COMP%]   .btn-1[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding:0;margin:0}.heading[_ngcontent-%COMP%]   .main-bar-profile-tag[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:30%;background-color:#fff;cursor:pointer;margin-left:10px;border:2px solid var(--color-primary-500);outline:none;padding:0;overflow:hidden}.heading[_ngcontent-%COMP%]   .main-bar-profile-tag[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;margin:0;padding:0}.heading[_ngcontent-%COMP%]   .main-bar-profile-tag[_ngcontent-%COMP%]   .profile-tag[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%], .heading[_ngcontent-%COMP%]   .main-bar-profile-tag[_ngcontent-%COMP%]   .profile-tag[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0;padding:0;color:#fff;cursor:pointer;transition:color .3s ease}.heading[_ngcontent-%COMP%]   .main-bar-profile-tag[_ngcontent-%COMP%]   .profile-tag[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]:hover, .heading[_ngcontent-%COMP%]   .main-bar-profile-tag[_ngcontent-%COMP%]   .profile-tag[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:var(--color-primary-600)}.heading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;cursor:pointer;font-size:13px}.drawer-container[_ngcontent-%COMP%]{width:100%;max-height:100vh}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]{width:250px;height:100%}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]   .accordian[_ngcontent-%COMP%]{margin-bottom:26px;overflow-y:auto}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]   .accordian[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0 0 0 24px}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]   .accordian[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px 5px;cursor:pointer;color:var(--color-text-300)}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]   .accordian[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:var(--color-surface-mixed-400);color:var(--color-text-100);cursor:pointer}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]   .footer-tag[_ngcontent-%COMP%]{width:100%;height:24px;text-align:center;display:flex;align-items:center;justify-content:center;color:var(--color-text-400);position:absolute;bottom:0;left:0;font-size:12px;background-color:var(--color-surface-200)}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px 5px;cursor:pointer;color:var(--color-text-300)}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:var(--color-surface-mixed-400);color:var(--color-text-100);cursor:pointer}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .list-2[_ngcontent-%COMP%]{padding-left:24px}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;margin-left:20px}.drawer-container[_ngcontent-%COMP%]   mat-drawer-content[_ngcontent-%COMP%]{width:100%;min-height:calc(100vh - 70px)}.p-1[_ngcontent-%COMP%]{color:#fff}"]})}return K})()},6511:(wt,Fe,_)=>{"use strict";_.d(Fe,{D:()=>z});var l=_(4006),b=_(4650),f=_(3378),O=_(4429),de=_(4416),ee=_(1779),te=_(6613);let z=(()=>{class K{constructor(k,U,W,ne,le){this.cookieService=k,this.credentialService=U,this.employeeService=W,this.router=ne,this.alertService=le,this.unlockForm=new l.cw({password:new l.NI("",[l.kI.required])})}ngOnInit(){this.cookieService.lock(),this.employeeId=this.cookieService.userID(),this.getEmployee(this.employeeId)}ngAfterViewInit(){document.querySelectorAll(".material-icons").forEach(U=>{U.setAttribute("translate","no")})}getEmployee(k){this.employeeService.getEmployee(k).subscribe(U=>{this.employee=U},U=>{console.log(U)})}unlockUser(){this.credentialService.fetchCredentialByEmployeeId(this.employeeId).subscribe(k=>{k&&(this.unlockForm.valid?this.unlockForm.value.password===k.password?(this.cookieService.unlock(),this.alertService.successMessage("Profile Unlocked!","Success"),this.router.navigate(["/"])):this.alertService.errorMessage("Wrong Password","Error"):this.alertService.errorMessage("Please Enter Your Password","Error"))})}static#e=this.\u0275fac=function(U){return new(U||K)(b.Y36(f.e),b.Y36(O.T),b.Y36(de.G),b.Y36(ee.F0),b.Y36(te.m))};static#t=this.\u0275cmp=b.Xpm({type:K,selectors:[["app-lock-screen"]],decls:18,vars:3,consts:[[1,"shared-background"],[1,"overlay"],[1,"container"],[1,"content-holder"],[1,"form-card-1"],[1,"profile-wrapper"],["alt","profile",3,"src"],[3,"formGroup"],[1,"row","form-wrapper"],[1,"col-12"],["for","password"],["type","password","placeholder","Enter Password","id","password","formControlName","password"],[1,"btn-1","w-100",3,"click"]],template:function(U,W){1&U&&(b.TgZ(0,"div",0),b._UZ(1,"div",1),b.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),b._UZ(6,"img",6),b.qZA(),b.TgZ(7,"h5"),b._uU(8),b.qZA(),b.TgZ(9,"form",7)(10,"div",8)(11,"div",9)(12,"label",10),b._uU(13,"Password:"),b.qZA(),b._UZ(14,"input",11),b.qZA(),b.TgZ(15,"div",9)(16,"button",12),b.NdJ("click",function(){return W.unlockUser()}),b._uU(17,"unlock"),b.qZA()()()()()()()()),2&U&&(b.xp6(6),b.Q6J("src",null!=W.employee&&W.employee.image?W.employee.image:"./assets/imgs/shared/default_emp_dp.svg",b.LSH),b.xp6(2),b.Oqu(null!=W.employee&&W.employee.firstname?(null==W.employee?null:W.employee.firstname)+" "+(null==W.employee?null:W.employee.lastname):"User Locked"),b.xp6(1),b.Q6J("formGroup",W.unlockForm))},dependencies:[l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u]})}return K})()},3199:(wt,Fe,_)=>{"use strict";_.d(Fe,{G:()=>Ae});var l=_(4006),b=_(4650),f=_(1779),O=_(4429),de=_(9819),ee=_(6843),te=_(2340),z=_(529);let K=(()=>{class _e{constructor(fe){this.http=fe,this.baseUrl=te.N.apiUrl}loginWithOAuth(){return this.http.get(`${this.baseUrl}/oauth2/success`)}getUserProfile(){return this.http.get(`${this.baseUrl}/user/profile`)}static#e=this.\u0275fac=function(Me){return new(Me||_e)(b.LFG(z.eN))};static#t=this.\u0275prov=b.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})();var Y=_(8353),k=_(3378),U=_(8140),W=_(6613),ne=_(6895);const le=function(_e){return{"background-image":_e}};let Ae=(()=>{class _e{constructor(fe,Me,pe,he,xe,je,Pe,Xe,dt){this.router=fe,this.credentialService=Me,this.googleAuthService=pe,this.gitHubAuthService=he,this.socialAuthService=xe,this.encryptionService=je,this.cookieService=Pe,this.themeService=Xe,this.alertService=dt,this.attempts=4,this.disabled=!1,this.loginForm=new l.cw({email:new l.NI("",[l.kI.required,l.kI.email]),password:new l.NI("",[l.kI.required])})}ngOnInit(){this.googleAuthService.configureOAuth(),this.gitHubAuthService.handleRedirectCallback()}ngAfterViewInit(){document.querySelectorAll(".material-icons").forEach(Me=>{Me.setAttribute("translate","no")})}loginUser(){if(this.attempts--,this.loginForm.valid){if(this.attempts<=0||"0"==sessionStorage.getItem("LgnAtT"))return sessionStorage.setItem("LgnAtT","0"),this.alertService.warningMessage("Too many attempts! Try again in 5 minutes","Warning"),this.loginForm.reset(),this.disabled=!0,void setTimeout(()=>{this.attempts=4,sessionStorage.removeItem("LgnAtT"),this.disabled=!1},3e5);const fe=this.loginForm.value;this.credentialService.fetchCredentialByEmail(fe.email).subscribe(Me=>{if(!Me)return void this.alertService.errorMessage("User doesn't exist or something went wrong","Error");const pe=this.encryptionService.decryptPassword(Me.password.toString());"0"!=sessionStorage.getItem("LgnAtT")?fe.password===pe?(this.cookieService.createSession(Me),"candidate"===Me.role?(this.cookieService.createUserID(Me.employeeId),this.cookieService.createLevel(Me.userLevel),this.cookieService.unlock(),this.router.navigate(["/"]),this.alertService.successMessage("Login successful","Success")):"employer"===Me.role&&("2"===Me.userLevel?(this.cookieService.createUserID(Me.employeeId),this.cookieService.createAdmin(Me.email),this.cookieService.createOrganizationID(Me.companyId),this.cookieService.createLevel(Me.userLevel),this.cookieService.unlock(),this.router.navigate(["/dashboard"])):"3"===Me.userLevel&&(this.cookieService.createUserID(Me.employeeId),this.cookieService.createProAdmin(Me.email),this.cookieService.createOrganizationID(Me.companyId),this.cookieService.createLevel(Me.userLevel),this.cookieService.unlock(),this.router.navigate(["/pro"])))):this.alertService.errorMessage("Wrong password","Error"):this.alertService.errorMessage("Too many attempts! Try again in 5 minutes","Warning")},Me=>{this.alertService.errorMessage("Something went wrong","Error")})}else this.alertService.errorMessage("Form is not valid","Error")}loginWithGoogle(){this.googleAuthService.loginWithGoogle()}loginWithGithub(){this.gitHubAuthService.loginWithGitHub()}loginWithLinkedin(){}loginWithFacebook(){}static#e=this.\u0275fac=function(Me){return new(Me||_e)(b.Y36(f.F0),b.Y36(O.T),b.Y36(de.M),b.Y36(ee.d),b.Y36(K),b.Y36(Y.C),b.Y36(k.e),b.Y36(U.f),b.Y36(W.m))};static#t=this.\u0275cmp=b.Xpm({type:_e,selectors:[["app-login"]],decls:65,vars:5,consts:[[1,"shared-background"],[1,"overlay"],[1,"container"],[1,"content-holder"],[1,"form-card-1"],[1,"logo",3,"ngStyle"],[1,"title"],[3,"formGroup"],[1,"row","form-wrapper"],[1,"col-12"],["for","email"],["type","email","placeholder","example@example.com","id","email","formControlName","email","autocomplete","section-blue login email"],["for","password"],["type","password","placeholder","Password:","id","password","formControlName","password","autocomplete","section-blue login password"],[1,"d-sm-flex","align-items-center","justify-content-between"],[1,"form-check"],["type","checkbox","value","","id","flexCheckDefault",1,"form-check-input","me-2",2,"width","auto"],["for","flexCheckDefault",1,"form-check-label"],["routerLink","/reset",1,"link"],[1,"btn-1","w-100",3,"disabled","click"],[1,"d-flex","align-items-center","justify-content-center"],[1,"mx-1","my-0",2,"white-space","nowrap"],[1,"row"],[1,"col-6"],[1,"btn-2",3,"click"],[1,"icon-wrapper"],["src","https://img.icons8.com/color/48/google-logo.png","alt","google-logo"],["src","https://img.icons8.com/ios-glyphs/60/github.png","alt","github"],["src","https://img.icons8.com/color/48/linkedin.png","alt","linkedin"],["src","https://img.icons8.com/color/48/facebook-new.png","alt","facebook-new"],[1,"navigation-text","text-center"],["routerLink","/register"]],template:function(Me,pe){1&Me&&(b.TgZ(0,"div",0),b._UZ(1,"div",1),b.TgZ(2,"div",2)(3,"div",3)(4,"div",4),b._UZ(5,"div",5),b.TgZ(6,"h5",6),b._uU(7,"Login"),b.qZA(),b.TgZ(8,"form",7)(9,"div",8)(10,"div",9)(11,"label",10),b._uU(12,"Email:"),b.qZA(),b._UZ(13,"input",11),b.qZA(),b.TgZ(14,"div",9)(15,"label",12),b._uU(16,"Password:"),b.qZA(),b._UZ(17,"input",13),b.qZA(),b.TgZ(18,"div",9)(19,"div",14)(20,"div",15),b._UZ(21,"input",16),b.TgZ(22,"label",17),b._uU(23," Remember me "),b.qZA()(),b.TgZ(24,"a",18),b._uU(25,"Forgot Password?"),b.qZA()()(),b.TgZ(26,"div",9)(27,"button",19),b.NdJ("click",function(){return pe.loginUser()}),b._uU(28,"login/sign in"),b.qZA()(),b.TgZ(29,"div",20),b._UZ(30,"hr"),b.TgZ(31,"p",21),b._uU(32,"or sign in/up with"),b.qZA(),b._UZ(33,"hr"),b.qZA(),b.TgZ(34,"div",9)(35,"div",22)(36,"div",23)(37,"div",24),b.NdJ("click",function(){return pe.loginWithGoogle()}),b.TgZ(38,"div",25),b._UZ(39,"img",26),b.qZA(),b.TgZ(40,"span"),b._uU(41,"Google"),b.qZA()()(),b.TgZ(42,"div",23)(43,"div",24),b.NdJ("click",function(){return pe.loginWithGithub()}),b.TgZ(44,"div",25),b._UZ(45,"img",27),b.qZA(),b.TgZ(46,"span"),b._uU(47,"Github"),b.qZA()()(),b.TgZ(48,"div",23)(49,"div",24),b.NdJ("click",function(){return pe.loginWithLinkedin()}),b.TgZ(50,"div",25),b._UZ(51,"img",28),b.qZA(),b.TgZ(52,"span"),b._uU(53,"Linkedin"),b.qZA()()(),b.TgZ(54,"div",23)(55,"div",24),b.NdJ("click",function(){return pe.loginWithFacebook()}),b.TgZ(56,"div",25),b._UZ(57,"img",29),b.qZA(),b.TgZ(58,"span"),b._uU(59,"Facebook"),b.qZA()()()()(),b.TgZ(60,"div",9)(61,"p",30),b._uU(62,"Don't have an account? "),b.TgZ(63,"a",31),b._uU(64,"Sign Up"),b.qZA()()()()()()()()()),2&Me&&(b.xp6(5),b.Q6J("ngStyle",b.VKq(3,le,pe.themeService.isDarkMode()?"url(./assets/imgs/logo/top-w.svg)":"url(./assets/imgs/logo/top-b.svg)")),b.xp6(3),b.Q6J("formGroup",pe.loginForm),b.xp6(19),b.Q6J("disabled",pe.disabled))},dependencies:[ne.PC,f.rH,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u],styles:[".btn-2[_ngcontent-%COMP%]{width:100%;background-color:transparent;border:2px solid var(--color-primary-200);border-radius:0;padding:5px 10px;display:flex;align-items:center;justify-content:flex-start;margin-bottom:3px}.btn-2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;color:var(--color-text-200);font-weight:450;font-size:16px}.btn-2[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{height:30px;aspect-ratio:1/1;display:flex;align-items:center;justify-content:center}.btn-2[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.btn-2[_ngcontent-%COMP%]:hover{background-color:var(--color-primary-600-opacity-3)}.btn-2[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:var(--color-text-100)}"]})}return _e})()},3412:(wt,Fe,_)=>{"use strict";_.d(Fe,{y:()=>k});var l=_(4006),b=_(4650),f=_(1779),O=_(4429),de=_(6613),ee=_(8353),te=_(8140),z=_(3378),K=_(6895);const Y=function(U){return{"background-image":U}};let k=(()=>{class U{constructor(ne,le,Ae,_e,oe,fe,Me){this.router=ne,this.route=le,this.credentialService=Ae,this.alertService=_e,this.encryptionService=oe,this.themeService=fe,this.cookieService=Me,this.registerForm=new l.cw({name:new l.NI("",[l.kI.required]),email:new l.NI("",[l.kI.required,l.kI.email]),password:new l.NI("",[l.kI.required]),role:new l.NI("candidate"),termsCheck:new l.NI(!1,[l.kI.requiredTrue])})}ngOnInit(){this.route.queryParams.subscribe(ne=>{this.registerForm.patchValue("companies"===ne.from?{role:"employer"}:{role:"candidate"})})}ngAfterViewInit(){document.querySelectorAll(".material-icons").forEach(le=>{le.setAttribute("translate","no")})}registerUser(){if(this.registerForm.valid){const ne=this.registerForm.value;if(ne.password){const le=this.encryptionService.encryptPassword(ne.password);this.credentialService.addCredential({firstname:ne.name?.split(" ")[0],lastname:ne.name?.split(" ")[1]||"",email:ne.email,password:le,role:ne.role,userLevel:"candidate"===ne.role?"1":"2"}).subscribe(Ae=>{Ae?"candidate"===ne.role?(this.router.navigate(["/"]),this.cookieService.createUserID(Ae.employeeId),this.cookieService.createLevel(Ae.userLevel)):"employer"===ne.role&&(this.router.navigate(["/dashboard"]),this.cookieService.createUserID(Ae.employeeId),this.cookieService.createLevel(Ae.userLevel),this.cookieService.createAdmin(Ae.email),this.cookieService.createOrganizationID(Ae.companyId)):this.alertService.errorMessage("User already exists or an unexpected error has occurred","Unexpected Error")},Ae=>{this.alertService.errorMessage("User already exists or an unexpected error has occurred","Unexpected Error")})}}else this.alertService.errorMessage("Please fill in all required fields","Missing Fields")}static#e=this.\u0275fac=function(le){return new(le||U)(b.Y36(f.F0),b.Y36(f.gz),b.Y36(O.T),b.Y36(de.m),b.Y36(ee.C),b.Y36(te.f),b.Y36(z.e))};static#t=this.\u0275cmp=b.Xpm({type:U,selectors:[["app-register"]],decls:50,vars:5,consts:[[1,"shared-background"],[1,"overlay"],[1,"container"],[1,"content-holder"],[1,"form-card-1"],[1,"logo",3,"ngStyle"],[1,"title"],[3,"formGroup"],[1,"row","form-wrapper"],[1,"col-12"],["for","name"],["type","text","placeholder","John","id","name","formControlName","name"],["for","email"],["type","email","placeholder","example@example.com","id","email","formControlName","email"],["for","password"],["type","password","placeholder","Password:","id","password","formControlName","password"],[2,"margin","0"],[1,"d-flex","align-items-center","justify-content-around"],[1,"form-radio","d-flex","align-items-center"],["type","radio","formControlName","role","value","candidate","id","candidateRadio",1,"form-radio-input"],["for","candidateRadio",1,"form-radio-label"],["type","radio","formControlName","role","value","employer","id","employerRadio",1,"form-radio-input"],["for","employerRadio",1,"form-radio-label"],[1,"d-sm-flex","align-items-center","justify-content-between"],[1,"form-check"],["type","checkbox","formControlName","termsCheck","id","termsCheck",1,"form-check-input","me-2"],["for","termsCheck",1,"form-check-label"],["href",""],[1,"btn-1","w-100",3,"disabled","click"],[1,"navigation-text","text-center"],["routerLink","/login"]],template:function(le,Ae){if(1&le&&(b.TgZ(0,"div",0),b._UZ(1,"div",1),b.TgZ(2,"div",2)(3,"div",3)(4,"div",4),b._UZ(5,"div",5),b.TgZ(6,"h5",6),b._uU(7,"Sign up"),b.qZA(),b.TgZ(8,"form",7)(9,"div",8)(10,"div",9)(11,"label",10),b._uU(12,"Name:"),b.qZA(),b._UZ(13,"input",11),b.qZA(),b.TgZ(14,"div",9)(15,"label",12),b._uU(16,"Email:"),b.qZA(),b._UZ(17,"input",13),b.qZA(),b.TgZ(18,"div",9)(19,"label",14),b._uU(20,"Password:"),b.qZA(),b._UZ(21,"input",15),b.qZA(),b.TgZ(22,"div",9)(23,"p",16),b._uU(24,"You are registered as a"),b.qZA(),b.TgZ(25,"div",17)(26,"div",18),b._UZ(27,"input",19),b.TgZ(28,"label",20),b._uU(29," Candidate "),b.qZA()(),b.TgZ(30,"div",18),b._UZ(31,"input",21),b.TgZ(32,"label",22),b._uU(33," Employer "),b.qZA()()()(),b.TgZ(34,"div",9)(35,"div",23)(36,"div",24),b._UZ(37,"input",25),b.TgZ(38,"label",26),b._uU(39," I accept "),b.TgZ(40,"a",27),b._uU(41,"Terms and Conditions"),b.qZA()()()()(),b.TgZ(42,"div",9)(43,"button",28),b.NdJ("click",function(){return Ae.registerUser()}),b._uU(44,"Register"),b.qZA()(),b.TgZ(45,"div",9)(46,"p",29),b._uU(47,"Already have an account ? "),b.TgZ(48,"a",30),b._uU(49,"Sign In"),b.qZA()()()()()()()()()),2&le){let _e;b.xp6(5),b.Q6J("ngStyle",b.VKq(3,Y,Ae.themeService.isDarkMode()?"url(./assets/imgs/logo/top-w.svg)":"url(./assets/imgs/logo/top-b.svg)")),b.xp6(3),b.Q6J("formGroup",Ae.registerForm),b.xp6(35),b.Q6J("disabled",!(null!=(_e=Ae.registerForm.get("termsCheck"))&&_e.value))}},dependencies:[K.PC,f.rH,l._Y,l.Fj,l.Wl,l._,l.JJ,l.JL,l.sg,l.u],styles:[".form-check-input[_ngcontent-%COMP%]{width:auto!important}"]})}return U})()},5740:(wt,Fe,_)=>{"use strict";_.d(Fe,{L:()=>Y});var l=_(4650),b=_(4429),f=_(8140),O=_(6895),de=_(1779),ee=_(4006);function te(k,U){if(1&k&&(l.TgZ(0,"div",9)(1,"p",16),l._uU(2),l.qZA()()),2&k){const W=l.oxw();l.xp6(2),l.Oqu(W.errorMessage)}}function z(k,U){if(1&k&&(l.TgZ(0,"div",9)(1,"p",17),l._uU(2),l.qZA()()),2&k){const W=l.oxw();l.xp6(2),l.Oqu(W.successMessage)}}const K=function(k){return{"background-image":k}};let Y=(()=>{class k{constructor(W,ne){this.credentialService=W,this.themeService=ne,this.email="",this.loading=!1,this.errorMessage="",this.successMessage=""}onSubmit(){this.loading=!1,this.errorMessage="",this.successMessage="",""!==this.email&&(this.loading=!0,this.credentialService.resetPasswordRequest(this.email).subscribe(W=>{this.loading=!1,this.email="",this.successMessage="Password reset link has been sent to your email"},W=>{this.loading=!1,this.errorMessage="Failed to send password reset link. Please try again."}))}ngAfterViewInit(){document.querySelectorAll(".material-icons").forEach(ne=>{ne.setAttribute("translate","no")})}static#e=this.\u0275fac=function(ne){return new(ne||k)(l.Y36(b.T),l.Y36(f.f))};static#t=this.\u0275cmp=l.Xpm({type:k,selectors:[["app-reset-password"]],decls:26,vars:8,consts:[[1,"shared-background"],[1,"overlay"],[1,"container"],[1,"content-holder"],[1,"form-card-1"],[1,"logo",3,"ngStyle"],[1,"title"],[3,"ngSubmit"],[1,"row","form-wrapper"],[1,"col-12"],["for","email"],["type","email","id","email","name","email","placeholder","example@example.com","required","",3,"ngModel","ngModelChange"],["type","submit",1,"btn-1","w-100",3,"disabled"],["class","col-12",4,"ngIf"],[1,"navigation-text","text-center"],["routerLink","/login"],[1,"error-message"],[1,"success-message"]],template:function(ne,le){1&ne&&(l.TgZ(0,"div",0),l._UZ(1,"div",1),l.TgZ(2,"div",2)(3,"div",3)(4,"div",4),l._UZ(5,"div",5),l.TgZ(6,"h5",6),l._uU(7,"Reset Your Password"),l.qZA(),l.TgZ(8,"p"),l._uU(9,"Please enter your email address. You will receive a link to create a new password via email."),l.qZA(),l.TgZ(10,"form",7),l.NdJ("ngSubmit",function(){return le.onSubmit()}),l.TgZ(11,"div",8)(12,"div",9)(13,"label",10),l._uU(14,"Email:"),l.qZA(),l.TgZ(15,"input",11),l.NdJ("ngModelChange",function(_e){return le.email=_e}),l.qZA()(),l.TgZ(16,"div",9)(17,"button",12),l._uU(18),l.qZA()(),l.YNc(19,te,3,1,"div",13),l.YNc(20,z,3,1,"div",13),l.TgZ(21,"div",9)(22,"p",14),l._uU(23,"Remember your password ? "),l.TgZ(24,"a",15),l._uU(25,"Sign In"),l.qZA()()()()()()()()()),2&ne&&(l.xp6(5),l.Q6J("ngStyle",l.VKq(6,K,le.themeService.isDarkMode()?"url(./assets/imgs/logo/top-w.svg)":"url(./assets/imgs/logo/top-b.svg)")),l.xp6(10),l.Q6J("ngModel",le.email),l.xp6(2),l.Q6J("disabled",le.loading),l.xp6(1),l.Oqu(le.loading?"Sending...":"Send"),l.xp6(1),l.Q6J("ngIf",le.errorMessage),l.xp6(1),l.Q6J("ngIf",le.successMessage))},dependencies:[O.O5,O.PC,de.rH,ee._Y,ee.Fj,ee.JJ,ee.JL,ee.Q7,ee.On,ee.F]})}return k})()},6613:(wt,Fe,_)=>{"use strict";_.d(Fe,{m:()=>f});var l=_(4650),b=_(7185);let f=(()=>{class O{constructor(ee){this.toastr=ee}successMessage(ee,te){this.toastr.success(ee,te,{progressBar:!0,progressAnimation:"increasing",closeButton:!0})}errorMessage(ee,te){this.toastr.error(ee,te,{progressBar:!0,progressAnimation:"decreasing",closeButton:!0})}warningMessage(ee,te){this.toastr.warning(ee,te,{progressBar:!0,progressAnimation:"decreasing"})}static#e=this.\u0275fac=function(te){return new(te||O)(l.LFG(b._W))};static#t=this.\u0275prov=l.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})()},3378:(wt,Fe,_)=>{"use strict";_.d(Fe,{e:()=>O});var l=_(4650),b=_(6895);let f=(()=>{class de{constructor(te,z){this.document=te,this.platformId=z,this.documentIsAccessible=(0,b.NF)(this.platformId)}static getCookieRegExp(te){const z=te.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+z+"|;\\s*"+z+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(te){try{return decodeURIComponent(te)}catch{return te}}check(te){return!!this.documentIsAccessible&&(te=encodeURIComponent(te),de.getCookieRegExp(te).test(this.document.cookie))}get(te){if(this.documentIsAccessible&&this.check(te)){te=encodeURIComponent(te);const K=de.getCookieRegExp(te).exec(this.document.cookie);return K[1]?de.safeDecodeURIComponent(K[1]):""}return""}getAll(){if(!this.documentIsAccessible)return{};const te={},z=this.document;return z.cookie&&""!==z.cookie&&z.cookie.split(";").forEach(K=>{const[Y,k]=K.split("=");te[de.safeDecodeURIComponent(Y.replace(/^ /,""))]=de.safeDecodeURIComponent(k)}),te}set(te,z,K,Y,k,U,W){if(!this.documentIsAccessible)return;if("number"==typeof K||K instanceof Date||Y||k||U||W)return void this.set(te,z,{expires:K,path:Y,domain:k,secure:U,sameSite:W||"Lax"});let ne=encodeURIComponent(te)+"="+encodeURIComponent(z)+";";const le=K||{};le.expires&&(ne+="number"==typeof le.expires?"expires="+new Date((new Date).getTime()+1e3*le.expires*60*60*24).toUTCString()+";":"expires="+le.expires.toUTCString()+";"),le.path&&(ne+="path="+le.path+";"),le.domain&&(ne+="domain="+le.domain+";"),!1===le.secure&&"None"===le.sameSite&&(le.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${te} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),le.secure&&(ne+="secure;"),le.sameSite||(le.sameSite="Lax"),ne+="sameSite="+le.sameSite+";",this.document.cookie=ne}delete(te,z,K,Y,k="Lax"){this.documentIsAccessible&&this.set(te,"",{expires:new Date("Thu, 01 Jan 1970 00:00:01 GMT"),path:z,domain:K,secure:Y,sameSite:k})}deleteAll(te,z,K,Y="Lax"){if(!this.documentIsAccessible)return;const k=this.getAll();for(const U in k)k.hasOwnProperty(U)&&this.delete(U,te,z,K,Y)}}return de.\u0275fac=function(te){return new(te||de)(l.LFG(b.K0),l.LFG(l.Lbi))},de.\u0275prov=l.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})(),O=(()=>{class de{constructor(te){this.cookieService=te}createUserID(te){this.cookieService.set("user-token-id",te,{expires:604800,path:"/",sameSite:"Strict",secure:!0})}createOrganizationID(te){this.cookieService.set("organization",te,604800)}createLevel(te){this.cookieService.set("level",te,{expires:604800,path:"/",sameSite:"Strict",secure:!0})}createAdmin(te){this.cookieService.set("admin-token",te,604800)}createProAdmin(te){this.cookieService.set("pro-admin-token",te,604800)}createSession(te){sessionStorage.setItem("access_token",te.access_token)}logout(){this.cookieService.delete("user-token-id"),this.cookieService.delete("pro-admin-token"),this.cookieService.delete("organization"),this.cookieService.delete("admin-token"),this.cookieService.delete("level"),this.cookieService.deleteAll(),sessionStorage.clear()}isExists(){return 0!==this.cookieService.get("user-token-id").length}isAdmin(){return 0!==this.cookieService.get("admin-token").length}isProAdmin(){return 0!==this.cookieService.get("pro-admin-token").length}isOrganization(){return 0!==this.cookieService.get("organization").length}userID(){return this.cookieService.get("user-token-id").toString()}adminEmail(){return this.cookieService.get("admin-token").toString()}organization(){return this.cookieService.get("organization").toString()}level(){return this.cookieService.get("level").toString()}lock(){return this.cookieService.set("locked","true")}unlock(){return this.cookieService.delete("locked")}isLocked(){return 0!==this.cookieService.get("locked").length}setThemeMode(te){this.cookieService.set("theme-mode",te,2592e3)}getThemeMode(){return this.cookieService.get("theme-mode")}setThemeColor(te){this.cookieService.set("theme-color",te,2592e3)}getThemeColor(){return this.cookieService.get("theme-color")}acceptAllCookies(){this.cookieService.set("cookies-accepted","true",1728e3)}necessaryCookiesOnly(){this.cookieService.set("cookies-accepted","false",1728e3)}isCookiesAccepted(){return 0!==this.cookieService.get("cookies-accepted").length}newsletter(){this.cookieService.set("newsletter","true",2592e3)}isNewsletter(){return 0!==this.cookieService.get("newsletter").length}static#e=this.\u0275fac=function(z){return new(z||de)(l.LFG(f))};static#t=this.\u0275prov=l.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})()},9763:(wt,Fe,_)=>{"use strict";_.d(Fe,{v:()=>O});var l=_(2340),b=_(529),f=_(4650);let O=(()=>{class de{constructor(te){this.http=te,this.baseUrl=l.N.apiUrl}requestMoreData(te){const z=new b.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.post(`${this.baseUrl}/email/contact/${te}`,{},{headers:z})}subscribeNewsLatter(te){const z=new b.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.put(`${this.baseUrl}/news-latter/subscribe`,{email:te},{headers:z})}static#e=this.\u0275fac=function(z){return new(z||de)(f.LFG(b.eN))};static#t=this.\u0275prov=f.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})()},4429:(wt,Fe,_)=>{"use strict";_.d(Fe,{T:()=>O});var l=_(529),b=_(2340),f=_(4650);let O=(()=>{class de{constructor(te){this.http=te,this.baseUrl=b.N.apiUrl}fetchCredentials(){const te=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.get(`${this.baseUrl}/portal_credentials/getAll`,{headers:te})}fetchCredentialById(te){const z=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.get(`${this.baseUrl}/portal_credentials/get/${te}`,{headers:z})}fetchCredentialByEmployeeId(te){const z=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.get(`${this.baseUrl}/portal_credentials/getByEmployeeId/${te}`,{headers:z})}fetchCredentialByEmail(te){const z=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.get(`${this.baseUrl}/portal_credentials/getByEmail/${te}`,{headers:z})}addCredential(te){const z=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.post(`${this.baseUrl}/portal_credentials/add`,te,{headers:z})}updateCredential(te,z){const K=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.put(`${this.baseUrl}/portal_credentials/update/${te}`,z,{headers:K})}deleteCredential(te){const z=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.delete(`${this.baseUrl}/portal_credentials/delete/${te}`,{headers:z})}resetPasswordRequest(te){const z=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.post(`${this.baseUrl}/password-reset/request`,{email:te},{headers:z})}resetPassword(te,z){const K=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.put(`${this.baseUrl}/password-reset/reset`,{token:te,newPassword:z},{headers:K})}static#e=this.\u0275fac=function(z){return new(z||de)(f.LFG(l.eN))};static#t=this.\u0275prov=f.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})()},4416:(wt,Fe,_)=>{"use strict";_.d(Fe,{G:()=>z});var l=_(529),b=_(1135),f=_(8505),O=_(262),de=_(2843),ee=_(2340),te=_(4650);let z=(()=>{class K{constructor(k){this.http=k,this.baseUrl=ee.N.apiUrl,this.employeeSubject=new b.X(null),this.employee$=this.employeeSubject.asObservable(),this.employeesSubject=new b.X(null),this.employees$=this.employeesSubject.asObservable(),this.cacheInitialized=!1,this.employeesCacheInitialized=!1}fetchEmployees(){const k=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.employeesCacheInitialized||this.http.get(`${this.baseUrl}/employee/all`,{headers:k}).subscribe(U=>{this.employeesSubject.next(U),this.employeesCacheInitialized=!0}),this.employees$}getEmployee(k){const U=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.get(`${this.baseUrl}/employee/get/${k}`,{headers:U})}fetchFullEmployee(k){const U=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.cacheInitialized?this.employee$:this.http.get(`${this.baseUrl}/batch/async/getEmployee/${k}`,{headers:U}).pipe((0,f.b)(W=>{this.employeeSubject.next(W),this.cacheInitialized=!0}),(0,O.K)(W=>(0,de._)(W)))}deleteEmployee(k){const U=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.delete(`${this.baseUrl}/employee/delete/${k}`,{headers:U}).subscribe(()=>{this.clearCache(),this.fetchEmployees()}),this.employees$}deleteCompany(k){const U=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.delete(`${this.baseUrl}/employee/delete/company/${k}`,{headers:U}).subscribe(()=>{this.clearCache(),this.fetchEmployees()}),this.employees$}updateEmployee(k){const U=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.put(`${this.baseUrl}/employee/update`,k,{headers:U}).subscribe(W=>{this.clearCache(),this.fetchFullEmployee(k.id)}),this.employees$}updateSearchAppearance(k){const U=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.put(`${this.baseUrl}/employee/update/sa`,k,{headers:U}).subscribe(W=>{this.clearCache(),this.fetchFullEmployee(k.id)}),this.employees$}updateNotifications(k){const U=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.put(`${this.baseUrl}/employee/update/notifications`,k,{headers:U}).subscribe(W=>{}),this.employees$}updateProfilePic(k){const U=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.put(`${this.baseUrl}/employee/update/updateProfilePic`,k,{headers:U}).subscribe(W=>{this.clearCache(),this.fetchFullEmployee(k.id)}),this.employee$}updateCoverPic(k){const U=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.put(`${this.baseUrl}/employee/update/updateCoverPic`,k,{headers:U}).subscribe(W=>{this.clearCache(),this.fetchFullEmployee(k.id)}),this.employee$}updateResume(k){const U=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.put(`${this.baseUrl}/employee/update/updateResume`,k,{headers:U}).subscribe(W=>{this.clearCache(),this.fetchFullEmployee(k.id)}),this.employee$}addSkills(k){const U=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.post(`${this.baseUrl}/emp_skills/add`,k,{headers:U}).pipe((0,f.b)(W=>{this.clearCache(),this.fetchFullEmployee(k.employeeId)}),(0,O.K)(W=>(0,de._)(W)))}deleteSkill(k,U){const W=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.delete(`${this.baseUrl}/emp_skills/delete-single/${k}/${U}`,{headers:W}).pipe((0,f.b)(ne=>{this.clearCache(),this.fetchFullEmployee(k)}),(0,O.K)(ne=>(0,de._)(ne)))}editSkill(k,U){const W=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.put(`${this.baseUrl}/emp_skills/edit-single/${k}`,U,{headers:W}).pipe((0,f.b)(ne=>{this.clearCache(),this.fetchFullEmployee(k)}),(0,O.K)(ne=>(0,de._)(ne)))}addExperience(k){const U=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.post(`${this.baseUrl}/emp_experiences/add`,k,{headers:U}).pipe((0,f.b)(W=>{this.clearCache(),this.fetchFullEmployee(k.employeeId)}),(0,O.K)(W=>(0,de._)(W)))}deleteExperience(k,U){const W=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.delete(`${this.baseUrl}/emp_experiences/delete-single/${k}/${U}`,{headers:W}).pipe((0,f.b)(ne=>{this.clearCache(),this.fetchFullEmployee(k)}),(0,O.K)(ne=>(0,de._)(ne)))}editExperience(k,U){const W=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.put(`${this.baseUrl}/emp_experiences/edit-single/${k}`,U,{headers:W}).pipe((0,f.b)(ne=>{this.clearCache(),this.fetchFullEmployee(k)}),(0,O.K)(ne=>(0,de._)(ne)))}addContact(k){const U=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.post(`${this.baseUrl}/emp_contact/add`,k,{headers:U}).pipe((0,f.b)(W=>{this.clearCache(),this.fetchFullEmployee(k.employeeId)}),(0,O.K)(W=>(0,de._)(W)))}addSocial(k){const U=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.post(`${this.baseUrl}/emp_contact/add-social`,k,{headers:U}).pipe((0,f.b)(W=>{this.clearCache(),this.fetchFullEmployee(k.employeeId)}),(0,O.K)(W=>(0,de._)(W)))}editContact(k,U){const W=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.put(`${this.baseUrl}/emp_contact/update-contact/${k}`,U,{headers:W}).pipe((0,f.b)(ne=>{this.clearCache(),this.fetchFullEmployee(U.employeeId)}),(0,O.K)(ne=>(0,de._)(ne)))}editSocial(k,U){const W=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.put(`${this.baseUrl}/emp_contact/update-social/${k}`,U,{headers:W}).pipe((0,f.b)(ne=>{this.clearCache(),this.fetchFullEmployee(U.employeeId)}),(0,O.K)(ne=>(0,de._)(ne)))}saveFavJobs(k,U){const W=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.put(`${this.baseUrl}/employee/save-job/${k}`,U,{headers:W}).pipe((0,f.b)(ne=>{this.clearCache(),this.fetchFullEmployee(k)}),(0,O.K)(ne=>(0,de._)(ne)))}removeFavJobs(k,U){const W=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.put(`${this.baseUrl}/employee/remove-job/${k}/${U}`,[],{headers:W}).pipe((0,f.b)(ne=>{this.clearCache(),this.fetchFullEmployee(k)}),(0,O.K)(ne=>(0,de._)(ne)))}editFavJobStatus(k,U){const W=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.put(`${this.baseUrl}/employee/update/saved-job/status/${k}`,U,{headers:W}).pipe((0,f.b)(ne=>{this.clearCache(),this.fetchFullEmployee(k)}),(0,O.K)(ne=>(0,de._)(ne)))}clearCache(){this.cacheInitialized=!1,this.employeeSubject.next(null)}clearEmployeesCache(){this.employeesCacheInitialized=!1,this.employeesSubject.next(null)}static#e=this.\u0275fac=function(U){return new(U||K)(te.LFG(l.eN))};static#t=this.\u0275prov=te.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"})}return K})()},8353:(wt,Fe,_)=>{"use strict";_.d(Fe,{C:()=>de});var l=_(7206),f=_(2340),O=_(4650);let de=(()=>{class ee{constructor(){this.secretKey=f.N.encryptionKey}getKeySpec(z){const K=l.SHA256(l.enc.Utf8.parse(z)).toString(l.enc.Hex);return l.enc.Hex.parse(K.substring(0,32))}getIvSpec(z){const K=l.MD5(l.enc.Utf8.parse(z)).toString(l.enc.Hex);return l.enc.Hex.parse(K)}encryptPassword(z){const K=this.getKeySpec(this.secretKey),Y=this.getIvSpec(this.secretKey);return l.AES.encrypt(l.enc.Utf8.parse(z),K,{iv:Y,mode:l.mode.CBC,padding:l.pad.Pkcs7}).ciphertext.toString(l.enc.Base64)}decryptPassword(z){const K=this.getKeySpec(this.secretKey),Y=this.getIvSpec(this.secretKey);return l.AES.decrypt(z,K,{iv:Y,mode:l.mode.CBC,padding:l.pad.Pkcs7}).toString(l.enc.Utf8)}static#e=this.\u0275fac=function(K){return new(K||ee)};static#t=this.\u0275prov=O.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"root"})}return ee})()},162:(wt,Fe,_)=>{"use strict";_.d(Fe,{J:()=>de});var l=_(8746),b=_(3900),f=_(4650),O=_(4081);let de=(()=>{class ee{constructor(z){this.storage=z}uploadFile(z,K){const Y=this.storage.ref(z);return this.storage.upload(z,K).snapshotChanges().pipe((0,l.x)(()=>console.log("Upload complete")),(0,b.w)(()=>Y.getDownloadURL()))}static#e=this.\u0275fac=function(K){return new(K||ee)(f.LFG(O.Q1))};static#t=this.\u0275prov=f.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"root"})}return ee})()},6843:(wt,Fe,_)=>{"use strict";_.d(Fe,{d:()=>z});var l=_(2340),b=_(529),f=_(4650),O=_(1779),de=_(4429),ee=_(3378),te=_(6613);let z=(()=>{class K{constructor(k,U,W,ne,le){this.http=k,this.router=U,this.credentialService=W,this.cookieService=ne,this.alertService=le,this.clientId=l.N.githubAuthConfig.clientId,this.baseUrl=l.N.apiUrl}loginWithGitHub(){const k=encodeURIComponent(window.location.origin+"/oauth-callback/github");window.location.href=`https://github.com/login/oauth/authorize?client_id=${this.clientId}&redirect_uri=${k}&scope=user:email`}handleRedirectCallback(){const U=new URLSearchParams(window.location.search).get("code");U?this.exchangeCodeForToken(U):console.error("Authorization code not found")}exchangeCodeForToken(k){const U=new b.WM({Authorization:"Basic "+btoa("admin:password")});this.http.post(this.baseUrl+"/github/token",{code:k},{headers:U}).subscribe(W=>{const ne=W.accessToken;this.getUserEmails(ne),this.getUserInfo(ne)},W=>{console.error("Error exchanging code for token:",W)})}getUserInfo(k){this.http.get("https://api.github.com/user",{headers:{Authorization:`Bearer ${k}`}}).subscribe(W=>this.processUserProfile(W),W=>{console.error("Error loading user profile:",W)})}getUserEmails(k){this.http.get("https://api.github.com/user/emails",{headers:{Authorization:`Bearer ${k}`}}).subscribe(W=>{const ne=W.find(le=>le.primary);sessionStorage.setItem("primaryEmail",ne?ne.email:"")},W=>{console.error("Error loading user emails:",W)})}processUserProfile(k){if(setTimeout(()=>{},1e3),null!==sessionStorage.getItem("primaryEmail"))if(k){const U={email:sessionStorage.getItem("primaryEmail"),firstName:k.name?k.name.split(" ")[0]:k.login,lastName:k.name?k.name.split(" ")[1]:"",username:k.login,avatarUrl:k.avatar_url};this.credentialService.fetchCredentialByEmail(U.email).subscribe(W=>{W?this.processLogin(W):this.registerGitHubUser(U)},W=>{this.alertService.errorMessage("Error while checking user: "+W,"Error")})}else this.alertService.errorMessage("Invalid user profile data received","Error");else this.alertService.errorMessage("Primary email not found","Error")}registerGitHubUser(k){this.credentialService.addCredential({email:k.email,firstname:k.firstName,lastname:k.lastName,role:"candidate",userLevel:"1"}).subscribe(W=>{this.processLogin(W)},W=>{this.alertService.errorMessage("Error registering user: "+W,"Error")})}processLogin(k){this.cookieService.createUserID(k.employeeId.toString()),this.cookieService.createLevel(k.userLevel.toString()),this.cookieService.unlock(),setTimeout(()=>{"candidate"===k.role?(this.router.navigate(["/"]),this.alertService.successMessage("Login successful","Success")):"employer"===k.role&&this.handleEmployerLogin(k)},500)}handleEmployerLogin(k){this.setEmployerSession(k,"2"===k.userLevel?"/dashboard":"3"===k.userLevel?"/pro":"/")}setEmployerSession(k,U){this.cookieService.createUserID(k.employeeId),this.cookieService.createAdmin(k.email),this.cookieService.createOrganizationID(k.companyId),this.cookieService.createLevel(k.userLevel),this.cookieService.unlock(),this.router.navigate([U])}static#e=this.\u0275fac=function(U){return new(U||K)(f.LFG(b.eN),f.LFG(O.F0),f.LFG(de.T),f.LFG(ee.e),f.LFG(te.m))};static#t=this.\u0275prov=f.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"})}return K})()},9819:(wt,Fe,_)=>{"use strict";_.d(Fe,{M:()=>Y});var l=_(6792),b=_(2340),f=_(7579),O=_(4650),de=_(4429),ee=_(6613),te=_(3378),z=_(529),K=_(1779);let Y=(()=>{class k{constructor(W,ne,le,Ae,_e,oe){this.oauthService=W,this.credentialService=ne,this.alertService=le,this.cookieService=Ae,this.http=_e,this.router=oe,this.googleAuthConfig=b.N.googleAuthConfig,this.hasLoggedIn=!1,this.unsubscribe$=new f.x}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}configureOAuth(){this.oauthService.configure(this.googleAuthConfig),this.oauthService.tokenValidationHandler=new l.hG,this.loadDiscoveryDocumentAndTryLogin()}loadDiscoveryDocumentAndTryLogin(){this.oauthService.loadDiscoveryDocumentAndTryLogin().then(()=>{this.oauthService.hasValidAccessToken()?this.cookieService.isExists()?this.handleGoogleLogin():this.oauthService.logOut():this.alertService.warningMessage("No valid access token found","Warning")}).catch(W=>{this.alertService.errorMessage("Error loading discovery document: "+W,"Error")})}loginWithGoogle(){this.oauthService.initLoginFlow()}handleRedirectCallback(){const W=window.location.hash.substring(1),ne=new URLSearchParams(W),le=ne.get("access_token"),Ae=ne.get("id_token");le&&Ae?(sessionStorage.setItem("access_token",le),sessionStorage.setItem("id_token",Ae),this.hasLoggedIn||(this.handleGoogleLogin(),this.hasLoggedIn=!0)):this.alertService.errorMessage("Access token or ID token not found","Error")}handleGoogleLogin(){const W=this.oauthService.getAccessToken();this.http.get("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${W}`}}).subscribe(le=>this.processUserProfile(le),le=>{this.alertService.errorMessage("Error loading user profile: "+(le.message||le),"Error")})}processUserProfile(W){if(W){const ne={email:W.email,firstName:W.given_name,lastName:W.family_name};this.credentialService.fetchCredentialByEmail(ne.email).subscribe(le=>{le?this.processLogin(le):this.registerGoogleUser(ne)},le=>{this.alertService.errorMessage("Error while checking user: "+le,"Error")})}else this.alertService.errorMessage("Invalid user profile data received","Error")}registerGoogleUser(W){this.credentialService.addCredential({email:W.email,firstname:W.firstName,lastname:W.lastName,role:"candidate",userLevel:"1"}).subscribe(le=>{this.processLogin(le)},le=>{this.alertService.errorMessage("Error registering user: "+le,"Error")})}processLogin(W){this.cookieService.createUserID(W.employeeId),this.cookieService.createLevel(W.userLevel),this.cookieService.unlock(),setTimeout(()=>{"candidate"===W.role?(this.router.navigate(["/"]),this.alertService.successMessage("Login successful","Success")):"employer"===W.role&&this.handleEmployerLogin(W)},500)}handleEmployerLogin(W){this.setEmployerSession(W,"2"===W.userLevel?"/dashboard":"3"===W.userLevel?"/pro":"/")}setEmployerSession(W,ne){this.cookieService.createUserID(W.employeeId),this.cookieService.createAdmin(W.email),this.cookieService.createOrganizationID(W.companyId),this.cookieService.createLevel(W.userLevel),this.cookieService.unlock(),this.router.navigate([ne])}logout(){this.oauthService.logOut(),this.router.navigate(["/login"])}static#e=this.\u0275fac=function(ne){return new(ne||k)(O.LFG(l.Ct),O.LFG(de.T),O.LFG(ee.m),O.LFG(te.e),O.LFG(z.eN),O.LFG(K.F0))};static#t=this.\u0275prov=O.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"})}return k})()},8140:(wt,Fe,_)=>{"use strict";_.d(Fe,{f:()=>O});var l=_(1135),b=_(4650),f=_(3378);let O=(()=>{class de{constructor(te){this.cookieService=te,this.isDarkTheme=!1,this.currentColorShading="purple",this.themeSubject=new l.X(this.isDarkTheme),this.colorSubject=new l.X(this.currentColorShading),this.loadUserPreferences()}toggleTheme(){this.isDarkTheme=!this.isDarkTheme,this.themeSubject.next(this.isDarkTheme),this.cookieService.setThemeMode(this.isDarkTheme?"dark":"light"),this.applyTheme()}changeColorShading(te){this.currentColorShading=te,this.cookieService.setThemeColor(te),this.applyTheme(),this.colorSubject.next(this.currentColorShading)}applyTheme(){document.body.classList.remove("theme-blue-light","theme-blue-dark","theme-green-light","theme-green-dark","theme-orange-light","theme-orange-dark","theme-red-light","theme-red-dark","theme-purple-light","theme-purple-dark","theme-mixed-light","theme-mixed-dark"),document.body.classList.add(`theme-${this.currentColorShading}-${this.isDarkTheme?"dark":"light"}`)}isDarkMode(){return this.isDarkTheme}getThemeObservable(){return this.themeSubject.asObservable()}getColorObservable(){return this.colorSubject.asObservable()}getCurrentColor(){return this.currentColorShading}loadUserPreferences(){const te=this.cookieService.getThemeMode(),z=this.cookieService.getThemeColor();te?this.isDarkTheme="dark"===te:this.detectDefaultTheme(),z&&(this.currentColorShading=z),this.themeSubject.next(this.isDarkTheme),this.colorSubject.next(this.currentColorShading),this.applyTheme()}detectDefaultTheme(){const te=window.matchMedia("(prefers-color-scheme: dark)").matches;this.isDarkTheme=te}static#e=this.\u0275fac=function(z){return new(z||de)(b.LFG(f.e))};static#t=this.\u0275prov=b.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})()},8608:(wt,Fe,_)=>{"use strict";_.d(Fe,{v:()=>b});var l=_(4650);let b=(()=>{class f{static#e=this.\u0275fac=function(ee){return new(ee||f)};static#t=this.\u0275mod=l.oAB({type:f});static#n=this.\u0275inj=l.cJS({})}return f})()},5829:(wt,Fe,_)=>{"use strict";_.d(Fe,{D:()=>f});var l=_(6895),b=_(4650);let f=(()=>{class O{static#e=this.\u0275fac=function(te){return new(te||O)};static#t=this.\u0275mod=b.oAB({type:O});static#n=this.\u0275inj=b.cJS({imports:[l.ez]})}return O})()},2340:(wt,Fe,_)=>{"use strict";_.d(Fe,{N:()=>l});const l={production:!0,firebase:{apiKey:"FAKE_API_KEY",authDomain:"fake-auth-domain.firebaseapp.com",projectId:"fake-project-id",storageBucket:"fake-project-id.appspot.com",messagingSenderId:"1234567890",appId:"1:1234567890:web:fakeappid",measurementId:"G-FAKEMEASUREID"},baseUrl:"http://localhost:3269/api/v1/",apiUrl:"http://localhost:3269/api/v1/",encryptionKey:"FAKE_ENCRYPTION_KEY",githubAuthConfig:{clientId:"FAKE_GITHUB_CLIENT_ID"},googleAuthConfig:{clientId:"FAKE_GOOGLE_CLIENT_ID"},stripeKey:"FAKE_STRIPE_KEY"}},9673:(wt,Fe,_)=>{"use strict";var oe,l=_(1481),b=_(1779),f=_(4650),O=_(5861),de="https://js.stripe.com/v3",ee=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,te="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",K=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",i=document.createElement("script");i.src="".concat(de).concat(t);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(i),i},k=null,U=null,W=null,_e=function(e,t,i){if(null===e)return null;var a=e.apply(void 0,t);return function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"4.4.0",startTime:t})}(a,i),a},fe=!1,Me=function(){return oe||(oe=(e=null,null!==k?k:(k=new Promise(function(t,i){if(typeof window>"u"||typeof document>"u")t(null);else if(window.Stripe&&e&&console.warn(te),window.Stripe)t(window.Stripe);else try{var a=function(){for(var e=document.querySelectorAll('script[src^="'.concat(de,'"]')),t=0;t<e.length;t++){var i=e[t];if(ee.test(i.src))return i}return null}();if(a&&e)console.warn(te);else if(a){if(a&&null!==W&&null!==U){var u;a.removeEventListener("load",W),a.removeEventListener("error",U),null===(u=a.parentNode)||void 0===u||u.removeChild(a),a=K(e)}}else a=K(e);W=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(t,i),U=function(e){return function(){e(new Error("Failed to load Stripe.js"))}}(i),a.addEventListener("load",W),a.addEventListener("error",U)}catch(m){return void i(m)}})).catch(function(t){return k=null,Promise.reject(t)})).catch(function(e){return oe=null,Promise.reject(e)}));var e};Promise.resolve().then(function(){return Me()}).catch(function(o){fe||console.warn(o)});var he=_(2340),xe=_(529);let je=(()=>{class o{constructor(t){this.http=t,this.stripe_key=he.N.stripeKey,this.baseUrl=he.N.apiUrl,this.stripePromise=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];fe=!0;var a=Date.now();return Me().then(function(u){return _e(u,t,a)})}(this.stripe_key)}createStripeCheckoutSession(t,i){return this.http.post(this.baseUrl+"/webhook/create-checkout-session",{companyId:t,planName:i})}redirectToCheckout(t){var i=this;return(0,O.Z)(function*(){yield(yield i.stripePromise)?.redirectToCheckout({sessionId:t})})()}startPayPalCheckout(){console.log("Redirecting to PayPal...")}static#e=this.\u0275fac=function(i){return new(i||o)(f.LFG(xe.eN))};static#t=this.\u0275prov=f.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var Pe=_(4006),Xe=_(6895);function dt(o,e){1&o&&(f.TgZ(0,"div",10)(1,"span",11),f._uU(2,"Loading..."),f.qZA()())}function Ue(o,e){if(1&o){const t=f.EpF();f.TgZ(0,"button",12),f.NdJ("click",function(){f.CHM(t);const a=f.oxw();return f.KtG(a.startCheckout())}),f._uU(1," Pay with Credit Card (via Stripe) "),f.qZA()}}function ct(o,e){if(1&o){const t=f.EpF();f.TgZ(0,"button",13),f.NdJ("click",function(){f.CHM(t);const a=f.oxw();return f.KtG(a.startPayPalCheckout())}),f._uU(1," Pay with PayPal "),f.qZA()}}const at=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",loadChildren:()=>Promise.all([_.e(356),_.e(592),_.e(399)]).then(_.bind(_,8399)).then(o=>o.HomeModule)},{path:"about",loadChildren:()=>Promise.all([_.e(592),_.e(820)]).then(_.bind(_,820)).then(o=>o.AboutModule)},{path:"job",loadChildren:()=>Promise.all([_.e(356),_.e(592),_.e(642)]).then(_.bind(_,2642)).then(o=>o.JobModule)},{path:"job-details/:id",loadChildren:()=>Promise.all([_.e(356),_.e(592),_.e(608)]).then(_.bind(_,3608)).then(o=>o.JobDetailsModule)},{path:"job-apply",loadChildren:()=>_.e(78).then(_.bind(_,3078)).then(o=>o.JobApplyModule)},{path:"job-post",loadChildren:()=>Promise.all([_.e(592),_.e(510)]).then(_.bind(_,510)).then(o=>o.JobPostModule)},{path:"learn-more-jobs",loadChildren:()=>_.e(48).then(_.bind(_,9048)).then(o=>o.JobsLearnMoreModule)},{path:"companies",loadChildren:()=>Promise.all([_.e(592),_.e(394)]).then(_.bind(_,2394)).then(o=>o.CompaniesModule)},{path:"contact",loadChildren:()=>_.e(272).then(_.bind(_,1272)).then(o=>o.ContactModule)},{path:"pricing",loadChildren:()=>_.e(679).then(_.bind(_,1679)).then(o=>o.PrisingModule)},{path:"candidate-profile",loadChildren:()=>_.e(466).then(_.bind(_,466)).then(o=>o.EmpProfileModule)},{path:"candidate-profile-setting",loadChildren:()=>_.e(913).then(_.bind(_,6913)).then(o=>o.EmpProfileSettingsModule)},{path:"my-jobs",loadChildren:()=>_.e(554).then(_.bind(_,8554)).then(o=>o.EmpSavedJobsModule)},{path:"business-profile/:id",loadChildren:()=>Promise.all([_.e(356),_.e(592),_.e(967)]).then(_.bind(_,3967)).then(o=>o.BusinessProfileModule)},{path:"company-jobs/:id",loadChildren:()=>Promise.all([_.e(356),_.e(638)]).then(_.bind(_,4638)).then(o=>o.CompanyJobsModule)},{path:"locked",loadChildren:()=>_.e(552).then(_.bind(_,8552)).then(o=>o.LockScreenModule)},{path:"login",loadChildren:()=>_.e(210).then(_.bind(_,9210)).then(o=>o.LoginModule)},{path:"reset",loadChildren:()=>_.e(54).then(_.bind(_,1054)).then(o=>o.ResetPasswordModule)},{path:"reset-password",loadChildren:()=>_.e(460).then(_.bind(_,2460)).then(o=>o.ResetPasswordFormModule)},{path:"register",loadChildren:()=>_.e(986).then(_.bind(_,5986)).then(o=>o.RegisterModule)},{path:"privacy-policy",loadChildren:()=>_.e(79).then(_.bind(_,79)).then(o=>o.PrivacyPolicyModule)},{path:"terms-and-conditions",loadChildren:()=>_.e(424).then(_.bind(_,7424)).then(o=>o.TermsConditionsModule)},{path:"faq",loadChildren:()=>_.e(218).then(_.bind(_,3218)).then(o=>o.FaqModule)},{path:"dashboard",loadChildren:()=>Promise.all([_.e(356),_.e(763),_.e(978),_.e(708)]).then(_.bind(_,5708)).then(o=>o.FreeDashboardModule)},{path:"pro",loadChildren:()=>Promise.all([_.e(356),_.e(763),_.e(978),_.e(164)]).then(_.bind(_,1164)).then(o=>o.ProDashboardModule)},{path:"candidate-profile-setting-test",loadChildren:()=>_.e(524).then(_.bind(_,6524)).then(o=>o.EmpProfileSettingsTestModule)},{path:"403",loadChildren:()=>_.e(47).then(_.bind(_,47)).then(o=>o.ForbiddenModule)},{path:"for-companies",loadChildren:()=>Promise.all([_.e(592),_.e(499)]).then(_.bind(_,1499)).then(o=>o.ForCompaniesModule)},{path:"oauth-callback",loadChildren:()=>_.e(981).then(_.bind(_,8981)).then(o=>o.OAuthCallbackModule)},{path:"oauth-callback/github",loadChildren:()=>_.e(745).then(_.bind(_,8745)).then(o=>o.OAuthCallbackGithubModule)},{path:"404",loadChildren:()=>_.e(592).then(_.bind(_,100)).then(o=>o.NotFoundModule)},{path:"job-analysis/:id",loadChildren:()=>Promise.all([_.e(763),_.e(212)]).then(_.bind(_,2212)).then(o=>o.SingleJobPostAnalysisModule)},{path:"checkout",component:(()=>{class o{constructor(t){this.stripeCheckoutService=t,this.selectedPaymentMethod="stripe",this.isLoading=!1}startCheckout(){"stripe"===this.selectedPaymentMethod&&(this.isLoading=!0,this.stripeCheckoutService.createStripeCheckoutSession(this.companyId,this.planName).subscribe(t=>{this.stripeCheckoutService.redirectToCheckout(t.id).then(i=>{this.isLoading=!1})},t=>{console.error("Error creating Stripe session:",t),this.isLoading=!1}))}startPayPalCheckout(){console.log("Redirecting to PayPal..."),this.isLoading=!1}static#e=this.\u0275fac=function(i){return new(i||o)(f.Y36(je))};static#t=this.\u0275cmp=f.Xpm({type:o,selectors:[["app-checkout"]],inputs:{companyId:"companyId",planName:"planName"},decls:15,vars:4,consts:[[1,"container","mt-5"],[1,"form-group"],["for","payment-method"],["id","payment-method",1,"form-control",3,"ngModel","ngModelChange"],["value","stripe"],["value","paypal"],["class","spinner-border mt-4","role","status",4,"ngIf"],[1,"mt-4"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","btn btn-secondary",3,"click",4,"ngIf"],["role","status",1,"spinner-border","mt-4"],[1,"sr-only"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary",3,"click"]],template:function(i,a){1&i&&(f.TgZ(0,"div",0)(1,"h2"),f._uU(2,"Select Your Payment Method"),f.qZA(),f.TgZ(3,"div",1)(4,"label",2),f._uU(5,"Payment Method"),f.qZA(),f.TgZ(6,"select",3),f.NdJ("ngModelChange",function(m){return a.selectedPaymentMethod=m}),f.TgZ(7,"option",4),f._uU(8,"Credit Card (via Stripe)"),f.qZA(),f.TgZ(9,"option",5),f._uU(10,"PayPal"),f.qZA()()(),f.YNc(11,dt,3,0,"div",6),f.TgZ(12,"div",7),f.YNc(13,Ue,2,0,"button",8),f.YNc(14,ct,2,0,"button",9),f.qZA()()),2&i&&(f.xp6(6),f.Q6J("ngModel",a.selectedPaymentMethod),f.xp6(5),f.Q6J("ngIf",a.isLoading),f.xp6(2),f.Q6J("ngIf","stripe"===a.selectedPaymentMethod&&!a.isLoading),f.xp6(1),f.Q6J("ngIf","paypal"===a.selectedPaymentMethod&&!a.isLoading))},dependencies:[Pe.YN,Pe.Kr,Pe.EJ,Pe.JJ,Pe.On,Xe.O5],styles:[".container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto}button[_ngcontent-%COMP%]{width:100%}"]})}return o})()},{path:"interview-prep",loadChildren:()=>Promise.all([_.e(592),_.e(778)]).then(_.bind(_,7778)).then(o=>o.InterviewPrepModule)},{path:"interview-prep-answer/:qid/:aid",loadChildren:()=>Promise.all([_.e(592),_.e(726)]).then(_.bind(_,9726)).then(o=>o.InterviewPrepFullAnswerModule)},{path:"**",redirectTo:"/404"}];let fn=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275mod=f.oAB({type:o});static#n=this.\u0275inj=f.cJS({imports:[b.Bz.forRoot(at,{anchorScrolling:"enabled",scrollPositionRestoration:"enabled"}),b.Bz]})}return o})();var $t=_(6511),jt=_(3199),Zt=_(3412),we=_(5740),ke=_(1327),Ne=_(2711),me=[{id:1,name:"Home",routerLink:"/home"},{id:2,name:"Jobs",routerLink:"/job"},{id:3,name:"Companies",routerLink:"/companies"},{id:4,name:"About",routerLink:"/about"},{id:5,name:"Pricing",routerLink:"/pricing"},{id:6,name:"Contact",routerLink:"/contact"},{id:7,name:"Saved Jobs",routerLink:"/my-jobs/saved"},{id:8,name:"In Progress Jobs",routerLink:"/my-jobs/inprogress"},{id:9,name:"Applied Jobs",routerLink:"/my-jobs/applied"},{id:10,name:"Archived Jobs",routerLink:"/my-jobs/archived"},{id:11,name:"Lock Screen",routerLink:"/locked"},{id:12,name:"Login",routerLink:"/login"},{id:13,name:"Register",routerLink:"/register"},{id:14,name:"Privacy Policy",routerLink:"/privacy-policy"},{id:15,name:"Terms & Conditions",routerLink:"/terms-and-conditions"},{id:16,name:"Frequently Asked Questions",routerLink:"/faq"},{id:17,name:"Blogs",routerLink:"/blogs"}],qe=_(8140),Z=_(4416),ye=_(4429),R=_(162);let Se=(()=>{class o{constructor(t){this.http=t,this.baseUrl=he.N.apiUrl}addIssue(t){const i=new xe.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.post(this.baseUrl+"/portal_report-issues/add",t,{headers:i})}updateAttachment(t){const i=new xe.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.put(this.baseUrl+"/portal_report-issues/update/updateAttachment",t,{headers:i})}static#e=this.\u0275fac=function(i){return new(i||o)(f.LFG(xe.eN))};static#t=this.\u0275prov=f.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var Qe=_(9763),Tt=_(6613),$e=_(3378);const Mt=["navbarNav"],Gt=["openForm"],_n=["modelClose"];function Bn(o,e){1&o&&(f.TgZ(0,"li")(1,"a",113)(2,"i",5),f._uU(3,"autorenew"),f.qZA(),f._uU(4," Switch to Dashboard"),f.qZA()())}function qn(o,e){1&o&&(f.TgZ(0,"li")(1,"a",114)(2,"i",5),f._uU(3,"autorenew"),f.qZA(),f._uU(4," Switch to Dashboard"),f.qZA()())}function Mn(o,e){if(1&o&&(f.TgZ(0,"div"),f.YNc(1,Bn,5,0,"li",105),f.YNc(2,qn,5,0,"li",105),f.TgZ(3,"li"),f._UZ(4,"hr",109),f.qZA()()),2&o){const t=f.oxw(2);f.xp6(1),f.Q6J("ngIf","2"===t.employeeLevel),f.xp6(1),f.Q6J("ngIf","3"===t.employeeLevel)}}function Pn(o,e){if(1&o&&(f.TgZ(0,"div",118)(1,"a",119),f._uU(2),f.qZA()()),2&o){const t=e.$implicit;f.xp6(1),f.Q6J("routerLink",t.routerLink),f.xp6(1),f.Oqu(t.name)}}function Le(o,e){1&o&&(f.TgZ(0,"div",120),f._uU(1,"No results found. :("),f.qZA())}function re(o,e){if(1&o&&(f.TgZ(0,"div",115),f.YNc(1,Pn,3,2,"div",116),f.YNc(2,Le,2,0,"div",117),f.qZA()),2&o){const t=f.oxw(2);f.xp6(1),f.Q6J("ngForOf",t.filterSearchResults()),f.xp6(1),f.Q6J("ngIf",t.filterSearchResults().length<=0)}}const ge=function(o){return{"background-image":o}};function He(o,e){if(1&o){const t=f.EpF();f.TgZ(0,"div",77)(1,"div",78),f._UZ(2,"div",79),f.TgZ(3,"div",80)(4,"nav",81)(5,"div",82)(6,"button",83),f._UZ(7,"span",84),f.qZA(),f.TgZ(8,"div",85,86)(10,"ul",87)(11,"li",88),f.NdJ("click",function(){f.CHM(t);const a=f.oxw();return f.KtG(a.collapseNavbar())}),f.TgZ(12,"a",89),f._uU(13,"Home"),f.qZA()(),f.TgZ(14,"li",90),f.NdJ("click",function(){f.CHM(t);const a=f.oxw();return f.KtG(a.collapseNavbar())}),f.TgZ(15,"a",91),f._uU(16,"Explore Jobs"),f.qZA(),f.TgZ(17,"ul",92)(18,"li")(19,"a",93),f.NdJ("click",function(){f.CHM(t);const a=f.oxw();return f.KtG(a.collapseNavbar())}),f._uU(20,"Jobs"),f.qZA()(),f.TgZ(21,"li")(22,"a",94),f.NdJ("click",function(){f.CHM(t);const a=f.oxw();return f.KtG(a.collapseNavbar())}),f._uU(23,"Companies"),f.qZA()()()(),f.TgZ(24,"li",88),f.NdJ("click",function(){f.CHM(t);const a=f.oxw();return f.KtG(a.collapseNavbar())}),f.TgZ(25,"a",95),f._uU(26,"About Us"),f.qZA()(),f.TgZ(27,"li",88),f.NdJ("click",function(){f.CHM(t);const a=f.oxw();return f.KtG(a.collapseNavbar())}),f.TgZ(28,"a",96),f._uU(29,"Pricing"),f.qZA()(),f.TgZ(30,"li",88),f.NdJ("click",function(){f.CHM(t);const a=f.oxw();return f.KtG(a.collapseNavbar())}),f.TgZ(31,"a",97),f._uU(32,"Companies"),f.qZA()(),f.TgZ(33,"li",98)(34,"div",99)(35,"input",100),f.NdJ("keyup",function(a){f.CHM(t);const u=f.oxw();return f.KtG(u.handleSearch(a.target))}),f.qZA(),f.TgZ(36,"i",5),f._uU(37,"search"),f.qZA()()(),f.TgZ(38,"li",101)(39,"div",102),f._UZ(40,"img",103),f.qZA(),f.TgZ(41,"ul",104),f.YNc(42,Mn,5,2,"div",105),f.TgZ(43,"li")(44,"a",106)(45,"i",5),f._uU(46,"perm_identity"),f.qZA(),f._uU(47," Profile"),f.qZA()(),f.TgZ(48,"li")(49,"a",107)(50,"i",5),f._uU(51,"assignment"),f.qZA(),f._uU(52," My Jobs"),f.qZA()(),f.TgZ(53,"li")(54,"a",108)(55,"i",5),f._uU(56,"settings"),f.qZA(),f._uU(57," Setting"),f.qZA()(),f.TgZ(58,"li"),f._UZ(59,"hr",109),f.qZA(),f.TgZ(60,"li")(61,"a",110)(62,"i",5),f._uU(63,"lock"),f.qZA(),f._uU(64," Lock Screen"),f.qZA()(),f.TgZ(65,"li")(66,"a",111),f.NdJ("click",function(){f.CHM(t);const a=f.oxw();return f.KtG(a.logout())}),f.TgZ(67,"i",5),f._uU(68,"logout"),f.qZA(),f._uU(69," Logout"),f.qZA()()()()()()()()()(),f.YNc(70,re,3,2,"div",112),f.qZA()}if(2&o){const t=f.oxw();f.xp6(2),f.Q6J("ngStyle",f.VKq(16,ge,t.themeService.isDarkMode()?"url(./assets/imgs/logo/top-w.svg)":"url(./assets/imgs/logo/top-b.svg)")),f.xp6(10),f.ekj("active",t.isActive("/home")),f.xp6(7),f.ekj("active",t.isActive("/job")),f.xp6(3),f.ekj("active",t.isActive("/companies")),f.xp6(3),f.ekj("active",t.isActive("/about")),f.xp6(3),f.ekj("active",t.isActive("/pricing")),f.xp6(3),f.ekj("active",t.isActive("/for-companies")),f.xp6(9),f.Q6J("src",null!=t.employee&&t.employee.image?t.employee.image:"./assets/imgs/shared/default_emp_dp.svg",f.LSH),f.xp6(2),f.Q6J("ngIf","employer"===t.employeeType),f.xp6(28),f.Q6J("ngIf",t.openSearchResults)}}function It(o,e){if(1&o){const t=f.EpF();f.TgZ(0,"div",121)(1,"div",122)(2,"div",123)(3,"div",124),f._UZ(4,"div",125),f.TgZ(5,"p",126),f._uU(6,"Lorem ipsum dolor sit. 123 Street "),f._UZ(7,"br"),f._uU(8,"+94 123 456 789 "),f._UZ(9,"br"),f._uU(10,"info@talentboozt.com"),f.qZA()(),f.TgZ(11,"div",127)(12,"h6"),f._uU(13,"Navigation"),f.qZA(),f.TgZ(14,"p",128),f._uU(15,"> About Us"),f.qZA(),f.TgZ(16,"p",129),f._uU(17,"> Jobs"),f.qZA(),f.TgZ(18,"p",130),f._uU(19,"> Companies"),f.qZA(),f.TgZ(20,"p",131),f._uU(21,"> Terms & Conditions"),f.qZA(),f.TgZ(22,"p",132),f._uU(23,"> FAQs"),f.qZA(),f.TgZ(24,"p",133),f._uU(25,"> Packages"),f.qZA(),f.TgZ(26,"p",134),f._uU(27,"> Contact Us"),f.qZA()(),f.TgZ(28,"div",127)(29,"h6"),f._uU(30,"Follow Us"),f.qZA(),f.TgZ(31,"p"),f._uU(32,"> Facebook"),f.qZA(),f.TgZ(33,"p"),f._uU(34,"> Twitter"),f.qZA(),f.TgZ(35,"p"),f._uU(36,"> LinkedIn"),f.qZA(),f.TgZ(37,"p"),f._uU(38,"> Youtube"),f.qZA(),f.TgZ(39,"p"),f._uU(40,"> Instagram"),f.qZA()(),f.TgZ(41,"div",135)(42,"h6"),f._uU(43,"Still need help?"),f.qZA(),f.TgZ(44,"p",126),f._uU(45,"Let us now about your issue and professional will reach you out."),f.qZA(),f.TgZ(46,"form",136)(47,"div",137),f._UZ(48,"input",138),f.TgZ(49,"button",139),f.NdJ("click",function(){f.CHM(t);const a=f.oxw();return f.KtG(a.contactMe())}),f.TgZ(50,"i",5),f._uU(51,"near_me"),f.qZA()()()(),f.TgZ(52,"div",140)(53,"p",126),f._uU(54,"If you are facing any issue, please let us know"),f.qZA(),f.TgZ(55,"button",141)(56,"i",142),f._uU(57,"bug_report"),f.qZA(),f._uU(58,"Report An Issue "),f.qZA(),f.TgZ(59,"button",143,144),f._uU(61," btn "),f.qZA()()()()(),f.TgZ(62,"div",145)(63,"div",146)(64,"p"),f._uU(65,"\xa9 2024. All rights reserved"),f.qZA()(),f.TgZ(66,"div",147)(67,"p"),f._uU(68,"Designed by Talent Boozt Systems"),f.qZA()()()()}if(2&o){const t=f.oxw();f.xp6(46),f.Q6J("formGroup",t.requestInfoForm)}}const Pt=function(o,e){return{"theme-light":o,"theme-dark":e}};let Qt=(()=>{class o{constructor(t,i,a,u,m,x,M,$,ue,Ie){this.themeService=t,this.router=i,this.renderer=a,this.employeeService=u,this.credentialsService=m,this.fileUploadService=x,this.reportIssueService=M,this.commonService=$,this.alertService=ue,this.cookieService=Ie,this.title="SPARKC HR System",this.showNavbar=!0,this.showFooter=!0,this.openSearchResults=!1,this.commonSearchResults=me,this.filteredSearchResults=[],this.isTranslator=!1,this.isUiSettings=!1,this.showContacts=!1,this.isSubscribe=!1,this.loading=!1,this.reportIssueForm=new Pe.cw({issueType:new Pe.NI("",[Pe.kI.required]),description:new Pe.NI("",[Pe.kI.required])}),this.requestInfoForm=new Pe.cw({email:new Pe.NI("",[Pe.kI.required,Pe.kI.email])}),this.newsLetterForm=new Pe.cw({email:new Pe.NI("",[Pe.kI.required,Pe.kI.email])})}ngOnInit(){this.employeeId=this.cookieService.userID(),this.employeeLevel=this.cookieService.level(),this.themeService.applyTheme(),this.router.events.subscribe(t=>{if(t instanceof b.m2){this.updateActiveClass();const i=document.querySelector(".main-body");i?i.scrollTop=0:window.scrollTo(0,0)}}),this.getEmployee(this.employeeId),this.isSubscribe=this.cookieService.isNewsletter(),"true"==sessionStorage.getItem("in_issue_progress")&&this.continueReportProgress(),"true"!=sessionStorage.getItem("newsLatter")&&!this.isSubscribe&&setTimeout(()=>{document.getElementById("news_model_open")?.click(),sessionStorage.setItem("newsLatter","true")},1e4)}ngAfterViewInit(){document.querySelectorAll(".material-icons").forEach(i=>{i.setAttribute("translate","no")})}ngOnDestroy(){this.removeUnwantedSession()}getEmployee(t){this.employeeService.getEmployee(t).subscribe(i=>{this.employee=i,this.credentialsService.fetchCredentialByEmployeeId(this.employeeId).subscribe(a=>{this.employeeType=a?.role})},i=>{console.log(i)})}updateActiveClass(){const t=this.router.url;document.querySelectorAll(".nav-link").forEach(a=>{a.classList.remove("active")});const i=document.querySelector(`.nav-link[href="${t}"]`);i&&i.classList.add("active")}toggleTheme(){this.themeService.toggleTheme()}changeColorShading(t){this.themeService.changeColorShading(t)}isActive(t){return this.router.url===t}collapseNavbar(){const t=this.navbarNav.nativeElement;t.classList.contains("show")&&this.renderer.removeClass(t,"show")}toggleCommonComponent(t){t instanceof $t.D||t instanceof jt.G||t instanceof Zt.y||t instanceof we.L||t instanceof ke.j||t instanceof Ne.H?(this.showNavbar=!1,this.showFooter=!1):(this.showNavbar=!0,this.showFooter=!0)}filterSearchResults(){return void 0===this.targetInput&&(this.filteredSearchResults=this.commonSearchResults),this.filteredSearchResults}handleSearch(t){this.openSearchResults=!this.openSearchResults,this.targetInput=t;const i=this.targetInput.value;this.filteredSearchResults=i?this.commonSearchResults.filter(a=>a.name.toLowerCase().includes(i.toLowerCase())):this.commonSearchResults}removeUnwantedSession(){sessionStorage.clear()}logout(){this.cookieService.logout(),this.removeUnwantedSession(),this.router.navigate(["/login"])}uploadFile(t,i,a){const u=t.target.files[0],x=["image/png","image/jpeg","application/pdf"];if(u){if(u.size>2097152)return void this.alertService.warningMessage("File size exceeds the maximum limit of 2MB.","Warning");if(!x.includes(u.type))return void this.alertService.warningMessage("Only PNG, JPEG, and PDF files are allowed.","Warning");this.fileUploadService.uploadFile(i,u).subscribe(M=>{this.downloadURL=M,sessionStorage.setItem("downloadURL",this.downloadURL)})}}generateRandomId(){let t;return sessionStorage.getItem("issue_id")?sessionStorage.getItem("issue_id"):(t=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),sessionStorage.setItem("issue_id",t),t)}reportIssue(){this.reportIssueForm.valid?(sessionStorage.setItem("report_issue_form",JSON.stringify(this.reportIssueForm.value)),this.downloadURL?this.reportIssueService.addIssue({issueType:this.reportIssueForm.get("issueType")?.value,description:this.reportIssueForm.get("description")?.value,attachment:sessionStorage.getItem("downloadURL")}).subscribe(t=>{sessionStorage.clear(),this.alertService.successMessage("Issue reported successfully.","Success"),this.reportIssueForm.reset(),this.downloadURL=null,this.modelClose.nativeElement.click()},t=>{this.alertService.errorMessage("Something went wrong. Please try again.","Error")}):(this.modelClose.nativeElement.click(),sessionStorage.setItem("in_issue_progress","true"),window.location.reload())):this.alertService.errorMessage("Please fill in all required fields.","Error")}continueReportProgress(){setTimeout(()=>{document.getElementById("openForm").click()},1e3);const t=sessionStorage.getItem("report_issue_form");t&&(this.reportIssueForm.patchValue(JSON.parse(t)),this.downloadURL=sessionStorage.getItem("downloadURL"),this.downloadURL?this.reportIssue():this.alertService.errorMessage("Please add or upload again the attachment.","Error"))}contactMe(){if(this.requestInfoForm.valid){const t=this.requestInfoForm.get("email")?.value;t&&this.commonService.requestMoreData(t).subscribe(i=>{this.alertService.successMessage("Email sent successfully.","Success"),this.requestInfoForm.reset()},i=>{this.requestInfoForm.get("email")?.setValue("Error"),this.alertService.errorMessage("Something went wrong. Please try again.","Error")})}else this.alertService.errorMessage("Field is empty or invalid.","Error")}clickTranslate(){this.isTranslator=!this.isTranslator}openUiSettings(){this.isUiSettings=!this.isUiSettings}toggleContacts(){this.showContacts=!this.showContacts}subscribeNewsLatter(){if(this.newsLetterForm.valid){this.loading=!0;const t=this.newsLetterForm.get("email")?.value;t&&this.commonService.subscribeNewsLatter(t).subscribe(i=>{this.alertService.successMessage("Email sent successfully.","Success"),this.cookieService.newsletter(),this.loading=!1,this.newsLetterForm.reset(),document.getElementById("news_model_close")?.click()},i=>{this.newsLetterForm.get("email")?.setValue("Error"),this.alertService.errorMessage("Something went wrong. Please try again.","Error"),this.loading=!1})}else this.alertService.errorMessage("Field is empty or invalid.","Error")}static#e=this.\u0275fac=function(i){return new(i||o)(f.Y36(qe.f),f.Y36(b.F0),f.Y36(f.Qsj),f.Y36(Z.G),f.Y36(ye.T),f.Y36(R.J),f.Y36(Se),f.Y36(Qe.v),f.Y36(Tt.m),f.Y36($e.e))};static#t=this.\u0275cmp=f.Xpm({type:o,selectors:[["app-root"]],viewQuery:function(i,a){if(1&i&&(f.Gf(Mt,5),f.Gf(Gt,5),f.Gf(_n,5)),2&i){let u;f.iGM(u=f.CRH())&&(a.navbarNav=u.first),f.iGM(u=f.CRH())&&(a.openForm=u.first),f.iGM(u=f.CRH())&&(a.modelClose=u.first)}},decls:205,vars:17,consts:[[2,"max-height","100vh",3,"ngClass"],[1,"w-100","main-body"],[1,"toggle-contacts-button"],[1,"contacts-btn-wrapper"],[1,"contact-btn",3,"ngClass","click"],[1,"material-icons"],[1,"contacts-section",3,"ngClass"],[1,"contact","whatsapp"],["href","https://wa.me/<YOUR_PHONE_NUMBER>","target","_blank"],["src","https://img.icons8.com/color/48/whatsapp--v1.png","alt","WhatsApp Chat","loading","lazy","width","48","height","48"],[1,"contact","tawk"],["href","https://tawk.to/chat/6404d90d4247f20fefe41dac/1gqpevnk4","target","_blank"],["src","https://img.icons8.com/external-flaticons-flat-flat-icons/64/external-live-chat-e-commerce-flaticons-flat-flat-icons.png","alt","Tawk.to Chat","loading","lazy","width","48","height","48"],[1,"ui-settings"],[1,"ui-btn-wrapper"],[1,"ui-btn",3,"ngClass","click"],[1,"ui-settings-body",3,"ngClass"],[1,"theme-wrapper"],[1,"theme-label"],[1,"theme-options"],[1,"theme-shade"],[3,"click"],[1,"color-btn","blue"],[1,"color-name"],[1,"color-btn","green"],[1,"color-btn","orange"],[1,"color-btn","red"],[1,"color-btn","purple"],[1,"color-btn","mixed"],["title","Theme",1,"theme-btn",3,"click"],["ngSrc","./assets/imgs/shared/moon.svg","alt","dark","height","24","width","24"],["alt","theme","height","40","width","40",3,"ngSrc"],["ngSrc","./assets/imgs/shared/sun.svg","alt","light","height","24","width","24"],[1,"translate"],[1,"lang-btn-wrapper"],[1,"lang-btn",3,"ngClass","click"],["id","google_translate_element",3,"ngClass"],["class","nav-bar sticky-top",4,"ngIf"],[3,"activate"],["class","footer",4,"ngIf"],["id","issueModel","tabindex","-1","aria-labelledby","issueModelLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg","modal-dialog-centered","modal-dialog-scrollable"],[1,"modal-content"],[1,"modal-header"],["id","issueModelLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["data-bs-toggle","modal","data-bs-target","#issueReportModel",2,"cursor","pointer"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","issueReportModel","tabindex","-1","aria-labelledby","issueReportModelLabel","aria-hidden","true",1,"modal","fade"],["id","issueReportModelLabel",1,"modal-title","fs-5"],[1,"w-100",3,"formGroup"],[1,"row","form-wrapper"],[1,"col-12","col-md-8"],[1,"form-group"],["for","issue_type"],["id","issue_type","formControlName","issueType",1,"form-control"],["selected",""],[1,"col-12"],["for","description"],["id","description","rows","5","placeholder","Describe your issue here","formControlName","description",1,"form-control"],["for","attachment"],["type","file","id","attachment",1,"form-control",3,"change"],["type","button",1,"btn-1","me-2",3,"click"],["modelClose",""],["type","button","id","news_model_open","data-bs-toggle","modal","data-bs-target","#newsLatter",1,"d-none"],["id","newsLatter","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","newsLatterLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-dialog-scrollable","modal-lg"],["id","newsLatterLabel",1,"modal-title","fs-5"],[1,"d-flex","flex-column","gap-2"],[1,"mb-0"],["for","email"],["type","email","id","email","formControlName","email",1,"form-control"],["href","javascript:void(0)"],["type","button","id","news_model_close","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn-1",3,"disabled","click"],[1,"nav-bar","sticky-top"],[1,"container","d-flex","align-items-center","justify-content-between"],["routerLink","/",1,"logo",3,"ngStyle"],[1,"menu"],[1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container-fluid",2,"justify-content","flex-end!important"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse",2,"justify-content","flex-end!important"],["navbarNav",""],[1,"navbar-nav"],[1,"nav-item",3,"click"],["routerLink","/home",1,"nav-link"],[1,"nav-item","dropdown",3,"click"],["href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link"],[1,"dropdown-menu"],["routerLink","/job",1,"dropdown-item",3,"click"],["routerLink","/companies",1,"dropdown-item",3,"click"],["routerLink","/about",1,"nav-link"],["routerLink","/pricing",1,"nav-link"],["routerLink","/for-companies",1,"nav-link"],[1,"nav-item"],[1,"d-flex","align-items-center","justify-content-end","w-100","h-100","s-bar"],["type","text","placeholder","Search...",3,"keyup"],[1,"nav-item","d-none","d-lg-block","ms-2","dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"profile-wrapper"],["alt","profile","width","40","height","40",3,"src"],[1,"dropdown-menu","dropdown-menu-end"],[4,"ngIf"],["routerLink","/candidate-profile",1,"dropdown-item"],["routerLink","/my-jobs",1,"dropdown-item"],["routerLink","/candidate-profile-setting",1,"dropdown-item"],[1,"dropdown-divider"],["routerLink","/locked",1,"dropdown-item"],[1,"dropdown-item",3,"click"],["class","search-results-wrapper",4,"ngIf"],["routerLink","/dashboard",1,"dropdown-item"],["routerLink","/pro",1,"dropdown-item"],[1,"search-results-wrapper"],["class","search-result",4,"ngFor","ngForOf"],["class","not-found",4,"ngIf"],[1,"search-result"],[3,"routerLink"],[1,"not-found"],[1,"footer"],[1,"container"],[1,"row","footer-top"],[1,"col-12","col-md-4","col-lg-3"],[1,"logo-lg"],[1,"not-animate"],[1,"col-6","col-md-4","col-lg-2"],["routerLink","/about"],["routerLink","/job"],["routerLink","/companies"],["routerLink","/terms-and-conditions"],["routerLink","/faq"],["routerLink","/pricing"],["routerLink","/contact"],[1,"col-12","col-lg-5"],[3,"formGroup"],[1,"input-group"],["type","email","placeholder","Enter your valid email","formControlName","email",1,"form-control"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"report-issue"],["data-bs-toggle","modal","data-bs-target","#issueModel",1,"report-btn"],["translate","no",1,"material-icons"],["id","openForm","data-bs-toggle","modal","data-bs-target","#issueReportModel",1,"d-none"],["openForm",""],[1,"d-md-flex","align-items-center","justify-content-between","footer-bottom"],[1,"footer-bottom-left"],[1,"footer-bottom-right"]],template:function(i,a){1&i&&(f.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),f.NdJ("click",function(){return a.toggleContacts()}),f.TgZ(5,"i",5),f._uU(6,"wechat"),f.qZA()(),f.TgZ(7,"div",6)(8,"div",7)(9,"a",8),f._UZ(10,"img",9),f.qZA()(),f.TgZ(11,"div",10)(12,"a",11),f._UZ(13,"img",12),f.qZA()()()()(),f.TgZ(14,"div",13)(15,"div",14)(16,"div",15),f.NdJ("click",function(){return a.openUiSettings()}),f.TgZ(17,"i",5),f._uU(18,"settings"),f.qZA()(),f.TgZ(19,"div",16)(20,"div",17)(21,"div",18),f._uU(22,"Theme Settings"),f.qZA(),f.TgZ(23,"div",19)(24,"ul",20)(25,"li",21),f.NdJ("click",function(){return a.changeColorShading("blue")}),f._UZ(26,"div",22),f.TgZ(27,"div",23),f._uU(28,"Blue"),f.qZA()(),f.TgZ(29,"li",21),f.NdJ("click",function(){return a.changeColorShading("green")}),f._UZ(30,"div",24),f.TgZ(31,"div",23),f._uU(32,"Green"),f.qZA()(),f.TgZ(33,"li",21),f.NdJ("click",function(){return a.changeColorShading("orange")}),f._UZ(34,"div",25),f.TgZ(35,"div",23),f._uU(36,"Orange"),f.qZA()(),f.TgZ(37,"li",21),f.NdJ("click",function(){return a.changeColorShading("red")}),f._UZ(38,"div",26),f.TgZ(39,"div",23),f._uU(40,"Red"),f.qZA()(),f.TgZ(41,"li",21),f.NdJ("click",function(){return a.changeColorShading("purple")}),f._UZ(42,"div",27),f.TgZ(43,"div",23),f._uU(44,"Purple"),f.qZA()(),f.TgZ(45,"li",21),f.NdJ("click",function(){return a.changeColorShading("mixed")}),f._UZ(46,"div",28),f.TgZ(47,"div",23),f._uU(48,"Mixed"),f.qZA()()(),f.TgZ(49,"button",29),f.NdJ("click",function(){return a.toggleTheme()}),f._UZ(50,"img",30)(51,"img",31)(52,"img",32),f.qZA()()()()()(),f.TgZ(53,"div",33)(54,"div",34)(55,"div",35),f.NdJ("click",function(){return a.clickTranslate()}),f.TgZ(56,"i",5),f._uU(57,"translate"),f.qZA()(),f._UZ(58,"div",36),f.qZA()(),f.YNc(59,He,71,18,"div",37),f.TgZ(60,"router-outlet",38),f.NdJ("activate",function(m){return a.toggleCommonComponent(m)}),f.qZA(),f.YNc(61,It,69,1,"div",39),f.qZA(),f.TgZ(62,"div",40)(63,"div",41)(64,"div",42)(65,"div",43)(66,"h1",44),f._uU(67,"Want to report an issue?"),f.qZA(),f._UZ(68,"button",45),f.qZA(),f.TgZ(69,"div",46)(70,"p"),f._uU(71,"Here is some Troubleshooting Advice for various scenarios:"),f.qZA(),f.TgZ(72,"ol")(73,"li"),f._uU(74,"Account details are incorrect"),f.qZA(),f.TgZ(75,"ul")(76,"li"),f._uU(77,"Try to login with correct credentials."),f.qZA(),f.TgZ(78,"li"),f._uU(79,"Reload the page. If problem persists, contact us."),f.qZA(),f.TgZ(80,"li"),f._uU(81,"This error can be happen when you using multiple accounts with same device."),f.qZA()(),f.TgZ(82,"li"),f._uU(83,"Saved job details not visible"),f.qZA(),f.TgZ(84,"ul")(85,"li"),f._uU(86,"This error can happen when you are not logged in correctly."),f.qZA(),f.TgZ(87,"li"),f._uU(88,"The company/job post might inactive or deleted/closed."),f.qZA()(),f.TgZ(89,"li"),f._uU(90,"Failed to apply a job"),f.qZA(),f.TgZ(91,"ul")(92,"li"),f._uU(93,"Check you're logged as a candidate."),f.qZA(),f.TgZ(94,"li"),f._uU(95,"If the problem is still persists, contact us."),f.qZA()(),f.TgZ(96,"li"),f._uU(97,"Failed to post a job"),f.qZA(),f.TgZ(98,"ul")(99,"li"),f._uU(100,"Check you're logged as an employer."),f.qZA(),f.TgZ(101,"li"),f._uU(102,"Ensure required information provided in organization profile."),f.qZA(),f.TgZ(103,"li"),f._uU(104,"Check your job posting limit exceeded. (you can post new jobs after removing expired jobs)"),f.qZA(),f.TgZ(105,"li"),f._uU(106,"If the problem is still persists, contact us."),f.qZA()(),f.TgZ(107,"li"),f._uU(108,"Failed to upload multimedia files (images, videos, documents, CVs)"),f.qZA(),f.TgZ(109,"ul")(110,"li"),f._uU(111,"Make sure files are not reached the limit."),f.qZA(),f.TgZ(112,"li"),f._uU(113,"We allow *.jpeg, *.jpg, *.png, *.pdf file formats only.(some cases allows *.gif, *.doc, *.docx)"),f.qZA()(),f.TgZ(114,"li"),f._uU(115,"File uploaded. But not updated the content"),f.qZA(),f.TgZ(116,"ul")(117,"li"),f._uU(118,"Reload page. Sometimes cache persists and failed to update without reloading."),f.qZA(),f.TgZ(119,"li"),f._uU(120,"Re-upload the file. When you are tring to upload a new file, sometimes first attempt create a specific path for only you. So try again once:) "),f.qZA(),f.TgZ(121,"li"),f._uU(122,"If the problem is still persists, contact us."),f.qZA()()(),f.TgZ(123,"p")(124,"strong",47),f._uU(125,"Click here"),f.qZA(),f._uU(126," if you still have something to report/suggest."),f.qZA()(),f.TgZ(127,"div",48)(128,"button",49),f._uU(129,"Close"),f.qZA()()()()(),f.TgZ(130,"div",50)(131,"div",41)(132,"div",42)(133,"div",43)(134,"h1",51),f._uU(135,"Want to report an issue?"),f.qZA(),f._UZ(136,"button",45),f.qZA(),f.TgZ(137,"div",46)(138,"p")(139,"strong"),f._uU(140,"Examples of Software related issues : "),f.qZA(),f._uU(141,"related to CVs, Images, UI related etc."),f.qZA(),f.TgZ(142,"p")(143,"strong"),f._uU(144,"Examples of Content related issues : "),f.qZA(),f._uU(145,"related to Content not match, Incorrect content, Content not visible etc.."),f.qZA(),f.TgZ(146,"form",52)(147,"div",53)(148,"div",54)(149,"div",55)(150,"label",56),f._uU(151,"Issue Type *"),f.qZA(),f.TgZ(152,"select",57)(153,"option",58),f._uU(154,"Software Related Issue"),f.qZA(),f.TgZ(155,"option"),f._uU(156,"Content Related Issue"),f.qZA(),f.TgZ(157,"option"),f._uU(158,"Other Issue"),f.qZA()()()(),f.TgZ(159,"div",59)(160,"div",55)(161,"label",60),f._uU(162,"Describe the issue *"),f.qZA(),f._UZ(163,"textarea",61),f.qZA()(),f.TgZ(164,"div",59)(165,"div",55)(166,"label",62),f._uU(167,"Attach Screenshot *"),f.qZA(),f.TgZ(168,"input",63),f.NdJ("change",function(m){return a.uploadFile(m,"portal/report_issues/"+a.generateRandomId(),"issues")}),f.qZA()()()()()(),f.TgZ(169,"div",48)(170,"button",64),f.NdJ("click",function(){return a.reportIssue()}),f._uU(171,"Send"),f.qZA(),f.TgZ(172,"button",49,65),f._uU(174,"Close"),f.qZA()()()()(),f._UZ(175,"button",66),f.TgZ(176,"div",67)(177,"div",68)(178,"div",42)(179,"div",43)(180,"h1",69),f._uU(181,"Subscribe to our news letter"),f.qZA(),f._UZ(182,"button",45),f.qZA(),f.TgZ(183,"div",46)(184,"div",70)(185,"p",71),f._uU(186,"We will send you our latest news and updates. We hates spams more than you do."),f.qZA(),f.TgZ(187,"form",52)(188,"div",55)(189,"label",72),f._uU(190,"Enter your valid email address *"),f.qZA(),f._UZ(191,"input",73),f.qZA()(),f.TgZ(192,"p",71),f._uU(193,"By clicking on Subscribe, you agree to our "),f.TgZ(194,"a",74),f._uU(195,"Terms of Service"),f.qZA(),f._uU(196," and "),f.TgZ(197,"a",74),f._uU(198,"Privacy Policy"),f.qZA(),f._uU(199,"."),f.qZA()()(),f.TgZ(200,"div",48)(201,"button",75),f._uU(202,"Cancel"),f.qZA(),f.TgZ(203,"button",76),f.NdJ("click",function(){return a.subscribeNewsLatter()}),f._uU(204),f.qZA()()()()()()),2&i&&(f.Q6J("ngClass",f.WLB(14,Pt,!a.themeService.isDarkMode(),a.themeService.isDarkMode())),f.xp6(4),f.Q6J("ngClass",a.showContacts?"active":""),f.xp6(3),f.Q6J("ngClass",a.showContacts?"active":""),f.xp6(9),f.Q6J("ngClass",a.isUiSettings?"active":""),f.xp6(3),f.Q6J("ngClass",a.isUiSettings?"active":""),f.xp6(32),f.Q6J("ngSrc",a.themeService.isDarkMode()?"./assets/imgs/shared/toggle-off.svg":"./assets/imgs/shared/toggle-on.svg"),f.xp6(4),f.Q6J("ngClass",a.isTranslator?"active":""),f.xp6(3),f.Q6J("ngClass",a.isTranslator?"active":""),f.xp6(1),f.Q6J("ngIf",a.showNavbar),f.xp6(2),f.Q6J("ngIf",a.showFooter),f.xp6(85),f.Q6J("formGroup",a.reportIssueForm),f.xp6(41),f.Q6J("formGroup",a.newsLetterForm),f.xp6(16),f.Q6J("disabled",a.loading),f.xp6(1),f.Oqu(a.loading?"Subscribing...":"Subscribe"))},dependencies:[Xe.mk,Xe.sg,Xe.O5,Xe.PC,b.lC,b.rH,Pe._Y,Pe.YN,Pe.Kr,Pe.Fj,Pe.EJ,Pe.JJ,Pe.JL,Pe.sg,Pe.u,Xe.Zd],styles:["@keyframes shadow-anime{0%{box-shadow:0 0 12px -1px var(--color-primary-600-opacity-6)}25%{box-shadow:0 0 15px 1px var(--color-primary-600-opacity-6)}50%{box-shadow:0 0 20px 3px var(--color-primary-600-opacity-6)}75%{box-shadow:0 0 15px 1px var(--color-primary-600-opacity-6)}to{box-shadow:0 0 12px -1px var(--color-primary-600-opacity-6)}}@keyframes rotate-anime{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.theme-btn{position:fixed;transform:rotate(270deg);right:0;top:100px;border:none;color:var(--color-surface-mixed-100);background-color:transparent;border-radius:5px;z-index:999;display:flex;align-items:center;justify-content:center}.theme-btn img:nth-child(1),.theme-btn img:nth-child(3){max-width:24px;max-height:24px}@media screen and (max-width: 768px){.theme-btn img:nth-child(1),.theme-btn img:nth-child(3){max-width:16px;max-height:16px}}.toggle-contacts-button{position:fixed;bottom:120px;right:20px;z-index:99;color:#0000}.toggle-contacts-button .contacts-btn-wrapper{width:40px;height:40px;display:flex;align-items:center;justify-content:center;background-color:var(--color-surface-mixed-400);border-radius:50%;padding:6px 10px;transition:all .3s ease-in-out;cursor:pointer}.toggle-contacts-button .contacts-btn-wrapper .contact-btn{width:40px;height:40px;display:flex;align-items:center;justify-content:center;background-color:var(--color-surface-mixed-400);border-radius:50%;padding:6px 20px;transition:all .3s ease-in-out;cursor:pointer}.toggle-contacts-button .contacts-btn-wrapper .contact-btn i{color:var(--color-text-200);font-size:20px}.toggle-contacts-button .contacts-btn-wrapper .contact-btn:hover,.toggle-contacts-button .contacts-btn-wrapper .contact-btn.active{animation:shadow-anime .8s infinite}.toggle-contacts-button .contacts-btn-wrapper .contacts-section{height:110px;width:40px;position:absolute;display:none;flex-direction:column;align-items:center;justify-content:center;gap:10px;top:-110px;left:0}.toggle-contacts-button .contacts-btn-wrapper .contacts-section .whatsapp,.toggle-contacts-button .contacts-btn-wrapper .contacts-section .tawk{width:40px;height:40px;display:flex;align-items:center;justify-content:center;background-color:var(--color-surface-mixed-400);border-radius:50%;transition:all .3s ease-in-out;cursor:pointer}.toggle-contacts-button .contacts-btn-wrapper .contacts-section .whatsapp img,.toggle-contacts-button .contacts-btn-wrapper .contacts-section .tawk img{max-width:28px;max-height:28px;object-fit:contain}.toggle-contacts-button .contacts-btn-wrapper .contacts-section.active{display:flex}.ui-settings{position:fixed;bottom:70px;right:20px;z-index:99;color:#0000}.ui-settings .ui-btn-wrapper{width:40px;height:40px;display:flex;align-items:center;justify-content:center;background-color:var(--color-surface-mixed-400);border-radius:50%;padding:6px 10px;transition:all .3s ease-in-out;cursor:pointer}.ui-settings .ui-btn-wrapper .ui-btn{width:40px;height:40px;display:flex;align-items:center;justify-content:center;background-color:var(--color-surface-mixed-400);border-radius:50%;padding:6px 20px;transition:all .3s ease-in-out;cursor:pointer}.ui-settings .ui-btn-wrapper .ui-btn i{color:var(--color-text-200);font-size:20px}.ui-settings .ui-btn-wrapper .ui-btn:hover,.ui-settings .ui-btn-wrapper .ui-btn.active{animation:rotate-anime 3s linear infinite}.ui-settings .ui-btn-wrapper .ui-settings-body{width:200px;position:absolute;bottom:0;left:-210px;background-color:var(--color-surface-mixed-100);border-radius:8px;padding:10px 0;display:none;flex-direction:column;align-items:center;justify-content:center;gap:10px;border:1px solid var(--color-surface-mixed-300);box-shadow:0 1px 20px 0 var(--color-box-shadow-100)}.ui-settings .ui-btn-wrapper .ui-settings-body .theme-wrapper{width:80%}.ui-settings .ui-btn-wrapper .ui-settings-body .theme-wrapper .theme-label{color:var(--color-text-200);font-size:16px;font-weight:450;margin:5px 0}.ui-settings .ui-btn-wrapper .ui-settings-body .theme-wrapper .theme-shade{margin:0;padding:0}.ui-settings .ui-btn-wrapper .ui-settings-body .theme-wrapper .theme-shade li{margin:0;padding:0;list-style:none;display:flex;align-items:center;justify-content:flex-start;gap:5px;cursor:pointer}.ui-settings .ui-btn-wrapper .ui-settings-body .theme-wrapper .theme-shade li .color-btn.blue{background-color:#3498db}.ui-settings .ui-btn-wrapper .ui-settings-body .theme-wrapper .theme-shade li .color-btn.green{background-color:#2ecc71}.ui-settings .ui-btn-wrapper .ui-settings-body .theme-wrapper .theme-shade li .color-btn.orange{background-color:#e67e22}.ui-settings .ui-btn-wrapper .ui-settings-body .theme-wrapper .theme-shade li .color-btn.red{background-color:#e74c3c}.ui-settings .ui-btn-wrapper .ui-settings-body .theme-wrapper .theme-shade li .color-btn.purple{background-color:#9b59b6}.ui-settings .ui-btn-wrapper .ui-settings-body .theme-wrapper .theme-shade li .color-btn.mixed{background-image:linear-gradient(to right,#3498db,#9b59b6)}.ui-settings .ui-btn-wrapper .ui-settings-body .theme-wrapper .theme-shade li .color-btn{width:16px;height:16px}.ui-settings .ui-btn-wrapper .ui-settings-body .theme-wrapper .theme-btn{position:absolute;right:0;top:100px;border:none;color:var(--color-surface-mixed-100);background-color:transparent;border-radius:5px;z-index:999;display:flex;align-items:center;justify-content:center}.ui-settings .ui-btn-wrapper .ui-settings-body .theme-wrapper .theme-btn img:nth-child(1),.ui-settings .ui-btn-wrapper .ui-settings-body .theme-wrapper .theme-btn img:nth-child(3){max-width:24px;max-height:24px}@media screen and (max-width: 768px){.ui-settings .ui-btn-wrapper .ui-settings-body .theme-wrapper .theme-btn img:nth-child(1),.ui-settings .ui-btn-wrapper .ui-settings-body .theme-wrapper .theme-btn img:nth-child(3){max-width:16px;max-height:16px}}.ui-settings .ui-btn-wrapper .ui-settings-body.active{display:flex}.translate{position:absolute;bottom:20px;right:20px;z-index:99;color:#0000}.translate .lang-btn-wrapper{position:relative;width:40px;height:40px;display:flex;align-items:center;justify-content:center}.translate .lang-btn-wrapper .lang-btn{width:40px;height:40px;display:flex;align-items:center;justify-content:center;background-color:var(--color-surface-mixed-400);border-radius:50%;padding:6px 20px;transition:all .3s ease-in-out;cursor:pointer}.translate .lang-btn-wrapper .lang-btn i{color:var(--color-text-200);font-size:20px}.translate .lang-btn-wrapper .lang-btn:hover,.translate .lang-btn-wrapper .lang-btn.active{animation:shadow-anime .8s infinite}.translate .lang-btn-wrapper #google_translate_element{position:absolute;transform:translate(-70%,10px);display:none}.translate .lang-btn-wrapper #google_translate_element .goog-te-gadget{z-index:99;color:#0000}.translate .lang-btn-wrapper #google_translate_element .goog-te-gadget span{display:none}.translate .lang-btn-wrapper #google_translate_element .goog-te-combo{background-color:var(--color-surface-mixed-100);color:var(--color-text-100)}.translate .lang-btn-wrapper #google_translate_element.active{display:block}.nav-bar{display:flex;justify-content:space-between;align-items:center;background-color:transparent;backdrop-filter:blur(30px);-webkit-backdrop-filter:blur(30px);min-height:70px;box-shadow:0 2px 8px -4px var(--color-box-shadow-100);position:relative}.nav-bar .menu{width:100%}.nav-bar .menu .navbar{background-color:transparent!important;backdrop-filter:blur(30px)!important;-webkit-backdrop-filter:blur(30px)!important}.nav-bar .menu .navbar .navbar-nav{text-align:right}.nav-bar .menu .navbar .navbar-nav .nav-item .nav-link{color:var(--color-text-200)!important}.nav-bar .menu .navbar .navbar-nav .nav-item .nav-link:hover{color:var(--color-surface-mixed-600)!important}.nav-bar .menu .navbar .navbar-nav .nav-item .nav-link.active{color:var(--color-primary-300)!important}.nav-bar .menu .navbar .navbar-nav .nav-item .dropdown-menu{background-color:var(--color-surface-mixed-100)!important;border:1px solid var(--color-primary-600)}.nav-bar .menu .navbar .dropdown-menu .dropdown-item{color:var(--color-text-200)!important;font-size:14px}.nav-bar .menu .navbar .dropdown-menu .dropdown-item:hover{color:var(--color-text-400)!important}.nav-bar .menu .navbar .dropdown-menu .dropdown-item.active{color:#fff;background-color:var(--color-primary-300)!important}.nav-bar .menu .navbar .dropdown-menu .dropdown-divider{border-top:1px solid var(--color-primary-300)!important}.nav-bar .menu .navbar-toggler{align-self:flex-end;right:0;border-color:var(--color-primary-300)!important}.nav-bar .menu .navbar-toggler .navbar-toggler-icon{border-color:var(--color-primary-300)!important}.nav-bar .menu .s-bar{width:250px;min-height:40px;border-radius:50px;border:1px solid var(--color-surface-mixed-300);background-color:var(--color-surface-mixed-300);padding:0 16px;position:relative}.nav-bar .menu .s-bar input{width:100%;outline:none;border:none;color:var(--color-text-100);background-color:transparent}.nav-bar .menu .s-bar input:focus{outline:none}.nav-bar .menu .s-bar i{color:var(--color-text-200)}.nav-bar .menu .profile-wrapper{width:40px;height:40px;border-radius:50%;border:1px solid var(--color-surface-mixed-300);background-color:var(--color-surface-mixed-300);display:flex;align-items:center;justify-content:center;overflow:hidden;cursor:pointer}.nav-bar .menu .profile-wrapper img{width:100%;height:100%}.nav-bar .logo{width:200px;height:40px;margin:0 20px;background-repeat:no-repeat;background-position-y:-50px;background-position-x:0;background-size:cover}@media screen and (max-width: 992px){.nav-bar .logo{background-position-y:-40px}}@media screen and (max-width: 540px){.nav-bar .logo{background-position-y:-30px}}.nav-bar .search-results-wrapper{position:absolute;bottom:-105px;right:max(50px,7vw);min-width:250px;height:100px;overflow-y:auto;background-color:var(--color-surface-mixed-100);border-radius:0 0 8px 8px;border:1px solid var(--color-surface-mixed-300);box-shadow:0 1px 20px 0 var(--color-box-shadow-100);z-index:999}.nav-bar .search-results-wrapper .search-result{padding:5px 15px}.nav-bar .search-results-wrapper .search-result a{text-decoration:none;color:var(--color-text-200);font-size:14px;transition:all .3s ease}.nav-bar .search-results-wrapper .search-result:hover{background-color:var(--color-surface-mixed-300)}.nav-bar .search-results-wrapper .search-result:hover a{color:var(--color-primary-300)}.nav-bar .search-results-wrapper .not-found{width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:var(--color-text-200);font-size:14px;text-align:center}.footer{background-color:#222b38}.footer .footer-top{padding:40px 0;background-color:#222b38}.footer .footer-top h6{color:#fff;margin-bottom:20px}.footer .footer-top p{cursor:pointer;transition:all .3s ease}.footer .footer-top p:hover{color:#fff;transform:translate(5px)}.footer .footer-top p.not-animate{transition:none;transform:none;color:var(--color-text-400)}.footer .footer-top .input-group input{background-color:transparent;border:1px solid var(--color-text-400);color:#fff;padding:12px 16px}.footer .footer-top .input-group input:focus{outline:none;box-shadow:none}.footer .footer-top .input-group input::placeholder{color:var(--color-text-400)}.footer .footer-top .btn-outline-secondary{background-color:#1e8449;border:1px solid #1e8449;color:#fff;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.footer .footer-top .logo-lg{width:90%;max-width:250px;aspect-ratio:16/9;margin-bottom:16px;background-position:center;background-repeat:no-repeat;background-size:cover;background-image:url(footer-w.7285d1e73cfa301e.svg)}.footer .footer-top .report-issue{width:100%;margin:14px 0;background-color:#1f1f2e;border-radius:8px;display:flex;align-items:center;justify-content:center;flex-direction:column;text-align:center;padding:12px 20px}.footer .footer-top .report-issue .report-btn{background-color:#ffb100;color:#fff;margin:0 0 8px;border-radius:8px;border:none;outline:none;padding:8px;display:flex;align-items:center;justify-content:center;transition:all .3s ease;cursor:pointer;gap:4px;font-size:12px}.footer .footer-top .report-issue .report-btn i{font-size:14px}.footer .footer-top .report-issue .report-btn:hover{background-color:gold}.footer .footer-bottom{background-color:#12171e;min-height:40px;padding:16px}.footer .footer-bottom p{margin:0}.modal-body p,.modal-body ol,.modal-body ul,.modal-body li{font-size:14px}.form-wrapper{gap:unset;row-gap:20px;font-size:14px}.form-wrapper input,.form-wrapper textarea{font-size:14px}.form-wrapper input::placeholder,.form-wrapper textarea::placeholder{font-size:14px}.form-wrapper span{color:var(--color-text-200);font-weight:450}\n"],encapsulation:2})}return o})();var hn=_(7392),ut=_(7340);function De(o){return new f.vHH(3e3,!1)}function $n(){return typeof window<"u"&&typeof window.document<"u"}function An(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Gn(o){switch(o.length){case 0:return new ut.ZN;case 1:return o[0];default:return new ut.ZE(o)}}function bt(o,e,t,i,a=new Map,u=new Map){const m=[],x=[];let M=-1,$=null;if(i.forEach(ue=>{const Ie=ue.get("offset"),Je=Ie==M,yt=Je&&$||new Map;ue.forEach((Ft,Kt)=>{let qt=Kt,Cn=Ft;if("offset"!==Kt)switch(qt=e.normalizePropertyName(qt,m),Cn){case ut.k1:Cn=a.get(Kt);break;case ut.l3:Cn=u.get(Kt);break;default:Cn=e.normalizeStyleValue(Kt,qt,Cn,m)}yt.set(qt,Cn)}),Je||x.push(yt),$=yt,M=Ie}),m.length)throw function tt(o){return new f.vHH(3502,!1)}();return x}function Et(o,e,t,i){switch(e){case"start":o.onStart(()=>i(t&&Vt(t,"start",o)));break;case"done":o.onDone(()=>i(t&&Vt(t,"done",o)));break;case"destroy":o.onDestroy(()=>i(t&&Vt(t,"destroy",o)))}}function Vt(o,e,t){const u=on(o.element,o.triggerName,o.fromState,o.toState,e||o.phaseName,t.totalTime??o.totalTime,!!t.disabled),m=o._data;return null!=m&&(u._data=m),u}function on(o,e,t,i,a="",u=0,m){return{element:o,triggerName:e,fromState:t,toState:i,phaseName:a,totalTime:u,disabled:!!m}}function In(o,e,t){let i=o.get(e);return i||o.set(e,i=t),i}function ni(o){const e=o.indexOf(":");return[o.substring(1,e),o.slice(e+1)]}let li=(o,e)=>!1,Ei=(o,e,t)=>[],fi=null;function yn(o){const e=o.parentNode||o.host;return e===fi?null:e}(An()||typeof Element<"u")&&($n()?(fi=(()=>document.documentElement)(),li=(o,e)=>{for(;e;){if(e===o)return!0;e=yn(e)}return!1}):li=(o,e)=>o.contains(e),Ei=(o,e,t)=>{if(t)return Array.from(o.querySelectorAll(e));const i=o.querySelector(e);return i?[i]:[]});let nr=null,lr=!1;const _r=li,Io=Ei;let Fo=(()=>{class o{validateStyleProperty(t){return function Vi(o){nr||(nr=function ui(){return typeof document<"u"?document.body:null}()||{},lr=!!nr.style&&"WebkitAppearance"in nr.style);let e=!0;return nr.style&&!function oi(o){return"ebkit"==o.substring(1,6)}(o)&&(e=o in nr.style,!e&&lr&&(e="Webkit"+o.charAt(0).toUpperCase()+o.slice(1)in nr.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return _r(t,i)}getParentElement(t){return yn(t)}query(t,i,a){return Io(t,i,a)}computeStyle(t,i,a){return a||""}animate(t,i,a,u,m,x=[],M){return new ut.ZN(a,u)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=f.Yz7({token:o,factory:o.\u0275fac}),o})(),$o=(()=>{class o{}return o.NOOP=new Fo,o})();const zs=1e3,To="ng-enter",Wr="ng-leave",Zr="ng-trigger",Kr=".ng-trigger",io="ng-animating",Ri=".ng-animating";function vr(o){if("number"==typeof o)return o;const e=o.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Ao(parseFloat(e[1]),e[2])}function Ao(o,e){return"s"===e?o*zs:o}function Cs(o,e,t){return o.hasOwnProperty("duration")?o:function Hs(o,e,t){let a,u=0,m="";if("string"==typeof o){const x=o.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===x)return e.push(De()),{duration:0,delay:0,easing:""};a=Ao(parseFloat(x[1]),x[2]);const M=x[3];null!=M&&(u=Ao(parseFloat(M),x[4]));const $=x[5];$&&(m=$)}else a=o;if(!t){let x=!1,M=e.length;a<0&&(e.push(function rt(){return new f.vHH(3100,!1)}()),x=!0),u<0&&(e.push(function Wt(){return new f.vHH(3101,!1)}()),x=!0),x&&e.splice(M,0,De())}return{duration:a,delay:u,easing:m}}(o,e,t)}function No(o,e={}){return Object.keys(o).forEach(t=>{e[t]=o[t]}),e}function Yr(o){const e=new Map;return Object.keys(o).forEach(t=>{e.set(t,o[t])}),e}function Gi(o,e=new Map,t){if(t)for(let[i,a]of t)e.set(i,a);for(let[i,a]of o)e.set(i,a);return e}function xr(o,e,t){return t?e+":"+t+";":""}function ro(o){let e="";for(let t=0;t<o.style.length;t++){const i=o.style.item(t);e+=xr(0,i,o.style.getPropertyValue(i))}for(const t in o.style)o.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=xr(0,js(t),o.style[t]));o.setAttribute("style",e)}function qi(o,e,t){o.style&&(e.forEach((i,a)=>{const u=Go(a);t&&!t.has(a)&&t.set(a,o.style[u]),o.style[u]=i}),An()&&ro(o))}function oo(o,e){o.style&&(e.forEach((t,i)=>{const a=Go(i);o.style[a]=""}),An()&&ro(o))}function Qi(o){return Array.isArray(o)?1==o.length?o[0]:(0,ut.vP)(o):o}const qr=new RegExp("{{\\s*(.+?)\\s*}}","g");function ls(o){let e=[];if("string"==typeof o){let t;for(;t=qr.exec(o);)e.push(t[1]);qr.lastIndex=0}return e}function Do(o,e,t){const i=o.toString(),a=i.replace(qr,(u,m)=>{let x=e[m];return null==x&&(t.push(function mn(o){return new f.vHH(3003,!1)}()),x=""),x.toString()});return a==i?o:a}function Jo(o){const e=[];let t=o.next();for(;!t.done;)e.push(t.value),t=o.next();return e}const Is=/-+([a-z0-9])/g;function Go(o){return o.replace(Is,(...e)=>e[1].toUpperCase())}function js(o){return o.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Rr(o,e,t){switch(e.type){case 7:return o.visitTrigger(e,t);case 0:return o.visitState(e,t);case 1:return o.visitTransition(e,t);case 2:return o.visitSequence(e,t);case 3:return o.visitGroup(e,t);case 4:return o.visitAnimate(e,t);case 5:return o.visitKeyframes(e,t);case 6:return o.visitStyle(e,t);case 8:return o.visitReference(e,t);case 9:return o.visitAnimateChild(e,t);case 10:return o.visitAnimateRef(e,t);case 11:return o.visitQuery(e,t);case 12:return o.visitStagger(e,t);default:throw function ai(o){return new f.vHH(3004,!1)}()}}function Lo(o,e){return window.getComputedStyle(o)[e]}const As="*";function dr(o,e){const t=[];return"string"==typeof o?o.split(/\s*,\s*/).forEach(i=>function Wo(o,e,t){if(":"==o[0]){const M=function cs(o,e){switch(o){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function Ve(o){return new f.vHH(3016,!1)}()),"* => *"}}(o,t);if("function"==typeof M)return void e.push(M);o=M}const i=o.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function Ze(o){return new f.vHH(3015,!1)}()),e;const a=i[1],u=i[2],m=i[3];e.push(Ws(a,m));"<"==u[0]&&!(a==As&&m==As)&&e.push(Ws(m,a))}(i,t,e)):t.push(o),t}const Gs=new Set(["true","1"]),es=new Set(["false","0"]);function Ws(o,e){const t=Gs.has(o)||es.has(o),i=Gs.has(e)||es.has(e);return(a,u)=>{let m=o==As||o==a,x=e==As||e==u;return!m&&t&&"boolean"==typeof a&&(m=a?Gs.has(o):es.has(o)),!x&&i&&"boolean"==typeof u&&(x=u?Gs.has(e):es.has(e)),m&&x}}const ts=new RegExp("s*:selfs*,?","g");function Zs(o,e,t,i){return new hr(o).build(e,t,i)}class hr{constructor(e){this._driver=e}build(e,t,i){const a=new hs(t);return this._resetContextStyleTimingState(a),Rr(this,Qi(e),a)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,a=t.depCount=0;const u=[],m=[];return"@"==e.name.charAt(0)&&t.errors.push(function ri(){return new f.vHH(3006,!1)}()),e.definitions.forEach(x=>{if(this._resetContextStyleTimingState(t),0==x.type){const M=x,$=M.name;$.toString().split(/\s*,\s*/).forEach(ue=>{M.name=ue,u.push(this.visitState(M,t))}),M.name=$}else if(1==x.type){const M=this.visitTransition(x,t);i+=M.queryCount,a+=M.depCount,m.push(M)}else t.errors.push(function Qn(){return new f.vHH(3007,!1)}())}),{type:7,name:e.name,states:u,transitions:m,queryCount:i,depCount:a,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),a=e.options&&e.options.params||null;if(i.containsDynamicStyles){const u=new Set,m=a||{};i.styles.forEach(x=>{x instanceof Map&&x.forEach(M=>{ls(M).forEach($=>{m.hasOwnProperty($)||u.add($)})})}),u.size&&(Jo(u.values()),t.errors.push(function Ti(o,e){return new f.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:a?{params:a}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Rr(this,Qi(e.animation),t);return{type:1,matchers:dr(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Si(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Rr(this,i,t)),options:Si(e.options)}}visitGroup(e,t){const i=t.currentTime;let a=0;const u=e.steps.map(m=>{t.currentTime=i;const x=Rr(this,m,t);return a=Math.max(a,t.currentTime),x});return t.currentTime=a,{type:3,steps:u,options:Si(e.options)}}visitAnimate(e,t){const i=function ir(o,e){if(o.hasOwnProperty("duration"))return o;if("number"==typeof o)return so(Cs(o,e).duration,0,"");const t=o;if(t.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=so(0,0,"");return u.dynamic=!0,u.strValue=t,u}const a=Cs(t,e);return so(a.duration,a.delay,a.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let a,u=e.styles?e.styles:(0,ut.oB)({});if(5==u.type)a=this.visitKeyframes(u,t);else{let m=e.styles,x=!1;if(!m){x=!0;const $={};i.easing&&($.easing=i.easing),m=(0,ut.oB)($)}t.currentTime+=i.duration+i.delay;const M=this.visitStyle(m,t);M.isEmptyStep=x,a=M}return t.currentAnimateTimings=null,{type:4,timings:i,style:a,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],a=Array.isArray(e.styles)?e.styles:[e.styles];for(let x of a)"string"==typeof x?x===ut.l3?i.push(x):t.errors.push(new f.vHH(3002,!1)):i.push(Yr(x));let u=!1,m=null;return i.forEach(x=>{if(x instanceof Map&&(x.has("easing")&&(m=x.get("easing"),x.delete("easing")),!u))for(let M of x.values())if(M.toString().indexOf("{{")>=0){u=!0;break}}),{type:6,styles:i,easing:m,offset:e.offset,containsDynamicStyles:u,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let a=t.currentTime,u=t.currentTime;i&&u>0&&(u-=i.duration+i.delay),e.styles.forEach(m=>{"string"!=typeof m&&m.forEach((x,M)=>{const $=t.collectedStyles.get(t.currentQuerySelector),ue=$.get(M);let Ie=!0;ue&&(u!=a&&u>=ue.startTime&&a<=ue.endTime&&(t.errors.push(function mt(o,e,t,i,a){return new f.vHH(3010,!1)}()),Ie=!1),u=ue.startTime),Ie&&$.set(M,{startTime:u,endTime:a}),t.options&&function Ga(o,e,t){const i=e.params||{},a=ls(o);a.length&&a.forEach(u=>{i.hasOwnProperty(u)||t.push(function sn(o){return new f.vHH(3001,!1)}())})}(x,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function nt(){return new f.vHH(3011,!1)}()),i;let u=0;const m=[];let x=!1,M=!1,$=0;const ue=e.steps.map(Cn=>{const Fn=this._makeStyleAst(Cn,t);let vn=null!=Fn.offset?Fn.offset:function wa(o){if("string"==typeof o)return null;let e=null;if(Array.isArray(o))o.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(o instanceof Map&&o.has("offset")){const t=o;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Fn.styles),Un=0;return null!=vn&&(u++,Un=Fn.offset=vn),M=M||Un<0||Un>1,x=x||Un<$,$=Un,m.push(Un),Fn});M&&t.errors.push(function ze(){return new f.vHH(3012,!1)}()),x&&t.errors.push(function ot(){return new f.vHH(3200,!1)}());const Ie=e.steps.length;let Je=0;u>0&&u<Ie?t.errors.push(function an(){return new f.vHH(3202,!1)}()):0==u&&(Je=1/(Ie-1));const yt=Ie-1,Ft=t.currentTime,Kt=t.currentAnimateTimings,qt=Kt.duration;return ue.forEach((Cn,Fn)=>{const vn=Je>0?Fn==yt?1:Je*Fn:m[Fn],Un=vn*qt;t.currentTime=Ft+Kt.delay+Un,Kt.duration=Un,this._validateStyleAst(Cn,t),Cn.offset=vn,i.styles.push(Cn)}),i}visitReference(e,t){return{type:8,animation:Rr(this,Qi(e.animation),t),options:Si(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Si(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Si(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,a=e.options||{};t.queryCount++,t.currentQuery=e;const[u,m]=function ds(o){const e=!!o.split(/\s*,\s*/).find(t=>":self"==t);return e&&(o=o.replace(ts,"")),o=o.replace(/@\*/g,Kr).replace(/@\w+/g,t=>Kr+"-"+t.slice(1)).replace(/:animating/g,Ri),[o,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+u:u,In(t.collectedStyles,t.currentQuerySelector,new Map);const x=Rr(this,Qi(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:u,limit:a.limit||0,optional:!!a.optional,includeSelf:m,animation:x,originalSelector:e.selector,options:Si(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Jt(){return new f.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Cs(e.timings,t.errors,!0);return{type:12,animation:Rr(this,Qi(e.animation),t),timings:i,options:null}}}class hs{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Si(o){return o?(o=No(o)).params&&(o.params=function Nr(o){return o?No(o):null}(o.params)):o={},o}function so(o,e,t){return{duration:o,delay:e,easing:t}}function Fi(o,e,t,i,a,u,m=null,x=!1){return{type:1,element:o,keyframes:e,preStyleProps:t,postStyleProps:i,duration:a,delay:u,totalTime:a+u,easing:m,subTimeline:x}}class Ys{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Or=new RegExp(":enter","g"),fa=new RegExp(":leave","g");function Mo(o,e,t,i,a,u=new Map,m=new Map,x,M,$=[]){return(new ao).buildKeyframes(o,e,t,i,a,u,m,x,M,$)}class ao{buildKeyframes(e,t,i,a,u,m,x,M,$,ue=[]){$=$||new Ys;const Ie=new fs(e,t,$,a,u,ue,[]);Ie.options=M;const Je=M.delay?vr(M.delay):0;Ie.currentTimeline.delayNextStep(Je),Ie.currentTimeline.setStyles([m],null,Ie.errors,M),Rr(this,i,Ie);const yt=Ie.timelines.filter(Ft=>Ft.containsAnimation());if(yt.length&&x.size){let Ft;for(let Kt=yt.length-1;Kt>=0;Kt--){const qt=yt[Kt];if(qt.element===t){Ft=qt;break}}Ft&&!Ft.allowOnlyTimelineStyles()&&Ft.setStyles([x],null,Ie.errors,M)}return yt.length?yt.map(Ft=>Ft.buildKeyframes()):[Fi(t,[],[],[],0,Je,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const a=t.createSubContext(e.options),u=t.currentTimeline.currentTime,m=this._visitSubInstructions(i,a,a.options);u!=m&&t.transformIntoNewTimeline(m)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const a of e){const u=a?.delay;if(u){const m="number"==typeof u?u:vr(Do(u,a?.params??{},t.errors));i.delayNextStep(m)}}}_visitSubInstructions(e,t,i){let u=t.currentTimeline.currentTime;const m=null!=i.duration?vr(i.duration):null,x=null!=i.delay?vr(i.delay):null;return 0!==m&&e.forEach(M=>{const $=t.appendInstructionToTimeline(M,m,x);u=Math.max(u,$.duration+$.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),Rr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let a=t;const u=e.options;if(u&&(u.params||u.delay)&&(a=t.createSubContext(u),a.transformIntoNewTimeline(),null!=u.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=qs);const m=vr(u.delay);a.delayNextStep(m)}e.steps.length&&(e.steps.forEach(m=>Rr(this,m,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>i&&a.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let a=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?vr(e.options.delay):0;e.steps.forEach(m=>{const x=t.createSubContext(e.options);u&&x.delayNextStep(u),Rr(this,m,x),a=Math.max(a,x.currentTimeline.currentTime),i.push(x.currentTimeline)}),i.forEach(m=>t.currentTimeline.mergeTimelineCollectedStyles(m)),t.transformIntoNewTimeline(a),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Cs(t.params?Do(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),a=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),a.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(i.duration),this.visitStyle(u,t),a.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,a=t.currentAnimateTimings;!a&&i.hasCurrentStyleProperties()&&i.forwardFrame();const u=a&&a.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(u):i.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,a=t.currentTimeline.duration,u=i.duration,x=t.createSubContext().currentTimeline;x.easing=i.easing,e.styles.forEach(M=>{x.forwardTime((M.offset||0)*u),x.setStyles(M.styles,M.easing,t.errors,t.options),x.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(x),t.transformIntoNewTimeline(a+u),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,a=e.options||{},u=a.delay?vr(a.delay):0;u&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=qs);let m=i;const x=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!a.optional,t.errors);t.currentQueryTotal=x.length;let M=null;x.forEach(($,ue)=>{t.currentQueryIndex=ue;const Ie=t.createSubContext(e.options,$);u&&Ie.delayNextStep(u),$===t.element&&(M=Ie.currentTimeline),Rr(this,e.animation,Ie),Ie.currentTimeline.applyStylesToKeyframe(),m=Math.max(m,Ie.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(m),M&&(t.currentTimeline.mergeTimelineCollectedStyles(M),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,a=t.currentTimeline,u=e.timings,m=Math.abs(u.duration),x=m*(t.currentQueryTotal-1);let M=m*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":M=x-M;break;case"full":M=i.currentStaggerTime}const ue=t.currentTimeline;M&&ue.delayNextStep(M);const Ie=ue.currentTime;Rr(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=a.currentTime-Ie+(a.startTime-i.currentTimeline.startTime)}}const qs={};class fs{constructor(e,t,i,a,u,m,x,M){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=a,this._leaveClassName=u,this.errors=m,this.timelines=x,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=qs,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=M||new Wn(this._driver,t,0),x.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let a=this.options;null!=i.duration&&(a.duration=vr(i.duration)),null!=i.delay&&(a.delay=vr(i.delay));const u=i.params;if(u){let m=a.params;m||(m=this.options.params={}),Object.keys(u).forEach(x=>{(!t||!m.hasOwnProperty(x))&&(m[x]=Do(u[x],m,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(a=>{i[a]=t[a]})}}return e}createSubContext(e=null,t,i){const a=t||this.element,u=new fs(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,i||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=qs,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const a={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},u=new ie(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,a,e.stretchStartingKeyframe);return this.timelines.push(u),a}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,a,u,m){let x=[];if(a&&x.push(this.element),e.length>0){e=(e=e.replace(Or,"."+this._enterClassName)).replace(fa,"."+this._leaveClassName);let $=this._driver.query(this.element,e,1!=i);0!==i&&($=i<0?$.slice($.length+i,$.length):$.slice(0,i)),x.push(...$)}return!u&&0==x.length&&m.push(function Ln(o){return new f.vHH(3014,!1)}()),x}}class Wn{constructor(e,t,i,a){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=a,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Wn(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||ut.l3),this._currentKeyframe.set(t,ut.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,a){t&&this._previousKeyframe.set("easing",t);const u=a&&a.params||{},m=function A(o,e){const t=new Map;let i;return o.forEach(a=>{if("*"===a){i=i||e.keys();for(let u of i)t.set(u,ut.l3)}else Gi(a,t)}),t}(e,this._globalTimelineStyles);for(let[x,M]of m){const $=Do(M,u,i);this._pendingStyles.set(x,$),this._localTimelineStyles.has(x)||this._backFill.set(x,this._globalTimelineStyles.get(x)??ut.l3),this._updateStyle(x,$)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const a=this._styleSummary.get(i);(!a||t.time>a.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((x,M)=>{const $=Gi(x,new Map,this._backFill);$.forEach((ue,Ie)=>{ue===ut.k1?e.add(Ie):ue===ut.l3&&t.add(Ie)}),i||$.set("offset",M/this.duration),a.push($)});const u=e.size?Jo(e.values()):[],m=t.size?Jo(t.values()):[];if(i){const x=a[0],M=new Map(x);x.set("offset",0),M.set("offset",1),a=[x,M]}return Fi(this.element,a,u,m,this.duration,this.startTime,this.easing,!1)}}class ie extends Wn{constructor(e,t,i,a,u,m,x=!1){super(e,t,m.delay),this.keyframes=i,this.preStyleProps=a,this.postStyleProps=u,this._stretchStartingKeyframe=x,this.timings={duration:m.duration,delay:m.delay,easing:m.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:a}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],m=i+t,x=t/m,M=Gi(e[0]);M.set("offset",0),u.push(M);const $=Gi(e[0]);$.set("offset",E(x)),u.push($);const ue=e.length-1;for(let Ie=1;Ie<=ue;Ie++){let Je=Gi(e[Ie]);const yt=Je.get("offset");Je.set("offset",E((t+yt*i)/m)),u.push(Je)}i=m,t=0,a="",e=u}return Fi(this.element,e,this.preStyleProps,this.postStyleProps,i,t,a,!0)}}function E(o,e=3){const t=Math.pow(10,e-1);return Math.round(o*t)/t}class q{}const Ut=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Dn extends q{normalizePropertyName(e,t){return Go(e)}normalizeStyleValue(e,t,i,a){let u="";const m=i.toString().trim();if(Ut.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)u="px";else{const x=i.match(/^[+-]?[\d\.]+([a-z]*)$/);x&&0==x[1].length&&a.push(function zn(o,e){return new f.vHH(3005,!1)}())}return m+u}}function vt(o,e,t,i,a,u,m,x,M,$,ue,Ie,Je){return{type:0,element:o,triggerName:e,isRemovalTransition:a,fromState:t,fromStyles:u,toState:i,toStyles:m,timelines:x,queriedElements:M,preStyleProps:$,postStyleProps:ue,totalTime:Ie,errors:Je}}const xn={};class pi{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,a){return function bi(o,e,t,i,a){return o.some(u=>u(e,t,i,a))}(this.ast.matchers,e,t,i,a)}buildStyles(e,t,i){let a=this._stateStyles.get("*");return void 0!==e&&(a=this._stateStyles.get(e?.toString())||a),a?a.buildStyles(t,i):new Map}build(e,t,i,a,u,m,x,M,$,ue){const Ie=[],Je=this.ast.options&&this.ast.options.params||xn,Ft=this.buildStyles(i,x&&x.params||xn,Ie),Kt=M&&M.params||xn,qt=this.buildStyles(a,Kt,Ie),Cn=new Set,Fn=new Map,vn=new Map,Un="void"===a,gi={params:Hi(Kt,Je),delay:this.ast.options?.delay},ci=ue?[]:Mo(e,t,this.ast.animation,u,m,Ft,qt,gi,$,Ie);let Ct=0;if(ci.forEach(gt=>{Ct=Math.max(gt.duration+gt.delay,Ct)}),Ie.length)return vt(t,this._triggerName,i,a,Un,Ft,qt,[],[],Fn,vn,Ct,Ie);ci.forEach(gt=>{const St=gt.element,kt=In(Fn,St,new Set);gt.preStyleProps.forEach(ft=>kt.add(ft));const zt=In(vn,St,new Set);gt.postStyleProps.forEach(ft=>zt.add(ft)),St!==t&&Cn.add(St)});const it=Jo(Cn.values());return vt(t,this._triggerName,i,a,Un,Ft,qt,ci,it,Fn,vn,Ct)}}function Hi(o,e){const t=No(e);for(const i in o)o.hasOwnProperty(i)&&null!=o[i]&&(t[i]=o[i]);return t}class Wi{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,a=No(this.defaultParams);return Object.keys(e).forEach(u=>{const m=e[u];null!==m&&(a[u]=m)}),this.styles.styles.forEach(u=>{"string"!=typeof u&&u.forEach((m,x)=>{m&&(m=Do(m,a,t));const M=this.normalizer.normalizePropertyName(x,t);m=this.normalizer.normalizeStyleValue(x,M,m,t),i.set(x,m)})}),i}}class Ji{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(a=>{this.states.set(a.name,new Wi(a.style,a.options&&a.options.params||{},i))}),Vo(this.states,"true","1"),Vo(this.states,"false","0"),t.transitions.forEach(a=>{this.transitionFactories.push(new pi(e,a,this.states))}),this.fallbackTransition=function go(o,e,t){return new pi(o,{type:1,animation:{type:2,steps:[],options:null},matchers:[(m,x)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,a){return this.transitionFactories.find(m=>m.match(e,t,i,a))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function Vo(o,e,t){o.has(e)?o.has(t)||o.set(t,o.get(e)):o.has(t)&&o.set(e,o.get(t))}const kr=new Ys;class Cr{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],a=[],u=Zs(this._driver,t,i,a);if(i.length)throw function X(o){return new f.vHH(3503,!1)}();this._animations.set(e,u)}_buildPlayer(e,t,i){const a=e.element,u=bt(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(a,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const a=[],u=this._animations.get(e);let m;const x=new Map;if(u?(m=Mo(this._driver,t,u,To,Wr,new Map,new Map,i,kr,a),m.forEach(ue=>{const Ie=In(x,ue.element,new Map);ue.postStyleProps.forEach(Je=>Ie.set(Je,null))})):(a.push(function L(){return new f.vHH(3300,!1)}()),m=[]),a.length)throw function T(o){return new f.vHH(3504,!1)}();x.forEach((ue,Ie)=>{ue.forEach((Je,yt)=>{ue.set(yt,this._driver.computeStyle(Ie,yt,ut.l3))})});const $=Gn(m.map(ue=>{const Ie=x.get(ue.element);return this._buildPlayer(ue,new Map,Ie)}));return this._playersById.set(e,$),$.onDestroy(()=>this.destroy(e)),this.players.push($),$}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function j(o){return new f.vHH(3301,!1)}();return t}listen(e,t,i,a){const u=on(t,"","","");return Et(this._getPlayer(e),i,u,a),()=>{}}command(e,t,i,a){if("register"==i)return void this.register(e,a[0]);if("create"==i)return void this.create(e,t,a[0]||{});const u=this._getPlayer(e);switch(i){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(e)}}}const er="ng-animate-queued",lo="ng-animate-disabled",Wa=[],ml={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},gl={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},co="__ng_removed";class ns{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function Zl(o){return o??null}(i?e.value:e),i){const u=No(e);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(a=>{null==i[a]&&(i[a]=t[a])})}}}const pa="void",Qs=new ns(pa);class Za{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Zi(t,this._hostClassName)}listen(e,t,i,a){if(!this._triggers.has(t))throw function Ee(o,e){return new f.vHH(3302,!1)}();if(null==i||0==i.length)throw function Oe(o){return new f.vHH(3303,!1)}();if(!function Iu(o){return"start"==o||"done"==o}(i))throw function st(o,e){return new f.vHH(3400,!1)}();const u=In(this._elementListeners,e,[]),m={name:t,phase:i,callback:a};u.push(m);const x=In(this._engine.statesByElement,e,new Map);return x.has(t)||(Zi(e,Zr),Zi(e,Zr+"-"+t),x.set(t,Qs)),()=>{this._engine.afterFlush(()=>{const M=u.indexOf(m);M>=0&&u.splice(M,1),this._triggers.has(t)||x.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function _t(o){return new f.vHH(3401,!1)}();return t}trigger(e,t,i,a=!0){const u=this._getTrigger(t),m=new Ia(this.id,t,e);let x=this._engine.statesByElement.get(e);x||(Zi(e,Zr),Zi(e,Zr+"-"+t),this._engine.statesByElement.set(e,x=new Map));let M=x.get(t);const $=new ns(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&M&&$.absorbOptions(M.options),x.set(t,$),M||(M=Qs),$.value!==pa&&M.value===$.value){if(!function Yl(o,e){const t=Object.keys(o),i=Object.keys(e);if(t.length!=i.length)return!1;for(let a=0;a<t.length;a++){const u=t[a];if(!e.hasOwnProperty(u)||o[u]!==e[u])return!1}return!0}(M.params,$.params)){const Kt=[],qt=u.matchStyles(M.value,M.params,Kt),Cn=u.matchStyles($.value,$.params,Kt);Kt.length?this._engine.reportError(Kt):this._engine.afterFlush(()=>{oo(e,qt),qi(e,Cn)})}return}const Je=In(this._engine.playersByElement,e,[]);Je.forEach(Kt=>{Kt.namespaceId==this.id&&Kt.triggerName==t&&Kt.queued&&Kt.destroy()});let yt=u.matchTransition(M.value,$.value,e,$.params),Ft=!1;if(!yt){if(!a)return;yt=u.fallbackTransition,Ft=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:yt,fromState:M,toState:$,player:m,isFallbackTransition:Ft}),Ft||(Zi(e,er),m.onStart(()=>{Zo(e,er)})),m.onDone(()=>{let Kt=this.players.indexOf(m);Kt>=0&&this.players.splice(Kt,1);const qt=this._engine.playersByElement.get(e);if(qt){let Cn=qt.indexOf(m);Cn>=0&&qt.splice(Cn,1)}}),this.players.push(m),Je.push(m),m}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(a=>a.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Kr,!0);i.forEach(a=>{if(a[co])return;const u=this._engine.fetchNamespacesByElement(a);u.size?u.forEach(m=>m.triggerLeaveAnimation(a,t,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(e,t,i,a){const u=this._engine.statesByElement.get(e),m=new Map;if(u){const x=[];if(u.forEach((M,$)=>{if(m.set($,M.value),this._triggers.has($)){const ue=this.trigger(e,$,pa,a);ue&&x.push(ue)}}),x.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,m),i&&Gn(x).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const a=new Set;t.forEach(u=>{const m=u.name;if(a.has(m))return;a.add(m);const M=this._triggers.get(m).fallbackTransition,$=i.get(m)||Qs,ue=new ns(pa),Ie=new Ia(this.id,m,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:m,transition:M,fromState:$,toState:ue,player:Ie,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let a=!1;if(i.totalAnimations){const u=i.players.length?i.playersByQueriedElement.get(e):[];if(u&&u.length)a=!0;else{let m=e;for(;m=m.parentNode;)if(i.statesByElement.get(m)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(e),a)i.markElementAsRemoved(this.id,e,!1,t);else{const u=e[co];(!u||u===ml)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Zi(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const a=i.player;if(a.destroyed)return;const u=i.element,m=this._elementListeners.get(u);m&&m.forEach(x=>{if(x.name==i.triggerName){const M=on(u,i.triggerName,i.fromState.value,i.toState.value);M._data=e,Et(i.player,x.phase,M,x.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):t.push(i)}),this._queue=[],t.sort((i,a)=>{const u=i.transition.ast.depCount,m=a.transition.ast.depCount;return 0==u||0==m?u-m:this._engine.driver.containsElement(i.element,a.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class Ps{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,u)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new Za(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,a=this.namespacesByHostElement;if(i.length-1>=0){let m=!1,x=this.driver.getParentElement(t);for(;x;){const M=a.get(x);if(M){const $=i.indexOf(M);i.splice($+1,0,e),m=!0;break}x=this.driver.getParentElement(x)}m||i.unshift(e)}else i.push(e);return a.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let a=this._namespaceLookup[e];a&&a.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const a=this._namespaceList.indexOf(i);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let a of i.values())if(a.namespaceId){const u=this._fetchNamespace(a.namespaceId);u&&t.add(u)}return t}trigger(e,t,i,a){if(Ta(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,i,a),!0}return!1}insertNode(e,t,i,a){if(!Ta(t))return;const u=t[co];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const m=this.collectedLeaveElements.indexOf(t);m>=0&&this.collectedLeaveElements.splice(m,1)}if(e){const m=this._fetchNamespace(e);m&&m.insertNode(t,i)}a&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Zi(e,lo)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Zo(e,lo))}removeNode(e,t,i,a){if(Ta(t)){const u=e?this._fetchNamespace(e):null;if(u?u.removeNode(t,a):this.markElementAsRemoved(e,t,!1,a),i){const m=this.namespacesByHostElement.get(t);m&&m.id!==e&&m.removeNode(t,a)}}else this._onRemovalComplete(t,a)}markElementAsRemoved(e,t,i,a,u){this.collectedLeaveElements.push(t),t[co]={namespaceId:e,setForRemoval:a,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:u}}listen(e,t,i,a,u){return Ta(t)?this._fetchNamespace(e).listen(t,i,a,u):()=>{}}_buildInstruction(e,t,i,a,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,a,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,Kr,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Ri,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Gn(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[co];if(t&&t.setForRemoval){if(e[co]=ml,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(lo)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,a)=>this._balanceNamespaceList(i,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Zi(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let a=0;a<i.length;a++)i[a]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Gn(t).onDone(()=>{i.forEach(a=>a())}):i.forEach(a=>a())}}reportError(e){throw function en(o){return new f.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new Ys,a=[],u=new Map,m=[],x=new Map,M=new Map,$=new Map,ue=new Set;this.disabledNodes.forEach(Xn=>{ue.add(Xn);const ii=this.driver.query(Xn,".ng-animate-queued",!0);for(let hi=0;hi<ii.length;hi++)ue.add(ii[hi])});const Ie=this.bodyNode,Je=Array.from(this.statesByElement.keys()),yt=Kl(Je,this.collectedEnterElements),Ft=new Map;let Kt=0;yt.forEach((Xn,ii)=>{const hi=To+Kt++;Ft.set(ii,hi),Xn.forEach(Ci=>Zi(Ci,hi))});const qt=[],Cn=new Set,Fn=new Set;for(let Xn=0;Xn<this.collectedLeaveElements.length;Xn++){const ii=this.collectedLeaveElements[Xn],hi=ii[co];hi&&hi.setForRemoval&&(qt.push(ii),Cn.add(ii),hi.hasAnimation?this.driver.query(ii,".ng-star-inserted",!0).forEach(Ci=>Cn.add(Ci)):Fn.add(ii))}const vn=new Map,Un=Kl(Je,Array.from(Cn));Un.forEach((Xn,ii)=>{const hi=Wr+Kt++;vn.set(ii,hi),Xn.forEach(Ci=>Zi(Ci,hi))}),e.push(()=>{yt.forEach((Xn,ii)=>{const hi=Ft.get(ii);Xn.forEach(Ci=>Zo(Ci,hi))}),Un.forEach((Xn,ii)=>{const hi=vn.get(ii);Xn.forEach(Ci=>Zo(Ci,hi))}),qt.forEach(Xn=>{this.processLeaveNode(Xn)})});const gi=[],ci=[];for(let Xn=this._namespaceList.length-1;Xn>=0;Xn--)this._namespaceList[Xn].drainQueuedTransitions(t).forEach(hi=>{const Ci=hi.player,wo=hi.element;if(gi.push(Ci),this.collectedEnterElements.length){const po=wo[co];if(po&&po.setForMove){if(po.previousTriggersValues&&po.previousTriggersValues.has(hi.triggerName)){const xc=po.previousTriggersValues.get(hi.triggerName),Es=this.statesByElement.get(hi.element);if(Es&&Es.has(hi.triggerName)){const Gl=Es.get(hi.triggerName);Gl.value=xc,Es.set(hi.triggerName,Gl)}}return void Ci.destroy()}}const sa=!Ie||!this.driver.containsElement(Ie,wo),fo=vn.get(wo),$r=Ft.get(wo),Bi=this._buildInstruction(hi,i,$r,fo,sa);if(Bi.errors&&Bi.errors.length)return void ci.push(Bi);if(sa)return Ci.onStart(()=>oo(wo,Bi.fromStyles)),Ci.onDestroy(()=>qi(wo,Bi.toStyles)),void a.push(Ci);if(hi.isFallbackTransition)return Ci.onStart(()=>oo(wo,Bi.fromStyles)),Ci.onDestroy(()=>qi(wo,Bi.toStyles)),void a.push(Ci);const xu=[];Bi.timelines.forEach(po=>{po.stretchStartingKeyframe=!0,this.disabledNodes.has(po.element)||xu.push(po)}),Bi.timelines=xu,i.append(wo,Bi.timelines),m.push({instruction:Bi,player:Ci,element:wo}),Bi.queriedElements.forEach(po=>In(x,po,[]).push(Ci)),Bi.preStyleProps.forEach((po,xc)=>{if(po.size){let Es=M.get(xc);Es||M.set(xc,Es=new Set),po.forEach((Gl,Cc)=>Es.add(Cc))}}),Bi.postStyleProps.forEach((po,xc)=>{let Es=$.get(xc);Es||$.set(xc,Es=new Set),po.forEach((Gl,Cc)=>Es.add(Cc))})});if(ci.length){const Xn=[];ci.forEach(ii=>{Xn.push(function On(o,e){return new f.vHH(3505,!1)}())}),gi.forEach(ii=>ii.destroy()),this.reportError(Xn)}const Ct=new Map,it=new Map;m.forEach(Xn=>{const ii=Xn.element;i.has(ii)&&(it.set(ii,ii),this._beforeAnimationBuild(Xn.player.namespaceId,Xn.instruction,Ct))}),a.forEach(Xn=>{const ii=Xn.element;this._getPreviousPlayers(ii,!1,Xn.namespaceId,Xn.triggerName,null).forEach(Ci=>{In(Ct,ii,[]).push(Ci),Ci.destroy()})});const gt=qt.filter(Xn=>Du(Xn,M,$)),St=new Map;Ac(St,this.driver,Fn,$,ut.l3).forEach(Xn=>{Du(Xn,M,$)&&gt.push(Xn)});const zt=new Map;yt.forEach((Xn,ii)=>{Ac(zt,this.driver,new Set(Xn),M,ut.k1)}),gt.forEach(Xn=>{const ii=St.get(Xn),hi=zt.get(Xn);St.set(Xn,new Map([...Array.from(ii?.entries()??[]),...Array.from(hi?.entries()??[])]))});const ft=[],fl=[],Eu={};m.forEach(Xn=>{const{element:ii,player:hi,instruction:Ci}=Xn;if(i.has(ii)){if(ue.has(ii))return hi.onDestroy(()=>qi(ii,Ci.toStyles)),hi.disabled=!0,hi.overrideTotalTime(Ci.totalTime),void a.push(hi);let wo=Eu;if(it.size>1){let fo=ii;const $r=[];for(;fo=fo.parentNode;){const Bi=it.get(fo);if(Bi){wo=Bi;break}$r.push(fo)}$r.forEach(Bi=>it.set(Bi,wo))}const sa=this._buildAnimation(hi.namespaceId,Ci,Ct,u,zt,St);if(hi.setRealPlayer(sa),wo===Eu)ft.push(hi);else{const fo=this.playersByElement.get(wo);fo&&fo.length&&(hi.parentPlayer=Gn(fo)),a.push(hi)}}else oo(ii,Ci.fromStyles),hi.onDestroy(()=>qi(ii,Ci.toStyles)),fl.push(hi),ue.has(ii)&&a.push(hi)}),fl.forEach(Xn=>{const ii=u.get(Xn.element);if(ii&&ii.length){const hi=Gn(ii);Xn.setRealPlayer(hi)}}),a.forEach(Xn=>{Xn.parentPlayer?Xn.syncPlayerEvents(Xn.parentPlayer):Xn.destroy()});for(let Xn=0;Xn<qt.length;Xn++){const ii=qt[Xn],hi=ii[co];if(Zo(ii,Wr),hi&&hi.hasAnimation)continue;let Ci=[];if(x.size){let sa=x.get(ii);sa&&sa.length&&Ci.push(...sa);let fo=this.driver.query(ii,Ri,!0);for(let $r=0;$r<fo.length;$r++){let Bi=x.get(fo[$r]);Bi&&Bi.length&&Ci.push(...Bi)}}const wo=Ci.filter(sa=>!sa.destroyed);wo.length?fr(this,ii,wo):this.processLeaveNode(ii)}return qt.length=0,ft.forEach(Xn=>{this.players.push(Xn),Xn.onDone(()=>{Xn.destroy();const ii=this.players.indexOf(Xn);this.players.splice(ii,1)}),Xn.play()}),ft}elementContainsData(e,t){let i=!1;const a=t[co];return a&&a.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,a,u){let m=[];if(t){const x=this.playersByQueriedElement.get(e);x&&(m=x)}else{const x=this.playersByElement.get(e);if(x){const M=!u||u==pa;x.forEach($=>{$.queued||!M&&$.triggerName!=a||m.push($)})}}return(i||a)&&(m=m.filter(x=>!(i&&i!=x.namespaceId||a&&a!=x.triggerName))),m}_beforeAnimationBuild(e,t,i){const u=t.element,m=t.isRemovalTransition?void 0:e,x=t.isRemovalTransition?void 0:t.triggerName;for(const M of t.timelines){const $=M.element,ue=$!==u,Ie=In(i,$,[]);this._getPreviousPlayers($,ue,m,x,t.toState).forEach(yt=>{const Ft=yt.getRealPlayer();Ft.beforeDestroy&&Ft.beforeDestroy(),yt.destroy(),Ie.push(yt)})}oo(u,t.fromStyles)}_buildAnimation(e,t,i,a,u,m){const x=t.triggerName,M=t.element,$=[],ue=new Set,Ie=new Set,Je=t.timelines.map(Ft=>{const Kt=Ft.element;ue.add(Kt);const qt=Kt[co];if(qt&&qt.removedBeforeQueried)return new ut.ZN(Ft.duration,Ft.delay);const Cn=Kt!==M,Fn=function Tu(o){const e=[];return Au(o,e),e}((i.get(Kt)||Wa).map(Ct=>Ct.getRealPlayer())).filter(Ct=>!!Ct.element&&Ct.element===Kt),vn=u.get(Kt),Un=m.get(Kt),gi=bt(0,this._normalizer,0,Ft.keyframes,vn,Un),ci=this._buildPlayer(Ft,gi,Fn);if(Ft.subTimeline&&a&&Ie.add(Kt),Cn){const Ct=new Ia(e,x,Kt);Ct.setRealPlayer(ci),$.push(Ct)}return ci});$.forEach(Ft=>{In(this.playersByQueriedElement,Ft.element,[]).push(Ft),Ft.onDone(()=>function ma(o,e,t){let i=o.get(e);if(i){if(i.length){const a=i.indexOf(t);i.splice(a,1)}0==i.length&&o.delete(e)}return i}(this.playersByQueriedElement,Ft.element,Ft))}),ue.forEach(Ft=>Zi(Ft,io));const yt=Gn(Je);return yt.onDestroy(()=>{ue.forEach(Ft=>Zo(Ft,io)),qi(M,t.toStyles)}),Ie.forEach(Ft=>{In(a,Ft,[]).push(yt)}),yt}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new ut.ZN(e.duration,e.delay)}}class Ia{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new ut.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(a=>Et(e,i,void 0,a))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){In(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Ta(o){return o&&1===o.nodeType}function Ka(o,e){const t=o.style.display;return o.style.display=e??"none",t}function Ac(o,e,t,i,a){const u=[];t.forEach(M=>u.push(Ka(M)));const m=[];i.forEach((M,$)=>{const ue=new Map;M.forEach(Ie=>{const Je=e.computeStyle($,Ie,a);ue.set(Ie,Je),(!Je||0==Je.length)&&($[co]=gl,m.push($))}),o.set($,ue)});let x=0;return t.forEach(M=>Ka(M,u[x++])),m}function Kl(o,e){const t=new Map;if(o.forEach(x=>t.set(x,[])),0==e.length)return t;const i=1,a=new Set(e),u=new Map;function m(x){if(!x)return i;let M=u.get(x);if(M)return M;const $=x.parentNode;return M=t.has($)?$:a.has($)?i:m($),u.set(x,M),M}return e.forEach(x=>{const M=m(x);M!==i&&t.get(M).push(x)}),t}function Zi(o,e){o.classList?.add(e)}function Zo(o,e){o.classList?.remove(e)}function fr(o,e,t){Gn(t).onDone(()=>o.processLeaveNode(e))}function Au(o,e){for(let t=0;t<o.length;t++){const i=o[t];i instanceof ut.ZE?Au(i.players,e):e.push(i)}}function Du(o,e,t){const i=t.get(o);if(!i)return!1;let a=e.get(o);return a?i.forEach(u=>a.add(u)):e.set(o,i),t.delete(o),!0}class Ya{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(a,u)=>{},this._transitionEngine=new Ps(e,t,i),this._timelineEngine=new Cr(e,t,i),this._transitionEngine.onRemovalComplete=(a,u)=>this.onRemovalComplete(a,u)}registerTrigger(e,t,i,a,u){const m=e+"-"+a;let x=this._triggerCache[m];if(!x){const M=[],$=[],ue=Zs(this._driver,u,M,$);if(M.length)throw function ht(o,e){return new f.vHH(3404,!1)}();x=function Xi(o,e,t){return new Ji(o,e,t)}(a,ue,this._normalizer),this._triggerCache[m]=x}this._transitionEngine.registerTrigger(t,a,x)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,a){this._transitionEngine.insertNode(e,t,i,a)}onRemove(e,t,i,a){this._transitionEngine.removeNode(e,t,a||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,a){if("@"==i.charAt(0)){const[u,m]=ni(i);this._timelineEngine.command(u,t,m,a)}else this._transitionEngine.trigger(e,t,i,a)}listen(e,t,i,a,u){if("@"==i.charAt(0)){const[m,x]=ni(i);return this._timelineEngine.listen(m,t,x,u)}return this._transitionEngine.listen(e,t,i,a,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let qa=(()=>{class o{constructor(t,i,a){this._element=t,this._startStyles=i,this._endStyles=a,this._state=0;let u=o.initialStylesByElement.get(t);u||o.initialStylesByElement.set(t,u=new Map),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&qi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(qi(this._element,this._initialStyles),this._endStyles&&(qi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(o.initialStylesByElement.delete(this._element),this._startStyles&&(oo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(oo(this._element,this._endStyles),this._endStyles=null),qi(this._element,this._initialStyles),this._state=3)}}return o.initialStylesByElement=new WeakMap,o})();function Aa(o){let e=null;return o.forEach((t,i)=>{(function Da(o){return"display"===o||"position"===o})(i)&&(e=e||new Map,e.set(i,t))}),e}class N{constructor(e,t,i,a){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,a)=>{"offset"!==a&&e.set(a,this._finished?i:Lo(this.element,a))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class ce{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return _r(e,t)}getParentElement(e){return yn(e)}query(e,t,i){return Io(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,a,u,m=[]){const M={duration:i,delay:a,fill:0==a?"both":"forwards"};u&&(M.easing=u);const $=new Map,ue=m.filter(yt=>yt instanceof N);(function $s(o,e){return 0===o||0===e})(i,a)&&ue.forEach(yt=>{yt.currentSnapshot.forEach((Ft,Kt)=>$.set(Kt,Ft))});let Ie=function ur(o){return o.length?o[0]instanceof Map?o:o.map(e=>Yr(e)):[]}(t).map(yt=>Gi(yt));Ie=function ua(o,e,t){if(t.size&&e.length){let i=e[0],a=[];if(t.forEach((u,m)=>{i.has(m)||a.push(m),i.set(m,u)}),a.length)for(let u=1;u<e.length;u++){let m=e[u];a.forEach(x=>m.set(x,Lo(o,x)))}}return e}(e,Ie,$);const Je=function Su(o,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=Aa(e[0]),e.length>1&&(i=Aa(e[e.length-1]))):e instanceof Map&&(t=Aa(e)),t||i?new qa(o,t,i):null}(e,Ie);return new N(e,Ie,M,Je)}}let V=(()=>{class o extends ut._j{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:f.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(t)?(0,ut.vP)(t):t;return Ht(this._renderer,null,i,"register",[a]),new ve(i,this._renderer)}}return o.\u0275fac=function(t){return new(t||o)(f.LFG(f.FYo),f.LFG(Xe.K0))},o.\u0275prov=f.Yz7({token:o,factory:o.\u0275fac}),o})();class ve extends ut.LC{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Ke(this._id,e,t||{},this._renderer)}}class Ke{constructor(e,t,i,a){this.id=e,this.element=t,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Ht(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Ht(o,e,t,i,a){return o.setProperty(e,`@@${t}:${i}`,a)}const Kn="@.disabled";let Ki=(()=>{class o{constructor(t,i,a){this.delegate=t,this.engine=i,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(u,m)=>{const x=m?.parentNode(u);x&&m.removeChild(x,u)}}createRenderer(t,i){const u=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let ue=this._rendererCache.get(u);return ue||(ue=new Oi("",u,this.engine,()=>this._rendererCache.delete(u)),this._rendererCache.set(u,ue)),ue}const m=i.id,x=i.id+"-"+this._currentId;this._currentId++,this.engine.register(x,t);const M=ue=>{Array.isArray(ue)?ue.forEach(M):this.engine.registerTrigger(m,x,t,ue.name,ue)};return i.data.animation.forEach(M),new Mi(this,x,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,a){t>=0&&t<this._microtaskId?this._zone.run(()=>i(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[m,x]=u;m(x)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return o.\u0275fac=function(t){return new(t||o)(f.LFG(f.FYo),f.LFG(Ya),f.LFG(f.R0b))},o.\u0275prov=f.Yz7({token:o,factory:o.\u0275fac}),o})();class Oi{constructor(e,t,i,a){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=a,this.destroyNode=this.delegate.destroyNode?u=>t.destroyNode(u):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,a=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,a)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,a){this.delegate.setAttribute(e,t,i,a)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,a){this.delegate.setStyle(e,t,i,a)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==Kn?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Mi extends Oi{constructor(e,t,i,a,u){super(t,i,a,u),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Kn?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const a=function yi(o){switch(o){case"body":return document.body;case"document":return document;case"window":return window;default:return o}}(e);let u=t.slice(1),m="";return"@"!=u.charAt(0)&&([u,m]=function tr(o){const e=o.indexOf(".");return[o.substring(0,e),o.slice(e+1)]}(u)),this.engine.listen(this.namespaceId,a,u,m,x=>{this.factory.scheduleListenerCallback(x._data||-1,i,x)})}return this.delegate.listen(e,t,i)}}const Xr=[{provide:ut._j,useClass:V},{provide:q,useFactory:function Lr(){return new Dn}},{provide:Ya,useClass:(()=>{class o extends Ya{constructor(t,i,a,u){super(t.body,i,a)}ngOnDestroy(){this.flush()}}return o.\u0275fac=function(t){return new(t||o)(f.LFG(Xe.K0),f.LFG($o),f.LFG(q),f.LFG(f.z2F))},o.\u0275prov=f.Yz7({token:o,factory:o.\u0275fac}),o})()},{provide:f.FYo,useFactory:function ps(o,e,t){return new Ki(o,e,t)},deps:[l.se,Ya,f.R0b]}],Ko=[{provide:$o,useFactory:()=>new ce},{provide:f.QbO,useValue:"BrowserAnimations"},...Xr],zo=[{provide:$o,useClass:Fo},{provide:f.QbO,useValue:"NoopAnimations"},...Xr];let ms=(()=>{class o{static withConfig(t){return{ngModule:o,providers:t.disableAnimations?zo:Ko}}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=f.oAB({type:o}),o.\u0275inj=f.cJS({providers:Ko,imports:[l.b2]}),o})();var Dc=_(7705),Pg=_(8255),Sc=_(9101),Kh=_(3267),bp=_(9022),Rs=_(266),Ep=_(1572),pr=(_(6297),_(9618)),Yo=_(3593),_o=_(7579),Sa=_(9646),_l=_(9751),vl=_(8996),Md=_(6451),yl=_(5363),Xs=_(3900),qo=_(4004),Mc=_(6063);class _s extends _o.x{constructor(e=1/0,t=1/0,i=Mc.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:a,_timestampProvider:u,_windowTime:m}=this;t||(i.push(e),!a&&i.push(u.now()+m)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:a}=this,u=a.slice();for(let m=0;m<u.length&&!e.closed;m+=i?1:2)e.next(u[m]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:a}=this,u=(a?1:2)*e;if(e<1/0&&u<i.length&&i.splice(0,i.length-u),!a){const m=t.now();let x=0;for(let M=1;M<i.length&&i[M]<=m;M+=2)x=M;x&&i.splice(0,x+1)}}}var Mu=_(3099);function Ho(o,e,t){let i,a=!1;return o&&"object"==typeof o?({bufferSize:i=1/0,windowTime:e=1/0,refCount:a=!1,scheduler:t}=o):i=o??1/0,(0,Mu.B)({connector:()=>new _s(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}var Pd=_(590),Js=_(576);function Pc(o,e){return(0,Js.m)(e)?(0,Xs.w)(()=>o,e):(0,Xs.w)(()=>o)}var Rc=_(9468),Jr=_(9300),Oc=_(9260);const Xa=new f.OlP("angularfire2.auth.use-emulator"),bl=new f.OlP("angularfire2.auth.settings"),rr=new f.OlP("angularfire2.auth.tenant-id"),Ma=new f.OlP("angularfire2.auth.langugage-code"),Ja=new f.OlP("angularfire2.auth.use-device-language"),kc=new f.OlP("angularfire.auth.persistence"),ga=(o,e,t,i,a,u,m,x)=>(0,Yo.cc)(`${o.name}.auth`,"AngularFireAuth",o.name,()=>{const M=e.runOutsideAngular(()=>o.auth());if(t&&M.useEmulator(...t),i&&(M.tenantId=i),M.languageCode=a,u&&M.useDeviceLanguage(),m)for(const[$,ue]of Object.entries(m))M.settings[$]=ue;return x&&M.setPersistence(x),M},[t,i,a,u,m,x]);let Od=(()=>{class o{authState;idToken;user;idTokenResult;credential;constructor(t,i,a,u,m,x,M,$,ue,Ie,Je,yt){const Ft=new _o.x,Kt=(0,Sa.of)(void 0).pipe((0,yl.Q)(m.outsideAngular),(0,Xs.w)(()=>u.runOutsideAngular(()=>Promise.resolve().then(_.bind(_,6297)))),(0,qo.U)(()=>(0,Yo.on)(t,u,i)),(0,qo.U)(qt=>ga(qt,u,x,$,ue,Ie,M,Je)),Ho({bufferSize:1,refCount:!1}));if((0,Xe.PM)(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Sa.of)(null);else{Kt.pipe((0,Pd.P)()).subscribe();const qt=Kt.pipe((0,Xs.w)(vn=>vn.getRedirectResult().then(Un=>Un,()=>null)),pr.iC,Ho({bufferSize:1,refCount:!1})),Cn=Kt.pipe((0,Xs.w)(vn=>new _l.y(Un=>({unsubscribe:u.runOutsideAngular(()=>vn.onAuthStateChanged(gi=>Un.next(gi),gi=>Un.error(gi),()=>Un.complete()))})))),Fn=Kt.pipe((0,Xs.w)(vn=>new _l.y(Un=>({unsubscribe:u.runOutsideAngular(()=>vn.onIdTokenChanged(gi=>Un.next(gi),gi=>Un.error(gi),()=>Un.complete()))}))));this.authState=qt.pipe(Pc(Cn),(0,Rc.R)(m.outsideAngular),(0,yl.Q)(m.insideAngular)),this.user=qt.pipe(Pc(Fn),(0,Rc.R)(m.outsideAngular),(0,yl.Q)(m.insideAngular)),this.idToken=this.user.pipe((0,Xs.w)(vn=>vn?(0,vl.D)(vn.getIdToken()):(0,Sa.of)(null))),this.idTokenResult=this.user.pipe((0,Xs.w)(vn=>vn?(0,vl.D)(vn.getIdTokenResult()):(0,Sa.of)(null))),this.credential=(0,Md.T)(qt,Ft,this.authState.pipe((0,Jr.h)(vn=>!vn))).pipe((0,qo.U)(vn=>vn?.user?vn:null),(0,Rc.R)(m.outsideAngular),(0,yl.Q)(m.insideAngular))}return(0,Yo.pX)(this,Kt,u,{spy:{apply:(qt,Cn,Fn)=>{(qt.startsWith("signIn")||qt.startsWith("createUser"))&&Fn.then(vn=>Ft.next(vn))}}})}static \u0275fac=function(i){return new(i||o)(f.LFG(Yo.Dh),f.LFG(Yo.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(pr.HU),f.LFG(Xa,8),f.LFG(bl,8),f.LFG(rr,8),f.LFG(Ma,8),f.LFG(Ja,8),f.LFG(kc,8),f.LFG(pr.Rf,8))};static \u0275prov=f.Yz7({token:o,factory:o.\u0275fac,providedIn:"any"})}return o})(),kd=(()=>{class o{constructor(){Oc.Z.registerVersion("angularfire",pr.q4.full,"auth-compat")}static \u0275fac=function(i){return new(i||o)};static \u0275mod=f.oAB({type:o});static \u0275inj=f.cJS({providers:[Od]})}return o})();var or=_(4081),Rg=_(4986),Fc=_(8675),xp=_(4482),Pa=_(5403);function Nc(){return(0,xp.e)((o,e)=>{let t,i=!1;o.subscribe((0,Pa.x)(e,a=>{const u=t;t=a,i&&e.next([u,a]),i=!0}))})}var uo,is,Pu=_(5026),Fd=_(1884),El=_(3942),Ql=_(6881),Yh=_(4859),ji=_(1877),Pi=_(2090),xl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Nd={};(function(){var o;function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function a(Ct,it,gt){gt||(gt=0);var St=Array(16);if("string"==typeof it)for(var kt=0;16>kt;++kt)St[kt]=it.charCodeAt(gt++)|it.charCodeAt(gt++)<<8|it.charCodeAt(gt++)<<16|it.charCodeAt(gt++)<<24;else for(kt=0;16>kt;++kt)St[kt]=it[gt++]|it[gt++]<<8|it[gt++]<<16|it[gt++]<<24;var zt=Ct.g[3],ft=(it=Ct.g[0])+(zt^(gt=Ct.g[1])&((kt=Ct.g[2])^zt))+St[0]+3614090360&4294967295;ft=(gt=(kt=(zt=(it=(gt=(kt=(zt=(it=(gt=(kt=(zt=(it=(gt=(kt=(zt=(it=(gt=(kt=(zt=(it=(gt=(kt=(zt=(it=(gt=(kt=(zt=(it=(gt=(kt=(zt=(it=(gt=(kt=(zt=(it=(gt=(kt=(zt=(it=(gt=(kt=(zt=(it=(gt=(kt=(zt=(it=(gt=(kt=(zt=(it=(gt=(kt=(zt=(it=(gt=(kt=(zt=(it=gt+(ft<<7&4294967295|ft>>>25))+((ft=zt+(kt^it&(gt^kt))+St[1]+3905402710&4294967295)<<12&4294967295|ft>>>20))+((ft=kt+(gt^zt&(it^gt))+St[2]+606105819&4294967295)<<17&4294967295|ft>>>15))+((ft=gt+(it^kt&(zt^it))+St[3]+3250441966&4294967295)<<22&4294967295|ft>>>10))+((ft=it+(zt^gt&(kt^zt))+St[4]+4118548399&4294967295)<<7&4294967295|ft>>>25))+((ft=zt+(kt^it&(gt^kt))+St[5]+1200080426&4294967295)<<12&4294967295|ft>>>20))+((ft=kt+(gt^zt&(it^gt))+St[6]+2821735955&4294967295)<<17&4294967295|ft>>>15))+((ft=gt+(it^kt&(zt^it))+St[7]+4249261313&4294967295)<<22&4294967295|ft>>>10))+((ft=it+(zt^gt&(kt^zt))+St[8]+1770035416&4294967295)<<7&4294967295|ft>>>25))+((ft=zt+(kt^it&(gt^kt))+St[9]+2336552879&4294967295)<<12&4294967295|ft>>>20))+((ft=kt+(gt^zt&(it^gt))+St[10]+4294925233&4294967295)<<17&4294967295|ft>>>15))+((ft=gt+(it^kt&(zt^it))+St[11]+2304563134&4294967295)<<22&4294967295|ft>>>10))+((ft=it+(zt^gt&(kt^zt))+St[12]+1804603682&4294967295)<<7&4294967295|ft>>>25))+((ft=zt+(kt^it&(gt^kt))+St[13]+4254626195&4294967295)<<12&4294967295|ft>>>20))+((ft=kt+(gt^zt&(it^gt))+St[14]+2792965006&4294967295)<<17&4294967295|ft>>>15))+((ft=gt+(it^kt&(zt^it))+St[15]+1236535329&4294967295)<<22&4294967295|ft>>>10))+((ft=it+(kt^zt&(gt^kt))+St[1]+4129170786&4294967295)<<5&4294967295|ft>>>27))+((ft=zt+(gt^kt&(it^gt))+St[6]+3225465664&4294967295)<<9&4294967295|ft>>>23))+((ft=kt+(it^gt&(zt^it))+St[11]+643717713&4294967295)<<14&4294967295|ft>>>18))+((ft=gt+(zt^it&(kt^zt))+St[0]+3921069994&4294967295)<<20&4294967295|ft>>>12))+((ft=it+(kt^zt&(gt^kt))+St[5]+3593408605&4294967295)<<5&4294967295|ft>>>27))+((ft=zt+(gt^kt&(it^gt))+St[10]+38016083&4294967295)<<9&4294967295|ft>>>23))+((ft=kt+(it^gt&(zt^it))+St[15]+3634488961&4294967295)<<14&4294967295|ft>>>18))+((ft=gt+(zt^it&(kt^zt))+St[4]+3889429448&4294967295)<<20&4294967295|ft>>>12))+((ft=it+(kt^zt&(gt^kt))+St[9]+568446438&4294967295)<<5&4294967295|ft>>>27))+((ft=zt+(gt^kt&(it^gt))+St[14]+3275163606&4294967295)<<9&4294967295|ft>>>23))+((ft=kt+(it^gt&(zt^it))+St[3]+4107603335&4294967295)<<14&4294967295|ft>>>18))+((ft=gt+(zt^it&(kt^zt))+St[8]+1163531501&4294967295)<<20&4294967295|ft>>>12))+((ft=it+(kt^zt&(gt^kt))+St[13]+2850285829&4294967295)<<5&4294967295|ft>>>27))+((ft=zt+(gt^kt&(it^gt))+St[2]+4243563512&4294967295)<<9&4294967295|ft>>>23))+((ft=kt+(it^gt&(zt^it))+St[7]+1735328473&4294967295)<<14&4294967295|ft>>>18))+((ft=gt+(zt^it&(kt^zt))+St[12]+2368359562&4294967295)<<20&4294967295|ft>>>12))+((ft=it+(gt^kt^zt)+St[5]+4294588738&4294967295)<<4&4294967295|ft>>>28))+((ft=zt+(it^gt^kt)+St[8]+2272392833&4294967295)<<11&4294967295|ft>>>21))+((ft=kt+(zt^it^gt)+St[11]+1839030562&4294967295)<<16&4294967295|ft>>>16))+((ft=gt+(kt^zt^it)+St[14]+4259657740&4294967295)<<23&4294967295|ft>>>9))+((ft=it+(gt^kt^zt)+St[1]+2763975236&4294967295)<<4&4294967295|ft>>>28))+((ft=zt+(it^gt^kt)+St[4]+1272893353&4294967295)<<11&4294967295|ft>>>21))+((ft=kt+(zt^it^gt)+St[7]+4139469664&4294967295)<<16&4294967295|ft>>>16))+((ft=gt+(kt^zt^it)+St[10]+3200236656&4294967295)<<23&4294967295|ft>>>9))+((ft=it+(gt^kt^zt)+St[13]+681279174&4294967295)<<4&4294967295|ft>>>28))+((ft=zt+(it^gt^kt)+St[0]+3936430074&4294967295)<<11&4294967295|ft>>>21))+((ft=kt+(zt^it^gt)+St[3]+3572445317&4294967295)<<16&4294967295|ft>>>16))+((ft=gt+(kt^zt^it)+St[6]+76029189&4294967295)<<23&4294967295|ft>>>9))+((ft=it+(gt^kt^zt)+St[9]+3654602809&4294967295)<<4&4294967295|ft>>>28))+((ft=zt+(it^gt^kt)+St[12]+3873151461&4294967295)<<11&4294967295|ft>>>21))+((ft=kt+(zt^it^gt)+St[15]+530742520&4294967295)<<16&4294967295|ft>>>16))+((ft=gt+(kt^zt^it)+St[2]+3299628645&4294967295)<<23&4294967295|ft>>>9))+((ft=it+(kt^(gt|~zt))+St[0]+4096336452&4294967295)<<6&4294967295|ft>>>26))+((ft=zt+(gt^(it|~kt))+St[7]+1126891415&4294967295)<<10&4294967295|ft>>>22))+((ft=kt+(it^(zt|~gt))+St[14]+2878612391&4294967295)<<15&4294967295|ft>>>17))+((ft=gt+(zt^(kt|~it))+St[5]+4237533241&4294967295)<<21&4294967295|ft>>>11))+((ft=it+(kt^(gt|~zt))+St[12]+1700485571&4294967295)<<6&4294967295|ft>>>26))+((ft=zt+(gt^(it|~kt))+St[3]+2399980690&4294967295)<<10&4294967295|ft>>>22))+((ft=kt+(it^(zt|~gt))+St[10]+4293915773&4294967295)<<15&4294967295|ft>>>17))+((ft=gt+(zt^(kt|~it))+St[1]+2240044497&4294967295)<<21&4294967295|ft>>>11))+((ft=it+(kt^(gt|~zt))+St[8]+1873313359&4294967295)<<6&4294967295|ft>>>26))+((ft=zt+(gt^(it|~kt))+St[15]+4264355552&4294967295)<<10&4294967295|ft>>>22))+((ft=kt+(it^(zt|~gt))+St[6]+2734768916&4294967295)<<15&4294967295|ft>>>17))+((ft=gt+(zt^(kt|~it))+St[13]+1309151649&4294967295)<<21&4294967295|ft>>>11))+((zt=(it=gt+((ft=it+(kt^(gt|~zt))+St[4]+4149444226&4294967295)<<6&4294967295|ft>>>26))+((ft=zt+(gt^(it|~kt))+St[11]+3174756917&4294967295)<<10&4294967295|ft>>>22))^((kt=zt+((ft=kt+(it^(zt|~gt))+St[2]+718787259&4294967295)<<15&4294967295|ft>>>17))|~it))+St[9]+3951481745&4294967295,Ct.g[0]=Ct.g[0]+it&4294967295,Ct.g[1]=Ct.g[1]+(kt+(ft<<21&4294967295|ft>>>11))&4294967295,Ct.g[2]=Ct.g[2]+kt&4294967295,Ct.g[3]=Ct.g[3]+zt&4294967295}function m(Ct,it){this.h=it;for(var gt=[],St=!0,kt=Ct.length-1;0<=kt;kt--){var zt=0|Ct[kt];St&&zt==it||(gt[kt]=zt,St=!1)}this.g=gt}(function e(Ct,it){function gt(){}gt.prototype=it.prototype,Ct.D=it.prototype,Ct.prototype=new gt,Ct.prototype.constructor=Ct,Ct.C=function(St,kt,zt){for(var ft=Array(arguments.length-2),fl=2;fl<arguments.length;fl++)ft[fl-2]=arguments[fl];return it.prototype[kt].apply(St,ft)}})(i,function t(){this.blockSize=-1}),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},i.prototype.u=function(Ct,it){void 0===it&&(it=Ct.length);for(var gt=it-this.blockSize,St=this.B,kt=this.h,zt=0;zt<it;){if(0==kt)for(;zt<=gt;)a(this,Ct,zt),zt+=this.blockSize;if("string"==typeof Ct){for(;zt<it;)if(St[kt++]=Ct.charCodeAt(zt++),kt==this.blockSize){a(this,St),kt=0;break}}else for(;zt<it;)if(St[kt++]=Ct[zt++],kt==this.blockSize){a(this,St),kt=0;break}}this.h=kt,this.o+=it},i.prototype.v=function(){var Ct=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Ct[0]=128;for(var it=1;it<Ct.length-8;++it)Ct[it]=0;var gt=8*this.o;for(it=Ct.length-8;it<Ct.length;++it)Ct[it]=255&gt,gt/=256;for(this.u(Ct),Ct=Array(16),it=gt=0;4>it;++it)for(var St=0;32>St;St+=8)Ct[gt++]=this.g[it]>>>St&255;return Ct};var x={};function M(Ct){return-128<=Ct&&128>Ct?function u(Ct,it){var gt=x;return Object.prototype.hasOwnProperty.call(gt,Ct)?gt[Ct]:gt[Ct]=it(Ct)}(Ct,function(it){return new m([0|it],0>it?-1:0)}):new m([0|Ct],0>Ct?-1:0)}function $(Ct){if(isNaN(Ct)||!isFinite(Ct))return Ie;if(0>Ct)return qt($(-Ct));for(var it=[],gt=1,St=0;Ct>=gt;St++)it[St]=Ct/gt|0,gt*=4294967296;return new m(it,0)}var Ie=M(0),Je=M(1),yt=M(16777216);function Ft(Ct){if(0!=Ct.h)return!1;for(var it=0;it<Ct.g.length;it++)if(0!=Ct.g[it])return!1;return!0}function Kt(Ct){return-1==Ct.h}function qt(Ct){for(var it=Ct.g.length,gt=[],St=0;St<it;St++)gt[St]=~Ct.g[St];return new m(gt,~Ct.h).add(Je)}function Cn(Ct,it){return Ct.add(qt(it))}function Fn(Ct,it){for(;(65535&Ct[it])!=Ct[it];)Ct[it+1]+=Ct[it]>>>16,Ct[it]&=65535,it++}function vn(Ct,it){this.g=Ct,this.h=it}function Un(Ct,it){if(Ft(it))throw Error("division by zero");if(Ft(Ct))return new vn(Ie,Ie);if(Kt(Ct))return it=Un(qt(Ct),it),new vn(qt(it.g),qt(it.h));if(Kt(it))return it=Un(Ct,qt(it)),new vn(qt(it.g),it.h);if(30<Ct.g.length){if(Kt(Ct)||Kt(it))throw Error("slowDivide_ only works with positive integers.");for(var gt=Je,St=it;0>=St.l(Ct);)gt=gi(gt),St=gi(St);var kt=ci(gt,1),zt=ci(St,1);for(St=ci(St,2),gt=ci(gt,2);!Ft(St);){var ft=zt.add(St);0>=ft.l(Ct)&&(kt=kt.add(gt),zt=ft),St=ci(St,1),gt=ci(gt,1)}return it=Cn(Ct,kt.j(it)),new vn(kt,it)}for(kt=Ie;0<=Ct.l(it);){for(gt=Math.max(1,Math.floor(Ct.m()/it.m())),St=48>=(St=Math.ceil(Math.log(gt)/Math.LN2))?1:Math.pow(2,St-48),ft=(zt=$(gt)).j(it);Kt(ft)||0<ft.l(Ct);)ft=(zt=$(gt-=St)).j(it);Ft(zt)&&(zt=Je),kt=kt.add(zt),Ct=Cn(Ct,ft)}return new vn(kt,Ct)}function gi(Ct){for(var it=Ct.g.length+1,gt=[],St=0;St<it;St++)gt[St]=Ct.i(St)<<1|Ct.i(St-1)>>>31;return new m(gt,Ct.h)}function ci(Ct,it){var gt=it>>5;it%=32;for(var St=Ct.g.length-gt,kt=[],zt=0;zt<St;zt++)kt[zt]=0<it?Ct.i(zt+gt)>>>it|Ct.i(zt+gt+1)<<32-it:Ct.i(zt+gt);return new m(kt,Ct.h)}(o=m.prototype).m=function(){if(Kt(this))return-qt(this).m();for(var Ct=0,it=1,gt=0;gt<this.g.length;gt++){var St=this.i(gt);Ct+=(0<=St?St:4294967296+St)*it,it*=4294967296}return Ct},o.toString=function(Ct){if(2>(Ct=Ct||10)||36<Ct)throw Error("radix out of range: "+Ct);if(Ft(this))return"0";if(Kt(this))return"-"+qt(this).toString(Ct);for(var it=$(Math.pow(Ct,6)),gt=this,St="";;){var kt=Un(gt,it).g,zt=((0<(gt=Cn(gt,kt.j(it))).g.length?gt.g[0]:gt.h)>>>0).toString(Ct);if(Ft(gt=kt))return zt+St;for(;6>zt.length;)zt="0"+zt;St=zt+St}},o.i=function(Ct){return 0>Ct?0:Ct<this.g.length?this.g[Ct]:this.h},o.l=function(Ct){return Kt(Ct=Cn(this,Ct))?-1:Ft(Ct)?0:1},o.abs=function(){return Kt(this)?qt(this):this},o.add=function(Ct){for(var it=Math.max(this.g.length,Ct.g.length),gt=[],St=0,kt=0;kt<=it;kt++){var zt=St+(65535&this.i(kt))+(65535&Ct.i(kt)),ft=(zt>>>16)+(this.i(kt)>>>16)+(Ct.i(kt)>>>16);St=ft>>>16,gt[kt]=(ft&=65535)<<16|(zt&=65535)}return new m(gt,-2147483648&gt[gt.length-1]?-1:0)},o.j=function(Ct){if(Ft(this)||Ft(Ct))return Ie;if(Kt(this))return Kt(Ct)?qt(this).j(qt(Ct)):qt(qt(this).j(Ct));if(Kt(Ct))return qt(this.j(qt(Ct)));if(0>this.l(yt)&&0>Ct.l(yt))return $(this.m()*Ct.m());for(var it=this.g.length+Ct.g.length,gt=[],St=0;St<2*it;St++)gt[St]=0;for(St=0;St<this.g.length;St++)for(var kt=0;kt<Ct.g.length;kt++){var zt=this.i(St)>>>16,ft=65535&this.i(St),fl=Ct.i(kt)>>>16,Eu=65535&Ct.i(kt);gt[2*St+2*kt]+=ft*Eu,Fn(gt,2*St+2*kt),gt[2*St+2*kt+1]+=zt*Eu,Fn(gt,2*St+2*kt+1),gt[2*St+2*kt+1]+=ft*fl,Fn(gt,2*St+2*kt+1),gt[2*St+2*kt+2]+=zt*fl,Fn(gt,2*St+2*kt+2)}for(St=0;St<it;St++)gt[St]=gt[2*St+1]<<16|gt[2*St];for(St=it;St<2*it;St++)gt[St]=0;return new m(gt,0)},o.A=function(Ct){return Un(this,Ct).h},o.and=function(Ct){for(var it=Math.max(this.g.length,Ct.g.length),gt=[],St=0;St<it;St++)gt[St]=this.i(St)&Ct.i(St);return new m(gt,this.h&Ct.h)},o.or=function(Ct){for(var it=Math.max(this.g.length,Ct.g.length),gt=[],St=0;St<it;St++)gt[St]=this.i(St)|Ct.i(St);return new m(gt,this.h|Ct.h)},o.xor=function(Ct){for(var it=Math.max(this.g.length,Ct.g.length),gt=[],St=0;St<it;St++)gt[St]=this.i(St)^Ct.i(St);return new m(gt,this.h^Ct.h)},i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,is=Nd.Md5=i,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=$,m.fromString=function ue(Ct,it){if(0==Ct.length)throw Error("number format error: empty string");if(2>(it=it||10)||36<it)throw Error("radix out of range: "+it);if("-"==Ct.charAt(0))return qt(ue(Ct.substring(1),it));if(0<=Ct.indexOf("-"))throw Error('number format error: interior "-" character');for(var gt=$(Math.pow(it,8)),St=Ie,kt=0;kt<Ct.length;kt+=8){var zt=Math.min(8,Ct.length-kt),ft=parseInt(Ct.substring(kt,kt+zt),it);8>zt?(zt=$(Math.pow(it,zt)),St=St.j(zt).add($(ft))):St=(St=St.j(gt)).add($(ft))}return St},uo=Nd.Integer=m}).apply(typeof xl<"u"?xl:typeof self<"u"?self:typeof window<"u"?window:{});var P,C,B,J,Ce,Re,Dt,ln,Vn,Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},D={};(function(){var o,e="function"==typeof Object.defineProperties?Object.defineProperty:function(v,G,ae){return v==Array.prototype||v==Object.prototype||(v[G]=ae.value),v},i=function t(v){v=["object"==typeof globalThis&&globalThis,v,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Lc&&Lc];for(var G=0;G<v.length;++G){var ae=v[G];if(ae&&ae.Math==Math)return ae}throw Error("Cannot find global object")}(this);!function a(v,G){if(G)e:{var ae=i;v=v.split(".");for(var Be=0;Be<v.length-1;Be++){var Bt=v[Be];if(!(Bt in ae))break e;ae=ae[Bt]}(G=G(Be=ae[v=v[v.length-1]]))!=Be&&null!=G&&e(ae,v,{configurable:!0,writable:!0,value:G})}}("Array.prototype.values",function(v){return v||function(){return function u(v,G){v instanceof String&&(v+="");var ae=0,Be=!1,Bt={next:function(){if(!Be&&ae<v.length){var tn=ae++;return{value:G(tn,v[tn]),done:!1}}return Be=!0,{done:!0,value:void 0}}};return Bt[Symbol.iterator]=function(){return Bt},Bt}(this,function(G,ae){return ae})}});var m=m||{},x=this||self;function M(v){var G=typeof v;return"array"==(G="object"!=G?G:v?Array.isArray(v)?"array":G:"null")||"object"==G&&"number"==typeof v.length}function $(v){var G=typeof v;return"object"==G&&null!=v||"function"==G}function ue(v,G,ae){return v.call.apply(v.bind,arguments)}function Ie(v,G,ae){if(!v)throw Error();if(2<arguments.length){var Be=Array.prototype.slice.call(arguments,2);return function(){var Bt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Bt,Be),v.apply(G,Bt)}}return function(){return v.apply(G,arguments)}}function Je(v,G,ae){return(Je=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ue:Ie).apply(null,arguments)}function yt(v,G){var ae=Array.prototype.slice.call(arguments,1);return function(){var Be=ae.slice();return Be.push.apply(Be,arguments),v.apply(this,Be)}}function Ft(v,G){function ae(){}ae.prototype=G.prototype,v.aa=G.prototype,v.prototype=new ae,v.prototype.constructor=v,v.Qb=function(Be,Bt,tn){for(var Nn=Array(arguments.length-2),zr=2;zr<arguments.length;zr++)Nn[zr-2]=arguments[zr];return G.prototype[Bt].apply(Be,Nn)}}function Kt(v){const G=v.length;if(0<G){const ae=Array(G);for(let Be=0;Be<G;Be++)ae[Be]=v[Be];return ae}return[]}function qt(v,G){for(let ae=1;ae<arguments.length;ae++){const Be=arguments[ae];if(M(Be)){const Bt=v.length||0,tn=Be.length||0;v.length=Bt+tn;for(let Nn=0;Nn<tn;Nn++)v[Bt+Nn]=Be[Nn]}else v.push(Be)}}function Fn(v){return/^[\s\xa0]*$/.test(v)}function vn(){var v=x.navigator;return v&&(v=v.userAgent)?v:""}function Un(v){return Un[" "](v),v}Un[" "]=function(){};var gi=!(-1==vn().indexOf("Gecko")||-1!=vn().toLowerCase().indexOf("webkit")&&-1==vn().indexOf("Edge")||-1!=vn().indexOf("Trident")||-1!=vn().indexOf("MSIE")||-1!=vn().indexOf("Edge"));function ci(v,G,ae){for(const Be in v)G.call(ae,v[Be],Be,v)}function it(v){const G={};for(const ae in v)G[ae]=v[ae];return G}const gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function St(v,G){let ae,Be;for(let Bt=1;Bt<arguments.length;Bt++){for(ae in Be=arguments[Bt],Be)v[ae]=Be[ae];for(let tn=0;tn<gt.length;tn++)ae=gt[tn],Object.prototype.hasOwnProperty.call(Be,ae)&&(v[ae]=Be[ae])}}function kt(v){var G=1;v=v.split(":");const ae=[];for(;0<G&&v.length;)ae.push(v.shift()),G--;return v.length&&ae.push(v.join(":")),ae}function zt(v){x.setTimeout(()=>{throw v},0)}function ft(){var v=Ci;let G=null;return v.g&&(G=v.g,v.g=v.g.next,v.g||(v.h=null),G.next=null),G}var Eu=new class Cn{constructor(G,ae){this.i=G,this.j=ae,this.h=0,this.g=null}get(){let G;return 0<this.h?(this.h--,G=this.g,this.g=G.next,G.next=null):G=this.i(),G}}(()=>new Xn,v=>v.reset());class Xn{constructor(){this.next=this.g=this.h=null}set(G,ae){this.h=G,this.g=ae,this.next=null}reset(){this.next=this.g=this.h=null}}let ii,hi=!1,Ci=new class fl{constructor(){this.h=this.g=null}add(G,ae){const Be=Eu.get();Be.set(G,ae),this.h?this.h.next=Be:this.g=Be,this.h=Be}},wo=()=>{const v=x.Promise.resolve(void 0);ii=()=>{v.then(sa)}};var sa=()=>{for(var v;v=ft();){try{v.h.call(v.g)}catch(ae){zt(ae)}var G=Eu;G.j(v),100>G.h&&(G.h++,v.next=G.g,G.g=v)}hi=!1};function fo(){this.s=this.s,this.C=this.C}function $r(v,G){this.type=v,this.g=this.target=G,this.defaultPrevented=!1}fo.prototype.s=!1,fo.prototype.ma=function(){this.s||(this.s=!0,this.N())},fo.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},$r.prototype.h=function(){this.defaultPrevented=!0};var Bi=function(){if(!x.addEventListener||!Object.defineProperty)return!1;var v=!1,G=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const ae=()=>{};x.addEventListener("test",ae,G),x.removeEventListener("test",ae,G)}catch{}return v}();function xu(v,G){if($r.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var ae=this.type=v.type,Be=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=G,G=v.relatedTarget){if(gi){e:{try{Un(G.nodeName);var Bt=!0;break e}catch{}Bt=!1}Bt||(G=null)}}else"mouseover"==ae?G=v.fromElement:"mouseout"==ae&&(G=v.toElement);this.relatedTarget=G,Be?(this.clientX=void 0!==Be.clientX?Be.clientX:Be.pageX,this.clientY=void 0!==Be.clientY?Be.clientY:Be.pageY,this.screenX=Be.screenX||0,this.screenY=Be.screenY||0):(this.clientX=void 0!==v.clientX?v.clientX:v.pageX,this.clientY=void 0!==v.clientY?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType="string"==typeof v.pointerType?v.pointerType:hp[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&xu.aa.h.call(this)}}Ft(xu,$r);var hp={2:"touch",3:"pen",4:"mouse"};xu.prototype.h=function(){xu.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var po="closure_listenable_"+(1e6*Math.random()|0),xc=0;function Es(v,G,ae,Be,Bt){this.listener=v,this.proxy=null,this.src=G,this.type=ae,this.capture=!!Be,this.ha=Bt,this.key=++xc,this.da=this.fa=!1}function Gl(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function Cc(v){this.src=v,this.g={},this.h=0}function ev(v,G){var ae=G.type;if(ae in v.g){var tn,Be=v.g[ae],Bt=Array.prototype.indexOf.call(Be,G,void 0);(tn=0<=Bt)&&Array.prototype.splice.call(Be,Bt,1),tn&&(Gl(G),0==v.g[ae].length&&(delete v.g[ae],v.h--))}}function cg(v,G,ae,Be){for(var Bt=0;Bt<v.length;++Bt){var tn=v[Bt];if(!tn.da&&tn.listener==G&&tn.capture==!!ae&&tn.ha==Be)return Bt}return-1}Cc.prototype.add=function(v,G,ae,Be,Bt){var tn=v.toString();(v=this.g[tn])||(v=this.g[tn]=[],this.h++);var Nn=cg(v,G,Be,Bt);return-1<Nn?(G=v[Nn],ae||(G.fa=!1)):((G=new Es(G,this.src,tn,!!Be,Bt)).fa=ae,v.push(G)),G};var ug="closure_lm_"+(1e6*Math.random()|0),tv={};function nv(v,G,ae,Be,Bt){if(Be&&Be.once)return Wl(v,G,ae,Be,Bt);if(Array.isArray(G)){for(var tn=0;tn<G.length;tn++)nv(v,G[tn],ae,Be,Bt);return null}return ae=ov(ae),v&&v[po]?v.K(G,ae,$(Be)?!!Be.capture:!!Be,Bt):mE(v,G,ae,!1,Be,Bt)}function mE(v,G,ae,Be,Bt,tn){if(!G)throw Error("Invalid event type");var Nn=$(Bt)?!!Bt.capture:!!Bt,zr=rv(v);if(zr||(v[ug]=zr=new Cc(v)),(ae=zr.add(G,ae,Be,Nn,tn)).proxy)return ae;if(Be=function iv(){const G=gE;return function v(ae){return G.call(v.src,v.listener,ae)}}(),ae.proxy=Be,Be.src=v,Be.listener=ae,v.addEventListener)Bi||(Bt=Nn),void 0===Bt&&(Bt=!1),v.addEventListener(G.toString(),Be,Bt);else if(v.attachEvent)v.attachEvent(hg(G.toString()),Be);else{if(!v.addListener||!v.removeListener)throw Error("addEventListener and attachEvent are unavailable.");v.addListener(Be)}return ae}function Wl(v,G,ae,Be,Bt){if(Array.isArray(G)){for(var tn=0;tn<G.length;tn++)Wl(v,G[tn],ae,Be,Bt);return null}return ae=ov(ae),v&&v[po]?v.L(G,ae,$(Be)?!!Be.capture:!!Be,Bt):mE(v,G,ae,!0,Be,Bt)}function wc(v,G,ae,Be,Bt){if(Array.isArray(G))for(var tn=0;tn<G.length;tn++)wc(v,G[tn],ae,Be,Bt);else Be=$(Be)?!!Be.capture:!!Be,ae=ov(ae),v&&v[po]?(v=v.i,(G=String(G).toString())in v.g&&-1<(ae=cg(tn=v.g[G],ae,Be,Bt))&&(Gl(tn[ae]),Array.prototype.splice.call(tn,ae,1),0==tn.length&&(delete v.g[G],v.h--))):v&&(v=rv(v))&&(G=v.g[G.toString()],v=-1,G&&(v=cg(G,ae,Be,Bt)),(ae=-1<v?G[v]:null)&&dg(ae))}function dg(v){if("number"!=typeof v&&v&&!v.da){var G=v.src;if(G&&G[po])ev(G.i,v);else{var ae=v.type,Be=v.proxy;G.removeEventListener?G.removeEventListener(ae,Be,v.capture):G.detachEvent?G.detachEvent(hg(ae),Be):G.addListener&&G.removeListener&&G.removeListener(Be),(ae=rv(G))?(ev(ae,v),0==ae.h&&(ae.src=null,G[ug]=null)):Gl(v)}}}function hg(v){return v in tv?tv[v]:tv[v]="on"+v}function gE(v,G){if(v.da)v=!0;else{G=new xu(G,this);var ae=v.listener,Be=v.ha||v.src;v.fa&&dg(v),v=ae.call(Be,G)}return v}function rv(v){return(v=v[ug])instanceof Cc?v:null}var _E="__closure_events_fn_"+(1e9*Math.random()>>>0);function ov(v){return"function"==typeof v?v:(v[_E]||(v[_E]=function(G){return v.handleEvent(G)}),v[_E])}function xs(){fo.call(this),this.i=new Cc(this),this.M=this,this.F=null}function Bs(v,G){var ae,Be=v.F;if(Be)for(ae=[];Be;Be=Be.F)ae.push(Be);if(v=v.M,Be=G.type||G,"string"==typeof G)G=new $r(G,v);else if(G instanceof $r)G.target=G.target||v;else{var Bt=G;St(G=new $r(Be,v),Bt)}if(Bt=!0,ae)for(var tn=ae.length-1;0<=tn;tn--){var Nn=G.g=ae[tn];Bt=fg(Nn,Be,!0,G)&&Bt}if(Bt=fg(Nn=G.g=v,Be,!0,G)&&Bt,Bt=fg(Nn,Be,!1,G)&&Bt,ae)for(tn=0;tn<ae.length;tn++)Bt=fg(Nn=G.g=ae[tn],Be,!1,G)&&Bt}function fg(v,G,ae,Be){if(!(G=v.i.g[String(G)]))return!0;G=G.concat();for(var Bt=!0,tn=0;tn<G.length;++tn){var Nn=G[tn];if(Nn&&!Nn.da&&Nn.capture==ae){var zr=Nn.listener,Us=Nn.ha||Nn.src;Nn.fa&&ev(v.i,Nn),Bt=!1!==zr.call(Us,Be)&&Bt}}return Bt&&!Be.defaultPrevented}function sv(v,G,ae){if("function"==typeof v)ae&&(v=Je(v,ae));else{if(!v||"function"!=typeof v.handleEvent)throw Error("Invalid listener argument");v=Je(v.handleEvent,v)}return 2147483647<Number(G)?-1:x.setTimeout(v,G||0)}function gC(v){v.g=sv(()=>{v.g=null,v.i&&(v.i=!1,gC(v))},v.l);const G=v.h;v.h=null,v.m.apply(null,G)}Ft(xs,fo),xs.prototype[po]=!0,xs.prototype.removeEventListener=function(v,G,ae,Be){wc(this,v,G,ae,Be)},xs.prototype.N=function(){if(xs.aa.N.call(this),this.i){var G,v=this.i;for(G in v.g){for(var ae=v.g[G],Be=0;Be<ae.length;Be++)Gl(ae[Be]);delete v.g[G],v.h--}}this.F=null},xs.prototype.K=function(v,G,ae,Be){return this.i.add(String(v),G,!1,ae,Be)},xs.prototype.L=function(v,G,ae,Be){return this.i.add(String(v),G,!0,ae,Be)};class vE extends fo{constructor(G,ae){super(),this.m=G,this.l=ae,this.h=null,this.i=!1,this.g=null}j(G){this.h=arguments,this.g?this.i=!0:gC(this)}N(){super.N(),this.g&&(x.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fp(v){fo.call(this),this.h=v,this.g={}}Ft(fp,fo);var av=[];function _C(v){ci(v.g,function(G,ae){this.g.hasOwnProperty(ae)&&dg(G)},v),v.g={}}fp.prototype.N=function(){fp.aa.N.call(this),_C(this)},fp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pp=x.JSON.stringify,yE=x.JSON.parse,bE=class{stringify(v){return x.JSON.stringify(v,void 0)}parse(v){return x.JSON.parse(v,void 0)}};function pg(){}function cv(){}pg.prototype.h=null;var Cu={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zh(){$r.call(this,"d")}function mg(){$r.call(this,"c")}Ft(Zh,$r),Ft(mg,$r);var wd={},EE=null;function uv(){return EE=EE||new xs}function vC(v){$r.call(this,wd.La,v)}function gg(v){const G=uv();Bs(G,new vC(G))}function dv(v,G){$r.call(this,wd.STAT_EVENT,v),this.stat=G}function Vs(v){const G=uv();Bs(G,new dv(G,v))}function xE(v,G){$r.call(this,wd.Ma,v),this.size=G}function mp(v,G){if("function"!=typeof v)throw Error("Fn must not be null and must be a function");return x.setTimeout(function(){v()},G)}function _g(){this.g=!0}function gp(v,G,ae,Be){v.info(function(){return"XMLHTTP TEXT ("+G+"): "+function yC(v,G){if(!v.g)return G;if(!G)return null;try{var ae=JSON.parse(G);if(ae)for(v=0;v<ae.length;v++)if(Array.isArray(ae[v])){var Be=ae[v];if(!(2>Be.length)){var Bt=Be[1];if(Array.isArray(Bt)&&!(1>Bt.length)){var tn=Bt[0];if("noop"!=tn&&"stop"!=tn&&"close"!=tn)for(var Nn=1;Nn<Bt.length;Nn++)Bt[Nn]=""}}}return pp(ae)}catch{return G}}(v,ae)+(Be?" "+Be:"")})}wd.La="serverreachability",Ft(vC,$r),wd.STAT_EVENT="statevent",Ft(dv,$r),wd.Ma="timingevent",Ft(xE,$r),_g.prototype.xa=function(){this.g=!1},_g.prototype.info=function(){};var hv,Id={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},CE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function _p(){}function aa(v,G,ae,Be){this.j=v,this.i=G,this.l=ae,this.R=Be||1,this.U=new fp(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fv}function fv(){this.i=null,this.g="",this.h=!1}Ft(_p,pg),_p.prototype.g=function(){return new XMLHttpRequest},_p.prototype.i=function(){return{}},hv=new _p;var vg={},vp={};function pv(v,G,ae){v.L=1,v.v=Ig(Ic(G)),v.m=ae,v.P=!0,yg(v,null)}function yg(v,G){v.F=Date.now(),mv(v),v.A=Ic(v.v);var ae=v.A,Be=v.R;Array.isArray(Be)||(Be=[String(Be)]),r(ae.i,"t",Be),v.C=0,ae=v.j.J,v.h=new fv,v.g=fw(v.j,ae?G:null,!v.m),0<v.O&&(v.M=new vE(Je(v.Y,v,v.g),v.O)),G=v.U,ae=v.g,Be=v.ca;var Bt="readystatechange";Array.isArray(Bt)||(Bt&&(av[0]=Bt.toString()),Bt=av);for(var tn=0;tn<Bt.length;tn++){var Nn=nv(ae,Bt[tn],Be||G.handleEvent,!1,G.h||G);if(!Nn)break;G.g[Nn.key]=Nn}G=v.H?it(v.H):{},v.m?(v.u||(v.u="POST"),G["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,G)):(v.u="GET",v.g.ea(v.A,v.u,null,G)),gg(),function YC(v,G,ae,Be,Bt,tn){v.info(function(){if(v.g)if(tn)for(var Nn="",zr=tn.split("&"),Us=0;Us<zr.length;Us++){var gr=zr[Us].split("=");if(1<gr.length){var la=gr[0];gr=gr[1];var ca=la.split("_");Nn=2<=ca.length&&"type"==ca[1]?Nn+(la+"=")+gr+"&":Nn+(la+"=redacted&")}}else Nn=null;else Nn=tn;return"XMLHTTP REQ ("+Be+") [attempt "+Bt+"]: "+G+"\n"+ae+"\n"+Nn})}(v.i,v.u,v.A,v.l,v.R,v.m)}function bg(v){return!!v.g&&"GET"==v.u&&2!=v.L&&v.j.Ca}function Eg(v,G){var ae=v.C,Be=G.indexOf("\n",ae);return-1==Be?vp:(ae=Number(G.substring(ae,Be)),isNaN(ae)?vg:(Be+=1)+ae>G.length?vp:(G=G.slice(Be,Be+ae),v.C=Be+ae,G))}function mv(v){v.S=Date.now()+v.I,bC(v,v.I)}function bC(v,G){if(null!=v.B)throw Error("WatchDog timer not null");v.B=mp(Je(v.ba,v),G)}function wE(v){v.B&&(x.clearTimeout(v.B),v.B=null)}function xg(v){0==v.j.G||v.J||cw(v.j,v)}function wu(v){wE(v);var G=v.M;G&&"function"==typeof G.ma&&G.ma(),v.M=null,_C(v.U),v.g&&(G=v.g,v.g=null,G.abort(),G.ma())}function gv(v,G){try{var ae=v.j;if(0!=ae.G&&(ae.g==v||Cg(ae.h,v)))if(!v.K&&Cg(ae.h,v)&&3==ae.G){try{var Be=ae.Da.g.parse(G)}catch{Be=null}if(Array.isArray(Be)&&3==Be.length){var Bt=Be;if(0==Bt[0]){e:if(!ae.u){if(ae.g){if(!(ae.g.F+3e3<v.F))break e;OE(ae),PE(ae)}DC(ae),Vs(18)}}else ae.za=Bt[1],0<ae.za-ae.T&&37500>Bt[2]&&ae.F&&0==ae.v&&!ae.C&&(ae.C=mp(Je(ae.Za,ae),6e3));if(1>=_v(ae.h)&&ae.ca){try{ae.ca()}catch{}ae.ca=void 0}}else yp(ae,11)}else if((v.K||ae.g==v)&&OE(ae),!Fn(G))for(Bt=ae.Da.g.parse(G),G=0;G<Bt.length;G++){let gr=Bt[G];if(ae.T=gr[0],gr=gr[1],2==ae.G)if("c"==gr[0]){ae.K=gr[1],ae.ia=gr[2];const la=gr[3];null!=la&&(ae.la=la,ae.j.info("VER="+ae.la));const ca=gr[4];null!=ca&&(ae.Aa=ca,ae.j.info("SVER="+ae.Aa));const Mg=gr[5];null!=Mg&&"number"==typeof Mg&&0<Mg&&(ae.L=Be=1.5*Mg,ae.j.info("backChannelRequestTimeoutMs_="+Be)),Be=ae;const Tc=v.g;if(Tc){const FE=Tc.g?Tc.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(FE){var tn=Be.h;tn.g||-1==FE.indexOf("spdy")&&-1==FE.indexOf("quic")&&-1==FE.indexOf("h2")||(tn.j=tn.l,tn.g=new Set,tn.h&&(wg(tn,tn.h),tn.h=null))}if(Be.D){const MC=Tc.g?Tc.g.getResponseHeader("X-HTTP-Session-Id"):null;MC&&(Be.ya=MC,Vr(Be.I,Be.D,MC))}}ae.G=3,ae.l&&ae.l.ua(),ae.ba&&(ae.R=Date.now()-v.F,ae.j.info("Handshake RTT: "+ae.R+"ms"));var Nn=v;if((Be=ae).qa=hw(Be,Be.J?Be.ia:null,Be.W),Nn.K){AE(Be.h,Nn);var zr=Nn,Us=Be.L;Us&&(zr.I=Us),zr.B&&(wE(zr),mv(zr)),Be.g=Nn}else aw(Be);0<ae.i.length&&RE(ae)}else"stop"!=gr[0]&&"close"!=gr[0]||yp(ae,7);else 3==ae.G&&("stop"==gr[0]||"close"==gr[0]?"stop"==gr[0]?yp(ae,7):AC(ae):"noop"!=gr[0]&&ae.l&&ae.l.ta(gr),ae.v=0)}gg()}catch{}}function IE(v){this.l=v||10,v=x.PerformanceNavigationTiming?0<(v=x.performance.getEntriesByType("navigation")).length&&("hq"==v[0].nextHopProtocol||"h2"==v[0].nextHopProtocol):!!(x.chrome&&x.chrome.loadTimes&&x.chrome.loadTimes()&&x.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function TE(v){return!!v.h||!!v.g&&v.g.size>=v.j}function _v(v){return v.h?1:v.g?v.g.size:0}function Cg(v,G){return v.h?v.h==G:!!v.g&&v.g.has(G)}function wg(v,G){v.g?v.g.add(G):v.h=G}function AE(v,G){v.h&&v.h==G?v.h=null:v.g&&v.g.has(G)&&v.g.delete(G)}function DE(v){if(null!=v.h)return v.i.concat(v.h.D);if(null!=v.g&&0!==v.g.size){let G=v.i;for(const ae of v.g.values())G=G.concat(ae.D);return G}return Kt(v.i)}function xC(v,G){if(v.forEach&&"function"==typeof v.forEach)v.forEach(G,void 0);else if(M(v)||"string"==typeof v)Array.prototype.forEach.call(v,G,void 0);else for(var ae=function vv(v){if(v.na&&"function"==typeof v.na)return v.na();if(!v.V||"function"!=typeof v.V){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(M(v)||"string"==typeof v){var G=[];v=v.length;for(var ae=0;ae<v;ae++)G.push(ae);return G}G=[],ae=0;for(const Be in v)G[ae++]=Be;return G}}}(v),Be=function SE(v){if(v.V&&"function"==typeof v.V)return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if("string"==typeof v)return v.split("");if(M(v)){for(var G=[],ae=v.length,Be=0;Be<ae;Be++)G.push(v[Be]);return G}for(Be in G=[],ae=0,v)G[ae++]=v[Be];return G}(v),Bt=Be.length,tn=0;tn<Bt;tn++)G.call(void 0,Be[tn],ae&&ae[tn],v)}aa.prototype.ca=function(v){v=v.target;const G=this.M;G&&3==Dd(v)?G.j():this.Y(v)},aa.prototype.Y=function(v){try{if(v==this.g)e:{const ca=Dd(this.g);var G=this.g.Ba();if(this.g.Z(),!(3>ca)&&(3!=ca||this.g&&(this.h.h||this.g.oa()||nw(this.g)))){this.J||4!=ca||7==G||gg(),wE(this);var ae=this.g.Z();this.X=ae;t:if(bg(this)){var Be=nw(this.g);v="";var Bt=Be.length,tn=4==Dd(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){wu(this),xg(this);var Nn="";break t}this.h.i=new x.TextDecoder}for(G=0;G<Bt;G++)this.h.h=!0,v+=this.h.i.decode(Be[G],{stream:!(tn&&G==Bt-1)});Be.length=0,this.h.g+=v,this.C=0,Nn=this.h.g}else Nn=this.g.oa();if(this.o=200==ae,function qC(v,G,ae,Be,Bt,tn,Nn){v.info(function(){return"XMLHTTP RESP ("+Be+") [ attempt "+Bt+"]: "+G+"\n"+ae+"\n"+tn+" "+Nn})}(this.i,this.u,this.A,this.l,this.R,ca,ae),this.o){if(this.T&&!this.K){t:{if(this.g){var zr,Us=this.g;if((zr=Us.g?Us.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fn(zr)){var gr=zr;break t}}gr=null}if(!(ae=gr)){this.o=!1,this.s=3,Vs(12),wu(this),xg(this);break e}gp(this.i,this.l,ae,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gv(this,ae)}if(this.P){let Tc;for(ae=!0;!this.J&&this.C<Nn.length;){if(Tc=Eg(this,Nn),Tc==vp){4==ca&&(this.s=4,Vs(14),ae=!1),gp(this.i,this.l,null,"[Incomplete Response]");break}if(Tc==vg){this.s=4,Vs(15),gp(this.i,this.l,Nn,"[Invalid Chunk]"),ae=!1;break}gp(this.i,this.l,Tc,null),gv(this,Tc)}if(bg(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=ca||0!=Nn.length||this.h.h||(this.s=1,Vs(16),ae=!1),this.o=this.o&&ae,ae){if(0<Nn.length&&!this.W){this.W=!0;var la=this.j;la.g==this&&la.ba&&!la.M&&(la.j.info("Great, no buffering proxy detected. Bytes received: "+Nn.length),SC(la),la.M=!0,Vs(11))}}else gp(this.i,this.l,Nn,"[Invalid Chunked Response]"),wu(this),xg(this)}else gp(this.i,this.l,Nn,null),gv(this,Nn);4==ca&&wu(this),this.o&&!this.J&&(4==ca?cw(this.j,this):(this.o=!1,mv(this)))}else(function Ew(v){const G={};v=(v.g&&2<=Dd(v)&&v.g.getAllResponseHeaders()||"").split("\r\n");for(let Be=0;Be<v.length;Be++){if(Fn(v[Be]))continue;var ae=kt(v[Be]);const Bt=ae[0];if("string"!=typeof(ae=ae[1]))continue;ae=ae.trim();const tn=G[Bt]||[];G[Bt]=tn,tn.push(ae)}!function Ct(v,G){for(const ae in v)G.call(void 0,v[ae],ae,v)}(G,function(Be){return Be.join(", ")})})(this.g),400==ae&&0<Nn.indexOf("Unknown SID")?(this.s=3,Vs(12)):(this.s=0,Vs(13)),wu(this),xg(this)}}}catch{}},aa.prototype.cancel=function(){this.J=!0,wu(this)},aa.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(function QC(v,G){v.info(function(){return"TIMEOUT: "+G})}(this.i,this.A),2!=this.L&&(gg(),Vs(17)),wu(this),this.s=2,xg(this)):bC(this,this.S-v)},IE.prototype.cancel=function(){if(this.i=DE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const v of this.g.values())v.cancel();this.g.clear()}};var yv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Td(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof Td){this.h=v.h,Ev(this,v.j),this.o=v.o,this.g=v.g,xv(this,v.s),this.l=v.l;var G=v.i,ae=new Dg;ae.i=G.i,G.g&&(ae.g=new Map(G.g),ae.h=G.h),ME(this,ae),this.m=v.m}else v&&(G=String(v).match(yv))?(this.h=!1,Ev(this,G[1]||"",!0),this.o=Tg(G[2]||""),this.g=Tg(G[3]||"",!0),xv(this,G[4]),this.l=Tg(G[5]||"",!0),ME(this,G[6]||"",!0),this.m=Tg(G[7]||"")):(this.h=!1,this.i=new Dg(null,this.h))}function Ic(v){return new Td(v)}function Ev(v,G,ae){v.j=ae?Tg(G,!0):G,v.j&&(v.j=v.j.replace(/:$/,""))}function xv(v,G){if(G){if(G=Number(G),isNaN(G)||0>G)throw Error("Bad port number "+G);v.s=G}else v.s=null}function ME(v,G,ae){G instanceof Dg?(v.i=G,function c(v,G){G&&!v.j&&(Ad(v),v.i=null,v.g.forEach(function(ae,Be){var Bt=Be.toLowerCase();Be!=Bt&&(IC(this,Be),r(this,Bt,ae))},v)),v.j=G}(v.i,v.h)):(ae||(G=Ag(G,ew)),v.i=new Dg(G,v.h))}function Vr(v,G,ae){v.i.set(G,ae)}function Ig(v){return Vr(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function Tg(v,G){return v?G?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function Ag(v,G,ae){return"string"==typeof v?(v=encodeURI(v).replace(G,XC),ae&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function XC(v){return"%"+((v=v.charCodeAt(0))>>4&15).toString(16)+(15&v).toString(16)}Td.prototype.toString=function(){var v=[],G=this.j;G&&v.push(Ag(G,CC,!0),":");var ae=this.g;return(ae||"file"==G)&&(v.push("//"),(G=this.o)&&v.push(Ag(G,CC,!0),"@"),v.push(encodeURIComponent(String(ae)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(ae=this.s)&&v.push(":",String(ae))),(ae=this.l)&&(this.g&&"/"!=ae.charAt(0)&&v.push("/"),v.push(Ag(ae,"/"==ae.charAt(0)?JC:wC,!0))),(ae=this.i.toString())&&v.push("?",ae),(ae=this.m)&&v.push("#",Ag(ae,tw)),v.join("")};var v,CC=/[#\/\?@]/g,wC=/[#\?:]/g,JC=/[#\?]/g,ew=/[#\?@]/g,tw=/#/g;function Dg(v,G){this.h=this.g=null,this.i=v||null,this.j=!!G}function Ad(v){v.g||(v.g=new Map,v.h=0,v.i&&function bv(v,G){if(v){v=v.split("&");for(var ae=0;ae<v.length;ae++){var Be=v[ae].indexOf("="),Bt=null;if(0<=Be){var tn=v[ae].substring(0,Be);Bt=v[ae].substring(Be+1)}else tn=v[ae];G(tn,Bt?decodeURIComponent(Bt.replace(/\+/g," ")):"")}}}(v.i,function(G,ae){v.add(decodeURIComponent(G.replace(/\+/g," ")),ae)}))}function IC(v,G){Ad(v),G=s(v,G),v.g.has(G)&&(v.i=null,v.h-=v.g.get(G).length,v.g.delete(G))}function n(v,G){return Ad(v),G=s(v,G),v.g.has(G)}function r(v,G,ae){IC(v,G),0<ae.length&&(v.i=null,v.g.set(s(v,G),Kt(ae)),v.h+=ae.length)}function s(v,G){return G=String(G),v.j&&(G=G.toLowerCase()),G}function w(v,G,ae,Be,Bt){try{Bt&&(Bt.onload=null,Bt.onerror=null,Bt.onabort=null,Bt.ontimeout=null),Be(ae)}catch{}}function F(){this.g=new bE}function H(v,G,ae){const Be=ae||"";try{xC(v,function(Bt,tn){let Nn=Bt;$(Bt)&&(Nn=pp(Bt)),G.push(Be+tn+"="+encodeURIComponent(Nn))})}catch(Bt){throw G.push(Be+"type="+encodeURIComponent("_badmap")),Bt}}function se(v){this.l=v.Ub||null,this.j=v.eb||!1}function Te(v,G){xs.call(this),this.D=v,this.o=G,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function We(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}function xt(v){v.readyState=4,v.l=null,v.j=null,v.v=null,Lt(v)}function Lt(v){v.onreadystatechange&&v.onreadystatechange.call(v)}function cn(v){let G="";return ci(v,function(ae,Be){G+=Be,G+=":",G+=ae,G+="\r\n"}),G}function wn(v,G,ae){e:{for(Be in ae){var Be=!1;break e}Be=!0}Be||(ae=cn(ae),"string"==typeof v?null!=ae&&encodeURIComponent(String(ae)):Vr(v,G,ae))}function En(v){xs.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(o=Dg.prototype).add=function(v,G){Ad(this),this.i=null,v=s(this,v);var ae=this.g.get(v);return ae||this.g.set(v,ae=[]),ae.push(G),this.h+=1,this},o.forEach=function(v,G){Ad(this),this.g.forEach(function(ae,Be){ae.forEach(function(Bt){v.call(G,Bt,Be,this)},this)},this)},o.na=function(){Ad(this);const v=Array.from(this.g.values()),G=Array.from(this.g.keys()),ae=[];for(let Be=0;Be<G.length;Be++){const Bt=v[Be];for(let tn=0;tn<Bt.length;tn++)ae.push(G[Be])}return ae},o.V=function(v){Ad(this);let G=[];if("string"==typeof v)n(this,v)&&(G=G.concat(this.g.get(s(this,v))));else{v=Array.from(this.g.values());for(let ae=0;ae<v.length;ae++)G=G.concat(v[ae])}return G},o.set=function(v,G){return Ad(this),this.i=null,n(this,v=s(this,v))&&(this.h-=this.g.get(v).length),this.g.set(v,[G]),this.h+=1,this},o.get=function(v,G){return v&&0<(v=this.V(v)).length?String(v[0]):G},o.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],G=Array.from(this.g.keys());for(var ae=0;ae<G.length;ae++){var Be=G[ae];const tn=encodeURIComponent(String(Be)),Nn=this.V(Be);for(Be=0;Be<Nn.length;Be++){var Bt=tn;""!==Nn[Be]&&(Bt+="="+encodeURIComponent(String(Nn[Be]))),v.push(Bt)}}return this.i=v.join("&")},Ft(se,pg),se.prototype.g=function(){return new Te(this.l,this.j)},se.prototype.i=(v={},function(){return v}),Ft(Te,xs),(o=Te.prototype).open=function(v,G){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=G,this.readyState=1,Lt(this)},o.send=function(v){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const G={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(G.body=v),(this.D||x).fetch(new Request(this.A,G)).then(this.Sa.bind(this),this.ga.bind(this))},o.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,xt(this)),this.readyState=0},o.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Lt(this)),this.g&&(this.readyState=3,Lt(this),this.g)))if("arraybuffer"===this.responseType)v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof x.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;We(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))},o.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var G=v.value?v.value:new Uint8Array(0);(G=this.v.decode(G,{stream:!v.done}))&&(this.response=this.responseText+=G)}v.done?xt(this):Lt(this),3==this.readyState&&We(this)}},o.Ra=function(v){this.g&&(this.response=this.responseText=v,xt(this))},o.Qa=function(v){this.g&&(this.response=v,xt(this))},o.ga=function(){this.g&&xt(this)},o.setRequestHeader=function(v,G){this.u.append(v,G)},o.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},o.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],G=this.h.entries();for(var ae=G.next();!ae.done;)v.push((ae=ae.value)[0]+": "+ae[1]),ae=G.next();return v.join("\r\n")},Object.defineProperty(Te.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(v){this.m=v?"include":"same-origin"}}),Ft(En,xs);var Jn=/^https?$/i,vi=["POST","PUT"];function gn(v,G){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=G,v.m=5,wi(v),Gr(v)}function wi(v){v.A||(v.A=!0,Bs(v,"complete"),Bs(v,"error"))}function Ur(v){if(v.h&&typeof m<"u"&&(!v.v[1]||4!=Dd(v)||2!=v.Z()))if(v.u&&4==Dd(v))sv(v.Ea,0,v);else if(Bs(v,"readystatechange"),4==Dd(v)){v.h=!1;try{const Nn=v.Z();e:switch(Nn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var G=!0;break e;default:G=!1}var ae;if(!(ae=G)){var Be;if(Be=0===Nn){var Bt=String(v.D).match(yv)[1]||null;!Bt&&x.self&&x.self.location&&(Bt=x.self.location.protocol.slice(0,-1)),Be=!Jn.test(Bt?Bt.toLowerCase():"")}ae=Be}if(ae)Bs(v,"complete"),Bs(v,"success");else{v.m=6;try{var tn=2<Dd(v)?v.g.statusText:""}catch{tn=""}v.l=tn+" ["+v.Z()+"]",wi(v)}}finally{Gr(v)}}}function Gr(v,G){if(v.g){TC(v);const ae=v.g,Be=v.v[0]?()=>{}:null;v.g=null,v.v=null,G||Bs(v,"ready");try{ae.onreadystatechange=Be}catch{}}}function TC(v){v.I&&(x.clearTimeout(v.I),v.I=null)}function Dd(v){return v.g?v.g.readyState:0}function nw(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Cv(v,G,ae){return ae&&ae.internalChannelParams&&ae.internalChannelParams[v]||G}function iw(v){this.Aa=0,this.i=[],this.j=new _g,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cv("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cv("baseRetryDelayMs",5e3,v),this.cb=Cv("retryDelaySeedMs",1e4,v),this.Wa=Cv("forwardChannelMaxRetries",2,v),this.wa=Cv("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new IE(v&&v.concurrentRequestLimit),this.Da=new F,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function AC(v){if(rw(v),3==v.G){var G=v.U++,ae=Ic(v.I);if(Vr(ae,"SID",v.K),Vr(ae,"RID",G),Vr(ae,"TYPE","terminate"),wv(v,ae),(G=new aa(v,v.j,G)).L=2,G.v=Ig(Ic(ae)),ae=!1,x.navigator&&x.navigator.sendBeacon)try{ae=x.navigator.sendBeacon(G.v.toString(),"")}catch{}!ae&&x.Image&&((new Image).src=G.v,ae=!0),ae||(G.g=fw(G.j,null),G.g.ea(G.v)),G.F=Date.now(),mv(G)}dw(v)}function PE(v){v.g&&(SC(v),v.g.cancel(),v.g=null)}function rw(v){PE(v),v.u&&(x.clearTimeout(v.u),v.u=null),OE(v),v.h.cancel(),v.s&&("number"==typeof v.s&&x.clearTimeout(v.s),v.s=null)}function RE(v){if(!TE(v.h)&&!v.s){v.s=!0;var G=v.Ga;ii||wo(),hi||(ii(),hi=!0),Ci.add(G,v),v.B=0}}function ow(v,G){var ae;ae=G?G.l:v.U++;const Be=Ic(v.I);Vr(Be,"SID",v.K),Vr(Be,"RID",ae),Vr(Be,"AID",v.T),wv(v,Be),v.m&&v.o&&wn(Be,v.m,v.o),ae=new aa(v,v.j,ae,v.B+1),null===v.m&&(ae.H=v.o),G&&(v.i=G.D.concat(v.i)),G=sw(v,ae,1e3),ae.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),wg(v.h,ae),pv(ae,Be,G)}function wv(v,G){v.H&&ci(v.H,function(ae,Be){Vr(G,Be,ae)}),v.l&&xC({},function(ae,Be){Vr(G,Be,ae)})}function sw(v,G,ae){ae=Math.min(v.i.length,ae);var Be=v.l?Je(v.l.Na,v.l,v):null;e:{var Bt=v.i;let tn=-1;for(;;){const Nn=["count="+ae];-1==tn?0<ae?(tn=Bt[0].g,Nn.push("ofs="+tn)):tn=0:Nn.push("ofs="+tn);let zr=!0;for(let Us=0;Us<ae;Us++){let gr=Bt[Us].g;const la=Bt[Us].map;if(gr-=tn,0>gr)tn=Math.max(0,Bt[Us].g-100),zr=!1;else try{H(la,Nn,"req"+gr+"_")}catch{Be&&Be(la)}}if(zr){Be=Nn.join("&");break e}}}return v=v.i.splice(0,ae),G.D=v,Be}function aw(v){if(!v.g&&!v.u){v.Y=1;var G=v.Fa;ii||wo(),hi||(ii(),hi=!0),Ci.add(G,v),v.v=0}}function DC(v){return!(v.g||v.u||3<=v.v||(v.Y++,v.u=mp(Je(v.Fa,v),uw(v,v.v)),v.v++,0))}function SC(v){null!=v.A&&(x.clearTimeout(v.A),v.A=null)}function lw(v){v.g=new aa(v,v.j,"rpc",v.Y),null===v.m&&(v.g.H=v.o),v.g.O=0;var G=Ic(v.qa);Vr(G,"RID","rpc"),Vr(G,"SID",v.K),Vr(G,"AID",v.T),Vr(G,"CI",v.F?"0":"1"),!v.F&&v.ja&&Vr(G,"TO",v.ja),Vr(G,"TYPE","xmlhttp"),wv(v,G),v.m&&v.o&&wn(G,v.m,v.o),v.L&&(v.g.I=v.L);var ae=v.g;v=v.ia,ae.L=1,ae.v=Ig(Ic(G)),ae.m=null,ae.P=!0,yg(ae,v)}function OE(v){null!=v.C&&(x.clearTimeout(v.C),v.C=null)}function cw(v,G){var ae=null;if(v.g==G){OE(v),SC(v),v.g=null;var Be=2}else{if(!Cg(v.h,G))return;ae=G.D,AE(v.h,G),Be=1}if(0!=v.G)if(G.o)if(1==Be){ae=G.m?G.m.length:0,G=Date.now()-G.F;var Bt=v.B;Bs(Be=uv(),new xE(Be,ae)),RE(v)}else aw(v);else if(3==(Bt=G.s)||0==Bt&&0<G.X||!(1==Be&&function xw(v,G){return!(_v(v.h)>=v.h.j-(v.s?1:0)||(v.s?(v.i=G.D.concat(v.i),0):1==v.G||2==v.G||v.B>=(v.Va?0:v.Wa)||(v.s=mp(Je(v.Ga,v,G),uw(v,v.B)),v.B++,0)))}(v,G)||2==Be&&DC(v)))switch(ae&&0<ae.length&&(G=v.h,G.i=G.i.concat(ae)),Bt){case 1:yp(v,5);break;case 4:yp(v,10);break;case 3:yp(v,6);break;default:yp(v,2)}}function uw(v,G){let ae=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(ae*=2),ae*G}function yp(v,G){if(v.j.info("Error code "+G),2==G){var ae=Je(v.fb,v),Be=v.Xa;const Bt=!Be;Be=new Td(Be||"//www.google.com/images/cleardot.gif"),x.location&&"http"==x.location.protocol||Ev(Be,"https"),Ig(Be),Bt?function d(v,G){const ae=new _g;if(x.Image){const Be=new Image;Be.onload=yt(w,ae,"TestLoadImage: loaded",!0,G,Be),Be.onerror=yt(w,ae,"TestLoadImage: error",!1,G,Be),Be.onabort=yt(w,ae,"TestLoadImage: abort",!1,G,Be),Be.ontimeout=yt(w,ae,"TestLoadImage: timeout",!1,G,Be),x.setTimeout(function(){Be.ontimeout&&Be.ontimeout()},1e4),Be.src=v}else G(!1)}(Be.toString(),ae):function g(v,G){new _g;const Be=new AbortController,Bt=setTimeout(()=>{Be.abort(),w(0,0,!1,G)},1e4);fetch(v,{signal:Be.signal}).then(tn=>{clearTimeout(Bt),w(0,0,!!tn.ok,G)}).catch(()=>{clearTimeout(Bt),w(0,0,!1,G)})}(Be.toString(),ae)}else Vs(2);v.G=0,v.l&&v.l.sa(G),dw(v),rw(v)}function dw(v){if(v.G=0,v.ka=[],v.l){const G=DE(v.h);(0!=G.length||0!=v.i.length)&&(qt(v.ka,G),qt(v.ka,v.i),v.h.i.length=0,Kt(v.i),v.i.length=0),v.l.ra()}}function hw(v,G,ae){var Be=ae instanceof Td?Ic(ae):new Td(ae);if(""!=Be.g)G&&(Be.g=G+"."+Be.g),xv(Be,Be.s);else{var Bt=x.location;Be=Bt.protocol,G=G?G+"."+Bt.hostname:Bt.hostname,Bt=+Bt.port;var tn=new Td(null);Be&&Ev(tn,Be),G&&(tn.g=G),Bt&&xv(tn,Bt),ae&&(tn.l=ae),Be=tn}return G=v.ya,(ae=v.D)&&G&&Vr(Be,ae,G),Vr(Be,"VER",v.la),wv(v,Be),Be}function fw(v,G,ae){if(G&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return(G=new En(v.Ca&&!v.pa?new se({eb:ae}):v.pa)).Ha(v.J),G}function pw(){}function kE(){}function pl(v,G){xs.call(this),this.g=new iw(G),this.l=v,this.h=G&&G.messageUrlParams||null,v=G&&G.messageHeaders||null,G&&G.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=G&&G.initMessageHeaders||null,G&&G.messageContentType&&(v?v["X-WebChannel-Content-Type"]=G.messageContentType:v={"X-WebChannel-Content-Type":G.messageContentType}),G&&G.va&&(v?v["X-WebChannel-Client-Profile"]=G.va:v={"X-WebChannel-Client-Profile":G.va}),this.g.S=v,(v=G&&G.Sb)&&!Fn(v)&&(this.g.m=v),this.v=G&&G.supportsCrossDomainXhr||!1,this.u=G&&G.sendRawJson||!1,(G=G&&G.httpSessionIdParam)&&!Fn(G)&&(this.g.D=G,null!==(v=this.h)&&G in v&&G in(v=this.h)&&delete v[G]),this.j=new Sg(this)}function mw(v){Zh.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var G=v.__sm__;if(G){e:{for(const ae in G){v=ae;break e}v=void 0}(this.i=v)&&(v=this.i,G=null!==G&&v in G?G[v]:void 0),this.data=G}else this.data=v}function gw(){mg.call(this),this.status=1}function Sg(v){this.g=v}(o=En.prototype).Ha=function(v){this.J=v},o.ea=function(v,G,ae,Be){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);G=G?G.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hv.g(),this.v=function lv(v){return v.h||(v.h=v.i())}(this.o?this.o:hv),this.g.onreadystatechange=Je(this.Ea,this);try{this.B=!0,this.g.open(G,String(v),!0),this.B=!1}catch(tn){return void gn(this,tn)}if(v=ae||"",ae=new Map(this.headers),Be)if(Object.getPrototypeOf(Be)===Object.prototype)for(var Bt in Be)ae.set(Bt,Be[Bt]);else{if("function"!=typeof Be.keys||"function"!=typeof Be.get)throw Error("Unknown input type for opt_headers: "+String(Be));for(const tn of Be.keys())ae.set(tn,Be.get(tn))}Be=Array.from(ae.keys()).find(tn=>"content-type"==tn.toLowerCase()),Bt=x.FormData&&v instanceof x.FormData,!(0<=Array.prototype.indexOf.call(vi,G,void 0))||Be||Bt||ae.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[tn,Nn]of ae)this.g.setRequestHeader(tn,Nn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{TC(this),this.u=!0,this.g.send(v),this.u=!1}catch(tn){gn(this,tn)}},o.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,Bs(this,"complete"),Bs(this,"abort"),Gr(this))},o.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gr(this,!0)),En.aa.N.call(this)},o.Ea=function(){this.s||(this.B||this.u||this.j?Ur(this):this.bb())},o.bb=function(){Ur(this)},o.isActive=function(){return!!this.g},o.Z=function(){try{return 2<Dd(this)?this.g.status:-1}catch{return-1}},o.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},o.Oa=function(v){if(this.g){var G=this.g.responseText;return v&&0==G.indexOf(v)&&(G=G.substring(v.length)),yE(G)}},o.Ba=function(){return this.m},o.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(o=iw.prototype).la=8,o.G=1,o.connect=function(v,G,ae,Be){Vs(0),this.W=v,this.H=G||{},ae&&void 0!==Be&&(this.H.OSID=ae,this.H.OAID=Be),this.F=this.X,this.I=hw(this,null,this.W),RE(this)},o.Ga=function(v){if(this.s)if(this.s=null,1==this.G){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const Bt=new aa(this,this.j,v);let tn=this.o;if(this.S&&(tn?(tn=it(tn),St(tn,this.S)):tn=this.S),null!==this.m||this.O||(Bt.H=tn,tn=null),this.P)e:{for(var G=0,ae=0;ae<this.i.length;ae++){var Be=this.i[ae];if(void 0===(Be="__data__"in Be.map&&"string"==typeof(Be=Be.map.__data__)?Be.length:void 0))break;if(4096<(G+=Be)){G=ae;break e}if(4096===G||ae===this.i.length-1){G=ae+1;break e}}G=1e3}else G=1e3;G=sw(this,Bt,G),Vr(ae=Ic(this.I),"RID",v),Vr(ae,"CVER",22),this.D&&Vr(ae,"X-HTTP-Session-Id",this.D),wv(this,ae),tn&&(this.O?G="headers="+encodeURIComponent(String(cn(tn)))+"&"+G:this.m&&wn(ae,this.m,tn)),wg(this.h,Bt),this.Ua&&Vr(ae,"TYPE","init"),this.P?(Vr(ae,"$req",G),Vr(ae,"SID","null"),Bt.T=!0,pv(Bt,ae,null)):pv(Bt,ae,G),this.G=2}}else 3==this.G&&(v?ow(this,v):0==this.i.length||TE(this.h)||ow(this))},o.Fa=function(){if(this.u=null,lw(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=mp(Je(this.ab,this),v)}},o.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Vs(10),PE(this),lw(this))},o.Za=function(){null!=this.C&&(this.C=null,PE(this),DC(this),Vs(19))},o.fb=function(v){v?(this.j.info("Successfully pinged google.com"),Vs(2)):(this.j.info("Failed to ping google.com"),Vs(1))},o.isActive=function(){return!!this.l&&this.l.isActive(this)},(o=pw.prototype).ua=function(){},o.ta=function(){},o.sa=function(){},o.ra=function(){},o.isActive=function(){return!0},o.Na=function(){},kE.prototype.g=function(v,G){return new pl(v,G)},Ft(pl,xs),pl.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pl.prototype.close=function(){AC(this.g)},pl.prototype.o=function(v){var G=this.g;if("string"==typeof v){var ae={};ae.__data__=v,v=ae}else this.u&&((ae={}).__data__=pp(v),v=ae);G.i.push(new class{constructor(v,G){this.g=v,this.map=G}}(G.Ya++,v)),3==G.G&&RE(G)},pl.prototype.N=function(){this.g.l=null,delete this.j,AC(this.g),delete this.g,pl.aa.N.call(this)},Ft(mw,Zh),Ft(gw,mg),Ft(Sg,pw),Sg.prototype.ua=function(){Bs(this.g,"a")},Sg.prototype.ta=function(v){Bs(this.g,new mw(v))},Sg.prototype.sa=function(v){Bs(this.g,new gw)},Sg.prototype.ra=function(){Bs(this.g,"b")},kE.prototype.createWebChannel=kE.prototype.g,pl.prototype.send=pl.prototype.o,pl.prototype.open=pl.prototype.m,pl.prototype.close=pl.prototype.close,Vn=D.createWebChannelTransport=function(){return new kE},ln=D.getStatEventTarget=function(){return uv()},Dt=D.Event=wd,Re=D.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Id.NO_ERROR=0,Id.TIMEOUT=8,Id.HTTP_ERROR=6,Ce=D.ErrorCode=Id,CE.COMPLETE="complete",J=D.EventType=CE,cv.EventType=Cu,Cu.OPEN="a",Cu.CLOSE="b",Cu.ERROR="c",Cu.MESSAGE="d",xs.prototype.listen=xs.prototype.K,B=D.WebChannel=cv,C=D.FetchXmlHttpFactory=se,En.prototype.listenOnce=En.prototype.L,En.prototype.getLastError=En.prototype.Ka,En.prototype.getLastErrorCode=En.prototype.Ba,En.prototype.getStatus=En.prototype.Z,En.prototype.getResponseJson=En.prototype.Oa,En.prototype.getResponseText=En.prototype.oa,En.prototype.send=En.prototype.ea,En.prototype.setWithCredentials=En.prototype.Ha,P=D.XhrIo=En}).apply(typeof Lc<"u"?Lc:typeof self<"u"?self:typeof window<"u"?window:{});const Hn="@firebase/firestore";class mi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mi.UNAUTHENTICATED=new mi(null),mi.GOOGLE_CREDENTIALS=new mi("google-credentials-uid"),mi.FIRST_PARTY=new mi("first-party-uid"),mi.MOCK_USER=new mi("mock-user");let Ar="10.13.1";const Po=new ji.Yd("@firebase/firestore");function Qo(){return Po.logLevel}function un(o,...e){if(Po.logLevel<=ji.in.DEBUG){const t=e.map(Ra);Po.debug(`Firestore (${Ar}): ${o}`,...t)}}function wr(o,...e){if(Po.logLevel<=ji.in.ERROR){const t=e.map(Ra);Po.error(`Firestore (${Ar}): ${o}`,...t)}}function eo(o,...e){if(Po.logLevel<=ji.in.WARN){const t=e.map(Ra);Po.warn(`Firestore (${Ar}): ${o}`,...t)}}function Ra(o){if("string"==typeof o)return o;try{return JSON.stringify(o)}catch{return o}}function jn(o="Unexpected state"){const e=`FIRESTORE (${Ar}) INTERNAL ASSERTION FAILED: `+o;throw wr(e),new Error(e)}function Yn(o,e){o||jn()}function Sn(o,e){return o}const Yt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dn extends Pi.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class jr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ou{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ku{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(mi.UNAUTHENTICATED))}shutdown(){}}class Xl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Cl{constructor(e){this.t=e,this.currentUser=mi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let a=this.i;const u=$=>this.i!==a?(a=this.i,t($)):Promise.resolve();let m=new jr;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new jr,e.enqueueRetryable(()=>u(this.currentUser))};const x=()=>{const $=m;e.enqueueRetryable((0,O.Z)(function*(){yield $.promise,yield u(i.currentUser)}))},M=$=>{un("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=$,this.auth.addAuthTokenListener(this.o),x()};this.t.onInit($=>M($)),setTimeout(()=>{if(!this.auth){const $=this.t.getImmediate({optional:!0});$?M($):(un("FirebaseAuthCredentialsProvider","Auth not yet detected"),m.resolve(),m=new jr)}},0),x()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(un("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Yn("string"==typeof i.accessToken),new Ou(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Yn(null===e||"string"==typeof e),new mi(e)}}class Fu{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=mi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Og{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new Fu(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(mi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ld{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const i=u=>{null!=u.error&&un("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const m=u.token!==this.R;return this.R=u.token,un("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>i(u))};const a=u=>{un("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>a(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?a(u):un("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Yn("string"==typeof t.token),this.R=t.token,new kg(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Iv(o){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(o);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<o;i++)t[i]=Math.floor(256*Math.random());return t}class Cp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const a=Iv(40);for(let u=0;u<a.length;++u)i.length<20&&a[u]<t&&(i+=e.charAt(a[u]%e.length))}return i}}function _i(o,e){return o<e?-1:o>e?1:0}function Bc(o,e,t){return o.length===e.length&&o.every((i,a)=>t(i,e[a]))}function Jl(o){return o+"\0"}class Dr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new dn(Yt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new dn(Yt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new dn(Yt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new dn(Yt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Dr.fromMillis(Date.now())}static fromDate(e){return Dr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Dr(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_i(this.nanoseconds,e.nanoseconds):_i(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ei{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ei(e)}static min(){return new ei(new Dr(0,0))}static max(){return new ei(new Dr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class wl{constructor(e,t,i){void 0===t?t=0:t>e.length&&jn(),void 0===i?i=e.length-t:i>e.length-t&&jn(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===wl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof wl?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const u=e.get(a),m=t.get(a);if(u<m)return-1;if(u>m)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ki extends wl{construct(e,t,i){return new ki(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new dn(Yt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new ki(t)}static emptyPath(){return new ki([])}}const Vc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fr extends wl{construct(e,t,i){return new Fr(e,t,i)}static isValidIdentifier(e){return Vc.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Fr(["__name__"])}static fromServerFormat(e){const t=[];let i="",a=0;const u=()=>{if(0===i.length)throw new dn(Yt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let m=!1;for(;a<e.length;){const x=e[a];if("\\"===x){if(a+1===e.length)throw new dn(Yt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const M=e[a+1];if("\\"!==M&&"."!==M&&"`"!==M)throw new dn(Yt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=M,a+=2}else"`"===x?(m=!m,a++):"."!==x||m?(i+=x,a++):(u(),a++)}if(u(),m)throw new dn(Yt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fr(t)}static emptyPath(){return new Fr([])}}class Rn{constructor(e){this.path=e}static fromPath(e){return new Rn(ki.fromString(e))}static fromName(e){return new Rn(ki.fromString(e).popFirst(5))}static empty(){return new Rn(ki.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ki.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ki.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Rn(new ki(e.slice()))}}class Il{constructor(e,t,i,a){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=a}}function ec(o){return o.fields.find(e=>2===e.kind)}function Tl(o){return o.fields.filter(e=>2!==e.kind)}Il.UNKNOWN_ID=-1;class _a{constructor(e,t){this.fieldPath=e,this.kind=t}}class Uc{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Uc(0,vs.min())}}function Lg(o,e){const t=o.toTimestamp().seconds,i=o.toTimestamp().nanoseconds+1,a=ei.fromTimestamp(1e9===i?new Dr(t+1,0):new Dr(t,i));return new vs(a,Rn.empty(),e)}function Bg(o){return new vs(o.readTime,o.key,-1)}class vs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new vs(ei.min(),Rn.empty(),-1)}static max(){return new vs(ei.max(),Rn.empty(),-1)}}function qh(o,e){let t=o.readTime.compareTo(e.readTime);return 0!==t?t:(t=Rn.comparator(o.documentKey,e.documentKey),0!==t?t:_i(o.largestBatchId,e.largestBatchId))}const Qh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function tl(o){return Bd.apply(this,arguments)}function Bd(){return(Bd=(0,O.Z)(function*(o){if(o.code!==Yt.FAILED_PRECONDITION||o.message!==Qh)throw o;un("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Nt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&jn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Nt((i,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,a)},this.catchCallback=u=>{this.wrapFailure(t,u).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Nt?t:Nt.resolve(t)}catch(t){return Nt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Nt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Nt.reject(t)}static resolve(e){return new Nt((t,i)=>{t(e)})}static reject(e){return new Nt((t,i)=>{i(e)})}static waitFor(e){return new Nt((t,i)=>{let a=0,u=0,m=!1;e.forEach(x=>{++a,x.next(()=>{++u,m&&u===a&&t()},M=>i(M))}),m=!0,u===a&&t()})}static or(e){let t=Nt.resolve(!1);for(const i of e)t=t.next(a=>a?Nt.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,u)=>{i.push(t.call(this,a,u))}),this.waitFor(i)}static mapArray(e,t){return new Nt((i,a)=>{const u=e.length,m=new Array(u);let x=0;for(let M=0;M<u;M++){const $=M;t(e[$]).next(ue=>{m[$]=ue,++x,x===u&&i(m)},ue=>a(ue))}})}static doWhile(e,t){return new Nt((i,a)=>{const u=()=>{!0===e()?t().next(()=>{u()},a):i()};u()})}}class Os{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new jr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new tc(e,t.error)):this.V.resolve()},this.transaction.onerror=i=>{const a=Lu(i.target.error);this.V.reject(new tc(e,a))}}static open(e,t,i,a){try{return new Os(t,e.transaction(a,i))}catch(u){throw new tc(t,u)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(un("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Vg(t)}}class ea{constructor(e,t,i){this.name=e,this.version=t,this.p=i,12.2===ea.S((0,Pi.z$)())&&wr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return un("SimpleDb","Removing database:",e),Al(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Pi.hl)())return!1;if(ea.v())return!0;const e=(0,Pi.z$)(),t=ea.S(e),i=0<t&&t<10,a=Nu(e),u=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||u)}static v(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.C)}static F(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}M(e){var t=this;return(0,O.Z)(function*(){return t.db||(un("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,a)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=m=>{i(m.target.result)},u.onblocked=()=>{a(new tc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=m=>{const x=m.target.error;a("VersionError"===x.name?new dn(Yt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===x.name?new dn(Yt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+x):new tc(e,x))},u.onupgradeneeded=m=>{un("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',m.oldVersion),t.p.O(m.target.result,u.transaction,m.oldVersion,t.version).next(()=>{un("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.N&&(t.db.onversionchange=i=>t.N(i)),t.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,a){var u=this;return(0,O.Z)(function*(){const m="readonly"===t;let x=0;for(;;){++x;try{u.db=yield u.M(e);const M=Os.open(u.db,e,m?"readonly":"readwrite",i),$=a(M).next(ue=>(M.g(),ue)).catch(ue=>(M.abort(ue),Nt.reject(ue))).toPromise();return $.catch(()=>{}),yield M.m,$}catch(M){const $=M,ue="FirebaseError"!==$.name&&x<3;if(un("SimpleDb","Transaction failed with error:",$.message,"Retrying:",ue),u.close(),!ue)return Promise.reject($)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Nu(o){const e=o.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class Xh{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Al(this.B.delete())}}class tc extends dn{constructor(e,t){super(Yt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ta(o){return"IndexedDbTransactionError"===o.name}class Vg{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(un("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(un("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Al(i)}add(e){return un("SimpleDb","ADD",this.store.name,e,e),Al(this.store.add(e))}get(e){return Al(this.store.get(e)).next(t=>(void 0===t&&(t=null),un("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return un("SimpleDb","DELETE",this.store.name,e),Al(this.store.delete(e))}count(){return un("SimpleDb","COUNT",this.store.name),Al(this.store.count())}U(e,t){const i=this.options(e,t),a=i.index?this.store.index(i.index):this.store;if("function"==typeof a.getAll){const u=a.getAll(i.range);return new Nt((m,x)=>{u.onerror=M=>{x(M.target.error)},u.onsuccess=M=>{m(M.target.result)}})}{const u=this.cursor(i),m=[];return this.W(u,(x,M)=>{m.push(M)}).next(()=>m)}}G(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new Nt((a,u)=>{i.onerror=m=>{u(m.target.error)},i.onsuccess=m=>{a(m.target.result)}})}j(e,t){un("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.H=!1;const a=this.cursor(i);return this.W(a,(u,m,x)=>x.delete())}J(e,t){let i;t?i=e:(i={},t=e);const a=this.cursor(i);return this.W(a,t)}Y(e){const t=this.cursor({});return new Nt((i,a)=>{t.onerror=u=>{const m=Lu(u.target.error);a(m)},t.onsuccess=u=>{const m=u.target.result;m?e(m.primaryKey,m.value).next(x=>{x?m.continue():i()}):i()}})}W(e,t){const i=[];return new Nt((a,u)=>{e.onerror=m=>{u(m.target.error)},e.onsuccess=m=>{const x=m.target.result;if(!x)return void a();const M=new Xh(x),$=t(x.primaryKey,x.value,M);if($ instanceof Nt){const ue=$.catch(Ie=>(M.done(),Nt.reject(Ie)));i.push(ue)}M.isDone?a():null===M.K?x.continue():x.continue(M.K)}}).next(()=>Nt.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.H?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Al(o){return new Nt((e,t)=>{o.onsuccess=i=>{e(i.target.result)},o.onerror=i=>{const a=Lu(i.target.error);t(a)}})}let Jh=!1;function Lu(o){const e=ea.S((0,Pi.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(o.message.indexOf(t)>=0){const i=new dn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Jh||(Jh=!0,setTimeout(()=>{throw i},0)),i}}return o}class Ug{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var t=this;un("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,O.Z)(function*(){t.task=null;try{un("IndexBackfiller",`Documents written: ${yield t.Z.ee()}`)}catch(i){ta(i)?un("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",i):yield tl(i)}yield t.X(6e4)}))}}class wp{constructor(e,t){this.localStore=e,this.persistence=t}ee(e=50){var t=this;return(0,O.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.te(i,e))})()}te(e,t){const i=new Set;let a=t,u=!0;return Nt.doWhile(()=>!0===u&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(m=>{if(null!==m&&!i.has(m))return un("IndexBackfiller",`Processing collection: ${m}`),this.ne(e,m,a).next(x=>{a-=x,i.add(m)});u=!1})).next(()=>t-a)}ne(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,i).next(u=>{const m=u.changes;return this.localStore.indexManager.updateIndexEntries(e,m).next(()=>this.re(a,u)).next(x=>(un("IndexBackfiller",`Updating offset: ${x}`),this.localStore.indexManager.updateCollectionGroup(e,t,x))).next(()=>m.size)}))}re(e,t){let i=e;return t.changes.forEach((a,u)=>{const m=Bg(u);qh(m,i)>0&&(i=m)}),new vs(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let mr=(()=>{class o{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ie(a),this.se=a=>i.writeSequenceNumber(a))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}return o.oe=-1,o})();function nc(o){return null==o}function Hc(o){return 0===o&&1/o==-1/0}function Vd(o){return"number"==typeof o&&Number.isInteger(o)&&!Hc(o)&&o<=Number.MAX_SAFE_INTEGER&&o>=Number.MIN_SAFE_INTEGER}function Ui(o){let e="";for(let t=0;t<o.length;t++)e.length>0&&(e=ef(e)),e=Bu(o.get(t),e);return ef(e)}function Bu(o,e){let t=e;const i=o.length;for(let a=0;a<i;a++){const u=o.charAt(a);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function ef(o){return o+"\x01\x01"}function na(o){const e=o.length;if(Yn(e>=2),2===e)return Yn("\x01"===o.charAt(0)&&"\x01"===o.charAt(1)),ki.emptyPath();const t=e-2,i=[];let a="";for(let u=0;u<e;){const m=o.indexOf("\x01",u);switch((m<0||m>t)&&jn(),o.charAt(m+1)){case"\x01":const x=o.substring(u,m);let M;0===a.length?M=x:(a+=x,M=a,a=""),i.push(M);break;case"\x10":a+=o.substring(u,m),a+="\0";break;case"\x11":a+=o.substring(u,m+1);break;default:jn()}u=m+2}return new ki(i)}const Ip=["userId","batchId"];function Dl(o,e){return[o,Ui(e)]}function Tp(o,e,t){return[o,Ui(e),t]}const Ap={},zg=["prefixPath","collectionGroup","readTime","documentId"],Dp=["prefixPath","collectionGroup","documentId"],Hg=["collectionGroup","readTime","prefixPath","documentId"],jg=["canonicalId","targetId"],tf=["targetId","path"],nf=["path","targetId"],rf=["collectionId","parent"],Vu=["indexId","uid"],$g=["uid","sequenceNumber"],Gg=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],sf=["indexId","uid","orderedDocumentKey"],af=["userId","collectionPath","documentId"],lf=["userId","collectionPath","largestBatchId"],jc=["userId","collectionGroup","largestBatchId"],Ud=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Sp=[...Ud,"documentOverlays"],Mp=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],zd=Mp,Uu=[...zd,"indexConfiguration","indexState","indexEntries"],cf=Uu,Wg=[...Uu,"globals"];class zu extends zc{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function vo(o,e){const t=Sn(o);return ea.F(t._e,e)}function uf(o){let e=0;for(const t in o)Object.prototype.hasOwnProperty.call(o,t)&&e++;return e}function nl(o,e){for(const t in o)Object.prototype.hasOwnProperty.call(o,t)&&e(t,o[t])}function df(o){for(const e in o)if(Object.prototype.hasOwnProperty.call(o,e))return!1;return!0}class yr{constructor(e,t){this.comparator=e,this.root=t||Ro.EMPTY}insert(e,t){return new yr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ro.BLACK,null,null))}remove(e){return new yr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ro.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(0===a)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gc(this.root,e,this.comparator,!0)}}class Gc{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?i(e.key,t):1,t&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ro{constructor(e,t,i,a,u){this.key=e,this.value=t,this.color=i??Ro.RED,this.left=a??Ro.EMPTY,this.right=u??Ro.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,u){return new Ro(e??this.key,t??this.value,i??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const u=i(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,t,i),null):0===u?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ro.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return Ro.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ro.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ro.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw jn();const e=this.left.check();if(e!==this.right.check())throw jn();return e+(this.isRed()?0:1)}}Ro.EMPTY=null,Ro.RED=!0,Ro.BLACK=!1,Ro.EMPTY=new class{constructor(){this.size=0}get key(){throw jn()}get value(){throw jn()}get color(){throw jn()}get left(){throw jn()}get right(){throw jn()}copy(e,t,i,a,u){return this}insert(e,t,i){return new Ro(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $i{constructor(e){this.comparator=e,this.data=new yr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Hd(this.data.getIterator())}getIteratorFrom(e){return new Hd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof $i)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=i.getNext().key;if(0!==this.comparator(a,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new $i(this.comparator);return t.data=e,t}}class Hd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ks(o){return o.hasNext()?o.getNext():void 0}class rs{constructor(e){this.fields=e,e.sort(Fr.comparator)}static empty(){return new rs([])}unionWith(e){let t=new $i(Fr.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new rs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Bc(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class hf extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class to{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new hf("Invalid base64 string: "+u):u}}(e);return new to(t)}static fromUint8Array(e){const t=function(a){let u="";for(let m=0;m<a.length;++m)u+=String.fromCharCode(a[m]);return u}(e);return new to(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _i(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}to.EMPTY_BYTE_STRING=new to("");const jd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oa(o){if(Yn(!!o),"string"==typeof o){let e=0;const t=jd.exec(o);if(Yn(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(o);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Sr(o.seconds),nanos:Sr(o.nanos)}}function Sr(o){return"number"==typeof o?o:"string"==typeof o?Number(o):0}function il(o){return"string"==typeof o?to.fromBase64String(o):to.fromUint8Array(o)}function Hu(o){var e,t;return"server_timestamp"===(null===(t=((null===(e=o?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ia(o){const e=o.mapValue.fields.__previous_value__;return Hu(e)?ia(e):e}function Wc(o){const e=Oa(o.mapValue.fields.__local_write_time__.timestampValue);return new Dr(e.seconds,e.nanos)}class $d{constructor(e,t,i,a,u,m,x,M,$){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=u,this.forceLongPolling=m,this.autoDetectLongPolling=x,this.longPollingOptions=M,this.useFetchStreams=$}}class Fs{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Fs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Fs&&e.projectId===this.projectId&&e.database===this.database}}const rl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Sl={nullValue:"NULL_VALUE"};function ka(o){return"nullValue"in o?0:"booleanValue"in o?1:"integerValue"in o||"doubleValue"in o?2:"timestampValue"in o?3:"stringValue"in o?5:"bytesValue"in o?6:"referenceValue"in o?7:"geoPointValue"in o?8:"arrayValue"in o?9:"mapValue"in o?Hu(o)?4:Zd(o)?9007199254740991:$u(o)?10:11:jn()}function ra(o,e){if(o===e)return!0;const t=ka(o);if(t!==ka(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return o.booleanValue===e.booleanValue;case 4:return Wc(o).isEqual(Wc(e));case 3:return function(a,u){if("string"==typeof a.timestampValue&&"string"==typeof u.timestampValue&&a.timestampValue.length===u.timestampValue.length)return a.timestampValue===u.timestampValue;const m=Oa(a.timestampValue),x=Oa(u.timestampValue);return m.seconds===x.seconds&&m.nanos===x.nanos}(o,e);case 5:return o.stringValue===e.stringValue;case 6:return u=e,il(o.bytesValue).isEqual(il(u.bytesValue));case 7:return o.referenceValue===e.referenceValue;case 8:return function(a,u){return Sr(a.geoPointValue.latitude)===Sr(u.geoPointValue.latitude)&&Sr(a.geoPointValue.longitude)===Sr(u.geoPointValue.longitude)}(o,e);case 2:return function(a,u){if("integerValue"in a&&"integerValue"in u)return Sr(a.integerValue)===Sr(u.integerValue);if("doubleValue"in a&&"doubleValue"in u){const m=Sr(a.doubleValue),x=Sr(u.doubleValue);return m===x?Hc(m)===Hc(x):isNaN(m)&&isNaN(x)}return!1}(o,e);case 9:return Bc(o.arrayValue.values||[],e.arrayValue.values||[],ra);case 10:case 11:return function(a,u){const m=a.mapValue.fields||{},x=u.mapValue.fields||{};if(uf(m)!==uf(x))return!1;for(const M in m)if(m.hasOwnProperty(M)&&(void 0===x[M]||!ra(m[M],x[M])))return!1;return!0}(o,e);default:return jn()}var u}function va(o,e){return void 0!==(o.values||[]).find(t=>ra(t,e))}function Ml(o,e){if(o===e)return 0;const t=ka(o),i=ka(e);if(t!==i)return _i(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return _i(o.booleanValue,e.booleanValue);case 2:return function(u,m){const x=Sr(u.integerValue||u.doubleValue),M=Sr(m.integerValue||m.doubleValue);return x<M?-1:x>M?1:x===M?0:isNaN(x)?isNaN(M)?0:-1:1}(o,e);case 3:return ff(o.timestampValue,e.timestampValue);case 4:return ff(Wc(o),Wc(e));case 5:return _i(o.stringValue,e.stringValue);case 6:return function(u,m){const x=il(u),M=il(m);return x.compareTo(M)}(o.bytesValue,e.bytesValue);case 7:return function(u,m){const x=u.split("/"),M=m.split("/");for(let $=0;$<x.length&&$<M.length;$++){const ue=_i(x[$],M[$]);if(0!==ue)return ue}return _i(x.length,M.length)}(o.referenceValue,e.referenceValue);case 8:return function(u,m){const x=_i(Sr(u.latitude),Sr(m.latitude));return 0!==x?x:_i(Sr(u.longitude),Sr(m.longitude))}(o.geoPointValue,e.geoPointValue);case 9:return Gd(o.arrayValue,e.arrayValue);case 10:return function(u,m){var x,M,$,ue;const yt=null===(x=(u.fields||{}).value)||void 0===x?void 0:x.arrayValue,Ft=null===(M=(m.fields||{}).value)||void 0===M?void 0:M.arrayValue,Kt=_i((null===($=yt?.values)||void 0===$?void 0:$.length)||0,(null===(ue=Ft?.values)||void 0===ue?void 0:ue.length)||0);return 0!==Kt?Kt:Gd(yt,Ft)}(o.mapValue,e.mapValue);case 11:return function(u,m){if(u===rl.mapValue&&m===rl.mapValue)return 0;if(u===rl.mapValue)return 1;if(m===rl.mapValue)return-1;const x=u.fields||{},M=Object.keys(x),$=m.fields||{},ue=Object.keys($);M.sort(),ue.sort();for(let Ie=0;Ie<M.length&&Ie<ue.length;++Ie){const Je=_i(M[Ie],ue[Ie]);if(0!==Je)return Je;const yt=Ml(x[M[Ie]],$[ue[Ie]]);if(0!==yt)return yt}return _i(M.length,ue.length)}(o.mapValue,e.mapValue);default:throw jn()}}function ff(o,e){if("string"==typeof o&&"string"==typeof e&&o.length===e.length)return _i(o,e);const t=Oa(o),i=Oa(e),a=_i(t.seconds,i.seconds);return 0!==a?a:_i(t.nanos,i.nanos)}function Gd(o,e){const t=o.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const u=Ml(t[a],i[a]);if(u)return u}return _i(t.length,i.length)}function Zc(o){return pf(o)}function pf(o){return"nullValue"in o?"null":"booleanValue"in o?""+o.booleanValue:"integerValue"in o?""+o.integerValue:"doubleValue"in o?""+o.doubleValue:"timestampValue"in o?function(t){const i=Oa(t);return`time(${i.seconds},${i.nanos})`}(o.timestampValue):"stringValue"in o?o.stringValue:"bytesValue"in o?il(o.bytesValue).toBase64():"referenceValue"in o?Rn.fromName(o.referenceValue).toString():"geoPointValue"in o?function(t){return`geo(${t.latitude},${t.longitude})`}(o.geoPointValue):"arrayValue"in o?function(t){let i="[",a=!0;for(const u of t.values||[])a?a=!1:i+=",",i+=pf(u);return i+"]"}(o.arrayValue):"mapValue"in o?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",u=!0;for(const m of i)u?u=!1:a+=",",a+=`${m}:${pf(t.fields[m])}`;return a+"}"}(o.mapValue):jn()}function Pl(o,e){return{referenceValue:`projects/${o.projectId}/databases/${o.database}/documents/${e.path.canonicalString()}`}}function Kc(o){return!!o&&"integerValue"in o}function Rl(o){return!!o&&"arrayValue"in o}function ol(o){return!!o&&"nullValue"in o}function Pp(o){return!!o&&"doubleValue"in o&&isNaN(Number(o.doubleValue))}function Wd(o){return!!o&&"mapValue"in o}function $u(o){var e,t;return"__vector__"===(null===(t=((null===(e=o?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ic(o){if(o.geoPointValue)return{geoPointValue:Object.assign({},o.geoPointValue)};if(o.timestampValue&&"object"==typeof o.timestampValue)return{timestampValue:Object.assign({},o.timestampValue)};if(o.mapValue){const e={mapValue:{fields:{}}};return nl(o.mapValue.fields,(t,i)=>e.mapValue.fields[t]=ic(i)),e}if(o.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(o.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ic(o.arrayValue.values[t]);return e}return Object.assign({},o)}function Zd(o){return"__max__"===(((o.mapValue||{}).fields||{}).__type__||{}).stringValue}const Rp={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Gu(o){return"nullValue"in o?Sl:"booleanValue"in o?{booleanValue:!1}:"integerValue"in o||"doubleValue"in o?{doubleValue:NaN}:"timestampValue"in o?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in o?{stringValue:""}:"bytesValue"in o?{bytesValue:""}:"referenceValue"in o?Pl(Fs.empty(),Rn.empty()):"geoPointValue"in o?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in o?{arrayValue:{}}:"mapValue"in o?$u(o)?Rp:{mapValue:{}}:jn()}function Kd(o){return"nullValue"in o?{booleanValue:!1}:"booleanValue"in o?{doubleValue:NaN}:"integerValue"in o||"doubleValue"in o?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in o?{stringValue:""}:"stringValue"in o?{bytesValue:""}:"bytesValue"in o?Pl(Fs.empty(),Rn.empty()):"referenceValue"in o?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in o?{arrayValue:{}}:"arrayValue"in o?Rp:"mapValue"in o?$u(o)?{mapValue:{}}:rl:jn()}function Yd(o,e){const t=Ml(o.value,e.value);return 0!==t?t:o.inclusive&&!e.inclusive?-1:!o.inclusive&&e.inclusive?1:0}function mf(o,e){const t=Ml(o.value,e.value);return 0!==t?t:o.inclusive&&!e.inclusive?1:!o.inclusive&&e.inclusive?-1:0}class yo{constructor(e){this.value=e}static empty(){return new yo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Wd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ic(t)}setAll(e){let t=Fr.emptyPath(),i={},a=[];e.forEach((m,x)=>{if(!t.isImmediateParentOf(x)){const M=this.getFieldsMap(t);this.applyChanges(M,i,a),i={},a=[],t=x.popLast()}m?i[x.lastSegment()]=ic(m):a.push(x.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,i,a)}delete(e){const t=this.field(e.popLast());Wd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ra(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];Wd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){nl(t,(a,u)=>e[a]=u);for(const a of i)delete e[a]}clone(){return new yo(ic(this.value))}}function gf(o){const e=[];return nl(o.fields,(t,i)=>{const a=new Fr([t]);if(Wd(i)){const u=gf(i.mapValue).fields;if(0===u.length)e.push(a);else for(const m of u)e.push(a.child(m))}else e.push(a)}),new rs(e)}class Yi{constructor(e,t,i,a,u,m,x){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=u,this.data=m,this.documentState=x}static newInvalidDocument(e){return new Yi(e,0,ei.min(),ei.min(),ei.min(),yo.empty(),0)}static newFoundDocument(e,t,i,a){return new Yi(e,1,t,ei.min(),i,a,0)}static newNoDocument(e,t){return new Yi(e,2,t,ei.min(),ei.min(),yo.empty(),0)}static newUnknownDocument(e,t){return new Yi(e,3,t,ei.min(),ei.min(),yo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ei.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ei.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Yi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ol{constructor(e,t){this.position=e,this.inclusive=t}}function Op(o,e,t){let i=0;for(let a=0;a<o.position.length;a++){const u=e[a],m=o.position[a];if(i=u.field.isKeyField()?Rn.comparator(Rn.fromName(m.referenceValue),t.key):Ml(m,t.data.field(u.field)),"desc"===u.dir&&(i*=-1),0!==i)break}return i}function Yc(o,e){if(null===o)return null===e;if(null===e||o.inclusive!==e.inclusive||o.position.length!==e.position.length)return!1;for(let t=0;t<o.position.length;t++)if(!ra(o.position[t],e.position[t]))return!1;return!0}class Wu{constructor(e,t="asc"){this.field=e,this.dir=t}}function kp(o,e){return o.dir===e.dir&&o.field.isEqual(e.field)}class Fa{}class Ai extends Fa{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new Ns(e,t,i):"array-contains"===t?new rc(e,i):"in"===t?new qu(e,i):"not-in"===t?new Np(e,i):"array-contains-any"===t?new vf(e,i):new Ai(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new Ku(e,i):new Yu(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ml(t,this.value)):null!==t&&ka(this.value)===ka(t)&&this.matchesComparison(Ml(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return jn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sr extends Fa{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new sr(e,t)}matches(e){return qc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function qc(o){return"and"===o.op}function qd(o){return"or"===o.op}function Zu(o){return Qd(o)&&qc(o)}function Qd(o){for(const e of o.filters)if(e instanceof sr)return!1;return!0}function Xd(o){if(o instanceof Ai)return o.field.canonicalString()+o.op.toString()+Zc(o.value);if(Zu(o))return o.filters.map(e=>Xd(e)).join(",");{const e=o.filters.map(t=>Xd(t)).join(",");return`${o.op}(${e})`}}function _f(o,e){return o instanceof Ai?(i=o,(a=e)instanceof Ai&&i.op===a.op&&i.field.isEqual(a.field)&&ra(i.value,a.value)):o instanceof sr?function(i,a){return a instanceof sr&&i.op===a.op&&i.filters.length===a.filters.length&&i.filters.reduce((u,m,x)=>u&&_f(m,a.filters[x]),!0)}(o,e):void jn();var i,a}function Jd(o,e){const t=o.filters.concat(e);return sr.create(t,o.op)}function Fp(o){return o instanceof Ai?`${(t=o).field.canonicalString()} ${t.op} ${Zc(t.value)}`:o instanceof sr?function(t){return t.op.toString()+" {"+t.getFilters().map(Fp).join(" ,")+"}"}(o):"Filter";var t}class Ns extends Ai{constructor(e,t,i){super(e,t,i),this.key=Rn.fromName(i.referenceValue)}matches(e){const t=Rn.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ku extends Ai{constructor(e,t){super(e,"in",t),this.keys=Na(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Yu extends Ai{constructor(e,t){super(e,"not-in",t),this.keys=Na(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Na(o,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Rn.fromName(i.referenceValue))}class rc extends Ai{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Rl(t)&&va(t.arrayValue,this.value)}}class qu extends Ai{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&va(this.value.arrayValue,t)}}class Np extends Ai{constructor(e,t){super(e,"not-in",t)}matches(e){if(va(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!va(this.value.arrayValue,t)}}class vf extends Ai{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Rl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>va(this.value.arrayValue,i))}}class Av{constructor(e,t=null,i=[],a=[],u=null,m=null,x=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=u,this.startAt=m,this.endAt=x,this.ue=null}}function sl(o,e=null,t=[],i=[],a=null,u=null,m=null){return new Av(o,e,t,i,a,u,m)}function oc(o){const e=Sn(o);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Xd(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(u=i).field.canonicalString()+u.dir;var u}).join(","),nc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Zc(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Zc(i)).join(",")),e.ue=t}return e.ue}function sc(o,e){if(o.limit!==e.limit||o.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<o.orderBy.length;t++)if(!kp(o.orderBy[t],e.orderBy[t]))return!1;if(o.filters.length!==e.filters.length)return!1;for(let t=0;t<o.filters.length;t++)if(!_f(o.filters[t],e.filters[t]))return!1;return o.collectionGroup===e.collectionGroup&&!!o.path.isEqual(e.path)&&!!Yc(o.startAt,e.startAt)&&Yc(o.endAt,e.endAt)}function Qc(o){return Rn.isDocumentKey(o.path)&&null===o.collectionGroup&&0===o.filters.length}function yf(o,e){return o.filters.filter(t=>t instanceof Ai&&t.field.isEqual(e))}function Lp(o,e,t){let i=Sl,a=!0;for(const u of yf(o,e)){let m=Sl,x=!0;switch(u.op){case"<":case"<=":m=Gu(u.value);break;case"==":case"in":case">=":m=u.value;break;case">":m=u.value,x=!1;break;case"!=":case"not-in":m=Sl}Yd({value:i,inclusive:a},{value:m,inclusive:x})<0&&(i=m,a=x)}if(null!==t)for(let u=0;u<o.orderBy.length;++u)if(o.orderBy[u].field.isEqual(e)){const m=t.position[u];Yd({value:i,inclusive:a},{value:m,inclusive:t.inclusive})<0&&(i=m,a=t.inclusive);break}return{value:i,inclusive:a}}function Xo(o,e,t){let i=rl,a=!0;for(const u of yf(o,e)){let m=rl,x=!0;switch(u.op){case">=":case">":m=Kd(u.value),x=!1;break;case"==":case"in":case"<=":m=u.value;break;case"<":m=u.value,x=!1;break;case"!=":case"not-in":m=rl}mf({value:i,inclusive:a},{value:m,inclusive:x})>0&&(i=m,a=x)}if(null!==t)for(let u=0;u<o.orderBy.length;++u)if(o.orderBy[u].field.isEqual(e)){const m=t.position[u];mf({value:i,inclusive:a},{value:m,inclusive:t.inclusive})>0&&(i=m,a=t.inclusive);break}return{value:i,inclusive:a}}class ya{constructor(e,t=null,i=[],a=[],u=null,m="F",x=null,M=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=u,this.limitType=m,this.startAt=x,this.endAt=M,this.ce=null,this.le=null,this.he=null}}function eh(o,e,t,i,a,u,m,x){return new ya(o,e,t,i,a,u,m,x)}function Xc(o){return new ya(o)}function La(o){return 0===o.filters.length&&null===o.limit&&null==o.startAt&&null==o.endAt&&(0===o.explicitOrderBy.length||1===o.explicitOrderBy.length&&o.explicitOrderBy[0].field.isKeyField())}function kl(o){return null!==o.collectionGroup}function Ba(o){const e=Sn(o);if(null===e.ce){e.ce=[];const t=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),t.add(u.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(m){let x=new $i(Fr.comparator);return m.filters.forEach(M=>{M.getFlattenedFilters().forEach($=>{$.isInequality()&&(x=x.add($.field))})}),x})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.ce.push(new Wu(u,i))}),t.has(Fr.keyField().canonicalString())||e.ce.push(new Wu(Fr.keyField(),i))}return e.ce}function Oo(o){const e=Sn(o);return e.le||(e.le=function nh(o,e){if("F"===o.limitType)return sl(o.path,o.collectionGroup,e,o.filters,o.limit,o.startAt,o.endAt);{e=e.map(a=>new Wu(a.field,"desc"===a.dir?"asc":"desc"));const t=o.endAt?new Ol(o.endAt.position,o.endAt.inclusive):null,i=o.startAt?new Ol(o.startAt.position,o.startAt.inclusive):null;return sl(o.path,o.collectionGroup,e,o.filters,o.limit,t,i)}}(e,Ba(o))),e.le}function Br(o,e){const t=o.filters.concat([e]);return new ya(o.path,o.collectionGroup,o.explicitOrderBy.slice(),t,o.limit,o.limitType,o.startAt,o.endAt)}function Qu(o,e,t){return new ya(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),e,t,o.startAt,o.endAt)}function Xu(o,e){return sc(Oo(o),Oo(e))&&o.limitType===e.limitType}function ih(o){return`${oc(Oo(o))}|lt:${o.limitType}`}function y(o){return`Query(target=${function(t){let i=t.path.canonicalString();return null!==t.collectionGroup&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>Fp(a)).join(", ")}]`),nc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>{return`${(m=a).field.canonicalString()} (${m.dir})`;var m}).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>Zc(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>Zc(a)).join(",")),`Target(${i})`}(Oo(o))}; limitType=${o.limitType})`}function h(o,e){return e.isFoundDocument()&&function(i,a){const u=a.key.path;return null!==i.collectionGroup?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):Rn.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)}(o,e)&&function(i,a){for(const u of Ba(i))if(!u.field.isKeyField()&&null===a.data.field(u.field))return!1;return!0}(o,e)&&function(i,a){for(const u of i.filters)if(!u.matches(a))return!1;return!0}(o,e)&&(a=e,!((i=o).startAt&&!function(m,x,M){const $=Op(m,x,M);return m.inclusive?$<=0:$<0}(i.startAt,Ba(i),a)||i.endAt&&!function(m,x,M){const $=Op(m,x,M);return m.inclusive?$>=0:$>0}(i.endAt,Ba(i),a)));var i,a}function p(o){return o.collectionGroup||(o.path.length%2==1?o.path.lastSegment():o.path.get(o.path.length-2))}function I(o){return(e,t)=>{let i=!1;for(const a of Ba(o)){const u=Q(a,e,t);if(0!==u)return u;i=i||a.field.isKeyField()}return 0}}function Q(o,e,t){const i=o.field.isKeyField()?Rn.comparator(e.key,t.key):function(u,m,x){const M=m.data.field(u),$=x.data.field(u);return null!==M&&null!==$?Ml(M,$):jn()}(o.field,e,t);switch(o.dir){case"asc":return i;case"desc":return-1*i;default:return jn()}}class be{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[a,u]of i)if(this.equalsFn(a,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(void 0===a)return this.inner[i]=[[e,t]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return 1===i.length?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){nl(this.inner,(t,i)=>{for(const[a,u]of i)e(a,u)})}isEmpty(){return df(this.inner)}size(){return this.innerSize}}const lt=new yr(Rn.comparator);function At(){return lt}const rn=new yr(Rn.comparator);function Tn(...o){let e=rn;for(const t of o)e=e.insert(t.key,t);return e}function Zn(o){let e=rn;return o.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function kn(){return os()}function Mr(){return os()}function os(){return new be(o=>o.toString(),(o,e)=>o.isEqual(e))}const rh=new yr(Rn.comparator),bf=new $i(Rn.comparator);function xi(...o){let e=bf;for(const t of o)e=e.add(t);return e}const oh=new $i(_i);function Ef(){return oh}function ac(o,e){if(o.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hc(e)?"-0":e}}function xf(o){return{integerValue:""+o}}function Ju(o,e){return Vd(e)?xf(e):ac(o,e)}class lc{constructor(){this._=void 0}}function Cf(o,e,t){return o instanceof Fl?function(a,u){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return u&&Hu(u)&&(u=ia(u)),u&&(m.fields.__previous_value__=u),{mapValue:m}}(t,e):o instanceof Nl?Dv(o,e):o instanceof uc?wf(o,e):function(a,u){const m=sh(a,u),x=Kg(m)+Kg(a.Pe);return Kc(m)&&Kc(a.Pe)?xf(x):ac(a.serializer,x)}(o,e)}function cc(o,e,t){return o instanceof Nl?Dv(o,e):o instanceof uc?wf(o,e):t}function sh(o,e){return o instanceof Va?Kc(i=e)||(u=i)&&"doubleValue"in u?e:{integerValue:0}:null;var i,u}class Fl extends lc{}class Nl extends lc{constructor(e){super(),this.elements=e}}function Dv(o,e){const t=Bp(e);for(const i of o.elements)t.some(a=>ra(a,i))||t.push(i);return{arrayValue:{values:t}}}class uc extends lc{constructor(e){super(),this.elements=e}}function wf(o,e){let t=Bp(e);for(const i of o.elements)t=t.filter(a=>!ra(a,i));return{arrayValue:{values:t}}}class Va extends lc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Kg(o){return Sr(o.integerValue||o.doubleValue)}function Bp(o){return Rl(o)&&o.arrayValue.values?o.arrayValue.values.slice():[]}class If{constructor(e,t){this.field=e,this.transform=t}}class Sv{constructor(e,t){this.version=e,this.transformResults=t}}class br{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new br}static exists(e){return new br(void 0,e)}static updateTime(e){return new br(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vp(o,e){return void 0!==o.updateTime?e.isFoundDocument()&&e.version.isEqual(o.updateTime):void 0===o.exists||o.exists===e.isFoundDocument()}class Up{}function Mv(o,e){if(!o.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return o.isNoDocument()?new al(o.key,br.none()):new ed(o.key,o.data,br.none());{const t=o.data,i=yo.empty();let a=new $i(Fr.comparator);for(let u of e.fields)if(!a.has(u)){let m=t.field(u);null===m&&u.length>1&&(u=u.popLast(),m=t.field(u)),null===m?i.delete(u):i.set(u,m),a=a.add(u)}return new Jc(o.key,i,new rs(a.toArray()),br.none())}}function Yg(o,e,t){o instanceof ed?function(a,u,m){const x=a.value.clone(),M=ah(a.fieldTransforms,u,m.transformResults);x.setAll(M),u.convertToFoundDocument(m.version,x).setHasCommittedMutations()}(o,e,t):o instanceof Jc?function(a,u,m){if(!Vp(a.precondition,u))return void u.convertToUnknownDocument(m.version);const x=ah(a.fieldTransforms,u,m.transformResults),M=u.data;M.setAll(Ov(a)),M.setAll(x),u.convertToFoundDocument(m.version,M).setHasCommittedMutations()}(o,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Tf(o,e,t,i){return o instanceof ed?function(u,m,x,M){if(!Vp(u.precondition,m))return x;const $=u.value.clone(),ue=kv(u.fieldTransforms,M,m);return $.setAll(ue),m.convertToFoundDocument(m.version,$).setHasLocalMutations(),null}(o,e,t,i):o instanceof Jc?function(u,m,x,M){if(!Vp(u.precondition,m))return x;const $=kv(u.fieldTransforms,M,m),ue=m.data;return ue.setAll(Ov(u)),ue.setAll($),m.convertToFoundDocument(m.version,ue).setHasLocalMutations(),null===x?null:x.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(Ie=>Ie.field))}(o,e,t,i):(x=t,Vp(o.precondition,m=e)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):x);var m,x}function Pv(o,e){let t=null;for(const i of o.fieldTransforms){const a=e.data.field(i.field),u=sh(i.transform,a||null);null!=u&&(null===t&&(t=yo.empty()),t.set(i.field,u))}return t||null}function Rv(o,e){return o.type===e.type&&!!o.key.isEqual(e.key)&&!!o.precondition.isEqual(e.precondition)&&(a=e.fieldTransforms,!!(void 0===(i=o.fieldTransforms)&&void 0===a||i&&a&&Bc(i,a,(u,m)=>function NE(o,e){return o.field.isEqual(e.field)&&(a=e.transform,(i=o.transform)instanceof Nl&&a instanceof Nl||i instanceof uc&&a instanceof uc?Bc(i.elements,a.elements,ra):i instanceof Va&&a instanceof Va?ra(i.Pe,a.Pe):i instanceof Fl&&a instanceof Fl);var i,a}(u,m))))&&(0===o.type?o.value.isEqual(e.value):1!==o.type||o.data.isEqual(e.data)&&o.fieldMask.isEqual(e.fieldMask));var i,a}class ed extends Up{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Jc extends Up{constructor(e,t,i,a,u=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Ov(o){const e=new Map;return o.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=o.data.field(t);e.set(t,i)}}),e}function ah(o,e,t){const i=new Map;Yn(o.length===t.length);for(let a=0;a<t.length;a++){const u=o[a],m=u.transform,x=e.data.field(u.field);i.set(u.field,cc(m,x,t[a]))}return i}function kv(o,e,t){const i=new Map;for(const a of o){const u=a.transform,m=t.data.field(a.field);i.set(a.field,Cf(u,m,e))}return i}class al extends Up{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class td extends Up{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qg{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&Yg(u,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Tf(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Tf(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Mr();return this.mutations.forEach(a=>{const u=e.get(a.key),m=u.overlayedDocument;let x=this.applyToLocalView(m,u.mutatedFields);x=t.has(a.key)?null:x;const M=Mv(m,x);null!==M&&i.set(a.key,M),m.isValidDocument()||m.convertToNoDocument(ei.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),xi())}isEqual(e){return this.batchId===e.batchId&&Bc(this.mutations,e.mutations,(t,i)=>Rv(t,i))&&Bc(this.baseMutations,e.baseMutations,(t,i)=>Rv(t,i))}}class zp{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){Yn(e.mutations.length===i.length);let a=rh;const u=e.mutations;for(let m=0;m<u.length;m++)a=a.insert(u[m].key,i[m].version);return new zp(e,t,i,a)}}class Qg{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class LE{constructor(e,t){this.count=e,this.unchangedNames=t}}var bo,zi;function Hp(o){switch(o){default:return jn();case Yt.CANCELLED:case Yt.UNKNOWN:case Yt.DEADLINE_EXCEEDED:case Yt.RESOURCE_EXHAUSTED:case Yt.INTERNAL:case Yt.UNAVAILABLE:case Yt.UNAUTHENTICATED:return!1;case Yt.INVALID_ARGUMENT:case Yt.NOT_FOUND:case Yt.ALREADY_EXISTS:case Yt.PERMISSION_DENIED:case Yt.FAILED_PRECONDITION:case Yt.ABORTED:case Yt.OUT_OF_RANGE:case Yt.UNIMPLEMENTED:case Yt.DATA_LOSS:return!0}}function jp(o){if(void 0===o)return wr("GRPC error has no .code"),Yt.UNKNOWN;switch(o){case bo.OK:return Yt.OK;case bo.CANCELLED:return Yt.CANCELLED;case bo.UNKNOWN:return Yt.UNKNOWN;case bo.DEADLINE_EXCEEDED:return Yt.DEADLINE_EXCEEDED;case bo.RESOURCE_EXHAUSTED:return Yt.RESOURCE_EXHAUSTED;case bo.INTERNAL:return Yt.INTERNAL;case bo.UNAVAILABLE:return Yt.UNAVAILABLE;case bo.UNAUTHENTICATED:return Yt.UNAUTHENTICATED;case bo.INVALID_ARGUMENT:return Yt.INVALID_ARGUMENT;case bo.NOT_FOUND:return Yt.NOT_FOUND;case bo.ALREADY_EXISTS:return Yt.ALREADY_EXISTS;case bo.PERMISSION_DENIED:return Yt.PERMISSION_DENIED;case bo.FAILED_PRECONDITION:return Yt.FAILED_PRECONDITION;case bo.ABORTED:return Yt.ABORTED;case bo.OUT_OF_RANGE:return Yt.OUT_OF_RANGE;case bo.UNIMPLEMENTED:return Yt.UNIMPLEMENTED;case bo.DATA_LOSS:return Yt.DATA_LOSS;default:return jn()}}(zi=bo||(bo={}))[zi.OK=0]="OK",zi[zi.CANCELLED=1]="CANCELLED",zi[zi.UNKNOWN=2]="UNKNOWN",zi[zi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zi[zi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zi[zi.NOT_FOUND=5]="NOT_FOUND",zi[zi.ALREADY_EXISTS=6]="ALREADY_EXISTS",zi[zi.PERMISSION_DENIED=7]="PERMISSION_DENIED",zi[zi.UNAUTHENTICATED=16]="UNAUTHENTICATED",zi[zi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zi[zi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zi[zi.ABORTED=10]="ABORTED",zi[zi.OUT_OF_RANGE=11]="OUT_OF_RANGE",zi[zi.UNIMPLEMENTED=12]="UNIMPLEMENTED",zi[zi.INTERNAL=13]="INTERNAL",zi[zi.UNAVAILABLE=14]="UNAVAILABLE",zi[zi.DATA_LOSS=15]="DATA_LOSS";function Gp(){return new TextEncoder}const Af=new uo([4294967295,4294967295],0);function Nv(o){const e=Gp().encode(o),t=new is;return t.update(e),new Uint8Array(t.digest())}function Lv(o){const e=new DataView(o.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new uo([t,i],0),new uo([a,u],0)]}class Xg{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Df(`Invalid padding: ${t}`);if(i<0)throw new Df(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new Df(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new Df(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=uo.fromNumber(this.Ie)}Ee(e,t,i){let a=e.add(t.multiply(uo.fromNumber(i)));return 1===a.compare(Af)&&(a=new uo([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=Nv(e),[i,a]=Lv(t);for(let u=0;u<this.hashCount;u++){const m=this.Ee(i,a,u);if(!this.de(m))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),m=new Xg(u,a,t);return i.forEach(x=>m.insert(x)),m}insert(e){if(0===this.Ie)return;const t=Nv(e),[i,a]=Lv(t);for(let u=0;u<this.hashCount;u++){const m=this.Ee(i,a,u);this.Ae(m)}}Ae(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Df extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sf{constructor(e,t,i,a,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,Mf.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Sf(ei.min(),a,new yr(_i),At(),xi())}}class Mf{constructor(e,t,i,a,u){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Mf(i,t,xi(),xi(),xi())}}class Wp{constructor(e,t,i,a){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=a}}class nd{constructor(e,t){this.targetId=e,this.me=t}}class Ll{constructor(e,t,i=to.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class Bv{constructor(){this.fe=0,this.ge=UE(),this.pe=to.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=xi(),t=xi(),i=xi();return this.ge.forEach((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:jn()}}),new Mf(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=UE()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Yn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class BE{constructor(e){this.Le=e,this.Be=new Map,this.ke=At(),this.qe=VE(),this.Qe=new yr(_i)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:jn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,a)=>{this.ze(a)&&t(a)})}He(e){const t=e.targetId,i=e.me.count,a=this.Je(t);if(a){const u=a.target;if(Qc(u))if(0===i){const m=new Rn(u.path);this.Ue(t,m,Yi.newNoDocument(m,ei.min()))}else Yn(1===i);else{const m=this.Ye(t);if(m!==i){const x=this.Ze(e),M=x?this.Xe(x,e,m):1;0!==M&&(this.je(t),this.Qe=this.Qe.insert(t,2===M?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:u=0}=t;let m,x;try{m=il(i).toUint8Array()}catch(M){if(M instanceof hf)return eo("Decoding the base64 bloom filter in existence filter failed ("+M.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw M}try{x=new Xg(m,a,u)}catch(M){return eo(M instanceof Df?"BloomFilter error: ":"Applying bloom filter failed: ",M),null}return 0===x.Ie?null:x}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let a=0;return i.forEach(u=>{const m=this.Le.tt(),x=`projects/${m.projectId}/databases/${m.database}/documents/${u.path.canonicalString()}`;e.mightContain(x)||(this.Ue(t,u,null),a++)}),a}rt(e){const t=new Map;this.Be.forEach((u,m)=>{const x=this.Je(m);if(x){if(u.current&&Qc(x.target)){const M=new Rn(x.target.path);null!==this.ke.get(M)||this.it(m,M)||this.Ue(m,M,Yi.newNoDocument(M,e))}u.be&&(t.set(m,u.ve()),u.Ce())}});let i=xi();this.qe.forEach((u,m)=>{let x=!0;m.forEachWhile(M=>{const $=this.Je(M);return!$||"TargetPurposeLimboResolution"===$.purpose||(x=!1,!1)}),x&&(i=i.add(u))}),this.ke.forEach((u,m)=>m.setReadTime(e));const a=new Sf(e,t,this.Qe,this.ke,i);return this.ke=At(),this.qe=VE(),this.Qe=new yr(_i),a}$e(e,t){if(!this.ze(e))return;const i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;const a=this.Ge(e);this.it(e,t)?a.Fe(t,1):a.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Bv,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new $i(_i),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||un("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Bv),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function VE(){return new yr(Rn.comparator)}function UE(){return new yr(Rn.comparator)}const Vv={asc:"ASCENDING",desc:"DESCENDING"},PC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Uv={and:"AND",or:"OR"};class zv{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Jg(o,e){return o.useProto3Json||nc(e)?e:{value:e}}function id(o,e){return o.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Hv(o,e){return o.useProto3Json?e.toBase64():e.toUint8Array()}function zE(o,e){return id(o,e.toTimestamp())}function ar(o){return Yn(!!o),ei.fromTimestamp(function(t){const i=Oa(t);return new Dr(i.seconds,i.nanos)}(o))}function e_(o,e){return Zp(o,e).canonicalString()}function Zp(o,e){const t=(a=o,new ki(["projects",a.projectId,"databases",a.database])).child("documents");var a;return void 0===e?t:t.child(e)}function jv(o){const e=ki.fromString(o);return Yn(WE(e)),e}function Pf(o,e){return e_(o.databaseId,e.path)}function Bl(o,e){const t=jv(e);if(t.get(1)!==o.databaseId.projectId)throw new dn(Yt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+o.databaseId.projectId);if(t.get(3)!==o.databaseId.database)throw new dn(Yt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+o.databaseId.database);return new Rn(Gv(t))}function $v(o,e){return e_(o.databaseId,e)}function t_(o){const e=jv(o);return 4===e.length?ki.emptyPath():Gv(e)}function n_(o){return new ki(["projects",o.databaseId.projectId,"databases",o.databaseId.database]).canonicalString()}function Gv(o){return Yn(o.length>4&&"documents"===o.get(4)),o.popFirst(5)}function Wv(o,e,t){return{name:Pf(o,e),fields:t.value.mapValue.fields}}function Ii(o,e,t){const i=Bl(o,e.name),a=ar(e.updateTime),u=e.createTime?ar(e.createTime):ei.min(),m=new yo({mapValue:{fields:e.fields}}),x=Yi.newFoundDocument(i,a,u,m);return t&&x.setHasCommittedMutations(),t?x.setHasCommittedMutations():x}function lh(o,e){let t;if(e instanceof ed)t={update:Wv(o,e.key,e.value)};else if(e instanceof al)t={delete:Pf(o,e.key)};else if(e instanceof Jc)t={update:Wv(o,e.key,e.data),updateMask:GE(e.fieldMask)};else{if(!(e instanceof td))return jn();t={verify:Pf(o,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(u,m){const x=m.transform;if(x instanceof Fl)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(x instanceof Nl)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:x.elements}};if(x instanceof uc)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:x.elements}};if(x instanceof Va)return{fieldPath:m.field.canonicalString(),increment:x.Pe};throw jn()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:zE(o,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:jn()),t;var u}function i_(o,e){const t=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?br.updateTime(ar(u.updateTime)):void 0!==u.exists?br.exists(u.exists):br.none():br.none(),i=e.updateTransforms?e.updateTransforms.map(a=>function(m,x){let M=null;"setToServerValue"in x?(Yn("REQUEST_TIME"===x.setToServerValue),M=new Fl):"appendMissingElements"in x?M=new Nl(x.appendMissingElements.values||[]):"removeAllFromArray"in x?M=new uc(x.removeAllFromArray.values||[]):"increment"in x?M=new Va(m,x.increment):jn();const $=Fr.fromServerFormat(x.fieldPath);return new If($,M)}(o,a)):[];var u;if(e.update){const a=Bl(o,e.update.name),u=new yo({mapValue:{fields:e.update.fields}});if(e.updateMask){const m=new rs((e.updateMask.fieldPaths||[]).map(ue=>Fr.fromServerFormat(ue)));return new Jc(a,u,m,t,i)}return new ed(a,u,t,i)}if(e.delete){const a=Bl(o,e.delete);return new al(a,t)}if(e.verify){const a=Bl(o,e.verify);return new td(a,t)}return jn()}function r_(o,e){return{documents:[$v(o,e.path)]}}function Kp(o,e){const t={structuredQuery:{}},i=e.path;let a;null!==e.collectionGroup?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=$v(o,a);const u=function($){if(0!==$.length)return Yp(sr.create($,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const m=function($){if(0!==$.length)return $.map(ue=>{return{field:eu((Je=ue).field),direction:qv(Je.dir)};var Je})}(e.orderBy);m&&(t.structuredQuery.orderBy=m);const x=Jg(o,e.limit);return null!==x&&(t.structuredQuery.limit=x),e.startAt&&(t.structuredQuery.startAt={before:($=e.startAt).inclusive,values:$.position}),e.endAt&&(t.structuredQuery.endAt=function($){return{before:!$.inclusive,values:$.position}}(e.endAt)),{_t:t,parent:a};var $}function Yv(o){let e=t_(o.parent);const t=o.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){Yn(1===i);const ue=t.from[0];ue.allDescendants?a=ue.collectionId:e=e.child(ue.collectionId)}let u=[];t.where&&(u=function(Ie){const Je=$E(Ie);return Je instanceof sr&&Zu(Je)?Je.getFilters():[Je]}(t.where));let m=[];t.orderBy&&(m=t.orderBy.map(Je=>{return new Wu(tu((Ft=Je).field),function(qt){switch(qt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ft.direction));var Ft}));let x=null;t.limit&&(x=function(Ie){let Je;return Je="object"==typeof Ie?Ie.value:Ie,nc(Je)?null:Je}(t.limit));let M=null;var Ie;t.startAt&&(M=new Ol((Ie=t.startAt).values||[],!!Ie.before));let $=null;return t.endAt&&($=function(Ie){return new Ol(Ie.values||[],!Ie.before)}(t.endAt)),eh(e,a,m,u,x,"F",M,$)}function $E(o){return void 0!==o.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=tu(t.unaryFilter.field);return Ai.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=tu(t.unaryFilter.field);return Ai.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=tu(t.unaryFilter.field);return Ai.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=tu(t.unaryFilter.field);return Ai.create(m,"!=",{nullValue:"NULL_VALUE"});default:return jn()}}(o):void 0!==o.fieldFilter?Ai.create(tu((t=o).fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return jn()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==o.compositeFilter?function(t){return sr.create(t.compositeFilter.filters.map(i=>$E(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return jn()}}(t.compositeFilter.op))}(o):jn();var t}function qv(o){return Vv[o]}function Qv(o){return PC[o]}function rd(o){return Uv[o]}function eu(o){return{fieldPath:o.canonicalString()}}function tu(o){return Fr.fromServerFormat(o.fieldPath)}function Yp(o){return o instanceof Ai?function(t){if("=="===t.op){if(Pp(t.value))return{unaryFilter:{field:eu(t.field),op:"IS_NAN"}};if(ol(t.value))return{unaryFilter:{field:eu(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Pp(t.value))return{unaryFilter:{field:eu(t.field),op:"IS_NOT_NAN"}};if(ol(t.value))return{unaryFilter:{field:eu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eu(t.field),op:Qv(t.op),value:t.value}}}(o):o instanceof sr?function(t){const i=t.getFilters().map(a=>Yp(a));return 1===i.length?i[0]:{compositeFilter:{op:rd(t.op),filters:i}}}(o):jn()}function GE(o){const e=[];return o.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function WE(o){return o.length>=4&&"projects"===o.get(0)&&"databases"===o.get(2)}class nu{constructor(e,t,i,a,u=ei.min(),m=ei.min(),x=to.EMPTY_BYTE_STRING,M=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=x,this.expectedCount=M}withSequenceNumber(e){return new nu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new nu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new nu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new nu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ZE{constructor(e){this.ct=e}}function s_(o,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:a_(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Pf(u=o.ct,(m=e).key),fields:m.data.value.mapValue.fields,updateTime:id(u,m.version.toTimestamp()),createTime:id(u,m.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:od(e.version)};else{if(!e.isUnknownDocument())return jn();i.unknownDocument={path:t.path.toArray(),version:od(e.version)}}var u,m;return i}function a_(o){const e=o.toTimestamp();return[e.seconds,e.nanoseconds]}function od(o){const e=o.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ua(o){const e=new Dr(o.seconds,o.nanoseconds);return ei.fromTimestamp(e)}function sd(o,e){const t=(e.baseMutations||[]).map(u=>i_(o.ct,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const i=e.mutations.map(u=>i_(o.ct,u)),a=Dr.fromMillis(e.localWriteTimeMs);return new qg(e.batchId,a,t,i)}function ch(o){const e=Ua(o.readTime),t=void 0!==o.lastLimboFreeSnapshotVersion?Ua(o.lastLimboFreeSnapshotVersion):ei.min();let i;return i=void 0!==o.query.documents?(Yn(1===(u=o.query).documents.length),Oo(Xc(t_(u.documents[0])))):function(u){return Oo(Yv(u))}(o.query),new nu(i,o.targetId,"TargetPurposeListen",o.lastListenSequenceNumber,e,t,to.fromBase64String(o.resumeToken));var u}function Rf(o,e){const t=od(e.snapshotVersion),i=od(e.lastLimboFreeSnapshotVersion);let a;a=Qc(e.target)?r_(o.ct,e.target):Kp(o.ct,e.target)._t;const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:oc(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:a}}function l_(o){const e=Yv({parent:o.parent,structuredQuery:o.structuredQuery});return"LAST"===o.limitType?Qu(e,e.limit,"L"):e}function qp(o,e){return new Qg(e.largestBatchId,i_(o.ct,e.overlayMutation))}function Xv(o,e){const t=e.path.lastSegment();return[o,Ui(e.path.popLast()),t]}function Jv(o,e,t,i){return{indexId:o,uid:e,sequenceNumber:t,readTime:od(i.readTime),documentKey:Ui(i.documentKey.path),largestBatchId:i.largestBatchId}}class YE{getBundleMetadata(e,t){return ey(e).get(t).next(i=>{if(i)return{id:(u=i).bundleId,createTime:Ua(u.createTime),version:u.version};var u})}saveBundleMetadata(e,t){return ey(e).put({bundleId:(a=t).id,createTime:od(ar(a.createTime)),version:a.version});var a}getNamedQuery(e,t){return ty(e).get(t).next(i=>{if(i)return{name:(u=i).name,query:l_(u.bundledQuery),readTime:Ua(u.readTime)};var u})}saveNamedQuery(e,t){return ty(e).put({name:(a=t).name,readTime:od(ar(a.readTime)),bundledQuery:a.bundledQuery});var a}}function ey(o){return vo(o,"bundles")}function ty(o){return vo(o,"namedQueries")}class Of{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){return new Of(e,t.uid||"")}getOverlay(e,t){return kf(e).get(Xv(this.userId,t)).next(i=>i?qp(this.serializer,i):null)}getOverlays(e,t){const i=kn();return Nt.forEach(t,a=>this.getOverlay(e,a).next(u=>{null!==u&&i.set(a,u)})).next(()=>i)}saveOverlays(e,t,i){const a=[];return i.forEach((u,m)=>{const x=new Qg(t,m);a.push(this.ht(e,x))}),Nt.waitFor(a)}removeOverlaysForBatchId(e,t,i){const a=new Set;t.forEach(m=>a.add(Ui(m.getCollectionPath())));const u=[];return a.forEach(m=>{const x=IDBKeyRange.bound([this.userId,m,i],[this.userId,m,i+1],!1,!0);u.push(kf(e).j("collectionPathOverlayIndex",x))}),Nt.waitFor(u)}getOverlaysForCollection(e,t,i){const a=kn(),u=Ui(t),m=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,Number.POSITIVE_INFINITY],!0);return kf(e).U("collectionPathOverlayIndex",m).next(x=>{for(const M of x){const $=qp(this.serializer,M);a.set($.getKey(),$)}return a})}getOverlaysForCollectionGroup(e,t,i,a){const u=kn();let m;const x=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return kf(e).J({index:"collectionGroupOverlayIndex",range:x},(M,$,ue)=>{const Ie=qp(this.serializer,$);u.size()<a||Ie.largestBatchId===m?(u.set(Ie.getKey(),Ie),m=Ie.largestBatchId):ue.done()}).next(()=>u)}ht(e,t){return kf(e).put(function(a,u,m){const[x,M,$]=Xv(u,m.mutation.key);return{userId:u,collectionPath:M,documentId:$,collectionGroup:m.mutation.key.getCollectionGroup(),largestBatchId:m.largestBatchId,overlayMutation:lh(a.ct,m.mutation)}}(this.serializer,this.userId,t))}}function kf(o){return vo(o,"documentOverlays")}class ny{Pt(e){return vo(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(t=>{const i=t?.value;return i?to.fromUint8Array(i):to.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.Pt(e).put({name:"sessionToken",value:t.toUint8Array()})}}class iu{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Sr(e.integerValue));else if("doubleValue"in e){const i=Sr(e.doubleValue);isNaN(i)?this.dt(t,13):(this.dt(t,15),Hc(i)?t.At(0):t.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(t,20),"string"==typeof i&&(i=Oa(i)),t.Rt(`${i.seconds||""}`),t.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(il(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.dt(t,45),t.At(i.latitude||0),t.At(i.longitude||0)}else"mapValue"in e?Zd(e)?this.dt(t,Number.MAX_SAFE_INTEGER):$u(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):jn()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const i=e.fields||{};this.dt(t,55);for(const a of Object.keys(i))this.Vt(a,t),this.Tt(i[a],t)}wt(e,t){var i,a;const u=e.fields||{};this.dt(t,53);const m="value",x=(null===(a=null===(i=u[m].arrayValue)||void 0===i?void 0:i.values)||void 0===a?void 0:a.length)||0;this.dt(t,15),t.At(Sr(x)),this.Vt(m,t),this.Tt(u[m],t)}bt(e,t){const i=e.values||[];this.dt(t,50);for(const a of i)this.Tt(a,t)}yt(e,t){this.dt(t,37),Rn.fromName(e).path.forEach(i=>{this.dt(t,60),this.Dt(i,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}function c_(o){if(0===o)return 8;let e=0;return!(o>>4)&&(e+=4,o<<=4),!(o>>6)&&(e+=2,o<<=2),!(o>>7)&&(e+=1),e}function qE(o){const e=64-function(i){let a=0;for(let u=0;u<8;++u){const m=c_(255&i[u]);if(a+=m,8!==m)break}return a}(o);return Math.ceil(e/8)}iu.vt=new iu;class u_{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ft(i.value),i=t.next();this.Mt()}xt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ot(i.value),i=t.next();this.Nt()}Lt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{const a=t.codePointAt(0);this.Ft(240|a>>>18),this.Ft(128|63&a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a)}}this.Mt()}Bt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ot(i);else if(i<2048)this.Ot(960|i>>>6),this.Ot(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ot(480|i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i);else{const a=t.codePointAt(0);this.Ot(240|a>>>18),this.Ot(128|63&a>>>12),this.Ot(128|63&a>>>6),this.Ot(128|63&a)}}this.Nt()}kt(e){const t=this.qt(e),i=qE(t);this.Qt(1+i),this.buffer[this.position++]=255&i;for(let a=t.length-i;a<t.length;++a)this.buffer[this.position++]=255&t[a]}Kt(e){const t=this.qt(e),i=qE(t);this.Qt(1+i),this.buffer[this.position++]=~(255&i);for(let a=t.length-i;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const t=function(u){const m=new DataView(new ArrayBuffer(8));return m.setFloat64(0,u,!1),new Uint8Array(m.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let a=1;a<t.length;++a)t[a]^=i?255:0;return t}Ft(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(t)}Ot(e){const t=255&e;0===t?(this.Gt(0),this.Gt(255)):255===t?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const a=new Uint8Array(i);a.set(this.buffer),this.buffer=a}}class QE{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class RC{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Vl{constructor(){this.jt=new u_,this.Ht=new QE(this.jt),this.Jt=new RC(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return 0===e?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class ru{constructor(e,t,i,a){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=a}Zt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new ru(this.indexId,this.documentKey,this.arrayValue,i)}}function ou(o,e){let t=o.indexId-e.indexId;return 0!==t?t:(t=d_(o.arrayValue,e.arrayValue),0!==t?t:(t=d_(o.directionalValue,e.directionalValue),0!==t?t:Rn.comparator(o.documentKey,e.documentKey)))}function d_(o,e){for(let t=0;t<o.length&&t<e.length;++t){const i=o[t]-e[t];if(0!==i)return i}return o.length-e.length}class iy{constructor(e){this.Xt=new $i((t,i)=>Fr.comparator(t.field,i.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const t of e.filters){const i=t;i.isInequality()?this.Xt=this.Xt.add(i):this.tn.push(i)}}get nn(){return this.Xt.size>1}rn(e){if(Yn(e.collectionGroup===this.collectionId),this.nn)return!1;const t=ec(e);if(void 0!==t&&!this.sn(t))return!1;const i=Tl(e);let a=new Set,u=0,m=0;for(;u<i.length&&this.sn(i[u]);++u)a=a.add(i[u].fieldPath.canonicalString());if(u===i.length)return!0;if(this.Xt.size>0){const x=this.Xt.getIterator().getNext();if(!a.has(x.field.canonicalString())){const M=i[u];if(!this.on(x,M)||!this._n(this.en[m++],M))return!1}++u}for(;u<i.length;++u)if(m>=this.en.length||!this._n(this.en[m++],i[u]))return!1;return!0}an(){if(this.nn)return null;let e=new $i(Fr.comparator);const t=[];for(const i of this.tn)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)t.push(new _a(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new _a(i.field,0))}for(const i of this.en)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new _a(i.field,"asc"===i.dir?0:1)));return new Il(Il.UNKNOWN_ID,this.collectionId,t,Uc.empty())}sn(e){for(const t of this.tn)if(this.on(t,e))return!0;return!1}on(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}_n(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function ry(o){var e,t;if(Yn(o instanceof Ai||o instanceof sr),o instanceof Ai){if(o instanceof qu){const a=(null===(t=null===(e=o.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>Ai.create(o.field,"==",u)))||[];return sr.create(a,"or")}return o}const i=o.filters.map(a=>ry(a));return sr.create(i,o.op)}function Qp(o){if(0===o.getFilters().length)return[];const e=Nf(ry(o));return Yn(uh(e)),su(e)||Ff(e)?[e]:e.getFilters()}function su(o){return o instanceof Ai}function Ff(o){return o instanceof sr&&Zu(o)}function uh(o){return su(o)||Ff(o)||function(t){if(t instanceof sr&&qd(t)){for(const i of t.getFilters())if(!su(i)&&!Ff(i))return!1;return!0}return!1}(o)}function Nf(o){if(Yn(o instanceof Ai||o instanceof sr),o instanceof Ai)return o;if(1===o.filters.length)return Nf(o.filters[0]);const e=o.filters.map(i=>Nf(i));let t=sr.create(e,o.op);return t=hh(t),uh(t)?t:(Yn(t instanceof sr),Yn(qc(t)),Yn(t.filters.length>1),t.filters.reduce((i,a)=>dh(i,a)))}function dh(o,e){let t;return Yn(o instanceof Ai||o instanceof sr),Yn(e instanceof Ai||e instanceof sr),t=o instanceof Ai?e instanceof Ai?sr.create([o,e],"and"):h_(o,e):e instanceof Ai?h_(e,o):function(a,u){if(Yn(a.filters.length>0&&u.filters.length>0),qc(a)&&qc(u))return Jd(a,u.getFilters());const m=qd(a)?a:u,x=qd(a)?u:a,M=m.filters.map($=>dh($,x));return sr.create(M,"or")}(o,e),hh(t)}function h_(o,e){if(qc(e))return Jd(e,o.getFilters());{const t=e.filters.map(i=>dh(o,i));return sr.create(t,"or")}}function hh(o){if(Yn(o instanceof Ai||o instanceof sr),o instanceof Ai)return o;const e=o.getFilters();if(1===e.length)return hh(e[0]);if(Qd(o))return o;const t=e.map(a=>hh(a)),i=[];return t.forEach(a=>{a instanceof Ai?i.push(a):a instanceof sr&&(a.op===o.op?i.push(...a.filters):i.push(a))}),1===i.length?i[0]:sr.create(i,o.op)}class f_{constructor(){this.un=new Lf}addToCollectionParentIndex(e,t){return this.un.add(t),Nt.resolve()}getCollectionParents(e,t){return Nt.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return Nt.resolve()}deleteFieldIndex(e,t){return Nt.resolve()}deleteAllFieldIndexes(e){return Nt.resolve()}createTargetIndexes(e,t){return Nt.resolve()}getDocumentsMatchingTarget(e,t){return Nt.resolve(null)}getIndexType(e,t){return Nt.resolve(0)}getFieldIndexes(e,t){return Nt.resolve([])}getNextCollectionGroupToUpdate(e){return Nt.resolve(null)}getMinOffset(e,t){return Nt.resolve(vs.min())}getMinOffsetFromCollectionGroup(e,t){return Nt.resolve(vs.min())}updateCollectionGroup(e,t,i){return Nt.resolve()}updateIndexEntries(e,t){return Nt.resolve()}}class Lf{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new $i(ki.comparator),u=!a.has(i);return this.index[t]=a.add(i),u}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new $i(ki.comparator)).toArray()}}const Bf=new Uint8Array(0);class p_{constructor(e,t){this.databaseId=t,this.cn=new Lf,this.ln=new be(i=>oc(i),(i,a)=>sc(i,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.cn.has(t)){const i=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.cn.add(t)});const u={collectionId:i,parent:Ui(a)};return oy(e).put(u)}return Nt.resolve()}getCollectionParents(e,t){const i=[],a=IDBKeyRange.bound([t,""],[Jl(t),""],!1,!0);return oy(e).U(a).next(u=>{for(const m of u){if(m.collectionId!==t)break;i.push(na(m.parent))}return i})}addFieldIndex(e,t){const i=ph(e),a={indexId:(x=t).indexId,collectionGroup:x.collectionGroup,fields:x.fields.map(M=>[M.fieldPath.canonicalString(),M.kind])};var x;delete a.indexId;const u=i.add(a);if(t.indexState){const m=mh(e);return u.next(x=>{m.put(Jv(x,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const i=ph(e),a=mh(e),u=fh(e);return i.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=ph(e),i=fh(e),a=mh(e);return t.j().next(()=>i.j()).next(()=>a.j())}createTargetIndexes(e,t){return Nt.forEach(this.hn(t),i=>this.getIndexType(e,i).next(a=>{if(0===a||1===a){const u=new iy(i).an();if(null!=u)return this.addFieldIndex(e,u)}}))}getDocumentsMatchingTarget(e,t){const i=fh(e);let a=!0;const u=new Map;return Nt.forEach(this.hn(t),m=>this.Pn(e,m).next(x=>{a&&(a=!!x),u.set(m,x)})).next(()=>{if(a){let m=xi();const x=[];return Nt.forEach(u,(M,$)=>{var vn;un("IndexedDbIndexManager",`Using index ${vn=M,`id=${vn.indexId}|cg=${vn.collectionGroup}|f=${vn.fields.map(Un=>`${Un.fieldPath}:${Un.kind}`).join(",")}`} to execute ${oc(t)}`);const ue=function(vn,Un){const gi=ec(Un);if(void 0===gi)return null;for(const ci of yf(vn,gi.fieldPath))switch(ci.op){case"array-contains-any":return ci.value.arrayValue.values||[];case"array-contains":return[ci.value]}return null}($,M),Ie=function(vn,Un){const gi=new Map;for(const ci of Tl(Un))for(const Ct of yf(vn,ci.fieldPath))switch(Ct.op){case"==":case"in":gi.set(ci.fieldPath.canonicalString(),Ct.value);break;case"not-in":case"!=":return gi.set(ci.fieldPath.canonicalString(),Ct.value),Array.from(gi.values())}return null}($,M),Je=function(vn,Un){const gi=[];let ci=!0;for(const Ct of Tl(Un)){const it=0===Ct.kind?Lp(vn,Ct.fieldPath,vn.startAt):Xo(vn,Ct.fieldPath,vn.startAt);gi.push(it.value),ci&&(ci=it.inclusive)}return new Ol(gi,ci)}($,M),yt=function(vn,Un){const gi=[];let ci=!0;for(const Ct of Tl(Un)){const it=0===Ct.kind?Xo(vn,Ct.fieldPath,vn.endAt):Lp(vn,Ct.fieldPath,vn.endAt);gi.push(it.value),ci&&(ci=it.inclusive)}return new Ol(gi,ci)}($,M),Ft=this.In(M,$,Je),Kt=this.In(M,$,yt),qt=this.Tn(M,$,Ie),Cn=this.En(M.indexId,ue,Ft,Je.inclusive,Kt,yt.inclusive,qt);return Nt.forEach(Cn,Fn=>i.G(Fn,t.limit).next(vn=>{vn.forEach(Un=>{const gi=Rn.fromSegments(Un.documentKey);m.has(gi)||(m=m.add(gi),x.push(gi))})}))}).next(()=>x)}return Nt.resolve(null)})}hn(e){let t=this.ln.get(e);return t||(t=0===e.filters.length?[e]:Qp(sr.create(e.filters,"and")).map(i=>sl(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,t),t)}En(e,t,i,a,u,m,x){const M=(null!=t?t.length:1)*Math.max(i.length,u.length),$=M/(null!=t?t.length:1),ue=[];for(let Ie=0;Ie<M;++Ie){const Je=t?this.dn(t[Ie/$]):Bf,yt=this.An(e,Je,i[Ie%$],a),Ft=this.Rn(e,Je,u[Ie%$],m),Kt=x.map(qt=>this.An(e,Je,qt,!0));ue.push(...this.createRange(yt,Ft,Kt))}return ue}An(e,t,i,a){const u=new ru(e,Rn.empty(),t,i);return a?u:u.Zt()}Rn(e,t,i,a){const u=new ru(e,Rn.empty(),t,i);return a?u.Zt():u}Pn(e,t){const i=new iy(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(u=>{let m=null;for(const x of u)i.rn(x)&&(!m||x.fields.length>m.fields.length)&&(m=x);return m})}getIndexType(e,t){let i=2;const a=this.hn(t);return Nt.forEach(a,u=>this.Pn(e,u).next(m=>{m?0!==i&&m.fields.length<function(M){let $=new $i(Fr.comparator),ue=!1;for(const Ie of M.filters)for(const Je of Ie.getFlattenedFilters())Je.field.isKeyField()||("array-contains"===Je.op||"array-contains-any"===Je.op?ue=!0:$=$.add(Je.field));for(const Ie of M.orderBy)Ie.field.isKeyField()||($=$.add(Ie.field));return $.size+(ue?1:0)}(u)&&(i=1):i=0})).next(()=>null!==t.limit&&a.length>1&&2===i?1:i)}Vn(e,t){const i=new Vl;for(const a of Tl(e)){const u=t.data.field(a.fieldPath);if(null==u)return null;const m=i.Yt(a.kind);iu.vt.It(u,m)}return i.zt()}dn(e){const t=new Vl;return iu.vt.It(e,t.Yt(0)),t.zt()}mn(e,t){const i=new Vl;return iu.vt.It(Pl(this.databaseId,t),i.Yt(function(u){const m=Tl(u);return 0===m.length?0:m[m.length-1].kind}(e))),i.zt()}Tn(e,t,i){if(null===i)return[];let a=[];a.push(new Vl);let u=0;for(const m of Tl(e)){const x=i[u++];for(const M of a)if(this.fn(t,m.fieldPath)&&Rl(x))a=this.gn(a,m,x);else{const $=M.Yt(m.kind);iu.vt.It(x,$)}}return this.pn(a)}In(e,t,i){return this.Tn(e,t,i.position)}pn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].zt();return t}gn(e,t,i){const a=[...e],u=[];for(const m of i.arrayValue.values||[])for(const x of a){const M=new Vl;M.seed(x.zt()),iu.vt.It(m,M.Yt(t.kind)),u.push(M)}return u}fn(e,t){return!!e.filters.find(i=>i instanceof Ai&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=ph(e),a=mh(e);return(t?i.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.U()).next(u=>{const m=[];return Nt.forEach(u,x=>a.get([x.indexId,this.uid]).next(M=>{m.push(function(ue,Ie){const Je=Ie?new Uc(Ie.sequenceNumber,new vs(Ua(Ie.readTime),new Rn(na(Ie.documentKey)),Ie.largestBatchId)):Uc.empty(),yt=ue.fields.map(([Ft,Kt])=>new _a(Fr.fromServerFormat(Ft),Kt));return new Il(ue.indexId,ue.collectionGroup,yt,Je)}(x,M))})).next(()=>m)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,a)=>{const u=i.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==u?u:_i(i.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const a=ph(e),u=mh(e);return this.yn(e).next(m=>a.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(x=>Nt.forEach(x,M=>u.put(Jv(M.indexId,this.uid,m,i)))))}updateIndexEntries(e,t){const i=new Map;return Nt.forEach(t,(a,u)=>{const m=i.get(a.collectionGroup);return(m?Nt.resolve(m):this.getFieldIndexes(e,a.collectionGroup)).next(x=>(i.set(a.collectionGroup,x),Nt.forEach(x,M=>this.wn(e,a,M).next($=>{const ue=this.Sn(u,M);return $.isEqual(ue)?Nt.resolve():this.bn(e,u,M,$,ue)}))))})}Dn(e,t,i,a){return fh(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.mn(i,t.key),documentKey:t.key.path.toArray()})}vn(e,t,i,a){return fh(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.mn(i,t.key),t.key.path.toArray()])}wn(e,t,i){const a=fh(e);let u=new $i(ou);return a.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.mn(i,t)])},(m,x)=>{u=u.add(new ru(i.indexId,t,x.arrayValue,x.directionalValue))}).next(()=>u)}Sn(e,t){let i=new $i(ou);const a=this.Vn(t,e);if(null==a)return i;const u=ec(t);if(null!=u){const m=e.data.field(u.fieldPath);if(Rl(m))for(const x of m.arrayValue.values||[])i=i.add(new ru(t.indexId,e.key,this.dn(x),a))}else i=i.add(new ru(t.indexId,e.key,Bf,a));return i}bn(e,t,i,a,u){un("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const m=[];return function(M,$,ue,Ie,Je){const yt=M.getIterator(),Ft=$.getIterator();let Kt=ks(yt),qt=ks(Ft);for(;Kt||qt;){let Cn=!1,Fn=!1;if(Kt&&qt){const vn=ue(Kt,qt);vn<0?Fn=!0:vn>0&&(Cn=!0)}else null!=Kt?Fn=!0:Cn=!0;Cn?(Ie(qt),qt=ks(Ft)):Fn?(Je(Kt),Kt=ks(yt)):(Kt=ks(yt),qt=ks(Ft))}}(a,u,ou,x=>{m.push(this.Dn(e,t,i,x))},x=>{m.push(this.vn(e,t,i,x))}),Nt.waitFor(m)}yn(e){let t=1;return mh(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,a,u)=>{u.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((m,x)=>ou(m,x)).filter((m,x,M)=>!x||0!==ou(m,M[x-1]));const a=[];a.push(e);for(const m of i){const x=ou(m,e),M=ou(m,t);if(0===x)a[0]=e.Zt();else if(x>0&&M<0)a.push(m),a.push(m.Zt());else if(M>0)break}a.push(t);const u=[];for(let m=0;m<a.length;m+=2){if(this.Cn(a[m],a[m+1]))return[];u.push(IDBKeyRange.bound([a[m].indexId,this.uid,a[m].arrayValue,a[m].directionalValue,Bf,[]],[a[m+1].indexId,this.uid,a[m+1].arrayValue,a[m+1].directionalValue,Bf,[]]))}return u}Cn(e,t){return ou(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(m_)}getMinOffset(e,t){return Nt.mapArray(this.hn(t),i=>this.Pn(e,i).next(a=>a||jn())).next(m_)}}function oy(o){return vo(o,"collectionParents")}function fh(o){return vo(o,"indexEntries")}function ph(o){return vo(o,"indexConfiguration")}function mh(o){return vo(o,"indexState")}function m_(o){Yn(0!==o.length);let e=o[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<o.length;i++){const a=o[i].indexState.offset;qh(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new vs(e.readTime,e.documentKey,t)}const g_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ys{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new ys(e,ys.DEFAULT_COLLECTION_PERCENTILE,ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function sy(o,e,t){const i=o.store("mutations"),a=o.store("documentMutations"),u=[],m=IDBKeyRange.only(t.batchId);let x=0;const M=i.J({range:m},(ue,Ie,Je)=>(x++,Je.delete()));u.push(M.next(()=>{Yn(1===x)}));const $=[];for(const ue of t.mutations){const Ie=Tp(e,ue.key.path,t.batchId);u.push(a.delete(Ie)),$.push(ue.key)}return Nt.waitFor(u).next(()=>$)}function bs(o){if(!o)return 0;let e;if(o.document)e=o.document;else if(o.unknownDocument)e=o.unknownDocument;else{if(!o.noDocument)throw jn();e=o.noDocument}return JSON.stringify(e).length}ys.DEFAULT_COLLECTION_PERCENTILE=10,ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ys.DEFAULT=new ys(41943040,ys.DEFAULT_COLLECTION_PERCENTILE,ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ys.DISABLED=new ys(-1,0,0);class Xp{constructor(e,t,i,a){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=a,this.Fn={}}static lt(e,t,i,a){Yn(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Xp(u,t,i,a)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ad(e).J({index:"userMutationsIndex",range:i},(a,u,m)=>{t=!1,m.done()}).next(()=>t)}addMutationBatch(e,t,i,a){const u=au(e),m=ad(e);return m.add({}).next(x=>{Yn("number"==typeof x);const M=new qg(x,t,i,a),$=function(yt,Ft,Kt){const qt=Kt.baseMutations.map(Fn=>lh(yt.ct,Fn)),Cn=Kt.mutations.map(Fn=>lh(yt.ct,Fn));return{userId:Ft,batchId:Kt.batchId,localWriteTimeMs:Kt.localWriteTime.toMillis(),baseMutations:qt,mutations:Cn}}(this.serializer,this.userId,M),ue=[];let Ie=new $i((Je,yt)=>_i(Je.canonicalString(),yt.canonicalString()));for(const Je of a){const yt=Tp(this.userId,Je.key.path,x);Ie=Ie.add(Je.key.path.popLast()),ue.push(m.put($)),ue.push(u.put(yt,Ap))}return Ie.forEach(Je=>{ue.push(this.indexManager.addToCollectionParentIndex(e,Je))}),e.addOnCommittedListener(()=>{this.Fn[x]=M.keys()}),Nt.waitFor(ue).next(()=>M)})}lookupMutationBatch(e,t){return ad(e).get(t).next(i=>i?(Yn(i.userId===this.userId),sd(this.serializer,i)):null)}Mn(e,t){return this.Fn[t]?Nt.resolve(this.Fn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const a=i.keys();return this.Fn[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=IDBKeyRange.lowerBound([this.userId,i]);let u=null;return ad(e).J({index:"userMutationsIndex",range:a},(m,x,M)=>{x.userId===this.userId&&(Yn(x.batchId>=i),u=sd(this.serializer,x)),M.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return ad(e).J({index:"userMutationsIndex",range:t,reverse:!0},(a,u,m)=>{i=u.batchId,m.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ad(e).U("userMutationsIndex",t).next(i=>i.map(a=>sd(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=Dl(this.userId,t.path),a=IDBKeyRange.lowerBound(i),u=[];return au(e).J({range:a},(m,x,M)=>{const[$,ue,Ie]=m,Je=na(ue);if($===this.userId&&t.path.isEqual(Je))return ad(e).get(Ie).next(yt=>{if(!yt)throw jn();Yn(yt.userId===this.userId),u.push(sd(this.serializer,yt))});M.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new $i(_i);const a=[];return t.forEach(u=>{const m=Dl(this.userId,u.path),x=IDBKeyRange.lowerBound(m),M=au(e).J({range:x},($,ue,Ie)=>{const[Je,yt,Ft]=$,Kt=na(yt);Je===this.userId&&u.path.isEqual(Kt)?i=i.add(Ft):Ie.done()});a.push(M)}),Nt.waitFor(a).next(()=>this.xn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1,u=Dl(this.userId,i),m=IDBKeyRange.lowerBound(u);let x=new $i(_i);return au(e).J({range:m},(M,$,ue)=>{const[Ie,Je,yt]=M,Ft=na(Je);Ie===this.userId&&i.isPrefixOf(Ft)?Ft.length===a&&(x=x.add(yt)):ue.done()}).next(()=>this.xn(e,x))}xn(e,t){const i=[],a=[];return t.forEach(u=>{a.push(ad(e).get(u).next(m=>{if(null===m)throw jn();Yn(m.userId===this.userId),i.push(sd(this.serializer,m))}))}),Nt.waitFor(a).next(()=>i)}removeMutationBatch(e,t){return sy(e._e,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.On(t.batchId)}),Nt.forEach(i,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Nt.resolve();const i=IDBKeyRange.lowerBound([this.userId]),a=[];return au(e).J({range:i},(u,m,x)=>{if(u[0]===this.userId){const M=na(u[1]);a.push(M)}else x.done()}).next(()=>{Yn(0===a.length)})})}containsKey(e,t){return ay(e,this.userId,t)}Nn(e){return __(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ay(o,e,t){const i=Dl(e,t.path),a=i[1],u=IDBKeyRange.lowerBound(i);let m=!1;return au(o).J({range:u,H:!0},(x,M,$)=>{const[ue,Ie,Je]=x;ue===e&&Ie===a&&(m=!0),$.done()}).next(()=>m)}function ad(o){return vo(o,"mutations")}function au(o){return vo(o,"documentMutations")}function __(o){return vo(o,"mutationQueues")}class ld{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ld(0)}static kn(){return new ld(-1)}}class XE{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.qn(e).next(t=>{const i=new ld(t.highestTargetId);return t.highestTargetId=i.next(),this.Qn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(t=>ei.fromTimestamp(new Dr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.qn(e).next(a=>(a.highestListenSequenceNumber=t,i&&(a.lastRemoteSnapshotVersion=i.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.Qn(e,a)))}addTargetData(e,t){return this.Kn(e,t).next(()=>this.qn(e).next(i=>(i.targetCount+=1,this.$n(t,i),this.Qn(e,i))))}updateTargetData(e,t){return this.Kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>gh(e).delete(t.targetId)).next(()=>this.qn(e)).next(i=>(Yn(i.targetCount>0),i.targetCount-=1,this.Qn(e,i)))}removeTargets(e,t,i){let a=0;const u=[];return gh(e).J((m,x)=>{const M=ch(x);M.sequenceNumber<=t&&null===i.get(M.targetId)&&(a++,u.push(this.removeTargetData(e,M)))}).next(()=>Nt.waitFor(u)).next(()=>a)}forEachTarget(e,t){return gh(e).J((i,a)=>{const u=ch(a);t(u)})}qn(e){return v_(e).get("targetGlobalKey").next(t=>(Yn(null!==t),t))}Qn(e,t){return v_(e).put("targetGlobalKey",t)}Kn(e,t){return gh(e).put(Rf(this.serializer,t))}$n(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.qn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=oc(t),a=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let u=null;return gh(e).J({range:a,index:"queryTargetsIndex"},(m,x,M)=>{const $=ch(x);sc(t,$.target)&&(u=$,M.done())}).next(()=>u)}addMatchingKeys(e,t,i){const a=[],u=lu(e);return t.forEach(m=>{const x=Ui(m.path);a.push(u.put({targetId:i,path:x})),a.push(this.referenceDelegate.addReference(e,i,m))}),Nt.waitFor(a)}removeMatchingKeys(e,t,i){const a=lu(e);return Nt.forEach(t,u=>{const m=Ui(u.path);return Nt.waitFor([a.delete([i,m]),this.referenceDelegate.removeReference(e,i,u)])})}removeMatchingKeysForTargetId(e,t){const i=lu(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(a)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),a=lu(e);let u=xi();return a.J({range:i,H:!0},(m,x,M)=>{const $=na(m[1]),ue=new Rn($);u=u.add(ue)}).next(()=>u)}containsKey(e,t){const i=Ui(t.path),a=IDBKeyRange.bound([i],[Jl(i)],!1,!0);let u=0;return lu(e).J({index:"documentTargetsIndex",H:!0,range:a},([m,x],M,$)=>{0!==m&&(u++,$.done())}).next(()=>u>0)}ot(e,t){return gh(e).get(t).next(i=>i?ch(i):null)}}function gh(o){return vo(o,"targets")}function v_(o){return vo(o,"targetGlobal")}function lu(o){return vo(o,"targetDocuments")}function ly([o,e],[t,i]){const a=_i(o,t);return 0===a?_i(e,i):a}class y_{constructor(e){this.Un=e,this.buffer=new $i(ly),this.Wn=0}Gn(){return++this.Wn}zn(e){const t=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();ly(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class cy{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(e){var t=this;un("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,O.Z)(function*(){t.jn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){ta(i)?un("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield tl(i)}yield t.Hn(3e5)}))}}class JE{constructor(e,t){this.Jn=e,this.params=t}calculateTargetCount(e,t){return this.Jn.Yn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return Nt.resolve(mr.oe);const i=new y_(t);return this.Jn.forEachTarget(e,a=>i.zn(a.sequenceNumber)).next(()=>this.Jn.Zn(e,a=>i.zn(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(un("LruGarbageCollector","Garbage collection skipped; disabled"),Nt.resolve(g_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(un("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),g_):this.Xn(e,t))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,t){let i,a,u,m,x,M,$;const ue=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ie=>(Ie>this.params.maximumSequenceNumbersToCollect?(un("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ie}`),a=this.params.maximumSequenceNumbersToCollect):a=Ie,m=Date.now(),this.nthSequenceNumber(e,a))).next(Ie=>(i=Ie,x=Date.now(),this.removeTargets(e,i,t))).next(Ie=>(u=Ie,M=Date.now(),this.removeOrphanedDocuments(e,i))).next(Ie=>($=Date.now(),Qo()<=ji.in.DEBUG&&un("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-ue}ms\n\tDetermined least recently used ${a} in `+(x-m)+`ms\n\tRemoved ${u} targets in `+(M-x)+`ms\n\tRemoved ${Ie} documents in `+($-M)+`ms\nTotal Duration: ${$-ue}ms`),Nt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:Ie})))}}class ex{constructor(e,t){this.db=e,this.garbageCollector=function uy(o,e){return new JE(o,e)}(this,t)}Yn(e){const t=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}er(e){let t=0;return this.Zn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Zn(e,t){return this.tr(e,(i,a)=>t(a))}addReference(e,t,i){return Jp(e,i)}removeReference(e,t,i){return Jp(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return Jp(e,t)}nr(e,t){return function(a,u){let m=!1;return __(a).Y(x=>ay(a,x,u).next(M=>(M&&(m=!0),Nt.resolve(!M)))).next(()=>m)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let u=0;return this.tr(e,(m,x)=>{if(x<=t){const M=this.nr(e,m).next($=>{if(!$)return u++,i.getEntry(e,m).next(()=>(i.removeEntry(m,ei.min()),lu(e).delete([0,Ui(m.path)])))});a.push(M)}}).next(()=>Nt.waitFor(a)).next(()=>i.apply(e)).next(()=>u)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return Jp(e,t)}tr(e,t){const i=lu(e);let a,u=mr.oe;return i.J({index:"documentTargetsIndex"},([m,x],{path:M,sequenceNumber:$})=>{0===m?(u!==mr.oe&&t(new Rn(na(a)),u),u=$,a=M):u=mr.oe}).next(()=>{u!==mr.oe&&t(new Rn(na(a)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Jp(o,e){return lu(o).put((a=o.currentSequenceNumber,{targetId:0,path:Ui(e.path),sequenceNumber:a}));var a}class ll{constructor(){this.changes=new be(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Yi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?Nt.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class b_{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return cd(e).put(i)}removeEntry(e,t,i){return cd(e).delete(function(u,m){const x=u.path.toArray();return[x.slice(0,x.length-2),x[x.length-2],a_(m),x[x.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.rr(e,i)))}getEntry(e,t){let i=Yi.newInvalidDocument(t);return cd(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Vf(t))},(a,u)=>{i=this.ir(t,u)}).next(()=>i)}sr(e,t){let i={size:0,document:Yi.newInvalidDocument(t)};return cd(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Vf(t))},(a,u)=>{i={document:this.ir(t,u),size:bs(u)}}).next(()=>i)}getEntries(e,t){let i=At();return this._r(e,t,(a,u)=>{const m=this.ir(a,u);i=i.insert(a,m)}).next(()=>i)}ar(e,t){let i=At(),a=new yr(Rn.comparator);return this._r(e,t,(u,m)=>{const x=this.ir(u,m);i=i.insert(u,x),a=a.insert(u,bs(m))}).next(()=>({documents:i,ur:a}))}_r(e,t,i){if(t.isEmpty())return Nt.resolve();let a=new $i(em);t.forEach(M=>a=a.add(M));const u=IDBKeyRange.bound(Vf(a.first()),Vf(a.last())),m=a.getIterator();let x=m.getNext();return cd(e).J({index:"documentKeyIndex",range:u},(M,$,ue)=>{const Ie=Rn.fromSegments([...$.prefixPath,$.collectionGroup,$.documentId]);for(;x&&em(x,Ie)<0;)i(x,null),x=m.getNext();x&&x.isEqual(Ie)&&(i(x,$),x=m.hasNext()?m.getNext():null),x?ue.$(Vf(x)):ue.done()}).next(()=>{for(;x;)i(x,null),x=m.hasNext()?m.getNext():null})}getDocumentsMatchingQuery(e,t,i,a,u){const m=t.path,x=[m.popLast().toArray(),m.lastSegment(),a_(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],M=[m.popLast().toArray(),m.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return cd(e).U(IDBKeyRange.bound(x,M,!0)).next($=>{u?.incrementDocumentReadCount($.length);let ue=At();for(const Ie of $){const Je=this.ir(Rn.fromSegments(Ie.prefixPath.concat(Ie.collectionGroup,Ie.documentId)),Ie);Je.isFoundDocument()&&(h(t,Je)||a.has(Je.key))&&(ue=ue.insert(Je.key,Je))}return ue})}getAllFromCollectionGroup(e,t,i,a){let u=At();const m=hy(t,i),x=hy(t,vs.max());return cd(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(m,x,!0)},(M,$,ue)=>{const Ie=this.ir(Rn.fromSegments($.prefixPath.concat($.collectionGroup,$.documentId)),$);u=u.insert(Ie.key,Ie),u.size===a&&ue.done()}).next(()=>u)}newChangeBuffer(e){return new tx(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return E_(e).get("remoteDocumentGlobalKey").next(t=>(Yn(!!t),t))}rr(e,t){return E_(e).put("remoteDocumentGlobalKey",t)}ir(e,t){if(t){const i=function KE(o,e){let t;if(e.document)t=Ii(o.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Rn.fromSegments(e.noDocument.path),a=Ua(e.noDocument.readTime);t=Yi.newNoDocument(i,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return jn();{const i=Rn.fromSegments(e.unknownDocument.path),a=Ua(e.unknownDocument.version);t=Yi.newUnknownDocument(i,a)}}return e.readTime&&t.setReadTime(function(a){const u=new Dr(a[0],a[1]);return ei.fromTimestamp(u)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(ei.min()))return i}return Yi.newInvalidDocument(e)}}function dy(o){return new b_(o)}class tx extends ll{constructor(e,t){super(),this.cr=e,this.trackRemovals=t,this.lr=new be(i=>i.toString(),(i,a)=>i.isEqual(a))}applyChanges(e){const t=[];let i=0,a=new $i((u,m)=>_i(u.canonicalString(),m.canonicalString()));return this.changes.forEach((u,m)=>{const x=this.lr.get(u);if(t.push(this.cr.removeEntry(e,u,x.readTime)),m.isValidDocument()){const M=s_(this.cr.serializer,m);a=a.add(u.path.popLast());const $=bs(M);i+=$-x.size,t.push(this.cr.addEntry(e,u,M))}else if(i-=x.size,this.trackRemovals){const M=s_(this.cr.serializer,m.convertToNoDocument(ei.min()));t.push(this.cr.addEntry(e,u,M))}}),a.forEach(u=>{t.push(this.cr.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.cr.updateMetadata(e,i)),Nt.waitFor(t)}getFromCache(e,t){return this.cr.sr(e,t).next(i=>(this.lr.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.cr.ar(e,t).next(({documents:i,ur:a})=>(a.forEach((u,m)=>{this.lr.set(u,{size:m,readTime:i.get(u).readTime})}),i))}}function E_(o){return vo(o,"remoteDocumentGlobal")}function cd(o){return vo(o,"remoteDocumentsV14")}function Vf(o){const e=o.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function hy(o,e){const t=e.documentKey.path.toArray();return[o,a_(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function em(o,e){const t=o.path.toArray(),i=e.path.toArray();let a=0;for(let u=0;u<t.length-2&&u<i.length-2;++u)if(a=_i(t[u],i[u]),a)return a;return a=_i(t.length,i.length),a||(a=_i(t[t.length-2],i[i.length-2]),a||_i(t[t.length-1],i[i.length-1]))}class nx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class fy{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==i&&Tf(i.mutation,a,rs.empty(),Dr.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,xi()).next(()=>i))}getLocalViewOfDocuments(e,t,i=xi()){const a=kn();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(u=>{let m=Tn();return u.forEach((x,M)=>{m=m.insert(x,M.overlayedDocument)}),m}))}getOverlayedDocuments(e,t){const i=kn();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,xi()))}populateOverlays(e,t,i){const a=[];return i.forEach(u=>{t.has(u)||a.push(u)}),this.documentOverlayCache.getOverlays(e,a).next(u=>{u.forEach((m,x)=>{t.set(m,x)})})}computeViews(e,t,i,a){let u=At();const m=os(),x=os();return t.forEach((M,$)=>{const ue=i.get($.key);a.has($.key)&&(void 0===ue||ue.mutation instanceof Jc)?u=u.insert($.key,$):void 0!==ue?(m.set($.key,ue.mutation.getFieldMask()),Tf(ue.mutation,$,ue.mutation.getFieldMask(),Dr.now())):m.set($.key,rs.empty())}),this.recalculateAndSaveOverlays(e,u).next(M=>(M.forEach(($,ue)=>m.set($,ue)),t.forEach(($,ue)=>{var Ie;return x.set($,new nx(ue,null!==(Ie=m.get($))&&void 0!==Ie?Ie:null))}),x))}recalculateAndSaveOverlays(e,t){const i=os();let a=new yr((m,x)=>m-x),u=xi();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(m=>{for(const x of m)x.keys().forEach(M=>{const $=t.get(M);if(null===$)return;let ue=i.get(M)||rs.empty();ue=x.applyToLocalView($,ue),i.set(M,ue);const Ie=(a.get(x.batchId)||xi()).add(M);a=a.insert(x.batchId,Ie)})}).next(()=>{const m=[],x=a.getReverseIterator();for(;x.hasNext();){const M=x.getNext(),$=M.key,ue=M.value,Ie=Mr();ue.forEach(Je=>{if(!u.has(Je)){const yt=Mv(t.get(Je),i.get(Je));null!==yt&&Ie.set(Je,yt),u=u.add(Je)}}),m.push(this.documentOverlayCache.saveOverlays(e,$,Ie))}return Nt.waitFor(m)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return Rn.isDocumentKey((m=t).path)&&null===m.collectionGroup&&0===m.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):kl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a);var m}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(u=>{const m=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-u.size):Nt.resolve(kn());let x=-1,M=u;return m.next($=>Nt.forEach($,(ue,Ie)=>(x<Ie.largestBatchId&&(x=Ie.largestBatchId),u.get(ue)?Nt.resolve():this.remoteDocumentCache.getEntry(e,ue).next(Je=>{M=M.insert(ue,Je)}))).next(()=>this.populateOverlays(e,$,u)).next(()=>this.computeViews(e,M,$,xi())).next(ue=>({batchId:x,changes:Zn(ue)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Rn(t)).next(i=>{let a=Tn();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const u=t.collectionGroup;let m=Tn();return this.indexManager.getCollectionParents(e,u).next(x=>Nt.forEach(x,M=>{const $=(Ie=t,Je=M.child(u),new ya(Je,null,Ie.explicitOrderBy.slice(),Ie.filters.slice(),Ie.limit,Ie.limitType,Ie.startAt,Ie.endAt));var Ie,Je;return this.getDocumentsMatchingCollectionQuery(e,$,i,a).next(ue=>{ue.forEach((Ie,Je)=>{m=m.insert(Ie,Je)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,t,i,a){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(m=>(u=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,u,a))).next(m=>{u.forEach((M,$)=>{const ue=$.getKey();null===m.get(ue)&&(m=m.insert(ue,Yi.newInvalidDocument(ue)))});let x=Tn();return m.forEach((M,$)=>{const ue=u.get(M);void 0!==ue&&Tf(ue.mutation,$,rs.empty(),Dr.now()),h(t,$)&&(x=x.insert(M,$))}),x})}}class tm{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return Nt.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,{id:(a=t).id,version:a.version,createTime:ar(a.createTime)}),Nt.resolve();var a}getNamedQuery(e,t){return Nt.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,{name:(a=t).name,query:l_(a.bundledQuery),readTime:ar(a.readTime)}),Nt.resolve();var a}}class nm{constructor(){this.overlays=new yr(Rn.comparator),this.Ir=new Map}getOverlay(e,t){return Nt.resolve(this.overlays.get(t))}getOverlays(e,t){const i=kn();return Nt.forEach(t,a=>this.getOverlay(e,a).next(u=>{null!==u&&i.set(a,u)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,u)=>{this.ht(e,t,u)}),Nt.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Ir.get(i);return void 0!==a&&(a.forEach(u=>this.overlays=this.overlays.remove(u)),this.Ir.delete(i)),Nt.resolve()}getOverlaysForCollection(e,t,i){const a=kn(),u=t.length+1,m=new Rn(t.child("")),x=this.overlays.getIteratorFrom(m);for(;x.hasNext();){const M=x.getNext().value,$=M.getKey();if(!t.isPrefixOf($.path))break;$.path.length===u&&M.largestBatchId>i&&a.set(M.getKey(),M)}return Nt.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let u=new yr(($,ue)=>$-ue);const m=this.overlays.getIterator();for(;m.hasNext();){const $=m.getNext().value;if($.getKey().getCollectionGroup()===t&&$.largestBatchId>i){let ue=u.get($.largestBatchId);null===ue&&(ue=kn(),u=u.insert($.largestBatchId,ue)),ue.set($.getKey(),$)}}const x=kn(),M=u.getIterator();for(;M.hasNext()&&(M.getNext().value.forEach(($,ue)=>x.set($,ue)),!(x.size()>=a)););return Nt.resolve(x)}ht(e,t,i){const a=this.overlays.get(i.key);if(null!==a){const m=this.Ir.get(a.largestBatchId).delete(i.key);this.Ir.set(a.largestBatchId,m)}this.overlays=this.overlays.insert(i.key,new Qg(t,i));let u=this.Ir.get(t);void 0===u&&(u=xi(),this.Ir.set(t,u)),this.Ir.set(t,u.add(i.key))}}class im{constructor(){this.sessionToken=to.EMPTY_BYTE_STRING}getSessionToken(e){return Nt.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Nt.resolve()}}class py{constructor(){this.Tr=new $i(ko.Er),this.dr=new $i(ko.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const i=new ko(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Vr(new ko(e,t))}mr(e,t){e.forEach(i=>this.removeReference(i,t))}gr(e){const t=new Rn(new ki([])),i=new ko(t,e),a=new ko(t,e+1),u=[];return this.dr.forEachInRange([i,a],m=>{this.Vr(m),u.push(m.key)}),u}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Rn(new ki([])),i=new ko(t,e),a=new ko(t,e+1);let u=xi();return this.dr.forEachInRange([i,a],m=>{u=u.add(m.key)}),u}containsKey(e){const t=new ko(e,0),i=this.Tr.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class ko{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Rn.comparator(e.key,t.key)||_i(e.wr,t.wr)}static Ar(e,t){return _i(e.wr,t.wr)||Rn.comparator(e.key,t.key)}}class OC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new $i(ko.Er)}checkEmpty(e){return Nt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,a){const u=this.Sr;this.Sr++;const m=new qg(u,t,i,a);this.mutationQueue.push(m);for(const x of a)this.br=this.br.add(new ko(x.key,u)),this.indexManager.addToCollectionParentIndex(e,x.key.path.popLast());return Nt.resolve(m)}lookupMutationBatch(e,t){return Nt.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.vr(t+1),u=a<0?0:a;return Nt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Nt.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return Nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new ko(t,0),a=new ko(t,Number.POSITIVE_INFINITY),u=[];return this.br.forEachInRange([i,a],m=>{const x=this.Dr(m.wr);u.push(x)}),Nt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new $i(_i);return t.forEach(a=>{const u=new ko(a,0),m=new ko(a,Number.POSITIVE_INFINITY);this.br.forEachInRange([u,m],x=>{i=i.add(x.wr)})}),Nt.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let u=i;Rn.isDocumentKey(u)||(u=u.child(""));const m=new ko(new Rn(u),0);let x=new $i(_i);return this.br.forEachWhile(M=>{const $=M.key.path;return!!i.isPrefixOf($)&&($.length===a&&(x=x.add(M.wr)),!0)},m),Nt.resolve(this.Cr(x))}Cr(e){const t=[];return e.forEach(i=>{const a=this.Dr(i);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){Yn(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let i=this.br;return Nt.forEach(t.mutations,a=>{const u=new ko(a.key,t.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,t){const i=new ko(t,0),a=this.br.firstAfterOrEqual(i);return Nt.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Nt.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class my{constructor(e){this.Mr=e,this.docs=new yr(Rn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),u=a?a.size:0,m=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:m}),this.size+=m-u,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Nt.resolve(i?i.document.mutableCopy():Yi.newInvalidDocument(t))}getEntries(e,t){let i=At();return t.forEach(a=>{const u=this.docs.get(a);i=i.insert(a,u?u.document.mutableCopy():Yi.newInvalidDocument(a))}),Nt.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let u=At();const m=t.path,x=new Rn(m.child("")),M=this.docs.getIteratorFrom(x);for(;M.hasNext();){const{key:$,value:{document:ue}}=M.getNext();if(!m.isPrefixOf($.path))break;$.path.length>m.length+1||qh(Bg(ue),i)<=0||(a.has(ue.key)||h(t,ue))&&(u=u.insert(ue.key,ue.mutableCopy()))}return Nt.resolve(u)}getAllFromCollectionGroup(e,t,i,a){jn()}Or(e,t){return Nt.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new gy(this)}getSize(e){return Nt.resolve(this.size)}}class gy extends ll{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.cr.addEntry(e,a)):this.cr.removeEntry(i)}),Nt.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class _y{constructor(e){this.persistence=e,this.Nr=new be(t=>oc(t),sc),this.lastRemoteSnapshotVersion=ei.min(),this.highestTargetId=0,this.Lr=0,this.Br=new py,this.targetCount=0,this.kr=ld.Bn()}forEachTarget(e,t){return this.Nr.forEach((i,a)=>t(a)),Nt.resolve()}getLastRemoteSnapshotVersion(e){return Nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Nt.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Nt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),Nt.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new ld(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,Nt.resolve()}updateTargetData(e,t){return this.Kn(t),Nt.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,Nt.resolve()}removeTargets(e,t,i){let a=0;const u=[];return this.Nr.forEach((m,x)=>{x.sequenceNumber<=t&&null===i.get(x.targetId)&&(this.Nr.delete(m),u.push(this.removeMatchingKeysForTargetId(e,x.targetId)),a++)}),Nt.waitFor(u).next(()=>a)}getTargetCount(e){return Nt.resolve(this.targetCount)}getTargetData(e,t){const i=this.Nr.get(t)||null;return Nt.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),Nt.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);const a=this.persistence.referenceDelegate,u=[];return a&&t.forEach(m=>{u.push(a.markPotentiallyOrphaned(e,m))}),Nt.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),Nt.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Br.yr(t);return Nt.resolve(i)}containsKey(e,t){return Nt.resolve(this.Br.containsKey(t))}}class rm{constructor(e,t){this.qr={},this.overlays={},this.Qr=new mr(0),this.Kr=!1,this.Kr=!0,this.$r=new im,this.referenceDelegate=e(this),this.Ur=new _y(this),this.indexManager=new f_,this.remoteDocumentCache=new my(i=>this.referenceDelegate.Wr(i)),this.serializer=new ZE(t),this.Gr=new tm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new nm,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new OC(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){un("MemoryPersistence","Starting transaction:",e);const a=new x_(this.Qr.next());return this.referenceDelegate.zr(),i(a).next(u=>this.referenceDelegate.jr(a).next(()=>u)).toPromise().then(u=>(a.raiseOnCommittedEvent(),u))}Hr(e,t){return Nt.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,t)))}}class x_ extends zc{constructor(e){super(),this.currentSequenceNumber=e}}class za{constructor(e){this.persistence=e,this.Jr=new py,this.Yr=null}static Zr(e){return new za(e)}get Xr(){if(this.Yr)return this.Yr;throw jn()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),Nt.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),Nt.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),Nt.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(a=>this.Xr.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(u=>this.Xr.add(u.toString()))}).next(()=>i.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Nt.forEach(this.Xr,i=>{const a=Rn.fromPath(i);return this.ei(e,a).next(u=>{u||t.removeEntry(a,ei.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return Nt.or([()=>Nt.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class om{constructor(e){this.serializer=e}O(e,t,i,a){const u=new Os("createOrUpgrade",t);var M;i<1&&a>=1&&(e.createObjectStore("owner"),(M=e).createObjectStore("mutationQueues",{keyPath:"userId"}),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ip,{unique:!0}),M.createObjectStore("documentMutations"),_h(e),function(M){M.createObjectStore("remoteDocuments")}(e));let m=Nt.resolve();return i<3&&a>=3&&(0!==i&&(function(M){M.deleteObjectStore("targetDocuments"),M.deleteObjectStore("targets"),M.deleteObjectStore("targetGlobal")}(e),_h(e)),m=m.next(()=>function(M){const $=M.store("targetGlobal"),ue={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ei.min().toTimestamp(),targetCount:0};return $.put("targetGlobalKey",ue)}(u))),i<4&&a>=4&&(0!==i&&(m=m.next(()=>function(M,$){return $.store("mutations").U().next(ue=>{M.deleteObjectStore("mutations"),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ip,{unique:!0});const Ie=$.store("mutations"),Je=ue.map(yt=>Ie.put(yt));return Nt.waitFor(Je)})}(e,u))),m=m.next(()=>{!function(M){M.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&a>=5&&(m=m.next(()=>this.ni(u))),i<6&&a>=6&&(m=m.next(()=>(function(M){M.createObjectStore("remoteDocumentGlobal")}(e),this.ri(u)))),i<7&&a>=7&&(m=m.next(()=>this.ii(u))),i<8&&a>=8&&(m=m.next(()=>this.si(e,u))),i<9&&a>=9&&(m=m.next(()=>{!function(M){M.objectStoreNames.contains("remoteDocumentChanges")&&M.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&a>=10&&(m=m.next(()=>this.oi(u))),i<11&&a>=11&&(m=m.next(()=>{(function(M){M.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(M){M.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&a>=12&&(m=m.next(()=>{!function(M){const $=M.createObjectStore("documentOverlays",{keyPath:af});$.createIndex("collectionPathOverlayIndex",lf,{unique:!1}),$.createIndex("collectionGroupOverlayIndex",jc,{unique:!1})}(e)})),i<13&&a>=13&&(m=m.next(()=>function(M){const $=M.createObjectStore("remoteDocumentsV14",{keyPath:zg});$.createIndex("documentKeyIndex",Dp),$.createIndex("collectionGroupIndex",Hg)}(e)).next(()=>this._i(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&a>=14&&(m=m.next(()=>this.ai(e,u))),i<15&&a>=15&&(m=m.next(()=>function(M){M.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),M.createObjectStore("indexState",{keyPath:Vu}).createIndex("sequenceNumberIndex",$g,{unique:!1}),M.createObjectStore("indexEntries",{keyPath:Gg}).createIndex("documentKeyIndex",sf,{unique:!1})}(e))),i<16&&a>=16&&(m=m.next(()=>{t.objectStore("indexState").clear()}).next(()=>{t.objectStore("indexEntries").clear()})),i<17&&a>=17&&(m=m.next(()=>{!function(M){M.createObjectStore("globals",{keyPath:"name"})}(e)})),m}ri(e){let t=0;return e.store("remoteDocuments").J((i,a)=>{t+=bs(a)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}ni(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.U().next(a=>Nt.forEach(a,u=>{const m=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return i.U("userMutationsIndex",m).next(x=>Nt.forEach(x,M=>{Yn(M.userId===u.userId);const $=sd(this.serializer,M);return sy(e,u.userId,$).next(()=>{})}))}))}ii(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const u=[];return i.J((m,x)=>{const M=new ki(m),$=[0,Ui(M)];u.push(t.get($).next(ue=>ue?Nt.resolve():t.put({targetId:0,path:Ui(M),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>Nt.waitFor(u))})}si(e,t){e.createObjectStore("collectionParents",{keyPath:rf});const i=t.store("collectionParents"),a=new Lf,u=m=>{if(a.add(m)){const x=m.lastSegment(),M=m.popLast();return i.put({collectionId:x,parent:Ui(M)})}};return t.store("remoteDocuments").J({H:!0},(m,x)=>{const M=new ki(m);return u(M.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([m,x,M],$)=>{const ue=na(x);return u(ue.popLast())}))}oi(e){const t=e.store("targets");return t.J((i,a)=>{const u=ch(a),m=Rf(this.serializer,u);return t.put(m)})}_i(e,t){const i=t.store("remoteDocuments"),a=[];return i.J((u,m)=>{const x=t.store("remoteDocumentsV14"),M=(Ie=m,Ie.document?new Rn(ki.fromString(Ie.document.name).popFirst(5)):Ie.noDocument?Rn.fromSegments(Ie.noDocument.path):Ie.unknownDocument?Rn.fromSegments(Ie.unknownDocument.path):jn()).path.toArray(),$={prefixPath:M.slice(0,M.length-2),collectionGroup:M[M.length-2],documentId:M[M.length-1],readTime:m.readTime||[0,0],unknownDocument:m.unknownDocument,noDocument:m.noDocument,document:m.document,hasCommittedMutations:!!m.hasCommittedMutations};var Ie;a.push(x.put($))}).next(()=>Nt.waitFor(a))}ai(e,t){const i=t.store("mutations"),a=dy(this.serializer),u=new rm(za.Zr,this.serializer.ct);return i.U().next(m=>{const x=new Map;return m.forEach(M=>{var $;let ue=null!==($=x.get(M.userId))&&void 0!==$?$:xi();sd(this.serializer,M).keys().forEach(Ie=>ue=ue.add(Ie)),x.set(M.userId,ue)}),Nt.forEach(x,(M,$)=>{const ue=new mi($),Ie=Of.lt(this.serializer,ue),Je=u.getIndexManager(ue),yt=Xp.lt(ue,this.serializer,Je,u.referenceDelegate);return new fy(a,yt,Ie,Je).recalculateAndSaveOverlaysForDocumentKeys(new zu(t,mr.oe),M).next()})})}}function _h(o){o.createObjectStore("targetDocuments",{keyPath:tf}).createIndex("documentTargetsIndex",nf,{unique:!0}),o.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",jg,{unique:!0}),o.createObjectStore("targetGlobal")}const C_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class sm{constructor(e,t,i,a,u,m,x,M,$,ue,Ie=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.ui=u,this.window=m,this.document=x,this.ci=$,this.li=ue,this.hi=Ie,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=Je=>Promise.resolve(),!sm.D())throw new dn(Yt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ex(this,a),this.Ai=t+"main",this.serializer=new ZE(M),this.Ri=new ea(this.Ai,this.hi,new om(this.serializer)),this.$r=new ny,this.Ur=new XE(this.referenceDelegate,this.serializer),this.remoteDocumentCache=dy(this.serializer),this.Gr=new YE,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===ue&&wr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new dn(Yt.FAILED_PRECONDITION,C_);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new mr(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){var t=this;return this.di=function(){var i=(0,O.Z)(function*(a){if(t.started)return e(a)});return function(a){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(function(){var t=(0,O.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((0,O.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>am(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(t=>{t||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(t=>this.isPrimary&&!t?this.bi(e).next(()=>!1):!!t&&this.Di(e).next(()=>!0))).catch(e=>{if(ta(e))return un("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return un("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return vh(e).get("owner").next(t=>Nt.resolve(this.vi(t)))}Ci(e){return am(e).delete(this.clientId)}Fi(){var e=this;return(0,O.Z)(function*(){if(e.isPrimary&&!e.Mi(e.Ei,18e5)){e.Ei=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const a=vo(i,"clientMetadata");return a.U().next(u=>{const m=e.xi(u,18e5),x=u.filter(M=>-1===m.indexOf(M));return Nt.forEach(x,M=>a.delete(M.clientId)).next(()=>x)})}).catch(()=>[]);if(e.Vi)for(const i of t)e.Vi.removeItem(e.Oi(i.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?Nt.resolve(!0):vh(e).get("owner").next(t=>{if(null!==t&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)){if(this.vi(t)&&this.networkEnabled)return!0;if(!this.vi(t)){if(!t.allowTabSynchronization)throw new dn(Yt.FAILED_PRECONDITION,C_);return!1}}return!(!this.networkEnabled||!this.inForeground)||am(e).U().next(i=>void 0===this.xi(i,5e3).find(a=>!(this.clientId===a.clientId||!(!this.networkEnabled&&a.networkEnabled||!this.inForeground&&a.inForeground&&this.networkEnabled===a.networkEnabled))))}).next(t=>(this.isPrimary!==t&&un("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,O.Z)(function*(){e.Kr=!1,e.Li(),e.Ti&&(e.Ti.cancel(),e.Ti=null),e.Bi(),e.ki(),yield e.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new zu(t,mr.oe);return e.bi(i).next(()=>e.Ci(i))}),e.Ri.close(),e.qi()})()}xi(e,t){return e.filter(i=>this.Mi(i.updateTimeMs,t)&&!this.Ni(i.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>am(e).U().next(t=>this.xi(t,18e5).map(i=>i.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,t){return Xp.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new p_(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Of.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,t,i){un("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",u=17===(M=this.hi)?Wg:16===M?cf:15===M?Uu:14===M?zd:13===M?Mp:12===M?Sp:11===M?Ud:void jn();var M;let m;return this.Ri.runTransaction(e,a,u,x=>(m=new zu(x,this.Qr?this.Qr.next():mr.oe),"readwrite-primary"===t?this.wi(m).next(M=>!!M||this.Si(m)).next(M=>{if(!M)throw wr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new dn(Yt.FAILED_PRECONDITION,Qh);return i(m)}).next(M=>this.Di(m).next(()=>M)):this.Ki(m).next(()=>i(m)))).then(x=>(m.raiseOnCommittedEvent(),x))}Ki(e){return vh(e).get("owner").next(t=>{if(null!==t&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)&&!this.vi(t)&&!(this.li||this.allowTabSynchronization&&t.allowTabSynchronization))throw new dn(Yt.FAILED_PRECONDITION,C_)})}Di(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return vh(e).put("owner",t)}static D(){return ea.D()}bi(e){const t=vh(e);return t.get("owner").next(i=>this.vi(i)?(un("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Nt.resolve())}Mi(e,t){const i=Date.now();return!(e<i-t||e>i&&(wr(`Detected an update time that is in the future: ${e} > ${i}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Pi=()=>{this.Li();const t=/(?:Version|Mobile)\/1[456]/;(0,Pi.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var t;try{const i=null!==(null===(t=this.Vi)||void 0===t?void 0:t.getItem(this.Oi(e)));return un("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return wr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){wr("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function vh(o){return vo(o,"owner")}function am(o){return vo(o,"clientMetadata")}function w_(o,e){let t=o.projectId;return o.isDefaultDatabase||(t+="."+o.database),"firestore/"+e+"/"+t+"/"}class dd{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=a}static Wi(e,t){let i=xi(),a=xi();for(const u of t.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new dd(e,t.fromCache,i,a)}}class ix{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class rx{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,Pi.G6)()?8:Nu((0,Pi.z$)())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,a){const u={result:null};return this.Yi(e,t).next(m=>{u.result=m}).next(()=>{if(!u.result)return this.Zi(e,t,a,i).next(m=>{u.result=m})}).next(()=>{if(u.result)return;const m=new ix;return this.Xi(e,t,m).next(x=>{if(u.result=x,this.zi)return this.es(e,t,m,x.size)})}).next(()=>u.result)}es(e,t,i,a){return i.documentReadCount<this.ji?(Qo()<=ji.in.DEBUG&&un("QueryEngine","SDK will not create cache indexes for query:",y(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Nt.resolve()):(Qo()<=ji.in.DEBUG&&un("QueryEngine","Query:",y(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.Hi*a?(Qo()<=ji.in.DEBUG&&un("QueryEngine","The SDK decides to create cache indexes for query:",y(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oo(t))):Nt.resolve())}Yi(e,t){if(La(t))return Nt.resolve(null);let i=Oo(t);return this.indexManager.getIndexType(e,i).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=Qu(t,null,"F"),i=Oo(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(u=>{const m=xi(...u);return this.Ji.getDocuments(e,m).next(x=>this.indexManager.getMinOffset(e,i).next(M=>{const $=this.ts(t,x);return this.ns(t,$,m,M.readTime)?this.Yi(e,Qu(t,null,"F")):this.rs(e,$,t,M)}))})))}Zi(e,t,i,a){return La(t)||a.isEqual(ei.min())?Nt.resolve(null):this.Ji.getDocuments(e,i).next(u=>{const m=this.ts(t,u);return this.ns(t,m,i,a)?Nt.resolve(null):(Qo()<=ji.in.DEBUG&&un("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),y(t)),this.rs(e,m,t,Lg(a,-1)).next(x=>x))})}ts(e,t){let i=new $i(I(e));return t.forEach((a,u)=>{h(e,u)&&(i=i.add(u))}),i}ns(e,t,i,a){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}Xi(e,t,i){return Qo()<=ji.in.DEBUG&&un("QueryEngine","Using full collection scan to execute query:",y(t)),this.Ji.getDocumentsMatchingQuery(e,t,vs.min(),i)}rs(e,t,i,a){return this.Ji.getDocumentsMatchingQuery(e,i,a).next(u=>(t.forEach(m=>{u=u.insert(m.key,m)}),u))}}class ox{constructor(e,t,i,a){this.persistence=e,this.ss=t,this.serializer=a,this.os=new yr(_i),this._s=new be(u=>oc(u),sc),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fy(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function vy(o,e,t,i){return new ox(o,e,t,i)}function yy(o,e){return I_.apply(this,arguments)}function I_(){return(I_=(0,O.Z)(function*(o,e){const t=Sn(o);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(u=>(a=u,t.ls(e),t.mutationQueue.getAllMutationBatches(i))).next(u=>{const m=[],x=[];let M=xi();for(const $ of a){m.push($.batchId);for(const ue of $.mutations)M=M.add(ue.key)}for(const $ of u){x.push($.batchId);for(const ue of $.mutations)M=M.add(ue.key)}return t.localDocuments.getDocuments(i,M).next($=>({hs:$,removedBatchIds:m,addedBatchIds:x}))})})})).apply(this,arguments)}function by(o){const e=Sn(o);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function T_(o,e,t){let i=xi(),a=xi();return t.forEach(u=>i=i.add(u)),e.getEntries(o,i).next(u=>{let m=At();return t.forEach((x,M)=>{const $=u.get(x);M.isFoundDocument()!==$.isFoundDocument()&&(a=a.add(x)),M.isNoDocument()&&M.version.isEqual(ei.min())?(e.removeEntry(x,M.readTime),m=m.insert(x,M)):!$.isValidDocument()||M.version.compareTo($.version)>0||0===M.version.compareTo($.version)&&$.hasPendingWrites?(e.addEntry(M),m=m.insert(x,M)):un("LocalStore","Ignoring outdated watch update for ",x,". Current version:",$.version," Watch version:",M.version)}),{Ps:m,Is:a}})}function A_(o,e){const t=Sn(o);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function yh(o,e){const t=Sn(o);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Ur.getTargetData(i,e).next(u=>u?(a=u,Nt.resolve(a)):t.Ur.allocateTargetId(i).next(m=>(a=new nu(e,m,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.os.get(i.targetId);return(null===a||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i})}function cu(o,e,t){return D_.apply(this,arguments)}function D_(){return(D_=(0,O.Z)(function*(o,e,t){const i=Sn(o),a=i.os.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",u,m=>i.persistence.referenceDelegate.removeTarget(m,a)))}catch(m){if(!ta(m))throw m;un("LocalStore",`Failed to update sequence numbers for target ${e}: ${m}`)}i.os=i.os.remove(e),i._s.delete(a.target)})).apply(this,arguments)}function lm(o,e,t){const i=Sn(o);let a=ei.min(),u=xi();return i.persistence.runTransaction("Execute query","readwrite",m=>function(M,$,ue){const Ie=Sn(M),Je=Ie._s.get(ue);return void 0!==Je?Nt.resolve(Ie.os.get(Je)):Ie.Ur.getTargetData($,ue)}(i,m,Oo(e)).next(x=>{if(x)return a=x.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(m,x.targetId).next(M=>{u=M})}).next(()=>i.ss.getDocumentsMatchingQuery(m,e,t?a:ei.min(),t?u:xi())).next(x=>(Cy(i,p(e),x),{documents:x,Ts:u})))}function Ey(o,e){const t=Sn(o),i=Sn(t.Ur),a=t.os.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",u=>i.ot(u,e).next(m=>m?m.target:null))}function xy(o,e){const t=Sn(o),i=t.us.get(e)||ei.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.cs.getAllFromCollectionGroup(a,e,Lg(i,-1),Number.MAX_SAFE_INTEGER)).then(a=>(Cy(t,e,a),a))}function Cy(o,e,t){let i=o.us.get(e)||ei.min();t.forEach((a,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)}),o.us.set(e,i)}function S_(){return(S_=(0,O.Z)(function*(o,e,t,i){const a=Sn(o);let u=xi(),m=At();for(const $ of t){const ue=e.Es($.metadata.name);$.document&&(u=u.add(ue));const Ie=e.ds($);Ie.setReadTime(e.As($.metadata.readTime)),m=m.insert(ue,Ie)}const x=a.cs.newChangeBuffer({trackRemovals:!0}),M=yield yh(a,(ue=i,Oo(Xc(ki.fromString(`__bundle__/docs/${ue}`)))));var ue;return a.persistence.runTransaction("Apply bundle documents","readwrite",$=>T_($,x,m).next(ue=>(x.apply($),ue)).next(ue=>a.Ur.removeMatchingKeysForTargetId($,M.targetId).next(()=>a.Ur.addMatchingKeys($,u,M.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments($,ue.Ps,ue.Is)).next(()=>ue.Ps)))})).apply(this,arguments)}function wy(o,e){return cm.apply(this,arguments)}function cm(){return(cm=(0,O.Z)(function*(o,e,t=xi()){const i=yield yh(o,Oo(l_(e.bundledQuery))),a=Sn(o);return a.persistence.runTransaction("Save named query","readwrite",u=>{const m=ar(e.readTime);if(i.snapshotVersion.compareTo(m)>=0)return a.Gr.saveNamedQuery(u,e);const x=i.withResumeToken(to.EMPTY_BYTE_STRING,m);return a.os=a.os.insert(x.targetId,x),a.Ur.updateTargetData(u,x).next(()=>a.Ur.removeMatchingKeysForTargetId(u,i.targetId)).next(()=>a.Ur.addMatchingKeys(u,t,i.targetId)).next(()=>a.Gr.saveNamedQuery(u,e))})})).apply(this,arguments)}function Iy(o,e){return`firestore_clients_${o}_${e}`}function cx(o,e,t){let i=`firestore_mutations_${o}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function um(o,e){return`firestore_targets_${o}_${e}`}class M_{constructor(e,t,i,a){this.user=e,this.batchId=t,this.state=i,this.error=a}static Rs(e,t,i){const a=JSON.parse(i);let u,m="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return m&&a.error&&(m="string"==typeof a.error.message&&"string"==typeof a.error.code,m&&(u=new dn(a.error.code,a.error.message))),m?new M_(e,t,a.state,u):(wr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class uu{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Rs(e,t){const i=JSON.parse(t);let a,u="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&(u="string"==typeof i.error.message&&"string"==typeof i.error.code,u&&(a=new dn(i.error.code,i.error.message))),u?new uu(e,i.state,a):(wr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class dm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Rs(e,t){const i=JSON.parse(t);let a="object"==typeof i&&i.activeTargetIds instanceof Array,u=Ef();for(let m=0;a&&m<i.activeTargetIds.length;++m)a=Vd(i.activeTargetIds[m]),u=u.add(i.activeTargetIds[m]);return a?new dm(e,u):(wr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class P_{constructor(e,t){this.clientId=e,this.onlineState=t}static Rs(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new P_(t.clientId,t.onlineState):(wr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Uf{constructor(){this.activeTargetIds=Ef()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class R_{constructor(e,t,i,a,u){this.window=e,this.ui=t,this.persistenceKey=i,this.ps=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new yr(_i),this.started=!1,this.bs=[];const m=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.Ds=Iy(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new Uf),this.Cs=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(M){return`firestore_bundle_loaded_v2_${M}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,O.Z)(function*(){const t=yield e.syncEngine.Qi();for(const a of t){if(a===e.ps)continue;const u=e.getItem(Iy(e.persistenceKey,a));if(u){const m=dm.Rs(a,u);m&&(e.Ss=e.Ss.insert(m.clientId,m))}}e.Ns();const i=e.storage.getItem(e.xs);if(i){const a=e.Ls(i);a&&e.Bs(a)}for(const a of e.bs)e.ws(a);e.bs=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let t=!1;return this.Ss.forEach((i,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,t,i){this.qs(e,t,i),this.Qs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(um(this.persistenceKey,e));if(i){const a=uu.Rs(e,i);a&&(t=a.state)}}return this.Ks.fs(e),this.Ns(),t}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(um(this.persistenceKey,e))}updateQueryState(e,t,i){this.$s(e,t,i)}handleUserChange(e,t,i){t.forEach(a=>{this.Qs(a)}),this.currentUser=e,i.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return un("SharedClientState","READ",e,t),t}setItem(e,t){un("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){un("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){var t=this;const i=e;if(i.storageArea===this.storage){if(un("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Ds)return void wr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,O.Z)(function*(){if(t.started){if(null!==i.key)if(t.Cs.test(i.key)){if(null==i.newValue){const a=t.Gs(i.key);return t.zs(a,null)}{const a=t.js(i.key,i.newValue);if(a)return t.zs(a.clientId,a)}}else if(t.Fs.test(i.key)){if(null!==i.newValue){const a=t.Hs(i.key,i.newValue);if(a)return t.Js(a)}}else if(t.Ms.test(i.key)){if(null!==i.newValue){const a=t.Ys(i.key,i.newValue);if(a)return t.Zs(a)}}else if(i.key===t.xs){if(null!==i.newValue){const a=t.Ls(i.newValue);if(a)return t.Bs(a)}}else if(i.key===t.vs){const a=function(m){let x=mr.oe;if(null!=m)try{const M=JSON.parse(m);Yn("number"==typeof M),x=M}catch(M){wr("SharedClientState","Failed to read sequence number from WebStorage",M)}return x}(i.newValue);a!==mr.oe&&t.sequenceNumberHandler(a)}else if(i.key===t.Os){const a=t.Xs(i.newValue);yield Promise.all(a.map(u=>t.syncEngine.eo(u)))}}else t.bs.push(i)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,t,i){const a=new M_(this.currentUser,e,t,i),u=cx(this.persistenceKey,this.currentUser,e);this.setItem(u,a.Vs())}Qs(e){const t=cx(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Us(e){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:e}))}$s(e,t,i){const a=um(this.persistenceKey,e),u=new uu(e,t,i);this.setItem(a,u.Vs())}Ws(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Os,t)}Gs(e){const t=this.Cs.exec(e);return t?t[1]:null}js(e,t){const i=this.Gs(e);return dm.Rs(i,t)}Hs(e,t){const i=this.Fs.exec(e),a=Number(i[1]);return M_.Rs(new mi(void 0!==i[2]?i[2]:null),a,t)}Ys(e,t){const i=this.Ms.exec(e),a=Number(i[1]);return uu.Rs(a,t)}Ls(e){return P_.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){var t=this;return(0,O.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.no(e.batchId,e.state,e.error);un("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,t){const i=t?this.Ss.insert(e,t):this.Ss.remove(e),a=this.ks(this.Ss),u=this.ks(i),m=[],x=[];return u.forEach(M=>{a.has(M)||m.push(M)}),a.forEach(M=>{u.has(M)||x.push(M)}),this.syncEngine.io(m,x).then(()=>{this.Ss=i})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let t=Ef();return e.forEach((i,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class cl{constructor(){this.so=new Uf,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Uf,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class zf{_o(e){}shutdown(){}}class ss{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){un("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){un("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ul=null;function bh(){return null===Ul?Ul=268435456+Math.round(2147483648*Math.random()):Ul++,"0x"+Ul.toString(16)}const Ha={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class O_{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Eo="WebChannelConnection";class Eh extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${a}/databases/${u}`,this.Co="(default)"===this.databaseId.database?`project_id=${a}`:`project_id=${a}&database_id=${u}`}get Fo(){return!1}Mo(t,i,a,u,m){const x=bh(),M=this.xo(t,i.toUriEncodedString());un("RestConnection",`Sending RPC '${t}' ${x}:`,M,a);const $={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo($,u,m),this.No(t,M,$,a).then(ue=>(un("RestConnection",`Received RPC '${t}' ${x}: `,ue),ue),ue=>{throw eo("RestConnection",`RPC '${t}' ${x} failed with error: `,ue,"url: ",M,"request:",a),ue})}Lo(t,i,a,u,m,x){return this.Mo(t,i,a,u,m)}Oo(t,i,a){t["X-Goog-Api-Client"]="gl-js/ fire/"+Ar,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,m)=>t[m]=u),a&&a.headers.forEach((u,m)=>t[m]=u)}xo(t,i){return`${this.Do}/v1/${i}:${Ha[t]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,a){const u=bh();return new Promise((m,x)=>{const M=new P;M.setWithCredentials(!0),M.listenOnce(J.COMPLETE,()=>{try{switch(M.getLastErrorCode()){case Ce.NO_ERROR:const ue=M.getResponseJson();un(Eo,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(ue)),m(ue);break;case Ce.TIMEOUT:un(Eo,`RPC '${e}' ${u} timed out`),x(new dn(Yt.DEADLINE_EXCEEDED,"Request time out"));break;case Ce.HTTP_ERROR:const Ie=M.getStatus();if(un(Eo,`RPC '${e}' ${u} failed with status:`,Ie,"response text:",M.getResponseText()),Ie>0){let Je=M.getResponseJson();Array.isArray(Je)&&(Je=Je[0]);const yt=Je?.error;if(yt&&yt.status&&yt.message){const Ft=function(qt){const Cn=qt.toLowerCase().replace(/_/g,"-");return Object.values(Yt).indexOf(Cn)>=0?Cn:Yt.UNKNOWN}(yt.status);x(new dn(Ft,yt.message))}else x(new dn(Yt.UNKNOWN,"Server responded with status "+M.getStatus()))}else x(new dn(Yt.UNAVAILABLE,"Connection failed."));break;default:jn()}}finally{un(Eo,`RPC '${e}' ${u} completed.`)}});const $=JSON.stringify(a);un(Eo,`RPC '${e}' ${u} sending request:`,a),M.send(t,"POST",$,i,15)})}Bo(e,t,i){const a=bh(),u=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=Vn(),x=ln(),M={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},$=this.longPollingOptions.timeoutSeconds;void 0!==$&&(M.longPollingTimeout=Math.round(1e3*$)),this.useFetchStreams&&(M.xmlHttpFactory=new C({})),this.Oo(M.initMessageHeaders,t,i),M.encodeInitMessageHeaders=!0;const ue=u.join("");un(Eo,`Creating RPC '${e}' stream ${a}: ${ue}`,M);const Ie=m.createWebChannel(ue,M);let Je=!1,yt=!1;const Ft=new O_({Io:qt=>{yt?un(Eo,`Not sending because RPC '${e}' stream ${a} is closed:`,qt):(Je||(un(Eo,`Opening RPC '${e}' stream ${a} transport.`),Ie.open(),Je=!0),un(Eo,`RPC '${e}' stream ${a} sending:`,qt),Ie.send(qt))},To:()=>Ie.close()}),Kt=(qt,Cn,Fn)=>{qt.listen(Cn,vn=>{try{Fn(vn)}catch(Un){setTimeout(()=>{throw Un},0)}})};return Kt(Ie,B.EventType.OPEN,()=>{yt||(un(Eo,`RPC '${e}' stream ${a} transport opened.`),Ft.yo())}),Kt(Ie,B.EventType.CLOSE,()=>{yt||(yt=!0,un(Eo,`RPC '${e}' stream ${a} transport closed`),Ft.So())}),Kt(Ie,B.EventType.ERROR,qt=>{yt||(yt=!0,eo(Eo,`RPC '${e}' stream ${a} transport errored:`,qt),Ft.So(new dn(Yt.UNAVAILABLE,"The operation could not be completed")))}),Kt(Ie,B.EventType.MESSAGE,qt=>{var Cn;if(!yt){const Fn=qt.data[0];Yn(!!Fn);const Un=Fn.error||(null===(Cn=Fn[0])||void 0===Cn?void 0:Cn.error);if(Un){un(Eo,`RPC '${e}' stream ${a} received error:`,Un);const gi=Un.status;let ci=function(gt){const St=bo[gt];if(void 0!==St)return jp(St)}(gi),Ct=Un.message;void 0===ci&&(ci=Yt.INTERNAL,Ct="Unknown error status: "+gi+" with message "+Un.message),yt=!0,Ft.So(new dn(ci,Ct)),Ie.close()}else un(Eo,`RPC '${e}' stream ${a} received:`,Fn),Ft.bo(Fn)}}),Kt(x,Dt.STAT_EVENT,qt=>{qt.stat===Re.PROXY?un(Eo,`RPC '${e}' stream ${a} detected buffering proxy`):qt.stat===Re.NOPROXY&&un(Eo,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Ft.wo()},0),Ft}}function hd(){return typeof window<"u"?window:null}function dc(){return typeof document<"u"?document:null}function zl(o){return new zv(o,!0)}class du{constructor(e,t,i=1e3,a=1.5,u=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=a,this.Qo=u,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),a=Math.max(0,t-i);a>0&&un("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,a,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class fd{constructor(e,t,i,a,u,m,x,M){this.ui=e,this.Ho=i,this.Jo=a,this.connection=u,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=x,this.listener=M,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new du(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,O.Z)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,O.Z)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){var i=this;return(0,O.Z)(function*(){i.u_(),i.c_(),i.t_.cancel(),i.Yo++,4!==e?i.t_.reset():t&&t.code===Yt.RESOURCE_EXHAUSTED?(wr(t.toString()),wr("Using maximum backoff delay to prevent overloading the backend."),i.t_.Wo()):t&&t.code===Yt.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.l_(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.mo(t)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.Yo===t&&this.P_(i,a)},i=>{e(()=>{const a=new dn(Yt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(a)})})}P_(e,t){const i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(a=>{i(()=>this.I_(a))}),this.stream.onMessage(a=>{i(()=>1==++this.e_?this.E_(a):this.onNext(a))})}i_(){var e=this;this.state=5,this.t_.Go((0,O.Z)(function*(){e.state=0,e.start()}))}I_(e){return un("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(un("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xh extends fd{constructor(e,t,i,a,u,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,m),this.serializer=u}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function Kv(o,e){let t;if("targetChange"in e){const i="NO_CHANGE"===($=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===$?1:"REMOVE"===$?2:"CURRENT"===$?3:"RESET"===$?4:jn(),a=e.targetChange.targetIds||[],u=function($,ue){return $.useProto3Json?(Yn(void 0===ue||"string"==typeof ue),to.fromBase64String(ue||"")):(Yn(void 0===ue||ue instanceof Buffer||ue instanceof Uint8Array),to.fromUint8Array(ue||new Uint8Array))}(o,e.targetChange.resumeToken),m=e.targetChange.cause,x=m&&function($){const ue=void 0===$.code?Yt.UNKNOWN:jp($.code);return new dn(ue,$.message||"")}(m);t=new Ll(i,a,u,x||null)}else if("documentChange"in e){const i=e.documentChange,a=Bl(o,i.document.name),u=ar(i.document.updateTime),m=i.document.createTime?ar(i.document.createTime):ei.min(),x=new yo({mapValue:{fields:i.document.fields}}),M=Yi.newFoundDocument(a,u,m,x);t=new Wp(i.targetIds||[],i.removedTargetIds||[],M.key,M)}else if("documentDelete"in e){const i=e.documentDelete,a=Bl(o,i.document),u=i.readTime?ar(i.readTime):ei.min(),m=Yi.newNoDocument(a,u);t=new Wp([],i.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){const i=e.documentRemove,a=Bl(o,i.document);t=new Wp([],i.removedTargetIds||[],a,null)}else{if(!("filter"in e))return jn();{const i=e.filter,{count:a=0,unchangedNames:u}=i,m=new LE(a,u);t=new nd(i.targetId,m)}}var $;return t}(this.serializer,e),i=function(u){if(!("targetChange"in u))return ei.min();const m=u.targetChange;return m.targetIds&&m.targetIds.length?ei.min():m.readTime?ar(m.readTime):ei.min()}(e);return this.listener.d_(t,i)}A_(e){const t={};t.database=n_(this.serializer),t.addTarget=function(u,m){let x;const M=m.target;if(x=Qc(M)?{documents:r_(u,M)}:{query:Kp(u,M)._t},x.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){x.resumeToken=Hv(u,m.resumeToken);const $=Jg(u,m.expectedCount);null!==$&&(x.expectedCount=$)}else if(m.snapshotVersion.compareTo(ei.min())>0){x.readTime=id(u,m.snapshotVersion.toTimestamp());const $=Jg(u,m.expectedCount);null!==$&&(x.expectedCount=$)}return x}(this.serializer,e);const i=function jE(o,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return jn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.a_(t)}R_(e){const t={};t.database=n_(this.serializer),t.removeTarget=e,this.a_(t)}}class Ch extends fd{constructor(e,t,i,a,u,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,m),this.serializer=u}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Yn(!!e.streamToken),this.lastStreamToken=e.streamToken,Yn(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Yn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function HE(o,e){return o&&o.length>0?(Yn(void 0!==e),o.map(t=>function(a,u){let m=ar(a.updateTime?a.updateTime:u);return m.isEqual(ei.min())&&(m=ar(u)),new Sv(m,a.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=ar(e.commitTime);return this.listener.g_(i,t)}p_(){const e={};e.database=n_(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>lh(this.serializer,i))};this.a_(t)}}class Ty extends class{}{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.y_=!1}w_(){if(this.y_)throw new dn(Yt.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,m])=>this.connection.Mo(e,Zp(t,i),a,u,m)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Yt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new dn(Yt.UNKNOWN,u.toString())})}Lo(e,t,i,a,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,x])=>this.connection.Lo(e,Zp(t,i),a,m,x,u)).catch(m=>{throw"FirebaseError"===m.name?(m.code===Yt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new dn(Yt.UNKNOWN,m.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Ay{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(wr(t),this.D_=!1):un("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Dy{constructor(e,t,i,a,u){var m=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=u,this.k_._o(x=>{i.enqueueAndForget((0,O.Z)(function*(){var M;hc(m)&&(un("RemoteStore","Restarting streams for network reachability change."),yield(M=(0,O.Z)(function*(ue){const Ie=Sn(ue);Ie.L_.add(4),yield pd(Ie),Ie.q_.set("Unknown"),Ie.L_.delete(4),yield wh(Ie)}),function $(ue){return M.apply(this,arguments)})(m))}))}),this.q_=new Ay(i,a)}}function wh(o){return hm.apply(this,arguments)}function hm(){return(hm=(0,O.Z)(function*(o){if(hc(o))for(const e of o.B_)yield e(!0)})).apply(this,arguments)}function pd(o){return fm.apply(this,arguments)}function fm(){return(fm=(0,O.Z)(function*(o){for(const e of o.B_)yield e(!1)})).apply(this,arguments)}function Hf(o,e){const t=Sn(o);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),F_(t)?pm(t):_d(t).r_()&&k_(t,e))}function md(o,e){const t=Sn(o),i=_d(t);t.N_.delete(e),i.r_()&&Sy(t,e),0===t.N_.size&&(i.r_()?i.o_():hc(t)&&t.q_.set("Unknown"))}function k_(o,e){if(o.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ei.min())>0){const t=o.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}_d(o).A_(e)}function Sy(o,e){o.Q_.xe(e),_d(o).R_(e)}function pm(o){o.Q_=new BE({getRemoteKeysForTarget:e=>o.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>o.N_.get(e)||null,tt:()=>o.datastore.serializer.databaseId}),_d(o).start(),o.q_.v_()}function F_(o){return hc(o)&&!_d(o).n_()&&o.N_.size>0}function hc(o){return 0===Sn(o).L_.size}function mm(o){o.Q_=void 0}function N_(o){return L_.apply(this,arguments)}function L_(){return(L_=(0,O.Z)(function*(o){o.q_.set("Online")})).apply(this,arguments)}function gm(o){return Ih.apply(this,arguments)}function Ih(){return(Ih=(0,O.Z)(function*(o){o.N_.forEach((e,t)=>{k_(o,e)})})).apply(this,arguments)}function B_(o,e){return V_.apply(this,arguments)}function V_(){return(V_=(0,O.Z)(function*(o,e){mm(o),F_(o)?(o.q_.M_(e),pm(o)):o.q_.set("Unknown")})).apply(this,arguments)}function _m(o,e,t){return Th.apply(this,arguments)}function Th(){return Th=(0,O.Z)(function*(o,e,t){if(o.q_.set("Online"),e instanceof Ll&&2===e.state&&e.cause)try{yield(i=(0,O.Z)(function*(u,m){const x=m.cause;for(const M of m.targetIds)u.N_.has(M)&&(yield u.remoteSyncer.rejectListen(M,x),u.N_.delete(M),u.Q_.removeTarget(M))}),function a(u,m){return i.apply(this,arguments)})(o,e)}catch(i){un("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Ah(o,i)}else if(e instanceof Wp?o.Q_.Ke(e):e instanceof nd?o.Q_.He(e):o.Q_.We(e),!t.isEqual(ei.min()))try{const i=yield by(o.localStore);t.compareTo(i)>=0&&(yield function(u,m){const x=u.Q_.rt(m);return x.targetChanges.forEach((M,$)=>{if(M.resumeToken.approximateByteSize()>0){const ue=u.N_.get($);ue&&u.N_.set($,ue.withResumeToken(M.resumeToken,m))}}),x.targetMismatches.forEach((M,$)=>{const ue=u.N_.get(M);if(!ue)return;u.N_.set(M,ue.withResumeToken(to.EMPTY_BYTE_STRING,ue.snapshotVersion)),Sy(u,M);const Ie=new nu(ue.target,M,$,ue.sequenceNumber);k_(u,Ie)}),u.remoteSyncer.applyRemoteEvent(x)}(o,t))}catch(i){un("RemoteStore","Failed to raise snapshot:",i),yield Ah(o,i)}var i}),Th.apply(this,arguments)}function Ah(o,e,t){return vm.apply(this,arguments)}function vm(){return(vm=(0,O.Z)(function*(o,e,t){if(!ta(e))throw e;o.L_.add(1),yield pd(o),o.q_.set("Offline"),t||(t=()=>by(o.localStore)),o.asyncQueue.enqueueRetryable((0,O.Z)(function*(){un("RemoteStore","Retrying IndexedDB access"),yield t(),o.L_.delete(1),yield wh(o)}))})).apply(this,arguments)}function ym(o,e){return e().catch(t=>Ah(o,t,e))}function gd(o){return bm.apply(this,arguments)}function bm(){return(bm=(0,O.Z)(function*(o){const e=Sn(o),t=fc(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;U_(e);)try{const a=yield A_(e.localStore,i);if(null===a){0===e.O_.length&&t.o_();break}i=a.batchId,z_(e,a)}catch(a){yield Ah(e,a)}My(e)&&H_(e)})).apply(this,arguments)}function U_(o){return hc(o)&&o.O_.length<10}function z_(o,e){o.O_.push(e);const t=fc(o);t.r_()&&t.V_&&t.m_(e.mutations)}function My(o){return hc(o)&&!fc(o).n_()&&o.O_.length>0}function H_(o){fc(o).start()}function Py(o){return Em.apply(this,arguments)}function Em(){return(Em=(0,O.Z)(function*(o){fc(o).p_()})).apply(this,arguments)}function Ry(o){return j_.apply(this,arguments)}function j_(){return(j_=(0,O.Z)(function*(o){const e=fc(o);for(const t of o.O_)e.m_(t.mutations)})).apply(this,arguments)}function Oy(o,e,t){return xm.apply(this,arguments)}function xm(){return(xm=(0,O.Z)(function*(o,e,t){const i=o.O_.shift(),a=zp.from(i,e,t);yield ym(o,()=>o.remoteSyncer.applySuccessfulWrite(a)),yield gd(o)})).apply(this,arguments)}function $_(o,e){return Dh.apply(this,arguments)}function Dh(){return Dh=(0,O.Z)(function*(o,e){var t;e&&fc(o).V_&&(yield(t=(0,O.Z)(function*(a,u){if(Hp(x=u.code)&&x!==Yt.ABORTED){const m=a.O_.shift();fc(a).s_(),yield ym(a,()=>a.remoteSyncer.rejectFailedWrite(m.batchId,u)),yield gd(a)}var x}),function i(a,u){return t.apply(this,arguments)})(o,e)),My(o)&&H_(o)}),Dh.apply(this,arguments)}function G_(o,e){return Cm.apply(this,arguments)}function Cm(){return(Cm=(0,O.Z)(function*(o,e){const t=Sn(o);t.asyncQueue.verifyOperationInProgress(),un("RemoteStore","RemoteStore received new credentials");const i=hc(t);t.L_.add(3),yield pd(t),i&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield wh(t)})).apply(this,arguments)}function wm(o,e){return Im.apply(this,arguments)}function Im(){return(Im=(0,O.Z)(function*(o,e){const t=Sn(o);e?(t.L_.delete(2),yield wh(t)):e||(t.L_.add(2),yield pd(t),t.q_.set("Unknown"))})).apply(this,arguments)}function _d(o){return o.K_||(o.K_=function(t,i,a){const u=Sn(t);return u.w_(),new xh(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)}(o.datastore,o.asyncQueue,{Eo:N_.bind(null,o),Ro:gm.bind(null,o),mo:B_.bind(null,o),d_:_m.bind(null,o)}),o.B_.push(function(){var e=(0,O.Z)(function*(t){t?(o.K_.s_(),F_(o)?pm(o):o.q_.set("Unknown")):(yield o.K_.stop(),mm(o))});return function(t){return e.apply(this,arguments)}}())),o.K_}function fc(o){return o.U_||(o.U_=function(t,i,a){const u=Sn(t);return u.w_(),new Ch(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)}(o.datastore,o.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Py.bind(null,o),mo:$_.bind(null,o),f_:Ry.bind(null,o),g_:Oy.bind(null,o)}),o.B_.push(function(){var e=(0,O.Z)(function*(t){t?(o.U_.s_(),yield gd(o)):(yield o.U_.stop(),o.O_.length>0&&(un("RemoteStore",`Stopping write stream with ${o.O_.length} pending writes`),o.O_=[]))});return function(t){return e.apply(this,arguments)}}())),o.U_}class Tm{constructor(e,t,i,a,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=u,this.deferred=new jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,u){const m=Date.now()+i,x=new Tm(e,t,m,a,u);return x.start(i),x}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new dn(Yt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vd(o,e){if(wr("AsyncQueue",`${e}: ${o}`),ta(o))return new dn(Yt.UNAVAILABLE,`${e}: ${o}`);throw o}class pc{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Rn.comparator(t.key,i.key):(t,i)=>Rn.comparator(t.key,i.key),this.keyedMap=Tn(),this.sortedSet=new yr(this.comparator)}static emptySet(e){return new pc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof pc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=i.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new pc;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class mc{constructor(){this.W_=new yr(Rn.comparator)}track(e){const t=e.doc.key,i=this.W_.get(t);i?0!==e.type&&3===i.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==i.type?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.W_=this.W_.remove(t):1===e.type&&2===i.type?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):jn():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Sh{constructor(e,t,i,a,u,m,x,M,$){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=u,this.fromCache=m,this.syncStateChanged=x,this.excludesMetadataChanges=M,this.hasCachedResults=$}static fromInitialDocuments(e,t,i,a,u){const m=[];return t.forEach(x=>{m.push({type:0,doc:x})}),new Sh(e,t,pc.emptySet(t),m,i,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}class ux{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class W_{constructor(){this.queries=hu(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(t,i){const a=Sn(t),u=a.queries;a.queries=hu(),u.forEach((m,x)=>{for(const M of x.j_)M.onError(i)})}(this,new dn(Yt.ABORTED,"Firestore shutting down"))}}function hu(){return new be(o=>ih(o),Xu)}function jf(o,e){return Z_.apply(this,arguments)}function Z_(){return(Z_=(0,O.Z)(function*(o,e){const t=Sn(o);let i=3;const a=e.query;let u=t.queries.get(a);u?!u.H_()&&e.J_()&&(i=2):(u=new ux,i=e.J_()?0:1);try{switch(i){case 0:u.z_=yield t.onListen(a,!0);break;case 1:u.z_=yield t.onListen(a,!1);break;case 2:yield t.onFirstRemoteStoreListen(a)}}catch(m){const x=vd(m,`Initialization of query '${y(e.query)}' failed`);return void e.onError(x)}t.queries.set(a,u),u.j_.push(e),e.Z_(t.onlineState),u.z_&&e.X_(u.z_)&&K_(t)})).apply(this,arguments)}function $f(o,e){return ky.apply(this,arguments)}function ky(){return(ky=(0,O.Z)(function*(o,e){const t=Sn(o),i=e.query;let a=3;const u=t.queries.get(i);if(u){const m=u.j_.indexOf(e);m>=0&&(u.j_.splice(m,1),0===u.j_.length?a=e.J_()?0:1:!u.H_()&&e.J_()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}})).apply(this,arguments)}function kC(o,e){const t=Sn(o);let i=!1;for(const a of e){const m=t.queries.get(a.query);if(m){for(const x of m.j_)x.X_(a)&&(i=!0);m.z_=a}}i&&K_(t)}function dx(o,e,t){const i=Sn(o),a=i.queries.get(e);if(a)for(const u of a.j_)u.onError(t);i.queries.delete(e)}function K_(o){o.Y_.forEach(e=>{e.next()})}var Am,Fy;(Fy=Am||(Am={})).ea="default",Fy.Cache="cache";class xo{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)3!==a.type&&i.push(a);e=new Sh(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=Sh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Am.Cache}}class Ny{constructor(e,t){this.aa=e,this.byteLength=t}ua(){return"metadata"in this.aa}}class Ly{constructor(e){this.serializer=e}Es(e){return Bl(this.serializer,e)}ds(e){return e.metadata.exists?Ii(this.serializer,e.document,!1):Yi.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return ar(e)}}class hx{constructor(e,t,i){this.ca=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Y_(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++t;const i=ki.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ha(e){const t=new Map,i=new Ly(this.serializer);for(const a of e)if(a.metadata.queries){const u=i.Es(a.metadata.name);for(const m of a.metadata.queries){const x=(t.get(m)||xi()).add(u);t.set(m,x)}}return t}complete(){var e=this;return(0,O.Z)(function*(){const t=yield function lx(o,e,t,i){return S_.apply(this,arguments)}(e.localStore,new Ly(e.serializer),e.documents,e.ca.id),i=e.ha(e.documents);for(const a of e.queries)yield wy(e.localStore,a,i.get(a.name));return e.progress.taskState="Success",{progress:e.progress,Pa:e.collectionGroups,Ia:t}})()}}function Y_(o){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:o.totalDocuments,totalBytes:o.totalBytes}}class By{constructor(e){this.key=e}}class q_{constructor(e){this.key=e}}class Q_{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=xi(),this.mutatedKeys=xi(),this.Aa=I(e),this.Ra=new pc(this.Aa)}get Va(){return this.Ta}ma(e,t){const i=t?t.fa:new mc,a=t?t.Ra:this.Ra;let u=t?t.mutatedKeys:this.mutatedKeys,m=a,x=!1;const M="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,$="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((ue,Ie)=>{const Je=a.get(ue),yt=h(this.query,Ie)?Ie:null,Ft=!!Je&&this.mutatedKeys.has(Je.key),Kt=!!yt&&(yt.hasLocalMutations||this.mutatedKeys.has(yt.key)&&yt.hasCommittedMutations);let qt=!1;Je&&yt?Je.data.isEqual(yt.data)?Ft!==Kt&&(i.track({type:3,doc:yt}),qt=!0):this.ga(Je,yt)||(i.track({type:2,doc:yt}),qt=!0,(M&&this.Aa(yt,M)>0||$&&this.Aa(yt,$)<0)&&(x=!0)):!Je&&yt?(i.track({type:0,doc:yt}),qt=!0):Je&&!yt&&(i.track({type:1,doc:Je}),qt=!0,(M||$)&&(x=!0)),qt&&(yt?(m=m.add(yt),u=Kt?u.add(ue):u.delete(ue)):(m=m.delete(ue),u=u.delete(ue)))}),null!==this.query.limit)for(;m.size>this.query.limit;){const ue="F"===this.query.limitType?m.last():m.first();m=m.delete(ue.key),u=u.delete(ue.key),i.track({type:1,doc:ue})}return{Ra:m,fa:i,ns:x,mutatedKeys:u}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const u=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const m=e.fa.G_();m.sort((ue,Ie)=>function(yt,Ft){const Kt=qt=>{switch(qt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return jn()}};return Kt(yt)-Kt(Ft)}(ue.type,Ie.type)||this.Aa(ue.doc,Ie.doc)),this.pa(i),a=null!=a&&a;const x=t&&!a?this.ya():[],M=0===this.da.size&&this.current&&!a?1:0,$=M!==this.Ea;return this.Ea=M,0!==m.length||$?{snapshot:new Sh(this.query,e.Ra,u,m,e.mutatedKeys,0===M,$,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:x}:{wa:x}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new mc,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=xi(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const t=[];return e.forEach(i=>{this.da.has(i)||t.push(new q_(i))}),this.da.forEach(i=>{e.has(i)||t.push(new By(i))}),t}ba(e){this.Ta=e.Ts,this.da=xi();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Sh.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Mh{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class fx{constructor(e){this.key=e,this.va=!1}}class px{constructor(e,t,i,a,u,m){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=m,this.Ca={},this.Fa=new be(x=>ih(x),Xu),this.Ma=new Map,this.xa=new Set,this.Oa=new yr(Rn.comparator),this.Na=new Map,this.La=new py,this.Ba={},this.ka=new Map,this.qa=ld.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function Vy(o,e){return X_.apply(this,arguments)}function X_(){return(X_=(0,O.Z)(function*(o,e,t=!0){const i=Fm(o);let a;const u=i.Fa.get(e);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),a=u.view.Da()):a=yield Dm(i,e,t,!0),a})).apply(this,arguments)}function Uy(o,e){return zy.apply(this,arguments)}function zy(){return(zy=(0,O.Z)(function*(o,e){const t=Fm(o);yield Dm(t,e,!0,!1)})).apply(this,arguments)}function Dm(o,e,t,i){return Gf.apply(this,arguments)}function Gf(){return(Gf=(0,O.Z)(function*(o,e,t,i){const a=yield yh(o.localStore,Oo(e)),u=a.targetId,m=t?o.sharedClientState.addLocalQueryTarget(u):"not-current";let x;return i&&(x=yield ja(o,e,u,"current"===m,a.resumeToken)),o.isPrimaryClient&&t&&Hf(o.remoteStore,a),x})).apply(this,arguments)}function ja(o,e,t,i,a){return J_.apply(this,arguments)}function J_(){return J_=(0,O.Z)(function*(o,e,t,i,a){o.Ka=(Ie,Je,yt)=>{return(Ft=(0,O.Z)(function*(qt,Cn,Fn,vn){let Un=Cn.view.ma(Fn);Un.ns&&(Un=yield lm(qt.localStore,Cn.query,!1).then(({documents:it})=>Cn.view.ma(it,Un)));const gi=vn&&vn.targetChanges.get(Cn.targetId),ci=vn&&null!=vn.targetMismatches.get(Cn.targetId),Ct=Cn.view.applyChanges(Un,qt.isPrimaryClient,gi,ci);return Rm(qt,Cn.targetId,Ct.wa),Ct.snapshot}),function Kt(qt,Cn,Fn,vn){return Ft.apply(this,arguments)})(o,Ie,Je,yt);var Ft};const u=yield lm(o.localStore,e,!0),m=new Q_(e,u.Ts),x=m.ma(u.documents),M=Mf.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==o.onlineState,a),$=m.applyChanges(x,o.isPrimaryClient,M);Rm(o,t,$.wa);const ue=new Mh(e,t,m);return o.Fa.set(e,ue),o.Ma.has(t)?o.Ma.get(t).push(e):o.Ma.set(t,[e]),$.snapshot}),J_.apply(this,arguments)}function Hy(o,e,t){return $a.apply(this,arguments)}function $a(){return($a=(0,O.Z)(function*(o,e,t){const i=Sn(o),a=i.Fa.get(e),u=i.Ma.get(a.targetId);if(u.length>1)return i.Ma.set(a.targetId,u.filter(m=>!Xu(m,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||(yield cu(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&md(i.remoteStore,a.targetId),Rh(i,a.targetId)}).catch(tl))):(Rh(i,a.targetId),yield cu(i.localStore,a.targetId,!0))})).apply(this,arguments)}function ul(o,e){return ba.apply(this,arguments)}function ba(){return(ba=(0,O.Z)(function*(o,e){const t=Sn(o),i=t.Fa.get(e),a=t.Ma.get(i.targetId);t.isPrimaryClient&&1===a.length&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),md(t.remoteStore,i.targetId))})).apply(this,arguments)}function Sm(){return(Sm=(0,O.Z)(function*(o,e,t){const i=h0(o);try{const a=yield function(m,x){const M=Sn(m),$=Dr.now(),ue=x.reduce((yt,Ft)=>yt.add(Ft.key),xi());let Ie,Je;return M.persistence.runTransaction("Locally write mutations","readwrite",yt=>{let Ft=At(),Kt=xi();return M.cs.getEntries(yt,ue).next(qt=>{Ft=qt,Ft.forEach((Cn,Fn)=>{Fn.isValidDocument()||(Kt=Kt.add(Cn))})}).next(()=>M.localDocuments.getOverlayedDocuments(yt,Ft)).next(qt=>{Ie=qt;const Cn=[];for(const Fn of x){const vn=Pv(Fn,Ie.get(Fn.key).overlayedDocument);null!=vn&&Cn.push(new Jc(Fn.key,vn,gf(vn.value.mapValue),br.exists(!0)))}return M.mutationQueue.addMutationBatch(yt,$,Cn,x)}).next(qt=>{Je=qt;const Cn=qt.applyToLocalDocumentSet(Ie,Kt);return M.documentOverlayCache.saveOverlays(yt,qt.batchId,Cn)})}).then(()=>({batchId:Je.batchId,changes:Zn(Ie)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(m,x,M){let $=m.Ba[m.currentUser.toKey()];$||($=new yr(_i)),$=$.insert(x,M),m.Ba[m.currentUser.toKey()]=$}(i,a.batchId,t),yield dl(i,a.changes),yield gd(i.remoteStore)}catch(a){const u=vd(a,"Failed to persist write");t.reject(u)}})).apply(this,arguments)}function $y(o,e){return e0.apply(this,arguments)}function e0(){return(e0=(0,O.Z)(function*(o,e){const t=Sn(o);try{const i=yield function ax(o,e){const t=Sn(o),i=e.snapshotVersion;let a=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const m=t.cs.newChangeBuffer({trackRemovals:!0});a=t.os;const x=[];e.targetChanges.forEach((ue,Ie)=>{const Je=a.get(Ie);if(!Je)return;x.push(t.Ur.removeMatchingKeys(u,ue.removedDocuments,Ie).next(()=>t.Ur.addMatchingKeys(u,ue.addedDocuments,Ie)));let yt=Je.withSequenceNumber(u.currentSequenceNumber);var Kt,qt,Cn;null!==e.targetMismatches.get(Ie)?yt=yt.withResumeToken(to.EMPTY_BYTE_STRING,ei.min()).withLastLimboFreeSnapshotVersion(ei.min()):ue.resumeToken.approximateByteSize()>0&&(yt=yt.withResumeToken(ue.resumeToken,i)),a=a.insert(Ie,yt),qt=yt,Cn=ue,(0===(Kt=Je).resumeToken.approximateByteSize()||qt.snapshotVersion.toMicroseconds()-Kt.snapshotVersion.toMicroseconds()>=3e8||Cn.addedDocuments.size+Cn.modifiedDocuments.size+Cn.removedDocuments.size>0)&&x.push(t.Ur.updateTargetData(u,yt))});let M=At(),$=xi();if(e.documentUpdates.forEach(ue=>{e.resolvedLimboDocuments.has(ue)&&x.push(t.persistence.referenceDelegate.updateLimboDocument(u,ue))}),x.push(T_(u,m,e.documentUpdates).next(ue=>{M=ue.Ps,$=ue.Is})),!i.isEqual(ei.min())){const ue=t.Ur.getLastRemoteSnapshotVersion(u).next(Ie=>t.Ur.setTargetsMetadata(u,u.currentSequenceNumber,i));x.push(ue)}return Nt.waitFor(x).next(()=>m.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,M,$)).next(()=>M)}).then(u=>(t.os=a,u))}(t.localStore,e);e.targetChanges.forEach((a,u)=>{const m=t.Na.get(u);m&&(Yn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?m.va=!0:a.modifiedDocuments.size>0?Yn(m.va):a.removedDocuments.size>0&&(Yn(m.va),m.va=!1))}),yield dl(t,i,e)}catch(i){yield tl(i)}})).apply(this,arguments)}function Gy(o,e,t){const i=Sn(o);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const a=[];i.Fa.forEach((u,m)=>{const x=m.view.Z_(e);x.snapshot&&a.push(x.snapshot)}),function(m,x){const M=Sn(m);M.onlineState=x;let $=!1;M.queries.forEach((ue,Ie)=>{for(const Je of Ie.j_)Je.Z_(x)&&($=!0)}),$&&K_(M)}(i.eventManager,e),a.length&&i.Ca.d_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function mx(o,e,t){return Wf.apply(this,arguments)}function Wf(){return(Wf=(0,O.Z)(function*(o,e,t){const i=Sn(o);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Na.get(e),u=a&&a.key;if(u){let m=new yr(Rn.comparator);m=m.insert(u,Yi.newNoDocument(u,ei.min()));const x=xi().add(u),M=new Sf(ei.min(),new Map,new yr(_i),m,x);yield $y(i,M),i.Oa=i.Oa.remove(u),i.Na.delete(e),Oh(i)}else yield cu(i.localStore,e,!1).then(()=>Rh(i,e,t)).catch(tl)})).apply(this,arguments)}function Zf(o,e){return t0.apply(this,arguments)}function t0(){return(t0=(0,O.Z)(function*(o,e){const t=Sn(o),i=e.batch.batchId;try{const a=yield function sx(o,e){const t=Sn(o);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),u=t.cs.newChangeBuffer({trackRemovals:!0});return function(x,M,$,ue){const Ie=$.batch,Je=Ie.keys();let yt=Nt.resolve();return Je.forEach(Ft=>{yt=yt.next(()=>ue.getEntry(M,Ft)).next(Kt=>{const qt=$.docVersions.get(Ft);Yn(null!==qt),Kt.version.compareTo(qt)<0&&(Ie.applyToRemoteDocument(Kt,$),Kt.isValidDocument()&&(Kt.setReadTime($.commitVersion),ue.addEntry(Kt)))})}),yt.next(()=>x.mutationQueue.removeMutationBatch(M,Ie))}(t,i,e,u).next(()=>u.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(x){let M=xi();for(let $=0;$<x.mutationResults.length;++$)x.mutationResults[$].transformResults.length>0&&(M=M.add(x.batch.mutations[$].key));return M}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}(t.localStore,e);Ph(t,i,null),Pm(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield dl(t,a)}catch(a){yield tl(a)}})).apply(this,arguments)}function Wy(o,e,t){return n0.apply(this,arguments)}function n0(){return(n0=(0,O.Z)(function*(o,e,t){const i=Sn(o);try{const a=yield function(m,x){const M=Sn(m);return M.persistence.runTransaction("Reject batch","readwrite-primary",$=>{let ue;return M.mutationQueue.lookupMutationBatch($,x).next(Ie=>(Yn(null!==Ie),ue=Ie.keys(),M.mutationQueue.removeMutationBatch($,Ie))).next(()=>M.mutationQueue.performConsistencyCheck($)).next(()=>M.documentOverlayCache.removeOverlaysForBatchId($,ue,x)).next(()=>M.localDocuments.recalculateAndSaveOverlaysForDocumentKeys($,ue)).next(()=>M.localDocuments.getDocuments($,ue))})}(i.localStore,e);Ph(i,e,t),Pm(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield dl(i,a)}catch(a){yield tl(a)}})).apply(this,arguments)}function Mm(){return(Mm=(0,O.Z)(function*(o,e){const t=Sn(o);hc(t.remoteStore)||un("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(m){const x=Sn(m);return x.persistence.runTransaction("Get highest unacknowledged batch id","readonly",M=>x.mutationQueue.getHighestUnacknowledgedBatchId(M))}(t.localStore);if(-1===i)return void e.resolve();const a=t.ka.get(i)||[];a.push(e),t.ka.set(i,a)}catch(i){const a=vd(i,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}})).apply(this,arguments)}function Pm(o,e){(o.ka.get(e)||[]).forEach(t=>{t.resolve()}),o.ka.delete(e)}function Ph(o,e,t){const i=Sn(o);let a=i.Ba[i.currentUser.toKey()];if(a){const u=a.get(e);u&&(t?u.reject(t):u.resolve(),a=a.remove(e)),i.Ba[i.currentUser.toKey()]=a}}function Rh(o,e,t=null){o.sharedClientState.removeLocalQueryTarget(e);for(const i of o.Ma.get(e))o.Fa.delete(i),t&&o.Ca.$a(i,t);o.Ma.delete(e),o.isPrimaryClient&&o.La.gr(e).forEach(i=>{o.La.containsKey(i)||r0(o,i)})}function r0(o,e){o.xa.delete(e.path.canonicalString());const t=o.Oa.get(e);null!==t&&(md(o.remoteStore,t),o.Oa=o.Oa.remove(e),o.Na.delete(t),Oh(o))}function Rm(o,e,t){for(const i of t)i instanceof By?(o.La.addReference(i.key,e),o0(o,i)):i instanceof q_?(un("SyncEngine","Document no longer in limbo: "+i.key),o.La.removeReference(i.key,e),o.La.containsKey(i.key)||r0(o,i.key)):jn()}function o0(o,e){const t=e.key,i=t.path.canonicalString();o.Oa.get(t)||o.xa.has(i)||(un("SyncEngine","New document in limbo: "+t),o.xa.add(i),Oh(o))}function Oh(o){for(;o.xa.size>0&&o.Oa.size<o.maxConcurrentLimboResolutions;){const e=o.xa.values().next().value;o.xa.delete(e);const t=new Rn(ki.fromString(e)),i=o.qa.next();o.Na.set(i,new fx(t)),o.Oa=o.Oa.insert(t,i),Hf(o.remoteStore,new nu(Oo(Xc(t.path)),i,"TargetPurposeLimboResolution",mr.oe))}}function dl(o,e,t){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,O.Z)(function*(o,e,t){const i=Sn(o),a=[],u=[],m=[];var x;i.Fa.isEmpty()||(i.Fa.forEach((x,M)=>{m.push(i.Ka(M,e,t).then($=>{var ue;if(($||t)&&i.isPrimaryClient){const Ie=$?!$.fromCache:null===(ue=t?.targetChanges.get(M.targetId))||void 0===ue?void 0:ue.current;i.sharedClientState.updateQueryState(M.targetId,Ie?"current":"not-current")}if($){a.push($);const Ie=dd.Wi(M.targetId,$);u.push(Ie)}}))}),yield Promise.all(m),i.Ca.d_(a),yield(x=(0,O.Z)(function*($,ue){const Ie=Sn($);try{yield Ie.persistence.runTransaction("notifyLocalViewChanges","readwrite",Je=>Nt.forEach(ue,yt=>Nt.forEach(yt.$i,Ft=>Ie.persistence.referenceDelegate.addReference(Je,yt.targetId,Ft)).next(()=>Nt.forEach(yt.Ui,Ft=>Ie.persistence.referenceDelegate.removeReference(Je,yt.targetId,Ft)))))}catch(Je){if(!ta(Je))throw Je;un("LocalStore","Failed to update sequence numbers: "+Je)}for(const Je of ue){const yt=Je.targetId;if(!Je.fromCache){const Ft=Ie.os.get(yt),qt=Ft.withLastLimboFreeSnapshotVersion(Ft.snapshotVersion);Ie.os=Ie.os.insert(yt,qt)}}}),function M($,ue){return x.apply(this,arguments)})(i.localStore,u))}),Kf.apply(this,arguments)}function Zy(o,e){return Om.apply(this,arguments)}function Om(){return(Om=(0,O.Z)(function*(o,e){const t=Sn(o);if(!t.currentUser.isEqual(e)){un("SyncEngine","User change. New user:",e.toKey());const i=yield yy(t.localStore,e);t.currentUser=e,(u=t).ka.forEach(x=>{x.forEach(M=>{M.reject(new dn(Yt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.ka.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield dl(t,i.hs)}var u})).apply(this,arguments)}function Ky(o,e){const t=Sn(o),i=t.Na.get(e);if(i&&i.va)return xi().add(i.key);{let a=xi();const u=t.Ma.get(e);if(!u)return a;for(const m of u){const x=t.Fa.get(m);a=a.unionWith(x.view.Va)}return a}}function Yy(o,e){return km.apply(this,arguments)}function km(){return(km=(0,O.Z)(function*(o,e){const t=Sn(o),i=yield lm(t.localStore,e.query,!0),a=e.view.ba(i);return t.isPrimaryClient&&Rm(t,e.targetId,a.wa),a})).apply(this,arguments)}function qy(o,e){return s0.apply(this,arguments)}function s0(){return(s0=(0,O.Z)(function*(o,e){const t=Sn(o);return xy(t.localStore,e).then(i=>dl(t,i))})).apply(this,arguments)}function _x(o,e,t,i){return a0.apply(this,arguments)}function a0(){return(a0=(0,O.Z)(function*(o,e,t,i){const a=Sn(o),u=yield function(x,M){const $=Sn(x),ue=Sn($.mutationQueue);return $.persistence.runTransaction("Lookup mutation documents","readonly",Ie=>ue.Mn(Ie,M).next(Je=>Je?$.localDocuments.getDocuments(Ie,Je):Nt.resolve(null)))}(a.localStore,e);var M;null!==u?("pending"===t?yield gd(a.remoteStore):"acknowledged"===t||"rejected"===t?(Ph(a,e,i||null),Pm(a,e),M=e,Sn(Sn(a.localStore).mutationQueue).On(M)):jn(),yield dl(a,u)):un("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function l0(){return(l0=(0,O.Z)(function*(o,e){const t=Sn(o);if(Fm(t),h0(t),!0===e&&!0!==t.Qa){const i=t.sharedClientState.getAllActiveQueryTargets(),a=yield Qy(t,i.toArray());t.Qa=!0,yield wm(t.remoteStore,!0);for(const u of a)Hf(t.remoteStore,u)}else if(!1===e&&!1!==t.Qa){const i=[];let a=Promise.resolve();t.Ma.forEach((u,m)=>{t.sharedClientState.isLocalQueryTarget(m)?i.push(m):a=a.then(()=>(Rh(t,m),cu(t.localStore,m,!0))),md(t.remoteStore,m)}),yield a,yield Qy(t,i),function(m){const x=Sn(m);x.Na.forEach((M,$)=>{md(x.remoteStore,$)}),x.La.pr(),x.Na=new Map,x.Oa=new yr(Rn.comparator)}(t),t.Qa=!1,yield wm(t.remoteStore,!1)}})).apply(this,arguments)}function Qy(o,e,t){return c0.apply(this,arguments)}function c0(){return(c0=(0,O.Z)(function*(o,e,t){const i=Sn(o),a=[],u=[];for(const m of e){let x;const M=i.Ma.get(m);if(M&&0!==M.length){x=yield yh(i.localStore,Oo(M[0]));for(const $ of M){const ue=i.Fa.get($),Ie=yield Yy(i,ue);Ie.snapshot&&u.push(Ie.snapshot)}}else{const $=yield Ey(i.localStore,m);x=yield yh(i.localStore,$),yield ja(i,Xy($),m,!1,x.resumeToken)}a.push(x)}return i.Ca.d_(u),a})).apply(this,arguments)}function Xy(o){return eh(o.path,o.collectionGroup,o.orderBy,o.filters,o.limit,"F",o.startAt,o.endAt)}function yx(o){return t=Sn(o).localStore,Sn(Sn(t).persistence).Qi();var t}function bx(o,e,t,i){return u0.apply(this,arguments)}function u0(){return(u0=(0,O.Z)(function*(o,e,t,i){const a=Sn(o);if(a.Qa)return void un("SyncEngine","Ignoring unexpected query state notification.");const u=a.Ma.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const m=yield xy(a.localStore,p(u[0])),x=Sf.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,to.EMPTY_BYTE_STRING);yield dl(a,m,x);break}case"rejected":yield cu(a.localStore,e,!0),Rh(a,e,i);break;default:jn()}})).apply(this,arguments)}function Ex(o,e,t){return d0.apply(this,arguments)}function d0(){return(d0=(0,O.Z)(function*(o,e,t){const i=Fm(o);if(i.Qa){for(const a of e){if(i.Ma.has(a)&&i.sharedClientState.isActiveQueryTarget(a)){un("SyncEngine","Adding an already active target "+a);continue}const u=yield Ey(i.localStore,a),m=yield yh(i.localStore,u);yield ja(i,Xy(u),m.targetId,!1,m.resumeToken),Hf(i.remoteStore,m)}for(const a of t)i.Ma.has(a)&&(yield cu(i.localStore,a,!1).then(()=>{md(i.remoteStore,a),Rh(i,a)}).catch(tl))}})).apply(this,arguments)}function Fm(o){const e=Sn(o);return e.remoteStore.remoteSyncer.applyRemoteEvent=$y.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ky.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mx.bind(null,e),e.Ca.d_=kC.bind(null,e.eventManager),e.Ca.$a=dx.bind(null,e.eventManager),e}function h0(o){const e=Sn(o);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Zf.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Wy.bind(null,e),e}class Yf{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,O.Z)(function*(){t.serializer=zl(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return vy(this.persistence,new rx,e.initialUser,this.serializer)}createPersistence(e){return new rm(za.Zr,this.serializer)}createSharedClientState(e){return new cl}terminate(){var e=this;return(0,O.Z)(function*(){var t,i;null===(t=e.gcScheduler)||void 0===t||t.stop(),null===(i=e.indexBackfillerScheduler)||void 0===i||i.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Nm extends Yf{constructor(e,t,i){super(),this.Wa=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,O.Z)(function*(){yield t().call(i,e),yield i.Wa.initialize(i,e),yield h0(i.Wa.syncEngine),yield gd(i.Wa.remoteStore),yield i.persistence.yi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return vy(this.persistence,new rx,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new cy(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new wp(t,this.persistence);return new Ug(e.asyncQueue,i)}createPersistence(e){const t=w_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?ys.withCacheSize(this.cacheSizeBytes):ys.DEFAULT;return new sm(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,hd(),dc(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new cl}}class f0 extends Nm{constructor(e,t){super(e,t,!1),this.Wa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,O.Z)(function*(){yield t().call(i,e);const a=i.Wa.syncEngine;i.sharedClientState instanceof R_&&(i.sharedClientState.syncEngine={no:_x.bind(null,a),ro:bx.bind(null,a),io:Ex.bind(null,a),Qi:yx.bind(null,a),eo:qy.bind(null,a)},yield i.sharedClientState.start()),yield i.persistence.yi(function(){var u=(0,O.Z)(function*(m){yield function vx(o,e){return l0.apply(this,arguments)}(i.Wa.syncEngine,m),i.gcScheduler&&(m&&!i.gcScheduler.started?i.gcScheduler.start():m||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(m&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():m||i.indexBackfillerScheduler.stop())});return function(m){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const t=hd();if(!R_.D(t))throw new dn(Yt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=w_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new R_(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class yd{initialize(e,t){var i=this;return(0,O.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=a=>Gy(i.syncEngine,a,1),i.remoteStore.remoteSyncer.handleCredentialChange=Zy.bind(null,i.syncEngine),yield wm(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new W_}createDatastore(e){const t=zl(e.databaseInfo.databaseId),i=new Eh(e.databaseInfo);return new Ty(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return i=this.localStore,a=this.datastore,u=e.asyncQueue,m=t=>Gy(this.syncEngine,t,0),x=ss.D()?new ss:new zf,new Dy(i,a,u,m,x);var i,a,u,m,x}createSyncEngine(e,t){return function(a,u,m,x,M,$,ue){const Ie=new px(a,u,m,x,M,$);return ue&&(Ie.Qa=!0),Ie}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){var e=this;return(0,O.Z)(function*(){var t,i,a;yield(a=(0,O.Z)(function*(m){const x=Sn(m);un("RemoteStore","RemoteStore shutting down."),x.L_.add(5),yield pd(x),x.k_.shutdown(),x.q_.set("Unknown")}),function u(m){return a.apply(this,arguments)})(e.remoteStore),null===(t=e.datastore)||void 0===t||t.terminate(),null===(i=e.eventManager)||void 0===i||i.terminate()})()}}function p0(o,e=10240){let t=0;return{read:()=>(0,O.Z)(function*(){if(t<o.byteLength){const i={value:o.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,O.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class qf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):wr("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Jy{constructor(e,t){this.ja=e,this.serializer=t,this.metadata=new jr,this.buffer=new Uint8Array,this.Ha=new TextDecoder("utf-8"),this.Ja().then(i=>{i&&i.ua()?this.metadata.resolve(i.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.aa)}`))},i=>this.metadata.reject(i))}close(){return this.ja.cancel()}getMetadata(){var e=this;return(0,O.Z)(function*(){return e.metadata.promise})()}Ua(){var e=this;return(0,O.Z)(function*(){return yield e.getMetadata(),e.Ja()})()}Ja(){var e=this;return(0,O.Z)(function*(){const t=yield e.Ya();if(null===t)return null;const i=e.Ha.decode(t),a=Number(i);isNaN(a)&&e.Za(`length string (${i}) is not valid number`);const u=yield e.Xa(a);return new Ny(JSON.parse(u),t.length+a)})()}eu(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ya(){var e=this;return(0,O.Z)(function*(){for(;e.eu()<0&&!(yield e.tu()););if(0===e.buffer.length)return null;const t=e.eu();t<0&&e.Za("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Xa(e){var t=this;return(0,O.Z)(function*(){for(;t.buffer.length<e;)(yield t.tu())&&t.Za("Reached the end of bundle when more is expected.");const i=t.Ha.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Za(e){throw this.ja.cancel(),new Error(`Invalid bundle format: ${e}`)}tu(){var e=this;return(0,O.Z)(function*(){const t=yield e.ja.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class eb{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,O.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw t.lastTransactionError=new dn(Yt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),t.lastTransactionError;const i=yield(a=(0,O.Z)(function*(m,x){const M=Sn(m),$={documents:x.map(yt=>Pf(M.serializer,yt))},ue=yield M.Lo("BatchGetDocuments",M.serializer.databaseId,ki.emptyPath(),$,x.length),Ie=new Map;ue.forEach(yt=>{const Ft=function Zv(o,e){return"found"in e?function(i,a){Yn(!!a.found);const u=Bl(i,a.found.name),m=ar(a.found.updateTime),x=a.found.createTime?ar(a.found.createTime):ei.min(),M=new yo({mapValue:{fields:a.found.fields}});return Yi.newFoundDocument(u,m,x,M)}(o,e):"missing"in e?function(i,a){Yn(!!a.missing),Yn(!!a.readTime);const u=Bl(i,a.missing),m=ar(a.readTime);return Yi.newNoDocument(u,m)}(o,e):jn()}(M.serializer,yt);Ie.set(Ft.key.toString(),Ft)});const Je=[];return x.forEach(yt=>{const Ft=Ie.get(yt.toString());Yn(!!Ft),Je.push(Ft)}),Je}),function u(m,x){return a.apply(this,arguments)})(t.datastore,e);var a;return i.forEach(a=>t.recordVersion(a)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new al(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,O.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,a)=>{const u=Rn.fromPath(a);e.mutations.push(new td(u,e.precondition(u)))}),yield(i=(0,O.Z)(function*(u,m){const x=Sn(u),M={writes:m.map($=>lh(x.serializer,$))};yield x.Mo("Commit",x.serializer.databaseId,ki.emptyPath(),M)}),function a(u,m){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw jn();t=ei.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new dn(Yt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ei.min())?br.exists(!1):br.updateTime(t):br.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ei.min()))throw new dn(Yt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return br.updateTime(t)}return br.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class tb{constructor(e,t,i,a,u){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=a,this.deferred=u,this.nu=i.maxAttempts,this.t_=new du(this.asyncQueue,"transaction_retry")}ru(){this.nu-=1,this.iu()}iu(){var e=this;this.t_.Go((0,O.Z)(function*(){const t=new eb(e.datastore),i=e.su(t);i&&i.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(u=>{e.ou(u)}))}).catch(a=>{e.ou(a)})}))}su(e){try{const t=this.updateFunction(e);return!nc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ou(e){this.nu>0&&this._u(e)?(this.nu-=1,this.asyncQueue.enqueueAndForget(()=>(this.iu(),Promise.resolve()))):this.deferred.reject(e)}_u(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Hp(t)}return!1}}class nb{constructor(e,t,i,a){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=mi.UNAUTHENTICATED,this.clientId=Cp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var m=(0,O.Z)(function*(x){un("FirestoreClient","Received user=",x.uid),yield u.authCredentialListener(x),u.user=x});return function(x){return m.apply(this,arguments)}}()),this.appCheckCredentials.start(i,m=>(un("FirestoreClient","Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new dn(Yt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,O.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=vd(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function Qf(o,e){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,O.Z)(function*(o,e){o.asyncQueue.verifyOperationInProgress(),un("FirestoreClient","Initializing OfflineComponentProvider");const t=o.configuration;yield e.initialize(t);let i=t.initialUser;o.setCredentialChangeListener(function(){var a=(0,O.Z)(function*(u){i.isEqual(u)||(yield yy(e.localStore,u),i=u)});return function(u){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>o.terminate()),o._offlineComponents=e}),Xf.apply(this,arguments)}function gc(o,e){return m0.apply(this,arguments)}function m0(){return(m0=(0,O.Z)(function*(o,e){o.asyncQueue.verifyOperationInProgress();const t=yield fu(o);un("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,o.configuration),o.setCredentialChangeListener(i=>G_(e.remoteStore,i)),o.setAppCheckTokenChangeListener((i,a)=>G_(e.remoteStore,a)),o._onlineComponents=e})).apply(this,arguments)}function ib(o){return"FirebaseError"===o.name?o.code===Yt.FAILED_PRECONDITION||o.code===Yt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||22===o.code||20===o.code||11===o.code}function fu(o){return rb.apply(this,arguments)}function rb(){return(rb=(0,O.Z)(function*(o){if(!o._offlineComponents)if(o._uninitializedComponentsProvider){un("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Qf(o,o._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!ib(t))throw t;eo("Error using user provided cache. Falling back to memory cache: "+t),yield Qf(o,new Yf)}}else un("FirestoreClient","Using default OfflineComponentProvider"),yield Qf(o,new Yf);return o._offlineComponents})).apply(this,arguments)}function kh(o){return ob.apply(this,arguments)}function ob(){return(ob=(0,O.Z)(function*(o){return o._onlineComponents||(o._uninitializedComponentsProvider?(un("FirestoreClient","Using user provided OnlineComponentProvider"),yield gc(o,o._uninitializedComponentsProvider._online)):(un("FirestoreClient","Using default OnlineComponentProvider"),yield gc(o,new yd))),o._onlineComponents})).apply(this,arguments)}function g0(o){return fu(o).then(e=>e.persistence)}function bd(o){return fu(o).then(e=>e.localStore)}function wx(o){return kh(o).then(e=>e.remoteStore)}function di(o){return kh(o).then(e=>e.syncEngine)}function Fh(o){return _0.apply(this,arguments)}function _0(){return(_0=(0,O.Z)(function*(o){const e=yield kh(o),t=e.eventManager;return t.onListen=Vy.bind(null,e.syncEngine),t.onUnlisten=Hy.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Uy.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=ul.bind(null,e.syncEngine),t})).apply(this,arguments)}function Jf(o,e,t={}){const i=new jr;return o.asyncQueue.enqueueAndForget((0,O.Z)(function*(){return function(u,m,x,M,$){const ue=new qf({next:Je=>{m.enqueueAndForget(()=>$f(u,Ie));const yt=Je.docs.has(x);!yt&&Je.fromCache?$.reject(new dn(Yt.UNAVAILABLE,"Failed to get document because the client is offline.")):yt&&Je.fromCache&&M&&"server"===M.source?$.reject(new dn(Yt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):$.resolve(Je)},error:Je=>$.reject(Je)}),Ie=new xo(Xc(x.path),ue,{includeMetadataChanges:!0,_a:!0});return jf(u,Ie)}(yield Fh(o),o.asyncQueue,e,t,i)})),i.promise}function Tx(o,e,t={}){const i=new jr;return o.asyncQueue.enqueueAndForget((0,O.Z)(function*(){return function(u,m,x,M,$){const ue=new qf({next:Je=>{m.enqueueAndForget(()=>$f(u,Ie)),Je.fromCache&&"server"===M.source?$.reject(new dn(Yt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):$.resolve(Je)},error:Je=>$.reject(Je)}),Ie=new xo(x,ue,{includeMetadataChanges:!0,_a:!0});return jf(u,Ie)}(yield Fh(o),o.asyncQueue,e,t,i)})),i.promise}function fb(o){const e={};return void 0!==o.timeoutSeconds&&(e.timeoutSeconds=o.timeoutSeconds),e}const pb=new Map;function v0(o,e,t){if(!t)throw new dn(Yt.INVALID_ARGUMENT,`Function ${o}() cannot be called with an empty ${e}.`)}function Lh(o,e,t,i){if(!0===e&&!0===i)throw new dn(Yt.INVALID_ARGUMENT,`${o} and ${t} cannot be used together.`)}function mb(o){if(!Rn.isDocumentKey(o))throw new dn(Yt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${o} has ${o.length}.`)}function gb(o){if(Rn.isDocumentKey(o))throw new dn(Yt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${o} has ${o.length}.`)}function Bm(o){if(void 0===o)return"undefined";if(null===o)return"null";if("string"==typeof o)return o.length>20&&(o=`${o.substring(0,20)}...`),JSON.stringify(o);if("number"==typeof o||"boolean"==typeof o)return""+o;if("object"==typeof o){if(o instanceof Array)return"an array";{const e=(i=o).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof o?"a function":jn()}function Di(o,e){if("_delegate"in o&&(o=o._delegate),!(o instanceof e)){if(e.name===o.constructor.name)throw new dn(Yt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Bm(o);throw new dn(Yt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return o}function y0(o,e){if(e<=0)throw new dn(Yt.INVALID_ARGUMENT,`Function ${o}() requires a positive number, but it was: ${e}.`)}class b0{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new dn(Yt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new dn(Yt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Lh("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=fb(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(u){if(void 0!==u.timeoutSeconds){if(isNaN(u.timeoutSeconds))throw new dn(Yt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new dn(Yt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new dn(Yt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bh{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new b0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new dn(Yt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new dn(Yt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new b0(e),void 0!==e.credentials&&(this._authCredentials=function(i){if(!i)return new ku;switch(i.type){case"firstParty":return new Og(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new dn(Yt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=pb.get(t);i&&(un("ComponentProvider","Removing Datastore"),pb.delete(t),i.terminate())}(this),Promise.resolve()}}class Co{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Co(this.firestore,e,this._query)}}class Er{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Er(this.firestore,e,this._key)}}class Hl extends Co{constructor(e,t,i){super(e,t,Xc(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Er(this.firestore,null,new Rn(e))}withConverter(e){return new Hl(this.firestore,e,this._path)}}function vb(o,e,...t){if(o=(0,Pi.m9)(o),v0("collection","path",e),o instanceof Bh){const i=ki.fromString(e,...t);return gb(i),new Hl(o,null,i)}{if(!(o instanceof Er||o instanceof Hl))throw new dn(Yt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=o._path.child(ki.fromString(e,...t));return gb(i),new Hl(o.firestore,null,i)}}function ep(o,e,...t){if(o=(0,Pi.m9)(o),1===arguments.length&&(e=Cp.newId()),v0("doc","path",e),o instanceof Bh){const i=ki.fromString(e,...t);return mb(i),new Er(o,null,new Rn(i))}{if(!(o instanceof Er||o instanceof Hl))throw new dn(Yt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=o._path.child(ki.fromString(e,...t));return mb(i),new Er(o.firestore,o instanceof Hl?o.converter:null,new Rn(i))}}function E0(o,e){return o=(0,Pi.m9)(o),e=(0,Pi.m9)(e),(o instanceof Er||o instanceof Hl)&&(e instanceof Er||e instanceof Hl)&&o.firestore===e.firestore&&o.path===e.path&&o.converter===e.converter}function Vm(o,e){return o=(0,Pi.m9)(o),e=(0,Pi.m9)(e),o instanceof Co&&e instanceof Co&&o.firestore===e.firestore&&Xu(o._query,e._query)&&o.converter===e.converter}class Sx{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new du(this,"async_queue_retry"),this.Eu=()=>{const t=dc();t&&un("AsyncQueue","Visibility state changed to "+t.visibilityState),this.t_.jo()};const e=dc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const t=dc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const t=new jr;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){var e=this;return(0,O.Z)(function*(){if(0!==e.uu.length){try{yield e.uu[0](),e.uu.shift(),e.t_.reset()}catch(t){if(!ta(t))throw t;un("AsyncQueue","Operation failed with retryable error: "+t)}e.uu.length>0&&e.t_.Go(()=>e.Ru())}})()}Au(e){const t=this.au.then(()=>(this.Pu=!0,e().catch(i=>{throw this.hu=i,this.Pu=!1,wr("INTERNAL UNHANDLED ERROR: ",function(m){let x=m.message||"";return m.stack&&(x=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),x}(i)),i}).then(i=>(this.Pu=!1,i))));return this.au=t,t}enqueueAfterDelay(e,t,i){this.du(),this.Tu.indexOf(e)>-1&&(t=0);const a=Tm.createAndSchedule(this,e,t,i,u=>this.Vu(u));return this.lu.push(a),a}du(){this.hu&&jn()}verifyOperationInProgress(){}mu(){var e=this;return(0,O.Z)(function*(){let t;do{t=e.au,yield t}while(t!==e.au)})()}fu(e){for(const t of this.lu)if(t.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.lu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const t=this.lu.indexOf(e);this.lu.splice(t,1)}}function Um(o){return function(t,i){if("object"!=typeof t||null===t)return!1;const a=t;for(const u of["next","error","complete"])if(u in a&&"function"==typeof a[u])return!0;return!1}(o)}class Mx{constructor(){this._progressObserver={},this._taskCompletionResolver=new jr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Pr extends Bh{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new Sx,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||x0(this),this._firestoreClient.terminate()}}function no(o){return o._firestoreClient||x0(o),o._firestoreClient.verifyNotTerminated(),o._firestoreClient}function x0(o){var e,t,i;const a=o._freezeSettings(),u=(M=(null===(e=o._app)||void 0===e?void 0:e.options.appId)||"",new $d(o._databaseId,M,o._persistenceKey,(ue=a).host,ue.ssl,ue.experimentalForceLongPolling,ue.experimentalAutoDetectLongPolling,fb(ue.experimentalLongPollingOptions),ue.useFetchStreams));var M,ue;o._firestoreClient=new nb(o._authCredentials,o._appCheckCredentials,o._queue,u),null!==(t=a.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=a.localCache)&&void 0!==i&&i._onlineComponentProvider&&(o._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.localCache.kind,_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider})}function yb(o,e,t){const i=new jr;return o.asyncQueue.enqueue((0,O.Z)(function*(){try{yield Qf(o,t),yield gc(o,e),i.resolve()}catch(a){const u=a;if(!ib(u))throw u;eo("Error enabling indexeddb cache. Falling back to memory cache: "+u),i.reject(u)}})).then(()=>i.promise)}function Eb(o){if(o._initialized||o._terminated)throw new dn(Yt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class jl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jl(to.fromBase64String(e))}catch(t){throw new dn(Yt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new jl(to.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ea{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new dn(Yt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pu{constructor(e){this._methodName=e}}class Hm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new dn(Yt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new dn(Yt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _i(this._lat,e._lat)||_i(this._long,e._long)}}class np{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==a[u])return!1;return!0}(this._values,e._values)}}const Lx=/^__.*__$/;class xb{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Jc(e,this.data,this.fieldMask,t,this.fieldTransforms):new ed(e,this.data,t,this.fieldTransforms)}}class Cb{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Jc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function jm(o){switch(o){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw jn()}}class $m{constructor(e,t,i,a,u,m){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,void 0===u&&this.yu(),this.fieldTransforms=u||[],this.fieldMask=m||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new $m(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Su({path:i,Du:!1});return a.vu(e),a}Cu(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Su({path:i,Du:!1});return a.yu(),a}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Km(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(0===e.length)throw this.Mu("Document fields must not be empty");if(jm(this.wu)&&Lx.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class wb{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||zl(e)}Nu(e,t,i,a=!1){return new $m({wu:e,methodName:t,Ou:i,path:Fr.emptyPath(),Du:!1,xu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mu(o){const e=o._freezeSettings(),t=zl(o._databaseId);return new wb(o._databaseId,!!e.ignoreUndefinedProperties,t)}function Gm(o,e,t,i,a,u={}){const m=o.Nu(u.merge||u.mergeFields?2:0,e,t,a);A0("Data must be an object, but it was:",m,i);const x=Ab(i,m);let M,$;if(u.merge)M=new rs(m.fieldMask),$=m.fieldTransforms;else if(u.mergeFields){const ue=[];for(const Ie of u.mergeFields){const Je=Uh(e,Ie,t);if(!m.contains(Je))throw new dn(Yt.INVALID_ARGUMENT,`Field '${Je}' is specified in your field mask but missing from your input data.`);D0(ue,Je)||ue.push(Je)}M=new rs(ue),$=m.fieldTransforms.filter(Ie=>M.covers(Ie.field))}else M=null,$=m.fieldTransforms;return new xb(new yo(x),M,$)}class ip extends pu{_toFieldTransform(e){if(2!==e.wu)throw e.Mu(1===e.wu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ip}}function Ib(o,e,t){return new $m({wu:3,Ou:e.settings.Ou,methodName:o._methodName,Du:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class rp extends pu{_toFieldTransform(e){return new If(e.path,new Fl)}isEqual(e){return e instanceof rp}}class C0 extends pu{constructor(e,t){super(e),this.Lu=t}_toFieldTransform(e){const t=Ib(this,e,!0),i=this.Lu.map(u=>Ed(u,t)),a=new Nl(i);return new If(e.path,a)}isEqual(e){return e instanceof C0&&(0,Pi.vZ)(this.Lu,e.Lu)}}class Wm extends pu{constructor(e,t){super(e),this.Lu=t}_toFieldTransform(e){const t=Ib(this,e,!0),i=this.Lu.map(u=>Ed(u,t)),a=new uc(i);return new If(e.path,a)}isEqual(e){return e instanceof Wm&&(0,Pi.vZ)(this.Lu,e.Lu)}}class w0 extends pu{constructor(e,t){super(e),this.Bu=t}_toFieldTransform(e){const t=new Va(e.serializer,Ju(e.serializer,this.Bu));return new If(e.path,t)}isEqual(e){return e instanceof w0&&this.Bu===e.Bu}}function I0(o,e,t,i){const a=o.Nu(1,e,t);A0("Data must be an object, but it was:",a,i);const u=[],m=yo.empty();nl(i,(M,$)=>{const ue=Zm(e,M,t);$=(0,Pi.m9)($);const Ie=a.Cu(ue);if($ instanceof ip)u.push(ue);else{const Je=Ed($,Ie);null!=Je&&(u.push(ue),m.set(ue,Je))}});const x=new rs(u);return new Cb(m,x,a.fieldTransforms)}function T0(o,e,t,i,a,u){const m=o.Nu(1,e,t),x=[Uh(e,i,t)],M=[a];if(u.length%2!=0)throw new dn(Yt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Je=0;Je<u.length;Je+=2)x.push(Uh(e,u[Je])),M.push(u[Je+1]);const $=[],ue=yo.empty();for(let Je=x.length-1;Je>=0;--Je)if(!D0($,x[Je])){const yt=x[Je];let Ft=M[Je];Ft=(0,Pi.m9)(Ft);const Kt=m.Cu(yt);if(Ft instanceof ip)$.push(yt);else{const qt=Ed(Ft,Kt);null!=qt&&($.push(yt),ue.set(yt,qt))}}const Ie=new rs($);return new Cb(ue,Ie,m.fieldTransforms)}function Tb(o,e,t,i=!1){return Ed(t,o.Nu(i?4:3,e))}function Ed(o,e){if(Db(o=(0,Pi.m9)(o)))return A0("Unsupported field value:",e,o),Ab(o,e);if(o instanceof pu)return function(i,a){if(!jm(a.wu))throw a.Mu(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Mu(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(a);u&&a.fieldTransforms.push(u)}(o,e),null;if(void 0===o&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),o instanceof Array){if(e.settings.Du&&4!==e.wu)throw e.Mu("Nested arrays are not supported");return function(i,a){const u=[];let m=0;for(const x of i){let M=Ed(x,a.Fu(m));null==M&&(M={nullValue:"NULL_VALUE"}),u.push(M),m++}return{arrayValue:{values:u}}}(o,e)}return function(i,a){if(null===(i=(0,Pi.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return Ju(a.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const u=Dr.fromDate(i);return{timestampValue:id(a.serializer,u)}}if(i instanceof Dr){const u=new Dr(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:id(a.serializer,u)}}if(i instanceof Hm)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof jl)return{bytesValue:Hv(a.serializer,i._byteString)};if(i instanceof Er){const u=a.databaseId,m=i.firestore._databaseId;if(!m.isEqual(u))throw a.Mu(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:e_(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof np)return x=a,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:i.toArray().map(M=>{if("number"!=typeof M)throw x.Mu("VectorValues must only contain numeric values.");return ac(x.serializer,M)})}}}}};var x;throw a.Mu(`Unsupported field value: ${Bm(i)}`)}(o,e)}function Ab(o,e){const t={};return df(o)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):nl(o,(i,a)=>{const u=Ed(a,e.bu(i));null!=u&&(t[i]=u)}),{mapValue:{fields:t}}}function Db(o){return!("object"!=typeof o||null===o||o instanceof Array||o instanceof Date||o instanceof Dr||o instanceof Hm||o instanceof jl||o instanceof Er||o instanceof pu||o instanceof np)}function A0(o,e,t){if(!Db(t)||"object"!=typeof(a=t)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){const i=Bm(t);throw e.Mu("an object"===i?o+" a custom object":o+" "+i)}var a}function Uh(o,e,t){if((e=(0,Pi.m9)(e))instanceof Ea)return e._internalPath;if("string"==typeof e)return Zm(o,e);throw Km("Field path arguments must be of type string or ",o,!1,void 0,t)}const Sb=new RegExp("[~\\*/\\[\\]]");function Zm(o,e,t){if(e.search(Sb)>=0)throw Km(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,o,!1,void 0,t);try{return new Ea(...e.split("."))._internalPath}catch{throw Km(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,o,!1,void 0,t)}}function Km(o,e,t,i,a){const u=i&&!i.isEmpty(),m=void 0!==a;let x=`Function ${e}() called with invalid data`;t&&(x+=" (via `toFirestore()`)"),x+=". ";let M="";return(u||m)&&(M+=" (found",u&&(M+=` in field ${i}`),m&&(M+=` in document ${a}`),M+=")"),new dn(Yt.INVALID_ARGUMENT,x+o+M)}function D0(o,e){return o.some(t=>t.isEqual(e))}class op{constructor(e,t,i,a,u){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Er(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Bx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ym("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Bx extends op{data(){return super.data()}}function Ym(o,e){return"string"==typeof e?Zm(o,e):e instanceof Ea?e._internalPath:e._delegate._internalPath}function qm(o){if("L"===o.limitType&&0===o.explicitOrderBy.length)throw new dn(Yt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sp{}class zh extends sp{}function $l(o,e,...t){let i=[];e instanceof sp&&i.push(e),i=i.concat(t),function(u){const m=u.filter(M=>M instanceof gu).length,x=u.filter(M=>M instanceof ap).length;if(m>1||m>0&&x>0)throw new dn(Yt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)o=a._apply(o);return o}class ap extends zh{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new ap(e,t,i)}_apply(e){const t=this._parse(e);return k0(e._query,t),new Co(e.firestore,e.converter,Br(e._query,t))}_parse(e){const t=mu(e.firestore);return function(u,m,x,M,$,ue,Ie){let Je;if($.isKeyField()){if("array-contains"===ue||"array-contains-any"===ue)throw new dn(Yt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ue}' queries on documentId().`);if("in"===ue||"not-in"===ue){O0(Ie,ue);const yt=[];for(const Ft of Ie)yt.push(R0(M,u,Ft));Je={arrayValue:{values:yt}}}else Je=R0(M,u,Ie)}else"in"!==ue&&"not-in"!==ue&&"array-contains-any"!==ue||O0(Ie,ue),Je=Tb(x,"where",Ie,"in"===ue||"not-in"===ue);return Ai.create($,ue,Je)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class gu extends sp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new gu(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:sr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(a,u){let m=a;const x=u.getFlattenedFilters();for(const M of x)k0(m,M),m=Br(m,M)}(e._query,t),new Co(e.firestore,e.converter,Br(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class _u extends zh{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new _u(e,t)}_apply(e){const t=function(a,u,m){if(null!==a.startAt)throw new dn(Yt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new dn(Yt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wu(u,m)}(e._query,this._field,this._direction);return new Co(e.firestore,e.converter,function(a,u){const m=a.explicitOrderBy.concat([u]);return new ya(a.path,a.collectionGroup,m,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}class Qm extends zh{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Qm(e,t,i)}_apply(e){return new Co(e.firestore,e.converter,Qu(e._query,this._limit,this._limitType))}}class Hh extends zh{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Hh(e,t,i)}_apply(e){const t=P0(e,this.type,this._docOrFields,this._inclusive);return new Co(e.firestore,e.converter,(u=t,new ya((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,u,a.endAt)));var a,u}}class Xm extends zh{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Xm(e,t,i)}_apply(e){const t=P0(e,this.type,this._docOrFields,this._inclusive);return new Co(e.firestore,e.converter,(u=t,new ya((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,u)));var a,u}}function P0(o,e,t,i){if(t[0]=(0,Pi.m9)(t[0]),t[0]instanceof op)return function(u,m,x,M,$){if(!M)throw new dn(Yt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${x}().`);const ue=[];for(const Ie of Ba(u))if(Ie.field.isKeyField())ue.push(Pl(m,M.key));else{const Je=M.data.field(Ie.field);if(Hu(Je))throw new dn(Yt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ie.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Je){const yt=Ie.field.canonicalString();throw new dn(Yt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${yt}' (used as the orderBy) does not exist.`)}ue.push(Je)}return new Ol(ue,$)}(o._query,o.firestore._databaseId,e,t[0]._document,i);{const a=mu(o.firestore);return function(m,x,M,$,ue,Ie){const Je=m.explicitOrderBy;if(ue.length>Je.length)throw new dn(Yt.INVALID_ARGUMENT,`Too many arguments provided to ${$}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const yt=[];for(let Ft=0;Ft<ue.length;Ft++){const Kt=ue[Ft];if(Je[Ft].field.isKeyField()){if("string"!=typeof Kt)throw new dn(Yt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${$}(), but got a ${typeof Kt}`);if(!kl(m)&&-1!==Kt.indexOf("/"))throw new dn(Yt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${$}() must be a plain document ID, but '${Kt}' contains a slash.`);const qt=m.path.child(ki.fromString(Kt));if(!Rn.isDocumentKey(qt))throw new dn(Yt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${$}() must result in a valid document path, but '${qt}' is not because it contains an odd number of segments.`);const Cn=new Rn(qt);yt.push(Pl(x,Cn))}else{const qt=Tb(M,$,Kt);yt.push(qt)}}return new Ol(yt,Ie)}(o._query,o.firestore._databaseId,a,e,t,i)}}function R0(o,e,t){if("string"==typeof(t=(0,Pi.m9)(t))){if(""===t)throw new dn(Yt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kl(e)&&-1!==t.indexOf("/"))throw new dn(Yt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ki.fromString(t));if(!Rn.isDocumentKey(i))throw new dn(Yt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Pl(o,new Rn(i))}if(t instanceof Er)return Pl(o,t._key);throw new dn(Yt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bm(t)}.`)}function O0(o,e){if(!Array.isArray(o)||0===o.length)throw new dn(Yt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function k0(o,e){const t=function(a,u){for(const m of a)for(const x of m.getFlattenedFilters())if(u.indexOf(x.op)>=0)return x.op;return null}(o.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new dn(Yt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class F0{convertValue(e,t="none"){switch(ka(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Sr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(il(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw jn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return nl(e,(a,u)=>{i[a]=this.convertValue(u,t)}),i}convertVectorValue(e){var t,i,a;const u=null===(a=null===(i=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===i?void 0:i.values)||void 0===a?void 0:a.map(m=>Sr(m.doubleValue));return new np(u)}convertGeoPoint(e){return new Hm(Sr(e.latitude),Sr(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=ia(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Wc(e));default:return null}}convertTimestamp(e){const t=Oa(e);return new Dr(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ki.fromString(e);Yn(WE(i));const a=new Fs(i.get(1),i.get(3)),u=new Rn(i.popFirst(5));return a.isEqual(t)||wr(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function Jm(o,e,t){let i;return i=o?t&&(t.merge||t.mergeFields)?o.toFirestore(e,t):o.toFirestore(e):e,i}class Hx extends F0{constructor(e){super(),this.firestore=e}convertBytes(e){return new jl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Er(this.firestore,null,t)}}class jh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _c extends op{constructor(e,t,i,a,u,m){super(e,t,i,a,m),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new lp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Ym("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class lp extends _c{data(e={}){return super.data(e)}}class vc{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new jh(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new lp(this._firestore,this._userDataWriter,i.key,i,new jh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new dn(Yt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,u){if(a._snapshot.oldDocs.isEmpty()){let m=0;return a._snapshot.docChanges.map(x=>({type:"added",doc:new lp(a._firestore,a._userDataWriter,x.doc.key,x.doc,new jh(a._snapshot.mutatedKeys.has(x.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:m++}))}{let m=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(x=>u||3!==x.type).map(x=>{const M=new lp(a._firestore,a._userDataWriter,x.doc.key,x.doc,new jh(a._snapshot.mutatedKeys.has(x.doc.key),a._snapshot.fromCache),a.query.converter);let $=-1,ue=-1;return 0!==x.type&&($=m.indexOf(x.doc.key),m=m.delete(x.doc.key)),1!==x.type&&(m=m.add(x.doc),ue=m.indexOf(x.doc.key)),{type:Fb(x.type),doc:M,oldIndex:$,newIndex:ue}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Fb(o){switch(o){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return jn()}}function N0(o,e){return o instanceof _c&&e instanceof _c?o._firestore===e._firestore&&o._key.isEqual(e._key)&&(null===o._document?null===e._document:o._document.isEqual(e._document))&&o._converter===e._converter:o instanceof vc&&e instanceof vc&&o._firestore===e._firestore&&Vm(o.query,e.query)&&o.metadata.isEqual(e.metadata)&&o._snapshot.isEqual(e._snapshot)}class vu extends F0{constructor(e){super(),this.firestore=e}convertBytes(e){return new jl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Er(this.firestore,null,t)}}function $h(o,e,t){o=Di(o,Er);const i=Di(o.firestore,Pr),a=Jm(o.converter,e,t);return xd(i,[Gm(mu(i),"setDoc",o._key,a,null!==o.converter,t).toMutation(o._key,br.none())])}function L0(o,e,t,...i){o=Di(o,Er);const a=Di(o.firestore,Pr),u=mu(a);let m;return m="string"==typeof(e=(0,Pi.m9)(e))||e instanceof Ea?T0(u,"updateDoc",o._key,e,t,i):I0(u,"updateDoc",o._key,e),xd(a,[m.toMutation(o._key,br.exists(!0))])}function B0(o,...e){var t,i,a;o=(0,Pi.m9)(o);let u={includeMetadataChanges:!1,source:"default"},m=0;"object"!=typeof e[m]||Um(e[m])||(u=e[m],m++);const x={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(Um(e[m])){const Ie=e[m];e[m]=null===(t=Ie.next)||void 0===t?void 0:t.bind(Ie),e[m+1]=null===(i=Ie.error)||void 0===i?void 0:i.bind(Ie),e[m+2]=null===(a=Ie.complete)||void 0===a?void 0:a.bind(Ie)}let M,$,ue;if(o instanceof Er)$=Di(o.firestore,Pr),ue=Xc(o._key.path),M={next:Ie=>{e[m]&&e[m](V0($,o,Ie))},error:e[m+1],complete:e[m+2]};else{const Ie=Di(o,Co);$=Di(Ie.firestore,Pr),ue=Ie._query;const Je=new vu($);M={next:yt=>{e[m]&&e[m](new vc($,Je,Ie,yt))},error:e[m+1],complete:e[m+2]},qm(o._query)}return function(Je,yt,Ft,Kt){const qt=new qf(Kt),Cn=new xo(yt,qt,Ft);return Je.asyncQueue.enqueueAndForget((0,O.Z)(function*(){return jf(yield Fh(Je),Cn)})),()=>{qt.za(),Je.asyncQueue.enqueueAndForget((0,O.Z)(function*(){return $f(yield Fh(Je),Cn)}))}}(no($),ue,x,M)}function xd(o,e){return function(i,a){const u=new jr;return i.asyncQueue.enqueueAndForget((0,O.Z)(function*(){return function jy(o,e,t){return Sm.apply(this,arguments)}(yield di(i),a,u)})),u.promise}(no(o),e)}function V0(o,e,t){const i=t.docs.get(e._key),a=new vu(o);return new _c(o,a,e._key,i,new jh(t.hasPendingWrites,t.fromCache),e.converter)}const eC={maxAttempts:5};class Hb{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=mu(e)}set(e,t,i){this._verifyNotCommitted();const a=hl(e,this._firestore),u=Jm(a.converter,t,i),m=Gm(this._dataReader,"WriteBatch.set",a._key,u,null!==a.converter,i);return this._mutations.push(m.toMutation(a._key,br.none())),this}update(e,t,i,...a){this._verifyNotCommitted();const u=hl(e,this._firestore);let m;return m="string"==typeof(t=(0,Pi.m9)(t))||t instanceof Ea?T0(this._dataReader,"WriteBatch.update",u._key,t,i,a):I0(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(m.toMutation(u._key,br.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=hl(e,this._firestore);return this._mutations=this._mutations.concat(new al(t._key,br.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new dn(Yt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function hl(o,e){if((o=(0,Pi.m9)(o)).firestore!==e)throw new dn(Yt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return o}class ng extends class{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=mu(t)}get(t){const i=hl(t,this._firestore),a=new Hx(this._firestore);return this._transaction.lookup([i._key]).then(u=>{if(!u||1!==u.length)return jn();const m=u[0];if(m.isFoundDocument())return new op(this._firestore,a,m.key,m,i.converter);if(m.isNoDocument())return new op(this._firestore,a,i._key,null,i.converter);throw jn()})}set(t,i,a){const u=hl(t,this._firestore),m=Jm(u.converter,i,a),x=Gm(this._dataReader,"Transaction.set",u._key,m,null!==u.converter,a);return this._transaction.set(u._key,x),this}update(t,i,a,...u){const m=hl(t,this._firestore);let x;return x="string"==typeof(i=(0,Pi.m9)(i))||i instanceof Ea?T0(this._dataReader,"Transaction.update",m._key,i,a,u):I0(this._dataReader,"Transaction.update",m._key,i),this._transaction.update(m._key,x),this}delete(t){const i=hl(t,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=hl(e,this._firestore),i=new vu(this._firestore);return super.get(e).then(a=>new _c(this._firestore,i,t._key,a._document,new jh(!1,!1),t.converter))}}!function(e,t=!0){Ar=Ql.SDK_VERSION,(0,Ql._registerComponent)(new Yh.wA("firestore",(i,{instanceIdentifier:a,options:u})=>{const m=i.getProvider("app").getImmediate(),x=new Pr(new Cl(i.getProvider("auth-internal")),new Ld(i.getProvider("app-check-internal")),function($,ue){if(!Object.prototype.hasOwnProperty.apply($.options,["projectId"]))throw new dn(Yt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fs($.options.projectId,ue)}(m,a),m);return u=Object.assign({useFetchStreams:t},u),x._setSettings(u),x},"PUBLIC").setMultipleInstances(!0)),(0,Ql.registerVersion)(Hn,"4.7.1",e),(0,Ql.registerVersion)(Hn,"4.7.1","esm2017")}();function j0(o,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new dn("invalid-argument",`Invalid options passed to function ${o}(): You cannot specify both "merge" and "mergeFields".`);return e}function $0(){if(typeof Uint8Array>"u")throw new dn("unimplemented","Uint8Arrays are not available in this environment.")}function G0(){if(!function Zg(){return typeof atob<"u"}())throw new dn("unimplemented","Blobs are unavailable in Firestore in this environment.")}class jo{constructor(e){this._delegate=e}static fromBase64String(e){return G0(),new jo(jl.fromBase64String(e))}static fromUint8Array(e){return $0(),new jo(jl.fromUint8Array(e))}toBase64(){return G0(),this._delegate.toBase64()}toUint8Array(){return $0(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function yu(o){return function aC(o,e){if("object"!=typeof o||null===o)return!1;const t=o;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(o,["next","error","complete"])}class lC{enableIndexedDbPersistence(e,t){return function zm(o,e){Eb(o=Di(o,Pr));const t=no(o);if(t._uninitializedComponentsProvider)throw new dn(Yt.FAILED_PRECONDITION,"SDK cache is already specified.");eo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=o._freezeSettings(),a=new yd;return yb(t,a,new Nm(a,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Rx(o){Eb(o=Di(o,Pr));const e=no(o);if(e._uninitializedComponentsProvider)throw new dn(Yt.FAILED_PRECONDITION,"SDK cache is already specified.");eo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=o._freezeSettings(),i=new yd;return yb(e,i,new f0(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function bb(o){if(o._initialized&&!o._terminated)throw new dn(Yt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new jr;return o._queue.enqueueAndForgetEvenWhileRestricted((0,O.Z)(function*(){try{yield(t=(0,O.Z)(function*(a){if(!ea.D())return Promise.resolve();const u=a+"main";yield ea.delete(u)}),function i(a){return t.apply(this,arguments)})(w_(o._databaseId,o._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class cC{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Fs||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&eo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function _b(o,e,t,i={}){var a;const u=(o=Di(o,Bh))._getSettings(),m=`${e}:${t}`;if("firestore.googleapis.com"!==u.host&&u.host!==m&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),o._setSettings(Object.assign(Object.assign({},u),{host:m,ssl:!1})),i.mockUserToken){let x,M;if("string"==typeof i.mockUserToken)x=i.mockUserToken,M=mi.MOCK_USER;else{x=(0,Pi.Sg)(i.mockUserToken,null===(a=o._app)||void 0===a?void 0:a.options.projectId);const $=i.mockUserToken.sub||i.mockUserToken.user_id;if(!$)throw new dn(Yt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");M=new mi($)}o._authCredentials=new Xl(new Ou(x,M))}}(this._delegate,e,t,i)}enableNetwork(){return function Ox(o){return function Nh(o){return o.asyncQueue.enqueue((0,O.Z)(function*(){const e=yield g0(o),t=yield wx(o);return e.setNetworkEnabled(!0),function(a){const u=Sn(a);return u.L_.delete(0),wh(u)}(t)}))}(no(o=Di(o,Pr)))}(this._delegate)}disableNetwork(){return function kx(o){return function Ix(o){return o.asyncQueue.enqueue((0,O.Z)(function*(){const e=yield g0(o),t=yield wx(o);return e.setNetworkEnabled(!1),(i=(0,O.Z)(function*(u){const m=Sn(u);m.L_.add(0),yield pd(m),m.q_.set("Offline")}),function a(u){return i.apply(this,arguments)})(t);var i}))}(no(o=Di(o,Pr)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,Lh("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function tp(o){return function(t){const i=new jr;return t.asyncQueue.enqueueAndForget((0,O.Z)(function*(){return function gx(o,e){return Mm.apply(this,arguments)}(yield di(t),i)})),i.promise}(no(o=Di(o,Pr)))}(this._delegate)}onSnapshotsInSync(e){return function Bb(o,e){return function lb(o,e){const t=new qf(e);return o.asyncQueue.enqueueAndForget((0,O.Z)(function*(){return a=yield Fh(o),u=t,Sn(a).Y_.add(u),void u.next();var a,u})),()=>{t.za(),o.asyncQueue.enqueueAndForget((0,O.Z)(function*(){return a=yield Fh(o),u=t,void Sn(a).Y_.delete(u);var a,u}))}}(no(o=Di(o,Pr)),Um(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new dn("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new bc(this,vb(this._delegate,e))}catch(t){throw Ls(t,"collection()","Firestore.collection()")}}doc(e){try{return new oa(this,ep(this._delegate,e))}catch(t){throw Ls(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new as(this,function Dx(o,e){if(o=Di(o,Bh),v0("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new dn(Yt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Co(o,null,(i=e,new ya(ki.emptyPath(),i)));var i}(this._delegate,e))}catch(t){throw Ls(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function tC(o,e,t){o=Di(o,Pr);const i=Object.assign(Object.assign({},eC),t);return function(u){if(u.maxAttempts<1)throw new dn(Yt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(u,m,x){const M=new jr;return u.asyncQueue.enqueueAndForget((0,O.Z)(function*(){const $=yield function sb(o){return kh(o).then(e=>e.datastore)}(u);new tb(u.asyncQueue,$,x,m,M).ru()})),M.promise}(no(o),a=>e(new ng(o,a)),i)}(this._delegate,t=>e(new ag(this,t)))}batch(){return no(this._delegate),new Gh(new Hb(this._delegate,e=>xd(this._delegate,e)))}loadBundle(e){return function Fx(o,e){const t=no(o=Di(o,Pr)),i=new Mx;return function Ax(o,e,t,i){const a=function(m,x){let M;return M="string"==typeof m?Gp().encode(m):m,ue=function(ue,Ie){if(ue instanceof Uint8Array)return p0(ue,void 0);if(ue instanceof ArrayBuffer)return p0(new Uint8Array(ue),void 0);if(ue instanceof ReadableStream)return ue.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(M),new Jy(ue,x);var ue}(t,zl(e));o.asyncQueue.enqueueAndForget((0,O.Z)(function*(){!function xx(o,e,t){const i=Sn(o);var a;(a=(0,O.Z)(function*(m,x,M){try{const $=yield x.getMetadata();if(yield function(Ft,Kt){const qt=Sn(Ft),Cn=ar(Kt.createTime);return qt.persistence.runTransaction("hasNewerBundle","readonly",Fn=>qt.Gr.getBundleMetadata(Fn,Kt.id)).then(Fn=>!!Fn&&Fn.createTime.compareTo(Cn)>=0)}(m.localStore,$))return yield x.close(),M._completeWith({taskState:"Success",documentsLoaded:(Ft=$).totalDocuments,bytesLoaded:Ft.totalBytes,totalDocuments:Ft.totalDocuments,totalBytes:Ft.totalBytes}),Promise.resolve(new Set);M._updateProgress(Y_($));const ue=new hx($,m.localStore,x.serializer);let Ie=yield x.Ua();for(;Ie;){const yt=yield ue.la(Ie);yt&&M._updateProgress(yt),Ie=yield x.Ua()}const Je=yield ue.complete();return yield dl(m,Je.Ia,void 0),yield function(Ft,Kt){const qt=Sn(Ft);return qt.persistence.runTransaction("Save bundle","readwrite",Cn=>qt.Gr.saveBundleMetadata(Cn,Kt))}(m.localStore,$),M._completeWith(Je.progress),Promise.resolve(Je.Pa)}catch($){return eo("SyncEngine",`Loading bundle failed with ${$}`),M._failWith($),Promise.resolve(new Set)}var Ft}),function u(m,x,M){return a.apply(this,arguments)})(i,e,t).then(a=>{i.sharedClientState.notifyBundleLoaded(a)})}(yield di(o),a,i)}))}(t,o._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function NC(o,e){return function cb(o,e){return o.asyncQueue.enqueue((0,O.Z)(function*(){return function(i,a){const u=Sn(i);return u.persistence.runTransaction("Get named query","readonly",m=>u.Gr.getNamedQuery(m,a))}(yield bd(o),e)}))}(no(o=Di(o,Pr)),e).then(t=>t?new Co(o,null,t.query):null)}(this._delegate,e).then(t=>t?new as(this,t):null)}}class W0 extends F0{constructor(e){super(),this.firestore=e}convertBytes(e){return new jo(new jl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return oa.forKey(t,this.firestore,null)}}class ag{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new W0(e)}get(e){const t=Ec(e);return this._delegate.get(t).then(i=>new up(this._firestore,new _c(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const a=Ec(e);return i?(j0("Transaction.set",i),this._delegate.set(a,t,i)):this._delegate.set(a,t),this}update(e,t,i,...a){const u=Ec(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,i,...a),this}delete(e){const t=Ec(e);return this._delegate.delete(t),this}}class Gh{constructor(e){this._delegate=e}set(e,t,i){const a=Ec(e);return i?(j0("WriteBatch.set",i),this._delegate.set(a,t,i)):this._delegate.set(a,t),this}update(e,t,i,...a){const u=Ec(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,i,...a),this}delete(e){const t=Ec(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Cd{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new lp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new dp(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Cd.INSTANCES;let a=i.get(e);a||(a=new WeakMap,i.set(e,a));let u=a.get(t);return u||(u=new Cd(e,new W0(e),t),a.set(t,u)),u}}Cd.INSTANCES=new WeakMap;class oa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new W0(e)}static forPath(e,t,i){if(e.length%2!=0)throw new dn("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new oa(t,new Er(t._delegate,i,new Rn(e)))}static forKey(e,t,i){return new oa(t,new Er(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new bc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new bc(this.firestore,vb(this._delegate,e))}catch(t){throw Ls(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Pi.m9)(e))instanceof Er&&E0(this._delegate,e)}set(e,t){t=j0("DocumentReference.set",t);try{return t?$h(this._delegate,e,t):$h(this._delegate,e)}catch(i){throw Ls(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?L0(this._delegate,e):L0(this._delegate,e,t,...i)}catch(a){throw Ls(a,"updateDoc()","DocumentReference.update()")}}delete(){return function Nb(o){return xd(Di(o.firestore,Pr),[new al(o._key,br.none())])}(this._delegate)}onSnapshot(...e){const t=Z0(e),i=Qb(e,a=>new up(this.firestore,new _c(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return B0(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function Gx(o){o=Di(o,Er);const e=Di(o.firestore,Pr),t=no(e),i=new vu(e);return function Lm(o,e){const t=new jr;return o.asyncQueue.enqueueAndForget((0,O.Z)(function*(){return(i=(0,O.Z)(function*(u,m,x){try{const M=yield function(ue,Ie){const Je=Sn(ue);return Je.persistence.runTransaction("read document","readonly",yt=>Je.localDocuments.getDocument(yt,Ie))}(u,m);M.isFoundDocument()?x.resolve(M):M.isNoDocument()?x.resolve(null):x.reject(new dn(Yt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(M){const $=vd(M,`Failed to get document '${m} from cache`);x.reject($)}}),function a(u,m,x){return i.apply(this,arguments)})(yield bd(o),e,t);var i})),t.promise}(t,o._key).then(a=>new _c(e,i,o._key,a,new jh(null!==a&&a.hasLocalMutations,!0),o.converter))}(this._delegate):"server"===e?.source?function Wx(o){o=Di(o,Er);const e=Di(o.firestore,Pr);return Jf(no(e),o._key,{source:"server"}).then(t=>V0(e,o,t))}(this._delegate):function $x(o){o=Di(o,Er);const e=Di(o.firestore,Pr);return Jf(no(e),o._key).then(t=>V0(e,o,t))}(this._delegate),t.then(i=>new up(this.firestore,new _c(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new oa(this.firestore,this._delegate.withConverter(e?Cd.getInstance(this.firestore,e):null))}}function Ls(o,e,t){return o.message=o.message.replace(e,t),o}function Z0(o){for(const e of o)if("object"==typeof e&&!yu(e))return e;return{}}function Qb(o,e){var t,i;let a;return a=yu(o[0])?o[0]:yu(o[1])?o[1]:"function"==typeof o[0]?{next:o[0],error:o[1],complete:o[2]}:{next:o[1],error:o[2],complete:o[3]},{next:u=>{a.next&&a.next(e(u))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(i=a.complete)||void 0===i?void 0:i.bind(a)}}class up{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new oa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return N0(this._delegate,e._delegate)}}class dp extends up{data(e){const t=this._delegate.data(e);return this._delegate._converter||function Ru(o,e){o||jn()}(void 0!==t),t}}class as{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new W0(e)}where(e,t,i){try{return new as(this.firestore,$l(this._delegate,function Vx(o,e,t){const i=e,a=Ym("where",o);return ap._create(a,i,t)}(e,t,i)))}catch(a){throw Ls(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new as(this.firestore,$l(this._delegate,function Mb(o,e="asc"){const t=e,i=Ym("orderBy",o);return _u._create(i,t)}(e,t)))}catch(i){throw Ls(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new as(this.firestore,$l(this._delegate,function VC(o){return y0("limit",o),Qm._create("limit",o,"F")}(e)))}catch(t){throw Ls(t,"limit()","Query.limit()")}}limitToLast(e){try{return new as(this.firestore,$l(this._delegate,function Pb(o){return y0("limitToLast",o),Qm._create("limitToLast",o,"L")}(e)))}catch(t){throw Ls(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new as(this.firestore,$l(this._delegate,function zx(...o){return Hh._create("startAt",o,!0)}(...e)))}catch(t){throw Ls(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new as(this.firestore,$l(this._delegate,function S0(...o){return Hh._create("startAfter",o,!1)}(...e)))}catch(t){throw Ls(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new as(this.firestore,$l(this._delegate,function Rb(...o){return Xm._create("endBefore",o,!1)}(...e)))}catch(t){throw Ls(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new as(this.firestore,$l(this._delegate,function M0(...o){return Xm._create("endAt",o,!0)}(...e)))}catch(t){throw Ls(t,"endAt()","Query.endAt()")}}isEqual(e){return Vm(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Kx(o){o=Di(o,Co);const e=Di(o.firestore,Pr),t=no(e),i=new vu(e);return function ho(o,e){const t=new jr;return o.asyncQueue.enqueueAndForget((0,O.Z)(function*(){return(i=(0,O.Z)(function*(u,m,x){try{const M=yield lm(u,m,!0),$=new Q_(m,M.Ts),ue=$.ma(M.documents),Ie=$.applyChanges(ue,!1);x.resolve(Ie.snapshot)}catch(M){const $=vd(M,`Failed to execute query '${m} against cache`);x.reject($)}}),function a(u,m,x){return i.apply(this,arguments)})(yield bd(o),e,t);var i})),t.promise}(t,o._query).then(a=>new vc(e,i,o,a))}(this._delegate):"server"===e?.source?function Yx(o){o=Di(o,Co);const e=Di(o.firestore,Pr),t=no(e),i=new vu(e);return Tx(t,o._query,{source:"server"}).then(a=>new vc(e,i,o,a))}(this._delegate):function Zx(o){o=Di(o,Co);const e=Di(o.firestore,Pr),t=no(e),i=new vu(e);return qm(o._query),Tx(t,o._query).then(a=>new vc(e,i,o,a))}(this._delegate),t.then(i=>new lg(this.firestore,new vc(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=Z0(e),i=Qb(e,a=>new lg(this.firestore,new vc(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return B0(this._delegate,t,i)}withConverter(e){return new as(this.firestore,this._delegate.withConverter(e?Cd.getInstance(this.firestore,e):null))}}class Xb{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new dp(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class lg{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new as(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new dp(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Xb(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new dp(this._firestore,i))})}isEqual(e){return N0(this._delegate,e._delegate)}}class bc extends as{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new oa(this.firestore,e):null}doc(e){try{return new oa(this.firestore,void 0===e?ep(this._delegate):ep(this._delegate,e))}catch(t){throw Ls(t,"doc()","CollectionReference.doc()")}}add(e){return function Lb(o,e){const t=Di(o.firestore,Pr),i=ep(o),a=Jm(o.converter,e);return xd(t,[Gm(mu(o.firestore),"addDoc",i._key,a,null!==o.converter,{}).toMutation(i._key,br.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new oa(this.firestore,t))}isEqual(e){return E0(this._delegate,e._delegate)}withConverter(e){return new bc(this.firestore,this._delegate.withConverter(e?Cd.getInstance(this.firestore,e):null))}}function Ec(o){return Di(o,Er)}class Jb{constructor(...e){this._delegate=new Ea(...e)}static documentId(){return new Jb(Fr.keyField().canonicalString())}isEqual(e){return(e=(0,Pi.m9)(e))instanceof Ea&&this._delegate._internalPath.isEqual(e._internalPath)}}class bu{constructor(e){this._delegate=e}static serverTimestamp(){const e=function jb(){return new rp("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new bu(e)}static delete(){const e=function nC(){return new ip("deleteField")}();return e._methodName="FieldValue.delete",new bu(e)}static arrayUnion(...e){const t=function $b(...o){return new C0("arrayUnion",o)}(...e);return t._methodName="FieldValue.arrayUnion",new bu(t)}static arrayRemove(...e){const t=function U0(...o){return new Wm("arrayRemove",o)}(...e);return t._methodName="FieldValue.arrayRemove",new bu(t)}static increment(e){const t=function Gb(o){return new w0("increment",o)}(e);return t._methodName="FieldValue.increment",new bu(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const uC={Firestore:cC,GeoPoint:Hm,Timestamp:Dr,Blob:jo,Transaction:ag,WriteBatch:Gh,DocumentReference:oa,DocumentSnapshot:up,Query:as,QueryDocumentSnapshot:dp,QuerySnapshot:lg,CollectionReference:bc,FieldPath:Jb,FieldValue:bu,setLogLevel:function qb(o){!function el(o){Po.setLogLevel(o)}(o)},CACHE_SIZE_UNLIMITED:-1};function K0(o,e){return function dC(o,e=Rg.z){return new _l.y(t=>{let i;return null!=e?e.schedule(()=>{i=o.onSnapshot({includeMetadataChanges:!0},t)}):i=o.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(o,e)}function tE(o,e){return K0(o,e).pipe((0,qo.U)(t=>({payload:t,type:"query"})))}!function Wh(o){(function eE(o,e){o.INTERNAL.registerComponent(new Yh.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(i,a)},"PUBLIC").setServiceProps(Object.assign({},uC)))})(o,(e,t)=>new cC(e,t,new lC)),o.registerVersion("@firebase/firestore-compat","0.3.36")}(El.Z);class nE{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:a,query:u}=cE(i,t);return new oE(a,u,this.afs)}snapshotChanges(){return function Y0(o,e){return K0(o,e).pipe((0,Fc.O)(void 0),Nc(),(0,qo.U)(t=>{const[i,a]=t;return a.exists?i?.exists?{payload:a,type:"modified"}:{payload:a,type:"added"}:{payload:a,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(pr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,qo.U)(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return(0,vl.D)(this.ref.get(e)).pipe(pr.iC)}}function q0(o,e){return tE(o,e).pipe((0,Fc.O)(void 0),Nc(),(0,qo.U)(t=>{const[i,a]=t,u=a.payload.docChanges(),m=u.map(x=>({type:x.type,payload:x}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(a.payload.metadata)&&a.payload.docs.forEach((x,M)=>{const $=u.find(Ie=>Ie.doc.ref.isEqual(x.ref)),ue=i?.payload.docs.find(Ie=>Ie.ref.isEqual(x.ref));$&&JSON.stringify($.doc.metadata)===JSON.stringify(x.metadata)||!$&&ue&&JSON.stringify(ue.metadata)===JSON.stringify(x.metadata)||m.push({type:"modified",payload:{oldIndex:M,newIndex:M,type:"modified",doc:x}})}),m}))}function iE(o,e,t){return q0(o,t).pipe((0,Pu.R)((i,a)=>function hC(o,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(o=function rE(o,e){switch(e.type){case"added":if(!o[e.newIndex]||!o[e.newIndex].doc.ref.isEqual(e.doc.ref))return Q0(o,e.newIndex,0,e);break;case"modified":if(null==o[e.oldIndex]||o[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=o.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Q0(o,e.newIndex,1,e)}break;case"removed":if(o[e.oldIndex]&&o[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Q0(o,e.oldIndex,1)}return o}(o,i))}),o}(i,a.map(u=>u.payload),e),[]),(0,Fd.x)(),(0,qo.U)(i=>i.map(a=>({type:a.type,payload:a}))))}function Q0(o,e,t,...i){const a=o.slice();return a.splice(e,t,...i),a}function X0(o){return(!o||0===o.length)&&(o=["added","removed","modified"]),o}class oE{ref;query;afs;constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=q0(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,qo.U)(i=>i.filter(a=>e.indexOf(a.type)>-1)))),t.pipe((0,Fc.O)(void 0),Nc(),(0,Jr.h)(([i,a])=>a.length>0||!i),(0,qo.U)(([,i])=>i),pr.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Pu.R)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=X0(e);return iE(this.query,t,this.afs.schedulers.outsideAngular).pipe(pr.iC)}valueChanges(e={}){return tE(this.query,this.afs.schedulers.outsideAngular).pipe((0,qo.U)(t=>t.payload.docs.map(i=>e.idField?{...i.data(),[e.idField]:i.id}:i.data())),pr.iC)}get(e){return(0,vl.D)(this.query.get(e)).pipe(pr.iC)}add(e){return this.ref.add(e)}doc(e){return new nE(this.ref.doc(e),this.afs)}}class sE{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?q0(this.query,this.afs.schedulers.outsideAngular).pipe((0,qo.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),(0,Jr.h)(t=>t.length>0),pr.iC):q0(this.query,this.afs.schedulers.outsideAngular).pipe(pr.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Pu.R)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=X0(e);return iE(this.query,t,this.afs.schedulers.outsideAngular).pipe(pr.iC)}valueChanges(e={}){return tE(this.query,this.afs.schedulers.outsideAngular).pipe((0,qo.U)(i=>i.payload.docs.map(a=>e.idField?{[e.idField]:a.id,...a.data()}:a.data())),pr.iC)}get(e){return(0,vl.D)(this.query.get(e)).pipe(pr.iC)}}const J0=new f.OlP("angularfire2.enableFirestorePersistence"),aE=new f.OlP("angularfire2.firestore.persistenceSettings"),fC=new f.OlP("angularfire2.firestore.settings"),lE=new f.OlP("angularfire2.firestore.use-emulator");function cE(o,e=(t=>t)){return{query:e(o),ref:o}}let uE=(()=>{class o{schedulers;firestore;persistenceEnabled$;constructor(t,i,a,u,m,x,M,$,ue,Ie,Je,yt,Ft,Kt,qt,Cn,Fn){this.schedulers=M;const vn=(0,Yo.on)(t,x,i),Un=ue;Ie&&ga(vn,x,Je,Ft,Kt,qt,yt,Cn),[this.firestore,this.persistenceEnabled$]=(0,Yo.cc)(`${vn.name}.firestore`,"AngularFirestore",vn.name,()=>{const gi=x.runOutsideAngular(()=>vn.firestore());if(u&&gi.settings(u),Un&&gi.useEmulator(...Un),a&&!(0,Xe.PM)(m)){const ci=()=>{try{return(0,vl.D)(gi.enablePersistence($||void 0).then(()=>!0,()=>!1))}catch(Ct){return typeof console<"u"&&console.warn(Ct),(0,Sa.of)(!1)}};return[gi,x.runOutsideAngular(ci)]}return[gi,(0,Sa.of)(!1)]},[u,Un,a])}collection(t,i){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:m}=cE(a,i),x=this.schedulers.ngZone.run(()=>u);return new oE(x,m,this)}collectionGroup(t,i){const a=i||(m=>m),u=this.firestore.collectionGroup(t);return new sE(a(u),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>i);return new nE(a,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||o)(f.LFG(Yo.Dh),f.LFG(Yo.xv,8),f.LFG(J0,8),f.LFG(fC,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(pr.HU),f.LFG(aE,8),f.LFG(lE,8),f.LFG(Od,8),f.LFG(Xa,8),f.LFG(bl,8),f.LFG(rr,8),f.LFG(Ma,8),f.LFG(Ja,8),f.LFG(kc,8),f.LFG(pr.Rf,8))};static \u0275prov=f.Yz7({token:o,factory:o.\u0275fac,providedIn:"any"})}return o})(),dE=(()=>{class o{constructor(){Oc.Z.registerVersion("angularfire",pr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:o,providers:[{provide:J0,useValue:!0},{provide:aE,useValue:t}]}}static \u0275fac=function(i){return new(i||o)};static \u0275mod=f.oAB({type:o});static \u0275inj=f.cJS({providers:[uE]})}return o})();var hE=_(5829),fE=_(7185),pC=_(6792);let mC=(()=>{class o{intercept(t,i){if(t.url.includes("googleapis.com")){const a=t.clone({withCredentials:!1});return i.handle(a)}if(t.url.includes("github.com/login/oauth/")){const a=t.clone({withCredentials:!1});return i.handle(a)}if(t.url.includes("westernmilling.okta.com/.well-known/openid-configuration")){const a=t.clone({withCredentials:!1});return i.handle(a)}return i.handle(t)}static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275prov=f.Yz7({token:o,factory:o.\u0275fac})}return o})();var KC=_(8608);let pE=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275mod=f.oAB({type:o,bootstrap:[Qt]});static#n=this.\u0275inj=f.cJS({providers:[{provide:xe.TP,useClass:mC,multi:!0},{provide:Xe.S$,useClass:Xe.b0}],imports:[l.b2,fn,ms,hn.Ps,Dc.Y4,Pg.Tx,Sc.ot,Pe.UX,Kh.SJ,bp.To,Rs.AV,Ep.Cq,Pe.u5,Yo.hO.initializeApp(he.N.firebase),dE,or.TE,kd,hE.D,xe.JF,fE.Rh.forRoot({positionClass:"toast-bottom-right",preventDuplicates:!0,maxOpened:3,timeOut:5e3}),pC.zr.forRoot(),KC.v]})}return o})();l.q6().bootstrapModule(pE).catch(o=>console.error(o))},7466:function(wt,Fe,_){var l;wt.exports=(l=_(7585),_(8319),_(9493),_(7865),_(3057),function(){var b=l,O=b.lib.BlockCipher,de=b.algo,ee=[],te=[],z=[],K=[],Y=[],k=[],U=[],W=[],ne=[],le=[];!function(){for(var oe=[],fe=0;fe<256;fe++)oe[fe]=fe<128?fe<<1:fe<<1^283;var Me=0,pe=0;for(fe=0;fe<256;fe++){var he=pe^pe<<1^pe<<2^pe<<3^pe<<4;ee[Me]=he=he>>>8^255&he^99,te[he]=Me;var Xe,xe=oe[Me],je=oe[xe],Pe=oe[je];z[Me]=(Xe=257*oe[he]^16843008*he)<<24|Xe>>>8,K[Me]=Xe<<16|Xe>>>16,Y[Me]=Xe<<8|Xe>>>24,k[Me]=Xe,U[he]=(Xe=16843009*Pe^65537*je^257*xe^16843008*Me)<<24|Xe>>>8,W[he]=Xe<<16|Xe>>>16,ne[he]=Xe<<8|Xe>>>24,le[he]=Xe,Me?(Me=xe^oe[oe[oe[Pe^xe]]],pe^=oe[oe[pe]]):Me=pe=1}}();var Ae=[0,1,2,4,8,16,32,64,128,27,54],_e=de.AES=O.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var fe=this._keyPriorReset=this._key,Me=fe.words,pe=fe.sigBytes/4,xe=4*((this._nRounds=pe+6)+1),je=this._keySchedule=[],Pe=0;Pe<xe;Pe++)Pe<pe?je[Pe]=Me[Pe]:(oe=je[Pe-1],Pe%pe?pe>6&&Pe%pe==4&&(oe=ee[oe>>>24]<<24|ee[oe>>>16&255]<<16|ee[oe>>>8&255]<<8|ee[255&oe]):(oe=ee[(oe=oe<<8|oe>>>24)>>>24]<<24|ee[oe>>>16&255]<<16|ee[oe>>>8&255]<<8|ee[255&oe],oe^=Ae[Pe/pe|0]<<24),je[Pe]=je[Pe-pe]^oe);for(var Xe=this._invKeySchedule=[],dt=0;dt<xe;dt++){if(Pe=xe-dt,dt%4)var oe=je[Pe];else oe=je[Pe-4];Xe[dt]=dt<4||Pe<=4?oe:U[ee[oe>>>24]]^W[ee[oe>>>16&255]]^ne[ee[oe>>>8&255]]^le[ee[255&oe]]}}},encryptBlock:function(oe,fe){this._doCryptBlock(oe,fe,this._keySchedule,z,K,Y,k,ee)},decryptBlock:function(oe,fe){var Me=oe[fe+1];oe[fe+1]=oe[fe+3],oe[fe+3]=Me,this._doCryptBlock(oe,fe,this._invKeySchedule,U,W,ne,le,te),Me=oe[fe+1],oe[fe+1]=oe[fe+3],oe[fe+3]=Me},_doCryptBlock:function(oe,fe,Me,pe,he,xe,je,Pe){for(var Xe=this._nRounds,dt=oe[fe]^Me[0],Ue=oe[fe+1]^Me[1],ct=oe[fe+2]^Me[2],Ot=oe[fe+3]^Me[3],at=4,fn=1;fn<Xe;fn++){var $t=pe[dt>>>24]^he[Ue>>>16&255]^xe[ct>>>8&255]^je[255&Ot]^Me[at++],jt=pe[Ue>>>24]^he[ct>>>16&255]^xe[Ot>>>8&255]^je[255&dt]^Me[at++],Zt=pe[ct>>>24]^he[Ot>>>16&255]^xe[dt>>>8&255]^je[255&Ue]^Me[at++],we=pe[Ot>>>24]^he[dt>>>16&255]^xe[Ue>>>8&255]^je[255&ct]^Me[at++];dt=$t,Ue=jt,ct=Zt,Ot=we}$t=(Pe[dt>>>24]<<24|Pe[Ue>>>16&255]<<16|Pe[ct>>>8&255]<<8|Pe[255&Ot])^Me[at++],jt=(Pe[Ue>>>24]<<24|Pe[ct>>>16&255]<<16|Pe[Ot>>>8&255]<<8|Pe[255&dt])^Me[at++],Zt=(Pe[ct>>>24]<<24|Pe[Ot>>>16&255]<<16|Pe[dt>>>8&255]<<8|Pe[255&Ue])^Me[at++],we=(Pe[Ot>>>24]<<24|Pe[dt>>>16&255]<<16|Pe[Ue>>>8&255]<<8|Pe[255&ct])^Me[at++],oe[fe]=$t,oe[fe+1]=jt,oe[fe+2]=Zt,oe[fe+3]=we},keySize:8});b.AES=O._createHelper(_e)}(),l.AES)},1302:function(wt,Fe,_){var l;wt.exports=(l=_(7585),_(8319),_(9493),_(7865),_(3057),function(){var b=l,O=b.lib.BlockCipher;const ee=16,te=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],z=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var K={pbox:[],sbox:[]};function Y(le,Ae){let pe=le.sbox[0][Ae>>24&255]+le.sbox[1][Ae>>16&255];return pe^=le.sbox[2][Ae>>8&255],pe+=le.sbox[3][255&Ae],pe}function k(le,Ae,_e){let Me,oe=Ae,fe=_e;for(let pe=0;pe<ee;++pe)oe^=le.pbox[pe],fe=Y(le,oe)^fe,Me=oe,oe=fe,fe=Me;return Me=oe,oe=fe,fe=Me,fe^=le.pbox[ee],oe^=le.pbox[ee+1],{left:oe,right:fe}}var ne=b.algo.Blowfish=O.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var le=this._keyPriorReset=this._key;!function W(le,Ae,_e){for(let he=0;he<4;he++){le.sbox[he]=[];for(let xe=0;xe<256;xe++)le.sbox[he][xe]=z[he][xe]}let oe=0;for(let he=0;he<ee+2;he++)le.pbox[he]=te[he]^Ae[oe],oe++,oe>=_e&&(oe=0);let fe=0,Me=0,pe=0;for(let he=0;he<ee+2;he+=2)pe=k(le,fe,Me),fe=pe.left,Me=pe.right,le.pbox[he]=fe,le.pbox[he+1]=Me;for(let he=0;he<4;he++)for(let xe=0;xe<256;xe+=2)pe=k(le,fe,Me),fe=pe.left,Me=pe.right,le.sbox[he][xe]=fe,le.sbox[he][xe+1]=Me;return!0}(K,le.words,le.sigBytes/4)}},encryptBlock:function(le,Ae){var _e=k(K,le[Ae],le[Ae+1]);le[Ae]=_e.left,le[Ae+1]=_e.right},decryptBlock:function(le,Ae){var _e=function U(le,Ae,_e){let Me,oe=Ae,fe=_e;for(let pe=ee+1;pe>1;--pe)oe^=le.pbox[pe],fe=Y(le,oe)^fe,Me=oe,oe=fe,fe=Me;return Me=oe,oe=fe,fe=Me,fe^=le.pbox[1],oe^=le.pbox[0],{left:oe,right:fe}}(K,le[Ae],le[Ae+1]);le[Ae]=_e.left,le[Ae+1]=_e.right},blockSize:2,keySize:4,ivSize:2});b.Blowfish=O._createHelper(ne)}(),l.Blowfish)},3057:function(wt,Fe,_){var b,f,O,de,ee,te,z,Y,U,W,le,Ae,_e,fe,pe,xe,je,Xe,dt,l;wt.exports=(l=_(7585),_(7865),void(l.lib.Cipher||(f=l,O=f.lib,de=O.Base,ee=O.WordArray,te=O.BufferedBlockAlgorithm,z=f.enc,Y=z.Base64,U=f.algo.EvpKDF,W=O.Cipher=te.extend({cfg:de.extend(),createEncryptor:function(Ue,ct){return this.create(this._ENC_XFORM_MODE,Ue,ct)},createDecryptor:function(Ue,ct){return this.create(this._DEC_XFORM_MODE,Ue,ct)},init:function(Ue,ct,Ot){this.cfg=this.cfg.extend(Ot),this._xformMode=Ue,this._key=ct,this.reset()},reset:function(){te.reset.call(this),this._doReset()},process:function(Ue){return this._append(Ue),this._process()},finalize:function(Ue){return Ue&&this._append(Ue),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function Ue(ct){return"string"==typeof ct?dt:je}return function(ct){return{encrypt:function(Ot,at,fn){return Ue(at).encrypt(ct,Ot,at,fn)},decrypt:function(Ot,at,fn){return Ue(at).decrypt(ct,Ot,at,fn)}}}}()}),O.StreamCipher=W.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),le=f.mode={},Ae=O.BlockCipherMode=de.extend({createEncryptor:function(Ue,ct){return this.Encryptor.create(Ue,ct)},createDecryptor:function(Ue,ct){return this.Decryptor.create(Ue,ct)},init:function(Ue,ct){this._cipher=Ue,this._iv=ct}}),_e=le.CBC=function(){var Ue=Ae.extend();function ct(Ot,at,fn){var $t,jt=this._iv;jt?($t=jt,this._iv=b):$t=this._prevBlock;for(var Zt=0;Zt<fn;Zt++)Ot[at+Zt]^=$t[Zt]}return Ue.Encryptor=Ue.extend({processBlock:function(Ot,at){var fn=this._cipher,$t=fn.blockSize;ct.call(this,Ot,at,$t),fn.encryptBlock(Ot,at),this._prevBlock=Ot.slice(at,at+$t)}}),Ue.Decryptor=Ue.extend({processBlock:function(Ot,at){var fn=this._cipher,$t=fn.blockSize,jt=Ot.slice(at,at+$t);fn.decryptBlock(Ot,at),ct.call(this,Ot,at,$t),this._prevBlock=jt}}),Ue}(),fe=(f.pad={}).Pkcs7={pad:function(Ue,ct){for(var Ot=4*ct,at=Ot-Ue.sigBytes%Ot,fn=at<<24|at<<16|at<<8|at,$t=[],jt=0;jt<at;jt+=4)$t.push(fn);var Zt=ee.create($t,at);Ue.concat(Zt)},unpad:function(Ue){Ue.sigBytes-=255&Ue.words[Ue.sigBytes-1>>>2]}},O.BlockCipher=W.extend({cfg:W.cfg.extend({mode:_e,padding:fe}),reset:function(){var Ue;W.reset.call(this);var ct=this.cfg,Ot=ct.iv,at=ct.mode;this._xformMode==this._ENC_XFORM_MODE?Ue=at.createEncryptor:(Ue=at.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==Ue?this._mode.init(this,Ot&&Ot.words):(this._mode=Ue.call(at,this,Ot&&Ot.words),this._mode.__creator=Ue)},_doProcessBlock:function(Ue,ct){this._mode.processBlock(Ue,ct)},_doFinalize:function(){var Ue,ct=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(ct.pad(this._data,this.blockSize),Ue=this._process(!0)):(Ue=this._process(!0),ct.unpad(Ue)),Ue},blockSize:4}),pe=O.CipherParams=de.extend({init:function(Ue){this.mixIn(Ue)},toString:function(Ue){return(Ue||this.formatter).stringify(this)}}),xe=(f.format={}).OpenSSL={stringify:function(Ue){var Ot=Ue.ciphertext,at=Ue.salt;return(at?ee.create([1398893684,1701076831]).concat(at).concat(Ot):Ot).toString(Y)},parse:function(Ue){var ct,Ot=Y.parse(Ue),at=Ot.words;return 1398893684==at[0]&&1701076831==at[1]&&(ct=ee.create(at.slice(2,4)),at.splice(0,4),Ot.sigBytes-=16),pe.create({ciphertext:Ot,salt:ct})}},je=O.SerializableCipher=de.extend({cfg:de.extend({format:xe}),encrypt:function(Ue,ct,Ot,at){at=this.cfg.extend(at);var fn=Ue.createEncryptor(Ot,at),$t=fn.finalize(ct),jt=fn.cfg;return pe.create({ciphertext:$t,key:Ot,iv:jt.iv,algorithm:Ue,mode:jt.mode,padding:jt.padding,blockSize:Ue.blockSize,formatter:at.format})},decrypt:function(Ue,ct,Ot,at){return at=this.cfg.extend(at),ct=this._parse(ct,at.format),Ue.createDecryptor(Ot,at).finalize(ct.ciphertext)},_parse:function(Ue,ct){return"string"==typeof Ue?ct.parse(Ue,this):Ue}}),Xe=(f.kdf={}).OpenSSL={execute:function(Ue,ct,Ot,at,fn){if(at||(at=ee.random(8)),fn)var $t=U.create({keySize:ct+Ot,hasher:fn}).compute(Ue,at);else $t=U.create({keySize:ct+Ot}).compute(Ue,at);var jt=ee.create($t.words.slice(ct),4*Ot);return $t.sigBytes=4*ct,pe.create({key:$t,iv:jt,salt:at})}},dt=O.PasswordBasedCipher=je.extend({cfg:je.cfg.extend({kdf:Xe}),encrypt:function(Ue,ct,Ot,at){var fn=(at=this.cfg.extend(at)).kdf.execute(Ot,Ue.keySize,Ue.ivSize,at.salt,at.hasher);at.iv=fn.iv;var $t=je.encrypt.call(this,Ue,ct,fn.key,at);return $t.mixIn(fn),$t},decrypt:function(Ue,ct,Ot,at){at=this.cfg.extend(at),ct=this._parse(ct,at.format);var fn=at.kdf.execute(Ot,Ue.keySize,Ue.ivSize,ct.salt,at.hasher);return at.iv=fn.iv,je.decrypt.call(this,Ue,ct,fn.key,at)}}))))},7585:function(wt,Fe,_){var l;wt.exports=(l=l||function(b,f){var O;if(typeof window<"u"&&window.crypto&&(O=window.crypto),typeof self<"u"&&self.crypto&&(O=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(O=globalThis.crypto),!O&&typeof window<"u"&&window.msCrypto&&(O=window.msCrypto),!O&&typeof global<"u"&&global.crypto&&(O=global.crypto),!O)try{O=_(2480)}catch{}var de=function(){if(O){if("function"==typeof O.getRandomValues)try{return O.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof O.randomBytes)try{return O.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},ee=Object.create||function(){function oe(){}return function(fe){var Me;return oe.prototype=fe,Me=new oe,oe.prototype=null,Me}}(),te={},z=te.lib={},K=z.Base={extend:function(oe){var fe=ee(this);return oe&&fe.mixIn(oe),(!fe.hasOwnProperty("init")||this.init===fe.init)&&(fe.init=function(){fe.$super.init.apply(this,arguments)}),fe.init.prototype=fe,fe.$super=this,fe},create:function(){var oe=this.extend();return oe.init.apply(oe,arguments),oe},init:function(){},mixIn:function(oe){for(var fe in oe)oe.hasOwnProperty(fe)&&(this[fe]=oe[fe]);oe.hasOwnProperty("toString")&&(this.toString=oe.toString)},clone:function(){return this.init.prototype.extend(this)}},Y=z.WordArray=K.extend({init:function(oe,fe){oe=this.words=oe||[],this.sigBytes=null!=fe?fe:4*oe.length},toString:function(oe){return(oe||U).stringify(this)},concat:function(oe){var fe=this.words,Me=oe.words,pe=this.sigBytes,he=oe.sigBytes;if(this.clamp(),pe%4)for(var xe=0;xe<he;xe++)fe[pe+xe>>>2]|=(Me[xe>>>2]>>>24-xe%4*8&255)<<24-(pe+xe)%4*8;else for(var Pe=0;Pe<he;Pe+=4)fe[pe+Pe>>>2]=Me[Pe>>>2];return this.sigBytes+=he,this},clamp:function(){var oe=this.words,fe=this.sigBytes;oe[fe>>>2]&=4294967295<<32-fe%4*8,oe.length=b.ceil(fe/4)},clone:function(){var oe=K.clone.call(this);return oe.words=this.words.slice(0),oe},random:function(oe){for(var fe=[],Me=0;Me<oe;Me+=4)fe.push(de());return new Y.init(fe,oe)}}),k=te.enc={},U=k.Hex={stringify:function(oe){for(var fe=oe.words,Me=oe.sigBytes,pe=[],he=0;he<Me;he++){var xe=fe[he>>>2]>>>24-he%4*8&255;pe.push((xe>>>4).toString(16)),pe.push((15&xe).toString(16))}return pe.join("")},parse:function(oe){for(var fe=oe.length,Me=[],pe=0;pe<fe;pe+=2)Me[pe>>>3]|=parseInt(oe.substr(pe,2),16)<<24-pe%8*4;return new Y.init(Me,fe/2)}},W=k.Latin1={stringify:function(oe){for(var fe=oe.words,Me=oe.sigBytes,pe=[],he=0;he<Me;he++)pe.push(String.fromCharCode(fe[he>>>2]>>>24-he%4*8&255));return pe.join("")},parse:function(oe){for(var fe=oe.length,Me=[],pe=0;pe<fe;pe++)Me[pe>>>2]|=(255&oe.charCodeAt(pe))<<24-pe%4*8;return new Y.init(Me,fe)}},ne=k.Utf8={stringify:function(oe){try{return decodeURIComponent(escape(W.stringify(oe)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(oe){return W.parse(unescape(encodeURIComponent(oe)))}},le=z.BufferedBlockAlgorithm=K.extend({reset:function(){this._data=new Y.init,this._nDataBytes=0},_append:function(oe){"string"==typeof oe&&(oe=ne.parse(oe)),this._data.concat(oe),this._nDataBytes+=oe.sigBytes},_process:function(oe){var fe,Me=this._data,pe=Me.words,he=Me.sigBytes,xe=this.blockSize,Pe=he/(4*xe),Xe=(Pe=oe?b.ceil(Pe):b.max((0|Pe)-this._minBufferSize,0))*xe,dt=b.min(4*Xe,he);if(Xe){for(var Ue=0;Ue<Xe;Ue+=xe)this._doProcessBlock(pe,Ue);fe=pe.splice(0,Xe),Me.sigBytes-=dt}return new Y.init(fe,dt)},clone:function(){var oe=K.clone.call(this);return oe._data=this._data.clone(),oe},_minBufferSize:0}),_e=(z.Hasher=le.extend({cfg:K.extend(),init:function(oe){this.cfg=this.cfg.extend(oe),this.reset()},reset:function(){le.reset.call(this),this._doReset()},update:function(oe){return this._append(oe),this._process(),this},finalize:function(oe){return oe&&this._append(oe),this._doFinalize()},blockSize:16,_createHelper:function(oe){return function(fe,Me){return new oe.init(Me).finalize(fe)}},_createHmacHelper:function(oe){return function(fe,Me){return new _e.HMAC.init(oe,Me).finalize(fe)}}}),te.algo={});return te}(Math),l)},8319:function(wt,Fe,_){var l,O;wt.exports=(l=_(7585),O=l.lib.WordArray,l.enc.Base64={stringify:function(z){var K=z.words,Y=z.sigBytes,k=this._map;z.clamp();for(var U=[],W=0;W<Y;W+=3)for(var _e=(K[W>>>2]>>>24-W%4*8&255)<<16|(K[W+1>>>2]>>>24-(W+1)%4*8&255)<<8|K[W+2>>>2]>>>24-(W+2)%4*8&255,oe=0;oe<4&&W+.75*oe<Y;oe++)U.push(k.charAt(_e>>>6*(3-oe)&63));var fe=k.charAt(64);if(fe)for(;U.length%4;)U.push(fe);return U.join("")},parse:function(z){var K=z.length,Y=this._map,k=this._reverseMap;if(!k){k=this._reverseMap=[];for(var U=0;U<Y.length;U++)k[Y.charCodeAt(U)]=U}var W=Y.charAt(64);if(W){var ne=z.indexOf(W);-1!==ne&&(K=ne)}return function te(z,K,Y){for(var k=[],U=0,W=0;W<K;W++)if(W%4){var ne=Y[z.charCodeAt(W-1)]<<W%4*2,le=Y[z.charCodeAt(W)]>>>6-W%4*2;k[U>>>2]|=(ne|le)<<24-U%4*8,U++}return O.create(k,U)}(z,K,k)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},l.enc.Base64)},4410:function(wt,Fe,_){var l,O;wt.exports=(l=_(7585),O=l.lib.WordArray,l.enc.Base64url={stringify:function(z,K){void 0===K&&(K=!0);var Y=z.words,k=z.sigBytes,U=K?this._safe_map:this._map;z.clamp();for(var W=[],ne=0;ne<k;ne+=3)for(var oe=(Y[ne>>>2]>>>24-ne%4*8&255)<<16|(Y[ne+1>>>2]>>>24-(ne+1)%4*8&255)<<8|Y[ne+2>>>2]>>>24-(ne+2)%4*8&255,fe=0;fe<4&&ne+.75*fe<k;fe++)W.push(U.charAt(oe>>>6*(3-fe)&63));var Me=U.charAt(64);if(Me)for(;W.length%4;)W.push(Me);return W.join("")},parse:function(z,K){void 0===K&&(K=!0);var Y=z.length,k=K?this._safe_map:this._map,U=this._reverseMap;if(!U){U=this._reverseMap=[];for(var W=0;W<k.length;W++)U[k.charCodeAt(W)]=W}var ne=k.charAt(64);if(ne){var le=z.indexOf(ne);-1!==le&&(Y=le)}return function te(z,K,Y){for(var k=[],U=0,W=0;W<K;W++)if(W%4){var ne=Y[z.charCodeAt(W-1)]<<W%4*2,le=Y[z.charCodeAt(W)]>>>6-W%4*2;k[U>>>2]|=(ne|le)<<24-U%4*8,U++}return O.create(k,U)}(z,Y,U)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},l.enc.Base64url)},9012:function(wt,Fe,_){var l;wt.exports=(l=_(7585),function(){var O=l.lib.WordArray,de=l.enc;function te(z){return z<<8&4278255360|z>>>8&16711935}de.Utf16=de.Utf16BE={stringify:function(z){for(var K=z.words,Y=z.sigBytes,k=[],U=0;U<Y;U+=2)k.push(String.fromCharCode(K[U>>>2]>>>16-U%4*8&65535));return k.join("")},parse:function(z){for(var K=z.length,Y=[],k=0;k<K;k++)Y[k>>>1]|=z.charCodeAt(k)<<16-k%2*16;return O.create(Y,2*K)}},de.Utf16LE={stringify:function(z){for(var K=z.words,Y=z.sigBytes,k=[],U=0;U<Y;U+=2){var W=te(K[U>>>2]>>>16-U%4*8&65535);k.push(String.fromCharCode(W))}return k.join("")},parse:function(z){for(var K=z.length,Y=[],k=0;k<K;k++)Y[k>>>1]|=te(z.charCodeAt(k)<<16-k%2*16);return O.create(Y,2*K)}}}(),l.enc.Utf16)},7865:function(wt,Fe,_){var b,f,O,de,ee,z,l;wt.exports=(l=_(7585),_(5162),_(3764),de=(f=(b=l).lib).WordArray,z=(ee=b.algo).EvpKDF=(O=f.Base).extend({cfg:O.extend({keySize:4,hasher:ee.MD5,iterations:1}),init:function(K){this.cfg=this.cfg.extend(K)},compute:function(K,Y){for(var k,U=this.cfg,W=U.hasher.create(),ne=de.create(),le=ne.words,Ae=U.keySize,_e=U.iterations;le.length<Ae;){k&&W.update(k),k=W.update(K).finalize(Y),W.reset();for(var oe=1;oe<_e;oe++)k=W.finalize(k),W.reset();ne.concat(k)}return ne.sigBytes=4*Ae,ne}}),b.EvpKDF=function(K,Y,k){return z.create(k).compute(K,Y)},l.EvpKDF)},1847:function(wt,Fe,_){var l,de,te;wt.exports=(l=_(7585),_(3057),de=l.lib.CipherParams,te=l.enc.Hex,l.format.Hex={stringify:function(Y){return Y.ciphertext.toString(te)},parse:function(Y){var k=te.parse(Y);return de.create({ciphertext:k})}},l.format.Hex)},3764:function(wt,Fe,_){var l,ee;wt.exports=(l=_(7585),ee=l.enc.Utf8,void(l.algo.HMAC=l.lib.Base.extend({init:function(K,Y){K=this._hasher=new K.init,"string"==typeof Y&&(Y=ee.parse(Y));var k=K.blockSize,U=4*k;Y.sigBytes>U&&(Y=K.finalize(Y)),Y.clamp();for(var W=this._oKey=Y.clone(),ne=this._iKey=Y.clone(),le=W.words,Ae=ne.words,_e=0;_e<k;_e++)le[_e]^=1549556828,Ae[_e]^=909522486;W.sigBytes=ne.sigBytes=U,this.reset()},reset:function(){var K=this._hasher;K.reset(),K.update(this._iKey)},update:function(K){return this._hasher.update(K),this},finalize:function(K){var Y=this._hasher,k=Y.finalize(K);return Y.reset(),Y.finalize(this._oKey.clone().concat(k))}})))},7206:function(wt,Fe,_){var l;wt.exports=(l=_(7585),_(401),_(7412),_(9012),_(8319),_(4410),_(9493),_(5162),_(1817),_(8769),_(3351),_(6787),_(1971),_(4973),_(3764),_(8812),_(7865),_(3057),_(4424),_(6635),_(3592),_(9354),_(7934),_(4413),_(4630),_(187),_(1691),_(3237),_(1847),_(7466),_(7243),_(486),_(8182),_(3544),_(1302),l)},7412:function(wt,Fe,_){var l;wt.exports=(l=_(7585),function(){if("function"==typeof ArrayBuffer){var O=l.lib.WordArray,de=O.init,ee=O.init=function(te){if(te instanceof ArrayBuffer&&(te=new Uint8Array(te)),(te instanceof Int8Array||typeof Uint8ClampedArray<"u"&&te instanceof Uint8ClampedArray||te instanceof Int16Array||te instanceof Uint16Array||te instanceof Int32Array||te instanceof Uint32Array||te instanceof Float32Array||te instanceof Float64Array)&&(te=new Uint8Array(te.buffer,te.byteOffset,te.byteLength)),te instanceof Uint8Array){for(var z=te.byteLength,K=[],Y=0;Y<z;Y++)K[Y>>>2]|=te[Y]<<24-Y%4*8;de.call(this,K,z)}else de.apply(this,arguments)};ee.prototype=O}}(),l.lib.WordArray)},9493:function(wt,Fe,_){var l;wt.exports=(l=_(7585),function(b){var f=l,O=f.lib,de=O.WordArray,ee=O.Hasher,te=f.algo,z=[];!function(){for(var ne=0;ne<64;ne++)z[ne]=4294967296*b.abs(b.sin(ne+1))|0}();var K=te.MD5=ee.extend({_doReset:function(){this._hash=new de.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(ne,le){for(var Ae=0;Ae<16;Ae++){var _e=le+Ae,oe=ne[_e];ne[_e]=16711935&(oe<<8|oe>>>24)|4278255360&(oe<<24|oe>>>8)}var fe=this._hash.words,Me=ne[le+0],pe=ne[le+1],he=ne[le+2],xe=ne[le+3],je=ne[le+4],Pe=ne[le+5],Xe=ne[le+6],dt=ne[le+7],Ue=ne[le+8],ct=ne[le+9],Ot=ne[le+10],at=ne[le+11],fn=ne[le+12],$t=ne[le+13],jt=ne[le+14],Zt=ne[le+15],we=fe[0],ke=fe[1],Ne=fe[2],me=fe[3];we=Y(we,ke,Ne,me,Me,7,z[0]),me=Y(me,we,ke,Ne,pe,12,z[1]),Ne=Y(Ne,me,we,ke,he,17,z[2]),ke=Y(ke,Ne,me,we,xe,22,z[3]),we=Y(we,ke,Ne,me,je,7,z[4]),me=Y(me,we,ke,Ne,Pe,12,z[5]),Ne=Y(Ne,me,we,ke,Xe,17,z[6]),ke=Y(ke,Ne,me,we,dt,22,z[7]),we=Y(we,ke,Ne,me,Ue,7,z[8]),me=Y(me,we,ke,Ne,ct,12,z[9]),Ne=Y(Ne,me,we,ke,Ot,17,z[10]),ke=Y(ke,Ne,me,we,at,22,z[11]),we=Y(we,ke,Ne,me,fn,7,z[12]),me=Y(me,we,ke,Ne,$t,12,z[13]),Ne=Y(Ne,me,we,ke,jt,17,z[14]),we=k(we,ke=Y(ke,Ne,me,we,Zt,22,z[15]),Ne,me,pe,5,z[16]),me=k(me,we,ke,Ne,Xe,9,z[17]),Ne=k(Ne,me,we,ke,at,14,z[18]),ke=k(ke,Ne,me,we,Me,20,z[19]),we=k(we,ke,Ne,me,Pe,5,z[20]),me=k(me,we,ke,Ne,Ot,9,z[21]),Ne=k(Ne,me,we,ke,Zt,14,z[22]),ke=k(ke,Ne,me,we,je,20,z[23]),we=k(we,ke,Ne,me,ct,5,z[24]),me=k(me,we,ke,Ne,jt,9,z[25]),Ne=k(Ne,me,we,ke,xe,14,z[26]),ke=k(ke,Ne,me,we,Ue,20,z[27]),we=k(we,ke,Ne,me,$t,5,z[28]),me=k(me,we,ke,Ne,he,9,z[29]),Ne=k(Ne,me,we,ke,dt,14,z[30]),we=U(we,ke=k(ke,Ne,me,we,fn,20,z[31]),Ne,me,Pe,4,z[32]),me=U(me,we,ke,Ne,Ue,11,z[33]),Ne=U(Ne,me,we,ke,at,16,z[34]),ke=U(ke,Ne,me,we,jt,23,z[35]),we=U(we,ke,Ne,me,pe,4,z[36]),me=U(me,we,ke,Ne,je,11,z[37]),Ne=U(Ne,me,we,ke,dt,16,z[38]),ke=U(ke,Ne,me,we,Ot,23,z[39]),we=U(we,ke,Ne,me,$t,4,z[40]),me=U(me,we,ke,Ne,Me,11,z[41]),Ne=U(Ne,me,we,ke,xe,16,z[42]),ke=U(ke,Ne,me,we,Xe,23,z[43]),we=U(we,ke,Ne,me,ct,4,z[44]),me=U(me,we,ke,Ne,fn,11,z[45]),Ne=U(Ne,me,we,ke,Zt,16,z[46]),we=W(we,ke=U(ke,Ne,me,we,he,23,z[47]),Ne,me,Me,6,z[48]),me=W(me,we,ke,Ne,dt,10,z[49]),Ne=W(Ne,me,we,ke,jt,15,z[50]),ke=W(ke,Ne,me,we,Pe,21,z[51]),we=W(we,ke,Ne,me,fn,6,z[52]),me=W(me,we,ke,Ne,xe,10,z[53]),Ne=W(Ne,me,we,ke,Ot,15,z[54]),ke=W(ke,Ne,me,we,pe,21,z[55]),we=W(we,ke,Ne,me,Ue,6,z[56]),me=W(me,we,ke,Ne,Zt,10,z[57]),Ne=W(Ne,me,we,ke,Xe,15,z[58]),ke=W(ke,Ne,me,we,$t,21,z[59]),we=W(we,ke,Ne,me,je,6,z[60]),me=W(me,we,ke,Ne,at,10,z[61]),Ne=W(Ne,me,we,ke,he,15,z[62]),ke=W(ke,Ne,me,we,ct,21,z[63]),fe[0]=fe[0]+we|0,fe[1]=fe[1]+ke|0,fe[2]=fe[2]+Ne|0,fe[3]=fe[3]+me|0},_doFinalize:function(){var ne=this._data,le=ne.words,Ae=8*this._nDataBytes,_e=8*ne.sigBytes;le[_e>>>5]|=128<<24-_e%32;var oe=b.floor(Ae/4294967296),fe=Ae;le[15+(_e+64>>>9<<4)]=16711935&(oe<<8|oe>>>24)|4278255360&(oe<<24|oe>>>8),le[14+(_e+64>>>9<<4)]=16711935&(fe<<8|fe>>>24)|4278255360&(fe<<24|fe>>>8),ne.sigBytes=4*(le.length+1),this._process();for(var Me=this._hash,pe=Me.words,he=0;he<4;he++){var xe=pe[he];pe[he]=16711935&(xe<<8|xe>>>24)|4278255360&(xe<<24|xe>>>8)}return Me},clone:function(){var ne=ee.clone.call(this);return ne._hash=this._hash.clone(),ne}});function Y(ne,le,Ae,_e,oe,fe,Me){var pe=ne+(le&Ae|~le&_e)+oe+Me;return(pe<<fe|pe>>>32-fe)+le}function k(ne,le,Ae,_e,oe,fe,Me){var pe=ne+(le&_e|Ae&~_e)+oe+Me;return(pe<<fe|pe>>>32-fe)+le}function U(ne,le,Ae,_e,oe,fe,Me){var pe=ne+(le^Ae^_e)+oe+Me;return(pe<<fe|pe>>>32-fe)+le}function W(ne,le,Ae,_e,oe,fe,Me){var pe=ne+(Ae^(le|~_e))+oe+Me;return(pe<<fe|pe>>>32-fe)+le}f.MD5=ee._createHelper(K),f.HmacMD5=ee._createHmacHelper(K)}(Math),l.MD5)},4424:function(wt,Fe,_){var l;wt.exports=(l=_(7585),_(3057),l.mode.CFB=function(){var b=l.lib.BlockCipherMode.extend();function f(O,de,ee,te){var z,K=this._iv;K?(z=K.slice(0),this._iv=void 0):z=this._prevBlock,te.encryptBlock(z,0);for(var Y=0;Y<ee;Y++)O[de+Y]^=z[Y]}return b.Encryptor=b.extend({processBlock:function(O,de){var ee=this._cipher,te=ee.blockSize;f.call(this,O,de,te,ee),this._prevBlock=O.slice(de,de+te)}}),b.Decryptor=b.extend({processBlock:function(O,de){var ee=this._cipher,te=ee.blockSize,z=O.slice(de,de+te);f.call(this,O,de,te,ee),this._prevBlock=z}}),b}(),l.mode.CFB)},3592:function(wt,Fe,_){var l;wt.exports=(l=_(7585),_(3057),l.mode.CTRGladman=function(){var b=l.lib.BlockCipherMode.extend();function f(ee){if(255==(ee>>24&255)){var te=ee>>16&255,z=ee>>8&255,K=255&ee;255===te?(te=0,255===z?(z=0,255===K?K=0:++K):++z):++te,ee=0,ee+=te<<16,ee+=z<<8,ee+=K}else ee+=1<<24;return ee}var de=b.Encryptor=b.extend({processBlock:function(ee,te){var z=this._cipher,K=z.blockSize,Y=this._iv,k=this._counter;Y&&(k=this._counter=Y.slice(0),this._iv=void 0),function O(ee){return 0===(ee[0]=f(ee[0]))&&(ee[1]=f(ee[1])),ee}(k);var U=k.slice(0);z.encryptBlock(U,0);for(var W=0;W<K;W++)ee[te+W]^=U[W]}});return b.Decryptor=de,b}(),l.mode.CTRGladman)},6635:function(wt,Fe,_){var b,f,l;wt.exports=(l=_(7585),_(3057),l.mode.CTR=(f=(b=l.lib.BlockCipherMode.extend()).Encryptor=b.extend({processBlock:function(O,de){var ee=this._cipher,te=ee.blockSize,z=this._iv,K=this._counter;z&&(K=this._counter=z.slice(0),this._iv=void 0);var Y=K.slice(0);ee.encryptBlock(Y,0),K[te-1]=K[te-1]+1|0;for(var k=0;k<te;k++)O[de+k]^=Y[k]}}),b.Decryptor=f,b),l.mode.CTR)},7934:function(wt,Fe,_){var b,l;wt.exports=(l=_(7585),_(3057),l.mode.ECB=((b=l.lib.BlockCipherMode.extend()).Encryptor=b.extend({processBlock:function(f,O){this._cipher.encryptBlock(f,O)}}),b.Decryptor=b.extend({processBlock:function(f,O){this._cipher.decryptBlock(f,O)}}),b),l.mode.ECB)},9354:function(wt,Fe,_){var b,f,l;wt.exports=(l=_(7585),_(3057),l.mode.OFB=(f=(b=l.lib.BlockCipherMode.extend()).Encryptor=b.extend({processBlock:function(O,de){var ee=this._cipher,te=ee.blockSize,z=this._iv,K=this._keystream;z&&(K=this._keystream=z.slice(0),this._iv=void 0),ee.encryptBlock(K,0);for(var Y=0;Y<te;Y++)O[de+Y]^=K[Y]}}),b.Decryptor=f,b),l.mode.OFB)},4413:function(wt,Fe,_){var l;wt.exports=(l=_(7585),_(3057),l.pad.AnsiX923={pad:function(b,f){var O=b.sigBytes,de=4*f,ee=de-O%de,te=O+ee-1;b.clamp(),b.words[te>>>2]|=ee<<24-te%4*8,b.sigBytes+=ee},unpad:function(b){b.sigBytes-=255&b.words[b.sigBytes-1>>>2]}},l.pad.Ansix923)},4630:function(wt,Fe,_){var l;wt.exports=(l=_(7585),_(3057),l.pad.Iso10126={pad:function(b,f){var O=4*f,de=O-b.sigBytes%O;b.concat(l.lib.WordArray.random(de-1)).concat(l.lib.WordArray.create([de<<24],1))},unpad:function(b){b.sigBytes-=255&b.words[b.sigBytes-1>>>2]}},l.pad.Iso10126)},187:function(wt,Fe,_){var l;wt.exports=(l=_(7585),_(3057),l.pad.Iso97971={pad:function(b,f){b.concat(l.lib.WordArray.create([2147483648],1)),l.pad.ZeroPadding.pad(b,f)},unpad:function(b){l.pad.ZeroPadding.unpad(b),b.sigBytes--}},l.pad.Iso97971)},3237:function(wt,Fe,_){var l;wt.exports=(l=_(7585),_(3057),l.pad.NoPadding={pad:function(){},unpad:function(){}},l.pad.NoPadding)},1691:function(wt,Fe,_){var l;wt.exports=(l=_(7585),_(3057),l.pad.ZeroPadding={pad:function(b,f){var O=4*f;b.clamp(),b.sigBytes+=O-(b.sigBytes%O||O)},unpad:function(b){var f=b.words,O=b.sigBytes-1;for(O=b.sigBytes-1;O>=0;O--)if(f[O>>>2]>>>24-O%4*8&255){b.sigBytes=O+1;break}}},l.pad.ZeroPadding)},8812:function(wt,Fe,_){var b,f,O,de,ee,z,K,l;wt.exports=(l=_(7585),_(1817),_(3764),de=(f=(b=l).lib).WordArray,z=(ee=b.algo).HMAC,K=ee.PBKDF2=(O=f.Base).extend({cfg:O.extend({keySize:4,hasher:ee.SHA256,iterations:25e4}),init:function(Y){this.cfg=this.cfg.extend(Y)},compute:function(Y,k){for(var U=this.cfg,W=z.create(U.hasher,Y),ne=de.create(),le=de.create([1]),Ae=ne.words,_e=le.words,oe=U.keySize,fe=U.iterations;Ae.length<oe;){var Me=W.update(k).finalize(le);W.reset();for(var pe=Me.words,he=pe.length,xe=Me,je=1;je<fe;je++){xe=W.finalize(xe),W.reset();for(var Pe=xe.words,Xe=0;Xe<he;Xe++)pe[Xe]^=Pe[Xe]}ne.concat(Me),_e[0]++}return ne.sigBytes=4*oe,ne}}),b.PBKDF2=function(Y,k,U){return K.create(U).compute(Y,k)},l.PBKDF2)},3544:function(wt,Fe,_){var l;wt.exports=(l=_(7585),_(8319),_(9493),_(7865),_(3057),function(){var b=l,O=b.lib.StreamCipher,ee=[],te=[],z=[],K=b.algo.RabbitLegacy=O.extend({_doReset:function(){var k=this._key.words,U=this.cfg.iv,W=this._X=[k[0],k[3]<<16|k[2]>>>16,k[1],k[0]<<16|k[3]>>>16,k[2],k[1]<<16|k[0]>>>16,k[3],k[2]<<16|k[1]>>>16],ne=this._C=[k[2]<<16|k[2]>>>16,4294901760&k[0]|65535&k[1],k[3]<<16|k[3]>>>16,4294901760&k[1]|65535&k[2],k[0]<<16|k[0]>>>16,4294901760&k[2]|65535&k[3],k[1]<<16|k[1]>>>16,4294901760&k[3]|65535&k[0]];this._b=0;for(var le=0;le<4;le++)Y.call(this);for(le=0;le<8;le++)ne[le]^=W[le+4&7];if(U){var Ae=U.words,_e=Ae[0],oe=Ae[1],fe=16711935&(_e<<8|_e>>>24)|4278255360&(_e<<24|_e>>>8),Me=16711935&(oe<<8|oe>>>24)|4278255360&(oe<<24|oe>>>8),pe=fe>>>16|4294901760&Me,he=Me<<16|65535&fe;for(ne[0]^=fe,ne[1]^=pe,ne[2]^=Me,ne[3]^=he,ne[4]^=fe,ne[5]^=pe,ne[6]^=Me,ne[7]^=he,le=0;le<4;le++)Y.call(this)}},_doProcessBlock:function(k,U){var W=this._X;Y.call(this),ee[0]=W[0]^W[5]>>>16^W[3]<<16,ee[1]=W[2]^W[7]>>>16^W[5]<<16,ee[2]=W[4]^W[1]>>>16^W[7]<<16,ee[3]=W[6]^W[3]>>>16^W[1]<<16;for(var ne=0;ne<4;ne++)ee[ne]=16711935&(ee[ne]<<8|ee[ne]>>>24)|4278255360&(ee[ne]<<24|ee[ne]>>>8),k[U+ne]^=ee[ne]},blockSize:4,ivSize:2});function Y(){for(var k=this._X,U=this._C,W=0;W<8;W++)te[W]=U[W];for(U[0]=U[0]+1295307597+this._b|0,U[1]=U[1]+3545052371+(U[0]>>>0<te[0]>>>0?1:0)|0,U[2]=U[2]+886263092+(U[1]>>>0<te[1]>>>0?1:0)|0,U[3]=U[3]+1295307597+(U[2]>>>0<te[2]>>>0?1:0)|0,U[4]=U[4]+3545052371+(U[3]>>>0<te[3]>>>0?1:0)|0,U[5]=U[5]+886263092+(U[4]>>>0<te[4]>>>0?1:0)|0,U[6]=U[6]+1295307597+(U[5]>>>0<te[5]>>>0?1:0)|0,U[7]=U[7]+3545052371+(U[6]>>>0<te[6]>>>0?1:0)|0,this._b=U[7]>>>0<te[7]>>>0?1:0,W=0;W<8;W++){var ne=k[W]+U[W],le=65535&ne,Ae=ne>>>16;z[W]=((le*le>>>17)+le*Ae>>>15)+Ae*Ae^((4294901760&ne)*ne|0)+((65535&ne)*ne|0)}k[0]=z[0]+(z[7]<<16|z[7]>>>16)+(z[6]<<16|z[6]>>>16)|0,k[1]=z[1]+(z[0]<<8|z[0]>>>24)+z[7]|0,k[2]=z[2]+(z[1]<<16|z[1]>>>16)+(z[0]<<16|z[0]>>>16)|0,k[3]=z[3]+(z[2]<<8|z[2]>>>24)+z[1]|0,k[4]=z[4]+(z[3]<<16|z[3]>>>16)+(z[2]<<16|z[2]>>>16)|0,k[5]=z[5]+(z[4]<<8|z[4]>>>24)+z[3]|0,k[6]=z[6]+(z[5]<<16|z[5]>>>16)+(z[4]<<16|z[4]>>>16)|0,k[7]=z[7]+(z[6]<<8|z[6]>>>24)+z[5]|0}b.RabbitLegacy=O._createHelper(K)}(),l.RabbitLegacy)},8182:function(wt,Fe,_){var l;wt.exports=(l=_(7585),_(8319),_(9493),_(7865),_(3057),function(){var b=l,O=b.lib.StreamCipher,ee=[],te=[],z=[],K=b.algo.Rabbit=O.extend({_doReset:function(){for(var k=this._key.words,U=this.cfg.iv,W=0;W<4;W++)k[W]=16711935&(k[W]<<8|k[W]>>>24)|4278255360&(k[W]<<24|k[W]>>>8);var ne=this._X=[k[0],k[3]<<16|k[2]>>>16,k[1],k[0]<<16|k[3]>>>16,k[2],k[1]<<16|k[0]>>>16,k[3],k[2]<<16|k[1]>>>16],le=this._C=[k[2]<<16|k[2]>>>16,4294901760&k[0]|65535&k[1],k[3]<<16|k[3]>>>16,4294901760&k[1]|65535&k[2],k[0]<<16|k[0]>>>16,4294901760&k[2]|65535&k[3],k[1]<<16|k[1]>>>16,4294901760&k[3]|65535&k[0]];for(this._b=0,W=0;W<4;W++)Y.call(this);for(W=0;W<8;W++)le[W]^=ne[W+4&7];if(U){var Ae=U.words,_e=Ae[0],oe=Ae[1],fe=16711935&(_e<<8|_e>>>24)|4278255360&(_e<<24|_e>>>8),Me=16711935&(oe<<8|oe>>>24)|4278255360&(oe<<24|oe>>>8),pe=fe>>>16|4294901760&Me,he=Me<<16|65535&fe;for(le[0]^=fe,le[1]^=pe,le[2]^=Me,le[3]^=he,le[4]^=fe,le[5]^=pe,le[6]^=Me,le[7]^=he,W=0;W<4;W++)Y.call(this)}},_doProcessBlock:function(k,U){var W=this._X;Y.call(this),ee[0]=W[0]^W[5]>>>16^W[3]<<16,ee[1]=W[2]^W[7]>>>16^W[5]<<16,ee[2]=W[4]^W[1]>>>16^W[7]<<16,ee[3]=W[6]^W[3]>>>16^W[1]<<16;for(var ne=0;ne<4;ne++)ee[ne]=16711935&(ee[ne]<<8|ee[ne]>>>24)|4278255360&(ee[ne]<<24|ee[ne]>>>8),k[U+ne]^=ee[ne]},blockSize:4,ivSize:2});function Y(){for(var k=this._X,U=this._C,W=0;W<8;W++)te[W]=U[W];for(U[0]=U[0]+1295307597+this._b|0,U[1]=U[1]+3545052371+(U[0]>>>0<te[0]>>>0?1:0)|0,U[2]=U[2]+886263092+(U[1]>>>0<te[1]>>>0?1:0)|0,U[3]=U[3]+1295307597+(U[2]>>>0<te[2]>>>0?1:0)|0,U[4]=U[4]+3545052371+(U[3]>>>0<te[3]>>>0?1:0)|0,U[5]=U[5]+886263092+(U[4]>>>0<te[4]>>>0?1:0)|0,U[6]=U[6]+1295307597+(U[5]>>>0<te[5]>>>0?1:0)|0,U[7]=U[7]+3545052371+(U[6]>>>0<te[6]>>>0?1:0)|0,this._b=U[7]>>>0<te[7]>>>0?1:0,W=0;W<8;W++){var ne=k[W]+U[W],le=65535&ne,Ae=ne>>>16;z[W]=((le*le>>>17)+le*Ae>>>15)+Ae*Ae^((4294901760&ne)*ne|0)+((65535&ne)*ne|0)}k[0]=z[0]+(z[7]<<16|z[7]>>>16)+(z[6]<<16|z[6]>>>16)|0,k[1]=z[1]+(z[0]<<8|z[0]>>>24)+z[7]|0,k[2]=z[2]+(z[1]<<16|z[1]>>>16)+(z[0]<<16|z[0]>>>16)|0,k[3]=z[3]+(z[2]<<8|z[2]>>>24)+z[1]|0,k[4]=z[4]+(z[3]<<16|z[3]>>>16)+(z[2]<<16|z[2]>>>16)|0,k[5]=z[5]+(z[4]<<8|z[4]>>>24)+z[3]|0,k[6]=z[6]+(z[5]<<16|z[5]>>>16)+(z[4]<<16|z[4]>>>16)|0,k[7]=z[7]+(z[6]<<8|z[6]>>>24)+z[5]|0}b.Rabbit=O._createHelper(K)}(),l.Rabbit)},486:function(wt,Fe,_){var l;wt.exports=(l=_(7585),_(8319),_(9493),_(7865),_(3057),function(){var b=l,O=b.lib.StreamCipher,de=b.algo,ee=de.RC4=O.extend({_doReset:function(){for(var K=this._key,Y=K.words,k=K.sigBytes,U=this._S=[],W=0;W<256;W++)U[W]=W;W=0;for(var ne=0;W<256;W++){var le=W%k,_e=U[W];U[W]=U[ne=(ne+U[W]+(Y[le>>>2]>>>24-le%4*8&255))%256],U[ne]=_e}this._i=this._j=0},_doProcessBlock:function(K,Y){K[Y]^=te.call(this)},keySize:8,ivSize:0});function te(){for(var K=this._S,Y=this._i,k=this._j,U=0,W=0;W<4;W++){var ne=K[Y=(Y+1)%256];K[Y]=K[k=(k+K[Y])%256],K[k]=ne,U|=K[(K[Y]+K[k])%256]<<24-8*W}return this._i=Y,this._j=k,U}b.RC4=O._createHelper(ee);var z=de.RC4Drop=ee.extend({cfg:ee.cfg.extend({drop:192}),_doReset:function(){ee._doReset.call(this);for(var K=this.cfg.drop;K>0;K--)te.call(this)}});b.RC4Drop=O._createHelper(z)}(),l.RC4)},4973:function(wt,Fe,_){var l;wt.exports=(l=_(7585),function(b){var f=l,O=f.lib,de=O.WordArray,ee=O.Hasher,te=f.algo,z=de.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),K=de.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),Y=de.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),k=de.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),U=de.create([0,1518500249,1859775393,2400959708,2840853838]),W=de.create([1352829926,1548603684,1836072691,2053994217,0]),ne=te.RIPEMD160=ee.extend({_doReset:function(){this._hash=de.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(pe,he){for(var xe=0;xe<16;xe++){var je=he+xe,Pe=pe[je];pe[je]=16711935&(Pe<<8|Pe>>>24)|4278255360&(Pe<<24|Pe>>>8)}var $t,jt,Zt,we,ke,Ne,me,qe,Z,ye,R,Xe=this._hash.words,dt=U.words,Ue=W.words,ct=z.words,Ot=K.words,at=Y.words,fn=k.words;for(Ne=$t=Xe[0],me=jt=Xe[1],qe=Zt=Xe[2],Z=we=Xe[3],ye=ke=Xe[4],xe=0;xe<80;xe+=1)R=$t+pe[he+ct[xe]]|0,R+=xe<16?le(jt,Zt,we)+dt[0]:xe<32?Ae(jt,Zt,we)+dt[1]:xe<48?_e(jt,Zt,we)+dt[2]:xe<64?oe(jt,Zt,we)+dt[3]:fe(jt,Zt,we)+dt[4],R=(R=Me(R|=0,at[xe]))+ke|0,$t=ke,ke=we,we=Me(Zt,10),Zt=jt,jt=R,R=Ne+pe[he+Ot[xe]]|0,R+=xe<16?fe(me,qe,Z)+Ue[0]:xe<32?oe(me,qe,Z)+Ue[1]:xe<48?_e(me,qe,Z)+Ue[2]:xe<64?Ae(me,qe,Z)+Ue[3]:le(me,qe,Z)+Ue[4],R=(R=Me(R|=0,fn[xe]))+ye|0,Ne=ye,ye=Z,Z=Me(qe,10),qe=me,me=R;R=Xe[1]+Zt+Z|0,Xe[1]=Xe[2]+we+ye|0,Xe[2]=Xe[3]+ke+Ne|0,Xe[3]=Xe[4]+$t+me|0,Xe[4]=Xe[0]+jt+qe|0,Xe[0]=R},_doFinalize:function(){var pe=this._data,he=pe.words,xe=8*this._nDataBytes,je=8*pe.sigBytes;he[je>>>5]|=128<<24-je%32,he[14+(je+64>>>9<<4)]=16711935&(xe<<8|xe>>>24)|4278255360&(xe<<24|xe>>>8),pe.sigBytes=4*(he.length+1),this._process();for(var Pe=this._hash,Xe=Pe.words,dt=0;dt<5;dt++){var Ue=Xe[dt];Xe[dt]=16711935&(Ue<<8|Ue>>>24)|4278255360&(Ue<<24|Ue>>>8)}return Pe},clone:function(){var pe=ee.clone.call(this);return pe._hash=this._hash.clone(),pe}});function le(pe,he,xe){return pe^he^xe}function Ae(pe,he,xe){return pe&he|~pe&xe}function _e(pe,he,xe){return(pe|~he)^xe}function oe(pe,he,xe){return pe&xe|he&~xe}function fe(pe,he,xe){return pe^(he|~xe)}function Me(pe,he){return pe<<he|pe>>>32-he}f.RIPEMD160=ee._createHelper(ne),f.HmacRIPEMD160=ee._createHmacHelper(ne)}(Math),l.RIPEMD160)},5162:function(wt,Fe,_){var b,f,O,de,te,z,l;wt.exports=(l=_(7585),O=(f=(b=l).lib).WordArray,te=[],z=b.algo.SHA1=(de=f.Hasher).extend({_doReset:function(){this._hash=new O.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(K,Y){for(var k=this._hash.words,U=k[0],W=k[1],ne=k[2],le=k[3],Ae=k[4],_e=0;_e<80;_e++){if(_e<16)te[_e]=0|K[Y+_e];else{var oe=te[_e-3]^te[_e-8]^te[_e-14]^te[_e-16];te[_e]=oe<<1|oe>>>31}var fe=(U<<5|U>>>27)+Ae+te[_e];fe+=_e<20?1518500249+(W&ne|~W&le):_e<40?1859775393+(W^ne^le):_e<60?(W&ne|W&le|ne&le)-1894007588:(W^ne^le)-899497514,Ae=le,le=ne,ne=W<<30|W>>>2,W=U,U=fe}k[0]=k[0]+U|0,k[1]=k[1]+W|0,k[2]=k[2]+ne|0,k[3]=k[3]+le|0,k[4]=k[4]+Ae|0},_doFinalize:function(){var K=this._data,Y=K.words,k=8*this._nDataBytes,U=8*K.sigBytes;return Y[U>>>5]|=128<<24-U%32,Y[14+(U+64>>>9<<4)]=Math.floor(k/4294967296),Y[15+(U+64>>>9<<4)]=k,K.sigBytes=4*Y.length,this._process(),this._hash},clone:function(){var K=de.clone.call(this);return K._hash=this._hash.clone(),K}}),b.SHA1=de._createHelper(z),b.HmacSHA1=de._createHmacHelper(z),l.SHA1)},8769:function(wt,Fe,_){var b,O,de,ee,te,l;wt.exports=(l=_(7585),_(1817),O=(b=l).lib.WordArray,te=(de=b.algo).SHA224=(ee=de.SHA256).extend({_doReset:function(){this._hash=new O.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var z=ee._doFinalize.call(this);return z.sigBytes-=4,z}}),b.SHA224=ee._createHelper(te),b.HmacSHA224=ee._createHmacHelper(te),l.SHA224)},1817:function(wt,Fe,_){var l;wt.exports=(l=_(7585),function(b){var f=l,O=f.lib,de=O.WordArray,ee=O.Hasher,te=f.algo,z=[],K=[];!function(){function U(Ae){for(var _e=b.sqrt(Ae),oe=2;oe<=_e;oe++)if(!(Ae%oe))return!1;return!0}function W(Ae){return 4294967296*(Ae-(0|Ae))|0}for(var ne=2,le=0;le<64;)U(ne)&&(le<8&&(z[le]=W(b.pow(ne,.5))),K[le]=W(b.pow(ne,1/3)),le++),ne++}();var Y=[],k=te.SHA256=ee.extend({_doReset:function(){this._hash=new de.init(z.slice(0))},_doProcessBlock:function(U,W){for(var ne=this._hash.words,le=ne[0],Ae=ne[1],_e=ne[2],oe=ne[3],fe=ne[4],Me=ne[5],pe=ne[6],he=ne[7],xe=0;xe<64;xe++){if(xe<16)Y[xe]=0|U[W+xe];else{var je=Y[xe-15],Xe=Y[xe-2];Y[xe]=((je<<25|je>>>7)^(je<<14|je>>>18)^je>>>3)+Y[xe-7]+((Xe<<15|Xe>>>17)^(Xe<<13|Xe>>>19)^Xe>>>10)+Y[xe-16]}var ct=le&Ae^le&_e^Ae&_e,fn=he+((fe<<26|fe>>>6)^(fe<<21|fe>>>11)^(fe<<7|fe>>>25))+(fe&Me^~fe&pe)+K[xe]+Y[xe];he=pe,pe=Me,Me=fe,fe=oe+fn|0,oe=_e,_e=Ae,Ae=le,le=fn+(((le<<30|le>>>2)^(le<<19|le>>>13)^(le<<10|le>>>22))+ct)|0}ne[0]=ne[0]+le|0,ne[1]=ne[1]+Ae|0,ne[2]=ne[2]+_e|0,ne[3]=ne[3]+oe|0,ne[4]=ne[4]+fe|0,ne[5]=ne[5]+Me|0,ne[6]=ne[6]+pe|0,ne[7]=ne[7]+he|0},_doFinalize:function(){var U=this._data,W=U.words,ne=8*this._nDataBytes,le=8*U.sigBytes;return W[le>>>5]|=128<<24-le%32,W[14+(le+64>>>9<<4)]=b.floor(ne/4294967296),W[15+(le+64>>>9<<4)]=ne,U.sigBytes=4*W.length,this._process(),this._hash},clone:function(){var U=ee.clone.call(this);return U._hash=this._hash.clone(),U}});f.SHA256=ee._createHelper(k),f.HmacSHA256=ee._createHmacHelper(k)}(Math),l.SHA256)},1971:function(wt,Fe,_){var l;wt.exports=(l=_(7585),_(401),function(b){var f=l,O=f.lib,de=O.WordArray,ee=O.Hasher,z=f.x64.Word,K=f.algo,Y=[],k=[],U=[];!function(){for(var le=1,Ae=0,_e=0;_e<24;_e++){Y[le+5*Ae]=(_e+1)*(_e+2)/2%64;var fe=(2*le+3*Ae)%5;le=Ae%5,Ae=fe}for(le=0;le<5;le++)for(Ae=0;Ae<5;Ae++)k[le+5*Ae]=Ae+(2*le+3*Ae)%5*5;for(var Me=1,pe=0;pe<24;pe++){for(var he=0,xe=0,je=0;je<7;je++){if(1&Me){var Pe=(1<<je)-1;Pe<32?xe^=1<<Pe:he^=1<<Pe-32}128&Me?Me=Me<<1^113:Me<<=1}U[pe]=z.create(he,xe)}}();var W=[];!function(){for(var le=0;le<25;le++)W[le]=z.create()}();var ne=K.SHA3=ee.extend({cfg:ee.cfg.extend({outputLength:512}),_doReset:function(){for(var le=this._state=[],Ae=0;Ae<25;Ae++)le[Ae]=new z.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(le,Ae){for(var _e=this._state,oe=this.blockSize/2,fe=0;fe<oe;fe++){var Me=le[Ae+2*fe],pe=le[Ae+2*fe+1];Me=16711935&(Me<<8|Me>>>24)|4278255360&(Me<<24|Me>>>8),(he=_e[fe]).high^=pe=16711935&(pe<<8|pe>>>24)|4278255360&(pe<<24|pe>>>8),he.low^=Me}for(var xe=0;xe<24;xe++){for(var je=0;je<5;je++){for(var Pe=0,Xe=0,dt=0;dt<5;dt++)Pe^=(he=_e[je+5*dt]).high,Xe^=he.low;var Ue=W[je];Ue.high=Pe,Ue.low=Xe}for(je=0;je<5;je++){var ct=W[(je+4)%5],Ot=W[(je+1)%5],at=Ot.high,fn=Ot.low;for(Pe=ct.high^(at<<1|fn>>>31),Xe=ct.low^(fn<<1|at>>>31),dt=0;dt<5;dt++)(he=_e[je+5*dt]).high^=Pe,he.low^=Xe}for(var $t=1;$t<25;$t++){var jt=(he=_e[$t]).high,Zt=he.low,we=Y[$t];we<32?(Pe=jt<<we|Zt>>>32-we,Xe=Zt<<we|jt>>>32-we):(Pe=Zt<<we-32|jt>>>64-we,Xe=jt<<we-32|Zt>>>64-we);var ke=W[k[$t]];ke.high=Pe,ke.low=Xe}var Ne=W[0],me=_e[0];for(Ne.high=me.high,Ne.low=me.low,je=0;je<5;je++)for(dt=0;dt<5;dt++){var qe=W[$t=je+5*dt],Z=W[(je+1)%5+5*dt],ye=W[(je+2)%5+5*dt];(he=_e[$t]).high=qe.high^~Z.high&ye.high,he.low=qe.low^~Z.low&ye.low}var he,R=U[xe];(he=_e[0]).high^=R.high,he.low^=R.low}},_doFinalize:function(){var le=this._data,Ae=le.words,oe=8*le.sigBytes,fe=32*this.blockSize;Ae[oe>>>5]|=1<<24-oe%32,Ae[(b.ceil((oe+1)/fe)*fe>>>5)-1]|=128,le.sigBytes=4*Ae.length,this._process();for(var Me=this._state,pe=this.cfg.outputLength/8,he=pe/8,xe=[],je=0;je<he;je++){var Pe=Me[je],Xe=Pe.high,dt=Pe.low;Xe=16711935&(Xe<<8|Xe>>>24)|4278255360&(Xe<<24|Xe>>>8),xe.push(dt=16711935&(dt<<8|dt>>>24)|4278255360&(dt<<24|dt>>>8)),xe.push(Xe)}return new de.init(xe,pe)},clone:function(){for(var le=ee.clone.call(this),Ae=le._state=this._state.slice(0),_e=0;_e<25;_e++)Ae[_e]=Ae[_e].clone();return le}});f.SHA3=ee._createHelper(ne),f.HmacSHA3=ee._createHmacHelper(ne)}(Math),l.SHA3)},6787:function(wt,Fe,_){var b,f,O,de,ee,te,z,l;wt.exports=(l=_(7585),_(401),_(3351),O=(f=(b=l).x64).Word,de=f.WordArray,z=(ee=b.algo).SHA384=(te=ee.SHA512).extend({_doReset:function(){this._hash=new de.init([new O.init(3418070365,3238371032),new O.init(1654270250,914150663),new O.init(2438529370,812702999),new O.init(355462360,4144912697),new O.init(1731405415,4290775857),new O.init(2394180231,1750603025),new O.init(3675008525,1694076839),new O.init(1203062813,3204075428)])},_doFinalize:function(){var K=te._doFinalize.call(this);return K.sigBytes-=16,K}}),b.SHA384=te._createHelper(z),b.HmacSHA384=te._createHmacHelper(z),l.SHA384)},3351:function(wt,Fe,_){var l;wt.exports=(l=_(7585),_(401),function(){var b=l,O=b.lib.Hasher,de=b.x64,ee=de.Word,te=de.WordArray,z=b.algo;function K(){return ee.create.apply(ee,arguments)}var Y=[K(1116352408,3609767458),K(1899447441,602891725),K(3049323471,3964484399),K(3921009573,2173295548),K(961987163,4081628472),K(1508970993,3053834265),K(2453635748,2937671579),K(2870763221,3664609560),K(3624381080,2734883394),K(310598401,1164996542),K(607225278,1323610764),K(1426881987,3590304994),K(1925078388,4068182383),K(2162078206,991336113),K(2614888103,633803317),K(3248222580,3479774868),K(3835390401,2666613458),K(4022224774,944711139),K(264347078,2341262773),K(604807628,2007800933),K(770255983,1495990901),K(1249150122,1856431235),K(1555081692,3175218132),K(1996064986,2198950837),K(2554220882,3999719339),K(2821834349,766784016),K(2952996808,2566594879),K(3210313671,3203337956),K(3336571891,1034457026),K(3584528711,2466948901),K(113926993,3758326383),K(338241895,168717936),K(666307205,1188179964),K(773529912,1546045734),K(1294757372,1522805485),K(1396182291,2643833823),K(1695183700,2343527390),K(1986661051,1014477480),K(2177026350,1206759142),K(2456956037,344077627),K(2730485921,1290863460),K(2820302411,3158454273),K(3259730800,3505952657),K(3345764771,106217008),K(3516065817,3606008344),K(3600352804,1432725776),K(4094571909,1467031594),K(275423344,851169720),K(430227734,3100823752),K(506948616,1363258195),K(659060556,3750685593),K(883997877,3785050280),K(958139571,3318307427),K(1322822218,3812723403),K(1537002063,2003034995),K(1747873779,3602036899),K(1955562222,1575990012),K(2024104815,1125592928),K(2227730452,2716904306),K(2361852424,442776044),K(2428436474,593698344),K(2756734187,3733110249),K(3204031479,2999351573),K(3329325298,3815920427),K(3391569614,3928383900),K(3515267271,566280711),K(3940187606,3454069534),K(4118630271,4000239992),K(116418474,1914138554),K(174292421,2731055270),K(289380356,3203993006),K(460393269,320620315),K(685471733,587496836),K(852142971,1086792851),K(1017036298,365543100),K(1126000580,2618297676),K(1288033470,3409855158),K(1501505948,4234509866),K(1607167915,987167468),K(1816402316,1246189591)],k=[];!function(){for(var W=0;W<80;W++)k[W]=K()}();var U=z.SHA512=O.extend({_doReset:function(){this._hash=new te.init([new ee.init(1779033703,4089235720),new ee.init(3144134277,2227873595),new ee.init(1013904242,4271175723),new ee.init(2773480762,1595750129),new ee.init(1359893119,2917565137),new ee.init(2600822924,725511199),new ee.init(528734635,4215389547),new ee.init(1541459225,327033209)])},_doProcessBlock:function(W,ne){for(var le=this._hash.words,Ae=le[0],_e=le[1],oe=le[2],fe=le[3],Me=le[4],pe=le[5],he=le[6],xe=le[7],je=Ae.high,Pe=Ae.low,Xe=_e.high,dt=_e.low,Ue=oe.high,ct=oe.low,Ot=fe.high,at=fe.low,fn=Me.high,$t=Me.low,jt=pe.high,Zt=pe.low,we=he.high,ke=he.low,Ne=xe.high,me=xe.low,qe=je,Z=Pe,ye=Xe,R=dt,Se=Ue,Qe=ct,Tt=Ot,$e=at,Mt=fn,Gt=$t,_n=jt,Bn=Zt,qn=we,Mn=ke,Pn=Ne,Le=me,re=0;re<80;re++){var ge,He,It=k[re];if(re<16)He=It.high=0|W[ne+2*re],ge=It.low=0|W[ne+2*re+1];else{var Pt=k[re-15],Qt=Pt.high,hn=Pt.low,Ye=(hn>>>1|Qt<<31)^(hn>>>8|Qt<<24)^(hn>>>7|Qt<<25),De=k[re-2],rt=De.high,Wt=De.low,mn=(Wt>>>19|rt<<13)^(Wt<<3|rt>>>29)^(Wt>>>6|rt<<26),ai=k[re-7],Qn=k[re-16],nn=Qn.low;It.high=He=(He=(He=((Qt>>>1|hn<<31)^(Qt>>>8|hn<<24)^Qt>>>7)+ai.high+((ge=Ye+ai.low)>>>0<Ye>>>0?1:0))+((rt>>>19|Wt<<13)^(rt<<3|Wt>>>29)^rt>>>6)+((ge+=mn)>>>0<mn>>>0?1:0))+Qn.high+((ge+=nn)>>>0<nn>>>0?1:0),It.low=ge}var Rt,pt=Mt&_n^~Mt&qn,mt=Gt&Bn^~Gt&Mn,nt=qe&ye^qe&Se^ye&Se,an=(Z>>>28|qe<<4)^(Z<<30|qe>>>2)^(Z<<25|qe>>>7),Ze=Y[re],et=Ze.low,ht=Pn+((Mt>>>14|Gt<<18)^(Mt>>>18|Gt<<14)^(Mt<<23|Gt>>>9))+((Rt=Le+((Gt>>>14|Mt<<18)^(Gt>>>18|Mt<<14)^(Gt<<23|Mt>>>9)))>>>0<Le>>>0?1:0),tt=an+(Z&R^Z&Qe^R&Qe);Pn=qn,Le=Mn,qn=_n,Mn=Bn,_n=Mt,Bn=Gt,Mt=Tt+(ht=(ht=(ht=ht+pt+((Rt+=mt)>>>0<mt>>>0?1:0))+Ze.high+((Rt+=et)>>>0<et>>>0?1:0))+He+((Rt+=ge)>>>0<ge>>>0?1:0))+((Gt=$e+Rt|0)>>>0<$e>>>0?1:0)|0,Tt=Se,$e=Qe,Se=ye,Qe=R,ye=qe,R=Z,qe=ht+(((qe>>>28|Z<<4)^(qe<<30|Z>>>2)^(qe<<25|Z>>>7))+nt+(tt>>>0<an>>>0?1:0))+((Z=Rt+tt|0)>>>0<Rt>>>0?1:0)|0}Pe=Ae.low=Pe+Z,Ae.high=je+qe+(Pe>>>0<Z>>>0?1:0),dt=_e.low=dt+R,_e.high=Xe+ye+(dt>>>0<R>>>0?1:0),ct=oe.low=ct+Qe,oe.high=Ue+Se+(ct>>>0<Qe>>>0?1:0),at=fe.low=at+$e,fe.high=Ot+Tt+(at>>>0<$e>>>0?1:0),$t=Me.low=$t+Gt,Me.high=fn+Mt+($t>>>0<Gt>>>0?1:0),Zt=pe.low=Zt+Bn,pe.high=jt+_n+(Zt>>>0<Bn>>>0?1:0),ke=he.low=ke+Mn,he.high=we+qn+(ke>>>0<Mn>>>0?1:0),me=xe.low=me+Le,xe.high=Ne+Pn+(me>>>0<Le>>>0?1:0)},_doFinalize:function(){var W=this._data,ne=W.words,le=8*this._nDataBytes,Ae=8*W.sigBytes;return ne[Ae>>>5]|=128<<24-Ae%32,ne[30+(Ae+128>>>10<<5)]=Math.floor(le/4294967296),ne[31+(Ae+128>>>10<<5)]=le,W.sigBytes=4*ne.length,this._process(),this._hash.toX32()},clone:function(){var W=O.clone.call(this);return W._hash=this._hash.clone(),W},blockSize:32});b.SHA512=O._createHelper(U),b.HmacSHA512=O._createHmacHelper(U)}(),l.SHA512)},7243:function(wt,Fe,_){var l;wt.exports=(l=_(7585),_(8319),_(9493),_(7865),_(3057),function(){var b=l,f=b.lib,O=f.WordArray,de=f.BlockCipher,ee=b.algo,te=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],z=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],K=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],Y=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],k=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],U=ee.DES=de.extend({_doReset:function(){for(var _e=this._key.words,oe=[],fe=0;fe<56;fe++){var Me=te[fe]-1;oe[fe]=_e[Me>>>5]>>>31-Me%32&1}for(var pe=this._subKeys=[],he=0;he<16;he++){var xe=pe[he]=[],je=K[he];for(fe=0;fe<24;fe++)xe[fe/6|0]|=oe[(z[fe]-1+je)%28]<<31-fe%6,xe[4+(fe/6|0)]|=oe[28+(z[fe+24]-1+je)%28]<<31-fe%6;for(xe[0]=xe[0]<<1|xe[0]>>>31,fe=1;fe<7;fe++)xe[fe]=xe[fe]>>>4*(fe-1)+3;xe[7]=xe[7]<<5|xe[7]>>>27}var Pe=this._invSubKeys=[];for(fe=0;fe<16;fe++)Pe[fe]=pe[15-fe]},encryptBlock:function(Ae,_e){this._doCryptBlock(Ae,_e,this._subKeys)},decryptBlock:function(Ae,_e){this._doCryptBlock(Ae,_e,this._invSubKeys)},_doCryptBlock:function(Ae,_e,oe){this._lBlock=Ae[_e],this._rBlock=Ae[_e+1],W.call(this,4,252645135),W.call(this,16,65535),ne.call(this,2,858993459),ne.call(this,8,16711935),W.call(this,1,1431655765);for(var fe=0;fe<16;fe++){for(var Me=oe[fe],pe=this._lBlock,he=this._rBlock,xe=0,je=0;je<8;je++)xe|=Y[je][((he^Me[je])&k[je])>>>0];this._lBlock=he,this._rBlock=pe^xe}var Pe=this._lBlock;this._lBlock=this._rBlock,this._rBlock=Pe,W.call(this,1,1431655765),ne.call(this,8,16711935),ne.call(this,2,858993459),W.call(this,16,65535),W.call(this,4,252645135),Ae[_e]=this._lBlock,Ae[_e+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function W(Ae,_e){var oe=(this._lBlock>>>Ae^this._rBlock)&_e;this._rBlock^=oe,this._lBlock^=oe<<Ae}function ne(Ae,_e){var oe=(this._rBlock>>>Ae^this._lBlock)&_e;this._lBlock^=oe,this._rBlock^=oe<<Ae}b.DES=de._createHelper(U);var le=ee.TripleDES=de.extend({_doReset:function(){var _e=this._key.words;if(2!==_e.length&&4!==_e.length&&_e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var oe=_e.slice(0,2),fe=_e.length<4?_e.slice(0,2):_e.slice(2,4),Me=_e.length<6?_e.slice(0,2):_e.slice(4,6);this._des1=U.createEncryptor(O.create(oe)),this._des2=U.createEncryptor(O.create(fe)),this._des3=U.createEncryptor(O.create(Me))},encryptBlock:function(Ae,_e){this._des1.encryptBlock(Ae,_e),this._des2.decryptBlock(Ae,_e),this._des3.encryptBlock(Ae,_e)},decryptBlock:function(Ae,_e){this._des3.decryptBlock(Ae,_e),this._des2.encryptBlock(Ae,_e),this._des1.decryptBlock(Ae,_e)},keySize:6,ivSize:2,blockSize:2});b.TripleDES=de._createHelper(le)}(),l.TripleDES)},401:function(wt,Fe,_){var O,de,ee,te,l;wt.exports=(l=_(7585),de=(O=l.lib).Base,ee=O.WordArray,(te=l.x64={}).Word=de.extend({init:function(Y,k){this.high=Y,this.low=k}}),te.WordArray=de.extend({init:function(Y,k){Y=this.words=Y||[],this.sigBytes=null!=k?k:8*Y.length},toX32:function(){for(var Y=this.words,k=Y.length,U=[],W=0;W<k;W++){var ne=Y[W];U.push(ne.high),U.push(ne.low)}return ee.create(U,this.sigBytes)},clone:function(){for(var Y=de.clone.call(this),k=Y.words=this.words.slice(0),U=k.length,W=0;W<U;W++)k[W]=k[W].clone();return Y}}),l)},1135:(wt,Fe,_)=>{"use strict";_.d(Fe,{X:()=>b});var l=_(7579);class b extends l.x{constructor(O){super(),this._value=O}get value(){return this.getValue()}_subscribe(O){const de=super._subscribe(O);return!de.closed&&O.next(this._value),de}getValue(){const{hasError:O,thrownError:de,_value:ee}=this;if(O)throw de;return this._throwIfClosed(),ee}next(O){super.next(this._value=O)}}},9751:(wt,Fe,_)=>{"use strict";_.d(Fe,{y:()=>z});var l=_(930),b=_(727),f=_(8822),O=_(9635),de=_(2416),ee=_(576),te=_(2806);let z=(()=>{class U{constructor(ne){ne&&(this._subscribe=ne)}lift(ne){const le=new U;return le.source=this,le.operator=ne,le}subscribe(ne,le,Ae){const _e=function k(U){return U&&U instanceof l.Lv||function Y(U){return U&&(0,ee.m)(U.next)&&(0,ee.m)(U.error)&&(0,ee.m)(U.complete)}(U)&&(0,b.Nn)(U)}(ne)?ne:new l.Hp(ne,le,Ae);return(0,te.x)(()=>{const{operator:oe,source:fe}=this;_e.add(oe?oe.call(_e,fe):fe?this._subscribe(_e):this._trySubscribe(_e))}),_e}_trySubscribe(ne){try{return this._subscribe(ne)}catch(le){ne.error(le)}}forEach(ne,le){return new(le=K(le))((Ae,_e)=>{const oe=new l.Hp({next:fe=>{try{ne(fe)}catch(Me){_e(Me),oe.unsubscribe()}},error:_e,complete:Ae});this.subscribe(oe)})}_subscribe(ne){var le;return null===(le=this.source)||void 0===le?void 0:le.subscribe(ne)}[f.L](){return this}pipe(...ne){return(0,O.U)(ne)(this)}toPromise(ne){return new(ne=K(ne))((le,Ae)=>{let _e;this.subscribe(oe=>_e=oe,oe=>Ae(oe),()=>le(_e))})}}return U.create=W=>new U(W),U})();function K(U){var W;return null!==(W=U??de.v.Promise)&&void 0!==W?W:Promise}},7579:(wt,Fe,_)=>{"use strict";_.d(Fe,{x:()=>te});var l=_(9751),b=_(727);const O=(0,_(3888).d)(K=>function(){K(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=_(8737),ee=_(2806);let te=(()=>{class K extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(k){const U=new z(this,this);return U.operator=k,U}_throwIfClosed(){if(this.closed)throw new O}next(k){(0,ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const U of this.currentObservers)U.next(k)}})}error(k){(0,ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=k;const{observers:U}=this;for(;U.length;)U.shift().error(k)}})}complete(){(0,ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:k}=this;for(;k.length;)k.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var k;return(null===(k=this.observers)||void 0===k?void 0:k.length)>0}_trySubscribe(k){return this._throwIfClosed(),super._trySubscribe(k)}_subscribe(k){return this._throwIfClosed(),this._checkFinalizedStatuses(k),this._innerSubscribe(k)}_innerSubscribe(k){const{hasError:U,isStopped:W,observers:ne}=this;return U||W?b.Lc:(this.currentObservers=null,ne.push(k),new b.w0(()=>{this.currentObservers=null,(0,de.P)(ne,k)}))}_checkFinalizedStatuses(k){const{hasError:U,thrownError:W,isStopped:ne}=this;U?k.error(W):ne&&k.complete()}asObservable(){const k=new l.y;return k.source=this,k}}return K.create=(Y,k)=>new z(Y,k),K})();class z extends te{constructor(Y,k){super(),this.destination=Y,this.source=k}next(Y){var k,U;null===(U=null===(k=this.destination)||void 0===k?void 0:k.next)||void 0===U||U.call(k,Y)}error(Y){var k,U;null===(U=null===(k=this.destination)||void 0===k?void 0:k.error)||void 0===U||U.call(k,Y)}complete(){var Y,k;null===(k=null===(Y=this.destination)||void 0===Y?void 0:Y.complete)||void 0===k||k.call(Y)}_subscribe(Y){var k,U;return null!==(U=null===(k=this.source)||void 0===k?void 0:k.subscribe(Y))&&void 0!==U?U:b.Lc}}},930:(wt,Fe,_)=>{"use strict";_.d(Fe,{Hp:()=>Ae,Lv:()=>U});var l=_(576),b=_(727),f=_(2416),O=_(7849),de=_(5032);const ee=K("C",void 0,void 0);function K(pe,he,xe){return{kind:pe,value:he,error:xe}}var Y=_(3410),k=_(2806);class U extends b.w0{constructor(he){super(),this.isStopped=!1,he?(this.destination=he,(0,b.Nn)(he)&&he.add(this)):this.destination=Me}static create(he,xe,je){return new Ae(he,xe,je)}next(he){this.isStopped?fe(function z(pe){return K("N",pe,void 0)}(he),this):this._next(he)}error(he){this.isStopped?fe(function te(pe){return K("E",void 0,pe)}(he),this):(this.isStopped=!0,this._error(he))}complete(){this.isStopped?fe(ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(he){this.destination.next(he)}_error(he){try{this.destination.error(he)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const W=Function.prototype.bind;function ne(pe,he){return W.call(pe,he)}class le{constructor(he){this.partialObserver=he}next(he){const{partialObserver:xe}=this;if(xe.next)try{xe.next(he)}catch(je){_e(je)}}error(he){const{partialObserver:xe}=this;if(xe.error)try{xe.error(he)}catch(je){_e(je)}else _e(he)}complete(){const{partialObserver:he}=this;if(he.complete)try{he.complete()}catch(xe){_e(xe)}}}class Ae extends U{constructor(he,xe,je){let Pe;if(super(),(0,l.m)(he)||!he)Pe={next:he??void 0,error:xe??void 0,complete:je??void 0};else{let Xe;this&&f.v.useDeprecatedNextContext?(Xe=Object.create(he),Xe.unsubscribe=()=>this.unsubscribe(),Pe={next:he.next&&ne(he.next,Xe),error:he.error&&ne(he.error,Xe),complete:he.complete&&ne(he.complete,Xe)}):Pe=he}this.destination=new le(Pe)}}function _e(pe){f.v.useDeprecatedSynchronousErrorHandling?(0,k.O)(pe):(0,O.h)(pe)}function fe(pe,he){const{onStoppedNotification:xe}=f.v;xe&&Y.z.setTimeout(()=>xe(pe,he))}const Me={closed:!0,next:de.Z,error:function oe(pe){throw pe},complete:de.Z}},727:(wt,Fe,_)=>{"use strict";_.d(Fe,{Lc:()=>ee,w0:()=>de,Nn:()=>te});var l=_(576);const f=(0,_(3888).d)(K=>function(k){K(this),this.message=k?`${k.length} errors occurred during unsubscription:\n${k.map((U,W)=>`${W+1}) ${U.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=k});var O=_(8737);class de{constructor(Y){this.initialTeardown=Y,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Y;if(!this.closed){this.closed=!0;const{_parentage:k}=this;if(k)if(this._parentage=null,Array.isArray(k))for(const ne of k)ne.remove(this);else k.remove(this);const{initialTeardown:U}=this;if((0,l.m)(U))try{U()}catch(ne){Y=ne instanceof f?ne.errors:[ne]}const{_finalizers:W}=this;if(W){this._finalizers=null;for(const ne of W)try{z(ne)}catch(le){Y=Y??[],le instanceof f?Y=[...Y,...le.errors]:Y.push(le)}}if(Y)throw new f(Y)}}add(Y){var k;if(Y&&Y!==this)if(this.closed)z(Y);else{if(Y instanceof de){if(Y.closed||Y._hasParent(this))return;Y._addParent(this)}(this._finalizers=null!==(k=this._finalizers)&&void 0!==k?k:[]).push(Y)}}_hasParent(Y){const{_parentage:k}=this;return k===Y||Array.isArray(k)&&k.includes(Y)}_addParent(Y){const{_parentage:k}=this;this._parentage=Array.isArray(k)?(k.push(Y),k):k?[k,Y]:Y}_removeParent(Y){const{_parentage:k}=this;k===Y?this._parentage=null:Array.isArray(k)&&(0,O.P)(k,Y)}remove(Y){const{_finalizers:k}=this;k&&(0,O.P)(k,Y),Y instanceof de&&Y._removeParent(this)}}de.EMPTY=(()=>{const K=new de;return K.closed=!0,K})();const ee=de.EMPTY;function te(K){return K instanceof de||K&&"closed"in K&&(0,l.m)(K.remove)&&(0,l.m)(K.add)&&(0,l.m)(K.unsubscribe)}function z(K){(0,l.m)(K)?K():K.unsubscribe()}},2416:(wt,Fe,_)=>{"use strict";_.d(Fe,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(wt,Fe,_)=>{"use strict";_.d(Fe,{a:()=>Y});var l=_(9751),b=_(4742),f=_(8996),O=_(4671),de=_(3268),ee=_(3269),te=_(1810),z=_(5403),K=_(9672);function Y(...W){const ne=(0,ee.yG)(W),le=(0,ee.jO)(W),{args:Ae,keys:_e}=(0,b.D)(W);if(0===Ae.length)return(0,f.D)([],ne);const oe=new l.y(function k(W,ne,le=O.y){return Ae=>{U(ne,()=>{const{length:_e}=W,oe=new Array(_e);let fe=_e,Me=_e;for(let pe=0;pe<_e;pe++)U(ne,()=>{const he=(0,f.D)(W[pe],ne);let xe=!1;he.subscribe((0,z.x)(Ae,je=>{oe[pe]=je,xe||(xe=!0,Me--),Me||Ae.next(le(oe.slice()))},()=>{--fe||Ae.complete()}))},Ae)},Ae)}}(Ae,ne,_e?fe=>(0,te.n)(_e,fe):O.y));return le?oe.pipe((0,de.Z)(le)):oe}function U(W,ne,le){W?(0,K.f)(le,W,ne):ne()}},7272:(wt,Fe,_)=>{"use strict";_.d(Fe,{z:()=>de});var l=_(8189),f=_(3269),O=_(8996);function de(...ee){return function b(){return(0,l.J)(1)}()((0,O.D)(ee,(0,f.yG)(ee)))}},515:(wt,Fe,_)=>{"use strict";_.d(Fe,{E:()=>b});const b=new(_(9751).y)(de=>de.complete())},4128:(wt,Fe,_)=>{"use strict";_.d(Fe,{D:()=>z});var l=_(9751),b=_(4742),f=_(8421),O=_(3269),de=_(5403),ee=_(3268),te=_(1810);function z(...K){const Y=(0,O.jO)(K),{args:k,keys:U}=(0,b.D)(K),W=new l.y(ne=>{const{length:le}=k;if(!le)return void ne.complete();const Ae=new Array(le);let _e=le,oe=le;for(let fe=0;fe<le;fe++){let Me=!1;(0,f.Xf)(k[fe]).subscribe((0,de.x)(ne,pe=>{Me||(Me=!0,oe--),Ae[fe]=pe},()=>_e--,void 0,()=>{(!_e||!Me)&&(oe||ne.next(U?(0,te.n)(U,Ae):Ae),ne.complete())}))}});return Y?W.pipe((0,ee.Z)(Y)):W}},8996:(wt,Fe,_)=>{"use strict";_.d(Fe,{D:()=>he});var l=_(8421),b=_(5363),f=_(9468),ee=_(9751),z=_(2202),K=_(576),Y=_(9672);function U(xe,je){if(!xe)throw new Error("Iterable cannot be null");return new ee.y(Pe=>{(0,Y.f)(Pe,je,()=>{const Xe=xe[Symbol.asyncIterator]();(0,Y.f)(Pe,je,()=>{Xe.next().then(dt=>{dt.done?Pe.complete():Pe.next(dt.value)})},0,!0)})})}var W=_(3670),ne=_(8239),le=_(1144),Ae=_(6495),_e=_(2206),oe=_(4532),fe=_(3260);function he(xe,je){return je?function pe(xe,je){if(null!=xe){if((0,W.c)(xe))return function O(xe,je){return(0,l.Xf)(xe).pipe((0,f.R)(je),(0,b.Q)(je))}(xe,je);if((0,le.z)(xe))return function te(xe,je){return new ee.y(Pe=>{let Xe=0;return je.schedule(function(){Xe===xe.length?Pe.complete():(Pe.next(xe[Xe++]),Pe.closed||this.schedule())})})}(xe,je);if((0,ne.t)(xe))return function de(xe,je){return(0,l.Xf)(xe).pipe((0,f.R)(je),(0,b.Q)(je))}(xe,je);if((0,_e.D)(xe))return U(xe,je);if((0,Ae.T)(xe))return function k(xe,je){return new ee.y(Pe=>{let Xe;return(0,Y.f)(Pe,je,()=>{Xe=xe[z.h](),(0,Y.f)(Pe,je,()=>{let dt,Ue;try{({value:dt,done:Ue}=Xe.next())}catch(ct){return void Pe.error(ct)}Ue?Pe.complete():Pe.next(dt)},0,!0)}),()=>(0,K.m)(Xe?.return)&&Xe.return()})}(xe,je);if((0,fe.L)(xe))return function Me(xe,je){return U((0,fe.Q)(xe),je)}(xe,je)}throw(0,oe.z)(xe)}(xe,je):(0,l.Xf)(xe)}},4968:(wt,Fe,_)=>{"use strict";_.d(Fe,{R:()=>Y});var l=_(8421),b=_(9751),f=_(5577),O=_(1144),de=_(576),ee=_(3268);const te=["addListener","removeListener"],z=["addEventListener","removeEventListener"],K=["on","off"];function Y(le,Ae,_e,oe){if((0,de.m)(_e)&&(oe=_e,_e=void 0),oe)return Y(le,Ae,_e).pipe((0,ee.Z)(oe));const[fe,Me]=function ne(le){return(0,de.m)(le.addEventListener)&&(0,de.m)(le.removeEventListener)}(le)?z.map(pe=>he=>le[pe](Ae,he,_e)):function U(le){return(0,de.m)(le.addListener)&&(0,de.m)(le.removeListener)}(le)?te.map(k(le,Ae)):function W(le){return(0,de.m)(le.on)&&(0,de.m)(le.off)}(le)?K.map(k(le,Ae)):[];if(!fe&&(0,O.z)(le))return(0,f.z)(pe=>Y(pe,Ae,_e))((0,l.Xf)(le));if(!fe)throw new TypeError("Invalid event target");return new b.y(pe=>{const he=(...xe)=>pe.next(1<xe.length?xe:xe[0]);return fe(he),()=>Me(he)})}function k(le,Ae){return _e=>oe=>le[_e](Ae,oe)}},8421:(wt,Fe,_)=>{"use strict";_.d(Fe,{Xf:()=>W});var l=_(7582),b=_(1144),f=_(8239),O=_(9751),de=_(3670),ee=_(2206),te=_(4532),z=_(6495),K=_(3260),Y=_(576),k=_(7849),U=_(8822);function W(pe){if(pe instanceof O.y)return pe;if(null!=pe){if((0,de.c)(pe))return function ne(pe){return new O.y(he=>{const xe=pe[U.L]();if((0,Y.m)(xe.subscribe))return xe.subscribe(he);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(pe);if((0,b.z)(pe))return function le(pe){return new O.y(he=>{for(let xe=0;xe<pe.length&&!he.closed;xe++)he.next(pe[xe]);he.complete()})}(pe);if((0,f.t)(pe))return function Ae(pe){return new O.y(he=>{pe.then(xe=>{he.closed||(he.next(xe),he.complete())},xe=>he.error(xe)).then(null,k.h)})}(pe);if((0,ee.D)(pe))return oe(pe);if((0,z.T)(pe))return function _e(pe){return new O.y(he=>{for(const xe of pe)if(he.next(xe),he.closed)return;he.complete()})}(pe);if((0,K.L)(pe))return function fe(pe){return oe((0,K.Q)(pe))}(pe)}throw(0,te.z)(pe)}function oe(pe){return new O.y(he=>{(function Me(pe,he){var xe,je,Pe,Xe;return(0,l.mG)(this,void 0,void 0,function*(){try{for(xe=(0,l.KL)(pe);!(je=yield xe.next()).done;)if(he.next(je.value),he.closed)return}catch(dt){Pe={error:dt}}finally{try{je&&!je.done&&(Xe=xe.return)&&(yield Xe.call(xe))}finally{if(Pe)throw Pe.error}}he.complete()})})(pe,he).catch(xe=>he.error(xe))})}},6451:(wt,Fe,_)=>{"use strict";_.d(Fe,{T:()=>ee});var l=_(8189),b=_(8421),f=_(515),O=_(3269),de=_(8996);function ee(...te){const z=(0,O.yG)(te),K=(0,O._6)(te,1/0),Y=te;return Y.length?1===Y.length?(0,b.Xf)(Y[0]):(0,l.J)(K)((0,de.D)(Y,z)):f.E}},9646:(wt,Fe,_)=>{"use strict";_.d(Fe,{of:()=>f});var l=_(3269),b=_(8996);function f(...O){const de=(0,l.yG)(O);return(0,b.D)(O,de)}},2843:(wt,Fe,_)=>{"use strict";_.d(Fe,{_:()=>f});var l=_(9751),b=_(576);function f(O,de){const ee=(0,b.m)(O)?O:()=>O,te=z=>z.error(ee());return new l.y(de?z=>de.schedule(te,0,z):te)}},2805:(wt,Fe,_)=>{"use strict";_.d(Fe,{H:()=>de});var l=_(9751),b=_(4986),f=_(3532),O=_(1165);function de(ee=0,te,z=b.P){let K=-1;return null!=te&&((0,f.K)(te)?z=te:K=te),new l.y(Y=>{let k=(0,O.q)(ee)?+ee-z.now():ee;k<0&&(k=0);let U=0;return z.schedule(function(){Y.closed||(Y.next(U++),0<=K?this.schedule(void 0,K):Y.complete())},k)})}},5403:(wt,Fe,_)=>{"use strict";_.d(Fe,{x:()=>b});var l=_(930);function b(O,de,ee,te,z){return new f(O,de,ee,te,z)}class f extends l.Lv{constructor(de,ee,te,z,K,Y){super(de),this.onFinalize=K,this.shouldUnsubscribe=Y,this._next=ee?function(k){try{ee(k)}catch(U){de.error(U)}}:super._next,this._error=z?function(k){try{z(k)}catch(U){de.error(U)}finally{this.unsubscribe()}}:super._error,this._complete=te?function(){try{te()}catch(k){de.error(k)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ee}=this;super.unsubscribe(),!ee&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},262:(wt,Fe,_)=>{"use strict";_.d(Fe,{K:()=>O});var l=_(8421),b=_(5403),f=_(4482);function O(de){return(0,f.e)((ee,te)=>{let Y,z=null,K=!1;z=ee.subscribe((0,b.x)(te,void 0,void 0,k=>{Y=(0,l.Xf)(de(k,O(de)(ee))),z?(z.unsubscribe(),z=null,Y.subscribe(te)):K=!0})),K&&(z.unsubscribe(),z=null,Y.subscribe(te))})}},4351:(wt,Fe,_)=>{"use strict";_.d(Fe,{b:()=>f});var l=_(5577),b=_(576);function f(O,de){return(0,b.m)(de)?(0,l.z)(O,de,1):(0,l.z)(O,1)}},8372:(wt,Fe,_)=>{"use strict";_.d(Fe,{b:()=>O});var l=_(4986),b=_(4482),f=_(5403);function O(de,ee=l.z){return(0,b.e)((te,z)=>{let K=null,Y=null,k=null;const U=()=>{if(K){K.unsubscribe(),K=null;const ne=Y;Y=null,z.next(ne)}};function W(){const ne=k+de,le=ee.now();if(le<ne)return K=this.schedule(void 0,ne-le),void z.add(K);U()}te.subscribe((0,f.x)(z,ne=>{Y=ne,k=ee.now(),K||(K=ee.schedule(W,de),z.add(K))},()=>{U(),z.complete()},void 0,()=>{Y=K=null}))})}},6590:(wt,Fe,_)=>{"use strict";_.d(Fe,{d:()=>f});var l=_(4482),b=_(5403);function f(O){return(0,l.e)((de,ee)=>{let te=!1;de.subscribe((0,b.x)(ee,z=>{te=!0,ee.next(z)},()=>{te||ee.next(O),ee.complete()}))})}},1884:(wt,Fe,_)=>{"use strict";_.d(Fe,{x:()=>O});var l=_(4671),b=_(4482),f=_(5403);function O(ee,te=l.y){return ee=ee??de,(0,b.e)((z,K)=>{let Y,k=!0;z.subscribe((0,f.x)(K,U=>{const W=te(U);(k||!ee(Y,W))&&(k=!1,Y=W,K.next(U))}))})}function de(ee,te){return ee===te}},9300:(wt,Fe,_)=>{"use strict";_.d(Fe,{h:()=>f});var l=_(4482),b=_(5403);function f(O,de){return(0,l.e)((ee,te)=>{let z=0;ee.subscribe((0,b.x)(te,K=>O.call(de,K,z++)&&te.next(K)))})}},8746:(wt,Fe,_)=>{"use strict";_.d(Fe,{x:()=>b});var l=_(4482);function b(f){return(0,l.e)((O,de)=>{try{O.subscribe(de)}finally{de.add(f)}})}},590:(wt,Fe,_)=>{"use strict";_.d(Fe,{P:()=>te});var l=_(6805),b=_(9300),f=_(5698),O=_(6590),de=_(8068),ee=_(4671);function te(z,K){const Y=arguments.length>=2;return k=>k.pipe(z?(0,b.h)((U,W)=>z(U,W,k)):ee.y,(0,f.q)(1),Y?(0,O.d)(K):(0,de.T)(()=>new l.K))}},4004:(wt,Fe,_)=>{"use strict";_.d(Fe,{U:()=>f});var l=_(4482),b=_(5403);function f(O,de){return(0,l.e)((ee,te)=>{let z=0;ee.subscribe((0,b.x)(te,K=>{te.next(O.call(de,K,z++))}))})}},9718:(wt,Fe,_)=>{"use strict";_.d(Fe,{h:()=>b});var l=_(4004);function b(f){return(0,l.U)(()=>f)}},8189:(wt,Fe,_)=>{"use strict";_.d(Fe,{J:()=>f});var l=_(5577),b=_(4671);function f(O=1/0){return(0,l.z)(b.y,O)}},5577:(wt,Fe,_)=>{"use strict";_.d(Fe,{z:()=>z});var l=_(4004),b=_(8421),f=_(4482),O=_(9672),de=_(5403),te=_(576);function z(K,Y,k=1/0){return(0,te.m)(Y)?z((U,W)=>(0,l.U)((ne,le)=>Y(U,ne,W,le))((0,b.Xf)(K(U,W))),k):("number"==typeof Y&&(k=Y),(0,f.e)((U,W)=>function ee(K,Y,k,U,W,ne,le,Ae){const _e=[];let oe=0,fe=0,Me=!1;const pe=()=>{Me&&!_e.length&&!oe&&Y.complete()},he=je=>oe<U?xe(je):_e.push(je),xe=je=>{ne&&Y.next(je),oe++;let Pe=!1;(0,b.Xf)(k(je,fe++)).subscribe((0,de.x)(Y,Xe=>{W?.(Xe),ne?he(Xe):Y.next(Xe)},()=>{Pe=!0},void 0,()=>{if(Pe)try{for(oe--;_e.length&&oe<U;){const Xe=_e.shift();le?(0,O.f)(Y,le,()=>xe(Xe)):xe(Xe)}pe()}catch(Xe){Y.error(Xe)}}))};return K.subscribe((0,de.x)(Y,he,()=>{Me=!0,pe()})),()=>{Ae?.()}}(U,W,K,k)))}},5363:(wt,Fe,_)=>{"use strict";_.d(Fe,{Q:()=>O});var l=_(9672),b=_(4482),f=_(5403);function O(de,ee=0){return(0,b.e)((te,z)=>{te.subscribe((0,f.x)(z,K=>(0,l.f)(z,de,()=>z.next(K),ee),()=>(0,l.f)(z,de,()=>z.complete(),ee),K=>(0,l.f)(z,de,()=>z.error(K),ee)))})}},5026:(wt,Fe,_)=>{"use strict";_.d(Fe,{R:()=>O});var l=_(4482),b=_(5403);function O(de,ee){return(0,l.e)(function f(de,ee,te,z,K){return(Y,k)=>{let U=te,W=ee,ne=0;Y.subscribe((0,b.x)(k,le=>{const Ae=ne++;W=U?de(W,le,Ae):(U=!0,le),z&&k.next(W)},K&&(()=>{U&&k.next(W),k.complete()})))}}(de,ee,arguments.length>=2,!0))}},3099:(wt,Fe,_)=>{"use strict";_.d(Fe,{B:()=>de});var l=_(8421),b=_(7579),f=_(930),O=_(4482);function de(te={}){const{connector:z=(()=>new b.x),resetOnError:K=!0,resetOnComplete:Y=!0,resetOnRefCountZero:k=!0}=te;return U=>{let W,ne,le,Ae=0,_e=!1,oe=!1;const fe=()=>{ne?.unsubscribe(),ne=void 0},Me=()=>{fe(),W=le=void 0,_e=oe=!1},pe=()=>{const he=W;Me(),he?.unsubscribe()};return(0,O.e)((he,xe)=>{Ae++,!oe&&!_e&&fe();const je=le=le??z();xe.add(()=>{Ae--,0===Ae&&!oe&&!_e&&(ne=ee(pe,k))}),je.subscribe(xe),!W&&Ae>0&&(W=new f.Hp({next:Pe=>je.next(Pe),error:Pe=>{oe=!0,fe(),ne=ee(Me,K,Pe),je.error(Pe)},complete:()=>{_e=!0,fe(),ne=ee(Me,Y),je.complete()}}),(0,l.Xf)(he).subscribe(W))})(U)}}function ee(te,z,...K){if(!0===z)return void te();if(!1===z)return;const Y=new f.Hp({next:()=>{Y.unsubscribe(),te()}});return(0,l.Xf)(z(...K)).subscribe(Y)}},8675:(wt,Fe,_)=>{"use strict";_.d(Fe,{O:()=>O});var l=_(7272),b=_(3269),f=_(4482);function O(...de){const ee=(0,b.yG)(de);return(0,f.e)((te,z)=>{(ee?(0,l.z)(de,te,ee):(0,l.z)(de,te)).subscribe(z)})}},9468:(wt,Fe,_)=>{"use strict";_.d(Fe,{R:()=>b});var l=_(4482);function b(f,O=0){return(0,l.e)((de,ee)=>{ee.add(f.schedule(()=>de.subscribe(ee),O))})}},3900:(wt,Fe,_)=>{"use strict";_.d(Fe,{w:()=>O});var l=_(8421),b=_(4482),f=_(5403);function O(de,ee){return(0,b.e)((te,z)=>{let K=null,Y=0,k=!1;const U=()=>k&&!K&&z.complete();te.subscribe((0,f.x)(z,W=>{K?.unsubscribe();let ne=0;const le=Y++;(0,l.Xf)(de(W,le)).subscribe(K=(0,f.x)(z,Ae=>z.next(ee?ee(W,Ae,le,ne++):Ae),()=>{K=null,U()}))},()=>{k=!0,U()}))})}},5698:(wt,Fe,_)=>{"use strict";_.d(Fe,{q:()=>O});var l=_(515),b=_(4482),f=_(5403);function O(de){return de<=0?()=>l.E:(0,b.e)((ee,te)=>{let z=0;ee.subscribe((0,f.x)(te,K=>{++z<=de&&(te.next(K),de<=z&&te.complete())}))})}},2722:(wt,Fe,_)=>{"use strict";_.d(Fe,{R:()=>de});var l=_(4482),b=_(5403),f=_(8421),O=_(5032);function de(ee){return(0,l.e)((te,z)=>{(0,f.Xf)(ee).subscribe((0,b.x)(z,()=>z.complete(),O.Z)),!z.closed&&te.subscribe(z)})}},8505:(wt,Fe,_)=>{"use strict";_.d(Fe,{b:()=>de});var l=_(576),b=_(4482),f=_(5403),O=_(4671);function de(ee,te,z){const K=(0,l.m)(ee)||te||z?{next:ee,error:te,complete:z}:ee;return K?(0,b.e)((Y,k)=>{var U;null===(U=K.subscribe)||void 0===U||U.call(K);let W=!0;Y.subscribe((0,f.x)(k,ne=>{var le;null===(le=K.next)||void 0===le||le.call(K,ne),k.next(ne)},()=>{var ne;W=!1,null===(ne=K.complete)||void 0===ne||ne.call(K),k.complete()},ne=>{var le;W=!1,null===(le=K.error)||void 0===le||le.call(K,ne),k.error(ne)},()=>{var ne,le;W&&(null===(ne=K.unsubscribe)||void 0===ne||ne.call(K)),null===(le=K.finalize)||void 0===le||le.call(K)}))}):O.y}},8068:(wt,Fe,_)=>{"use strict";_.d(Fe,{T:()=>O});var l=_(6805),b=_(4482),f=_(5403);function O(ee=de){return(0,b.e)((te,z)=>{let K=!1;te.subscribe((0,f.x)(z,Y=>{K=!0,z.next(Y)},()=>K?z.complete():z.error(ee())))})}function de(){return new l.K}},4408:(wt,Fe,_)=>{"use strict";_.d(Fe,{o:()=>de});var l=_(727);class b extends l.w0{constructor(te,z){super()}schedule(te,z=0){return this}}const f={setInterval(ee,te,...z){const{delegate:K}=f;return K?.setInterval?K.setInterval(ee,te,...z):setInterval(ee,te,...z)},clearInterval(ee){const{delegate:te}=f;return(te?.clearInterval||clearInterval)(ee)},delegate:void 0};var O=_(8737);class de extends b{constructor(te,z){super(te,z),this.scheduler=te,this.work=z,this.pending=!1}schedule(te,z=0){var K;if(this.closed)return this;this.state=te;const Y=this.id,k=this.scheduler;return null!=Y&&(this.id=this.recycleAsyncId(k,Y,z)),this.pending=!0,this.delay=z,this.id=null!==(K=this.id)&&void 0!==K?K:this.requestAsyncId(k,this.id,z),this}requestAsyncId(te,z,K=0){return f.setInterval(te.flush.bind(te,this),K)}recycleAsyncId(te,z,K=0){if(null!=K&&this.delay===K&&!1===this.pending)return z;null!=z&&f.clearInterval(z)}execute(te,z){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const K=this._execute(te,z);if(K)return K;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(te,z){let Y,K=!1;try{this.work(te)}catch(k){K=!0,Y=k||new Error("Scheduled action threw falsy error")}if(K)return this.unsubscribe(),Y}unsubscribe(){if(!this.closed){const{id:te,scheduler:z}=this,{actions:K}=z;this.work=this.state=this.scheduler=null,this.pending=!1,(0,O.P)(K,this),null!=te&&(this.id=this.recycleAsyncId(z,te,null)),this.delay=null,super.unsubscribe()}}}},7565:(wt,Fe,_)=>{"use strict";_.d(Fe,{v:()=>f});var l=_(6063);class b{constructor(de,ee=b.now){this.schedulerActionCtor=de,this.now=ee}schedule(de,ee=0,te){return new this.schedulerActionCtor(this,de).schedule(te,ee)}}b.now=l.l.now;class f extends b{constructor(de,ee=b.now){super(de,ee),this.actions=[],this._active=!1}flush(de){const{actions:ee}=this;if(this._active)return void ee.push(de);let te;this._active=!0;do{if(te=de.execute(de.state,de.delay))break}while(de=ee.shift());if(this._active=!1,te){for(;de=ee.shift();)de.unsubscribe();throw te}}}},4986:(wt,Fe,_)=>{"use strict";_.d(Fe,{P:()=>O,z:()=>f});var l=_(4408);const f=new(_(7565).v)(l.o),O=f},6063:(wt,Fe,_)=>{"use strict";_.d(Fe,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(wt,Fe,_)=>{"use strict";_.d(Fe,{z:()=>l});const l={setTimeout(b,f,...O){const{delegate:de}=l;return de?.setTimeout?de.setTimeout(b,f,...O):setTimeout(b,f,...O)},clearTimeout(b){const{delegate:f}=l;return(f?.clearTimeout||clearTimeout)(b)},delegate:void 0}},2202:(wt,Fe,_)=>{"use strict";_.d(Fe,{h:()=>b});const b=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(wt,Fe,_)=>{"use strict";_.d(Fe,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(wt,Fe,_)=>{"use strict";_.d(Fe,{K:()=>b});const b=(0,_(3888).d)(f=>function(){f(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(wt,Fe,_)=>{"use strict";_.d(Fe,{_6:()=>ee,jO:()=>O,yG:()=>de});var l=_(576),b=_(3532);function f(te){return te[te.length-1]}function O(te){return(0,l.m)(f(te))?te.pop():void 0}function de(te){return(0,b.K)(f(te))?te.pop():void 0}function ee(te,z){return"number"==typeof f(te)?te.pop():z}},4742:(wt,Fe,_)=>{"use strict";_.d(Fe,{D:()=>de});const{isArray:l}=Array,{getPrototypeOf:b,prototype:f,keys:O}=Object;function de(te){if(1===te.length){const z=te[0];if(l(z))return{args:z,keys:null};if(function ee(te){return te&&"object"==typeof te&&b(te)===f}(z)){const K=O(z);return{args:K.map(Y=>z[Y]),keys:K}}}return{args:te,keys:null}}},8737:(wt,Fe,_)=>{"use strict";function l(b,f){if(b){const O=b.indexOf(f);0<=O&&b.splice(O,1)}}_.d(Fe,{P:()=>l})},3888:(wt,Fe,_)=>{"use strict";function l(b){const O=b(de=>{Error.call(de),de.stack=(new Error).stack});return O.prototype=Object.create(Error.prototype),O.prototype.constructor=O,O}_.d(Fe,{d:()=>l})},1810:(wt,Fe,_)=>{"use strict";function l(b,f){return b.reduce((O,de,ee)=>(O[de]=f[ee],O),{})}_.d(Fe,{n:()=>l})},2806:(wt,Fe,_)=>{"use strict";_.d(Fe,{O:()=>O,x:()=>f});var l=_(2416);let b=null;function f(de){if(l.v.useDeprecatedSynchronousErrorHandling){const ee=!b;if(ee&&(b={errorThrown:!1,error:null}),de(),ee){const{errorThrown:te,error:z}=b;if(b=null,te)throw z}}else de()}function O(de){l.v.useDeprecatedSynchronousErrorHandling&&b&&(b.errorThrown=!0,b.error=de)}},9672:(wt,Fe,_)=>{"use strict";function l(b,f,O,de=0,ee=!1){const te=f.schedule(function(){O(),ee?b.add(this.schedule(null,de)):this.unsubscribe()},de);if(b.add(te),!ee)return te}_.d(Fe,{f:()=>l})},4671:(wt,Fe,_)=>{"use strict";function l(b){return b}_.d(Fe,{y:()=>l})},1144:(wt,Fe,_)=>{"use strict";_.d(Fe,{z:()=>l});const l=b=>b&&"number"==typeof b.length&&"function"!=typeof b},2206:(wt,Fe,_)=>{"use strict";_.d(Fe,{D:()=>b});var l=_(576);function b(f){return Symbol.asyncIterator&&(0,l.m)(f?.[Symbol.asyncIterator])}},1165:(wt,Fe,_)=>{"use strict";function l(b){return b instanceof Date&&!isNaN(b)}_.d(Fe,{q:()=>l})},576:(wt,Fe,_)=>{"use strict";function l(b){return"function"==typeof b}_.d(Fe,{m:()=>l})},3670:(wt,Fe,_)=>{"use strict";_.d(Fe,{c:()=>f});var l=_(8822),b=_(576);function f(O){return(0,b.m)(O[l.L])}},6495:(wt,Fe,_)=>{"use strict";_.d(Fe,{T:()=>f});var l=_(2202),b=_(576);function f(O){return(0,b.m)(O?.[l.h])}},8239:(wt,Fe,_)=>{"use strict";_.d(Fe,{t:()=>b});var l=_(576);function b(f){return(0,l.m)(f?.then)}},3260:(wt,Fe,_)=>{"use strict";_.d(Fe,{L:()=>O,Q:()=>f});var l=_(7582),b=_(576);function f(de){return(0,l.FC)(this,arguments,function*(){const te=de.getReader();try{for(;;){const{value:z,done:K}=yield(0,l.qq)(te.read());if(K)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(z)}}finally{te.releaseLock()}})}function O(de){return(0,b.m)(de?.getReader)}},3532:(wt,Fe,_)=>{"use strict";_.d(Fe,{K:()=>b});var l=_(576);function b(f){return f&&(0,l.m)(f.schedule)}},4482:(wt,Fe,_)=>{"use strict";_.d(Fe,{A:()=>b,e:()=>f});var l=_(576);function b(O){return(0,l.m)(O?.lift)}function f(O){return de=>{if(b(de))return de.lift(function(ee){try{return O(ee,this)}catch(te){this.error(te)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(wt,Fe,_)=>{"use strict";_.d(Fe,{Z:()=>O});var l=_(4004);const{isArray:b}=Array;function O(de){return(0,l.U)(ee=>function f(de,ee){return b(ee)?de(...ee):de(ee)}(de,ee))}},5032:(wt,Fe,_)=>{"use strict";function l(){}_.d(Fe,{Z:()=>l})},9635:(wt,Fe,_)=>{"use strict";_.d(Fe,{U:()=>f,z:()=>b});var l=_(4671);function b(...O){return f(O)}function f(O){return 0===O.length?l.y:1===O.length?O[0]:function(ee){return O.reduce((te,z)=>z(te),ee)}}},7849:(wt,Fe,_)=>{"use strict";_.d(Fe,{h:()=>f});var l=_(2416),b=_(3410);function f(O){b.z.setTimeout(()=>{const{onUnhandledError:de}=l.v;if(!de)throw O;de(O)})}},4532:(wt,Fe,_)=>{"use strict";function l(b){return new TypeError(`You provided ${null!==b&&"object"==typeof b?"an invalid object":`'${b}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}_.d(Fe,{z:()=>l})},2480:()=>{},7340:(wt,Fe,_)=>{"use strict";_.d(Fe,{LC:()=>b,SB:()=>K,X$:()=>O,ZE:()=>fe,ZN:()=>oe,_j:()=>l,eR:()=>k,jt:()=>de,k1:()=>Me,l3:()=>f,oB:()=>z,vP:()=>te});class l{}class b{}const f="*";function O(pe,he){return{type:7,name:pe,definitions:he,options:{}}}function de(pe,he=null){return{type:4,styles:he,timings:pe}}function te(pe,he=null){return{type:2,steps:pe,options:he}}function z(pe){return{type:6,styles:pe,offset:null}}function K(pe,he,xe){return{type:0,name:pe,styles:he,options:xe}}function k(pe,he,xe=null){return{type:1,expr:pe,animation:he,options:xe}}function _e(pe){Promise.resolve().then(pe)}class oe{constructor(he=0,xe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=he+xe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(he=>he()),this._onDoneFns=[])}onStart(he){this._originalOnStartFns.push(he),this._onStartFns.push(he)}onDone(he){this._originalOnDoneFns.push(he),this._onDoneFns.push(he)}onDestroy(he){this._onDestroyFns.push(he)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){_e(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(he=>he()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(he=>he()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(he){this._position=this.totalTime?he*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(he){const xe="start"==he?this._onStartFns:this._onDoneFns;xe.forEach(je=>je()),xe.length=0}}class fe{constructor(he){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=he;let xe=0,je=0,Pe=0;const Xe=this.players.length;0==Xe?_e(()=>this._onFinish()):this.players.forEach(dt=>{dt.onDone(()=>{++xe==Xe&&this._onFinish()}),dt.onDestroy(()=>{++je==Xe&&this._onDestroy()}),dt.onStart(()=>{++Pe==Xe&&this._onStart()})}),this.totalTime=this.players.reduce((dt,Ue)=>Math.max(dt,Ue.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(he=>he()),this._onDoneFns=[])}init(){this.players.forEach(he=>he.init())}onStart(he){this._onStartFns.push(he)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(he=>he()),this._onStartFns=[])}onDone(he){this._onDoneFns.push(he)}onDestroy(he){this._onDestroyFns.push(he)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(he=>he.play())}pause(){this.players.forEach(he=>he.pause())}restart(){this.players.forEach(he=>he.restart())}finish(){this._onFinish(),this.players.forEach(he=>he.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(he=>he.destroy()),this._onDestroyFns.forEach(he=>he()),this._onDestroyFns=[])}reset(){this.players.forEach(he=>he.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(he){const xe=he*this.totalTime;this.players.forEach(je=>{const Pe=je.totalTime?Math.min(1,xe/je.totalTime):1;je.setPosition(Pe)})}getPosition(){const he=this.players.reduce((xe,je)=>null===xe||je.totalTime>xe.totalTime?je:xe,null);return null!=he?he.getPosition():0}beforeDestroy(){this.players.forEach(he=>{he.beforeDestroy&&he.beforeDestroy()})}triggerCallback(he){const xe="start"==he?this._onStartFns:this._onDoneFns;xe.forEach(je=>je()),xe.length=0}}const Me="!"},7253:(wt,Fe,_)=>{"use strict";_.d(Fe,{rt:()=>tt,Em:()=>Qe,tE:()=>Ln,qV:()=>Qt,qm:()=>ht,ic:()=>$e,X6:()=>sn,yG:()=>mn});var l=_(6895),b=_(4650),f=_(3353),O=_(7579),de=_(727),ee=_(1135),te=_(9646),z=_(9521),K=_(8505),Y=_(8372),k=_(9300),U=_(4004),W=_(5698);function ne(X){return(0,k.h)((L,T)=>X<=T)}var le=_(1884),Ae=_(2722),_e=_(1281),oe=_(9643),fe=_(9841),Me=_(7272),pe=_(9751),he=_(8675);const je=new Set;let Pe,Xe=(()=>{class X{constructor(T){this._platform=T,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Ue}matchMedia(T){return(this._platform.WEBKIT||this._platform.BLINK)&&function dt(X){if(!je.has(X))try{Pe||(Pe=document.createElement("style"),Pe.setAttribute("type","text/css"),document.head.appendChild(Pe)),Pe.sheet&&(Pe.sheet.insertRule(`@media ${X} {body{ }}`,0),je.add(X))}catch(L){console.error(L)}}(T),this._matchMedia(T)}}return X.\u0275fac=function(T){return new(T||X)(b.LFG(f.t4))},X.\u0275prov=b.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})();function Ue(X){return{matches:"all"===X||""===X,media:X,addListener:()=>{},removeListener:()=>{}}}let ct=(()=>{class X{constructor(T,j){this._mediaMatcher=T,this._zone=j,this._queries=new Map,this._destroySubject=new O.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(T){return Ot((0,_e.Eq)(T)).some(Ee=>this._registerQuery(Ee).mql.matches)}observe(T){const Ee=Ot((0,_e.Eq)(T)).map(st=>this._registerQuery(st).observable);let Oe=(0,fe.a)(Ee);return Oe=(0,Me.z)(Oe.pipe((0,W.q)(1)),Oe.pipe(ne(1),(0,Y.b)(0))),Oe.pipe((0,U.U)(st=>{const _t={matches:!1,breakpoints:{}};return st.forEach(({matches:en,query:bn})=>{_t.matches=_t.matches||en,_t.breakpoints[bn]=en}),_t}))}_registerQuery(T){if(this._queries.has(T))return this._queries.get(T);const j=this._mediaMatcher.matchMedia(T),Oe={observable:new pe.y(st=>{const _t=en=>this._zone.run(()=>st.next(en));return j.addListener(_t),()=>{j.removeListener(_t)}}).pipe((0,he.O)(j),(0,U.U)(({matches:st})=>({query:T,matches:st})),(0,Ae.R)(this._destroySubject)),mql:j};return this._queries.set(T,Oe),Oe}}return X.\u0275fac=function(T){return new(T||X)(b.LFG(Xe),b.LFG(b.R0b))},X.\u0275prov=b.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})();function Ot(X){return X.map(L=>L.split(",")).reduce((L,T)=>L.concat(T)).map(L=>L.trim())}class R{constructor(L){this._items=L,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new O.x,this._typeaheadSubscription=de.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=T=>T.disabled,this._pressedLetters=[],this.tabOut=new O.x,this.change=new O.x,L instanceof b.n_E&&(this._itemChangesSubscription=L.changes.subscribe(T=>{if(this._activeItem){const Ee=T.toArray().indexOf(this._activeItem);Ee>-1&&Ee!==this._activeItemIndex&&(this._activeItemIndex=Ee)}}))}skipPredicate(L){return this._skipPredicateFn=L,this}withWrap(L=!0){return this._wrap=L,this}withVerticalOrientation(L=!0){return this._vertical=L,this}withHorizontalOrientation(L){return this._horizontal=L,this}withAllowedModifierKeys(L){return this._allowedModifierKeys=L,this}withTypeAhead(L=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,K.b)(T=>this._pressedLetters.push(T)),(0,Y.b)(L),(0,k.h)(()=>this._pressedLetters.length>0),(0,U.U)(()=>this._pressedLetters.join(""))).subscribe(T=>{const j=this._getItemsArray();for(let Ee=1;Ee<j.length+1;Ee++){const Oe=(this._activeItemIndex+Ee)%j.length,st=j[Oe];if(!this._skipPredicateFn(st)&&0===st.getLabel().toUpperCase().trim().indexOf(T)){this.setActiveItem(Oe);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(L=!0){return this._homeAndEnd=L,this}withPageUpDown(L=!0,T=10){return this._pageUpAndDown={enabled:L,delta:T},this}setActiveItem(L){const T=this._activeItem;this.updateActiveItem(L),this._activeItem!==T&&this.change.next(this._activeItemIndex)}onKeydown(L){const T=L.keyCode,Ee=["altKey","ctrlKey","metaKey","shiftKey"].every(Oe=>!L[Oe]||this._allowedModifierKeys.indexOf(Oe)>-1);switch(T){case z.Mf:return void this.tabOut.next();case z.JH:if(this._vertical&&Ee){this.setNextItemActive();break}return;case z.LH:if(this._vertical&&Ee){this.setPreviousItemActive();break}return;case z.SV:if(this._horizontal&&Ee){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case z.oh:if(this._horizontal&&Ee){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case z.Sd:if(this._homeAndEnd&&Ee){this.setFirstItemActive();break}return;case z.uR:if(this._homeAndEnd&&Ee){this.setLastItemActive();break}return;case z.Ku:if(this._pageUpAndDown.enabled&&Ee){const Oe=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(Oe>0?Oe:0,1);break}return;case z.VM:if(this._pageUpAndDown.enabled&&Ee){const Oe=this._activeItemIndex+this._pageUpAndDown.delta,st=this._getItemsArray().length;this._setActiveItemByIndex(Oe<st?Oe:st-1,-1);break}return;default:return void((Ee||(0,z.Vb)(L,"shiftKey"))&&(L.key&&1===L.key.length?this._letterKeyStream.next(L.key.toLocaleUpperCase()):(T>=z.A&&T<=z.Z||T>=z.xE&&T<=z.aO)&&this._letterKeyStream.next(String.fromCharCode(T))))}this._pressedLetters=[],L.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(L){const T=this._getItemsArray(),j="number"==typeof L?L:T.indexOf(L);this._activeItem=T[j]??null,this._activeItemIndex=j}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(L){this._wrap?this._setActiveInWrapMode(L):this._setActiveInDefaultMode(L)}_setActiveInWrapMode(L){const T=this._getItemsArray();for(let j=1;j<=T.length;j++){const Ee=(this._activeItemIndex+L*j+T.length)%T.length;if(!this._skipPredicateFn(T[Ee]))return void this.setActiveItem(Ee)}}_setActiveInDefaultMode(L){this._setActiveItemByIndex(this._activeItemIndex+L,L)}_setActiveItemByIndex(L,T){const j=this._getItemsArray();if(j[L]){for(;this._skipPredicateFn(j[L]);)if(!j[L+=T])return;this.setActiveItem(L)}}_getItemsArray(){return this._items instanceof b.n_E?this._items.toArray():this._items}}class Qe extends R{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(L){return this._origin=L,this}setActiveItem(L){super.setActiveItem(L),this.activeItem&&this.activeItem.focus(this._origin)}}let $e=(()=>{class X{constructor(T){this._platform=T}isDisabled(T){return T.hasAttribute("disabled")}isVisible(T){return function Gt(X){return!!(X.offsetWidth||X.offsetHeight||"function"==typeof X.getClientRects&&X.getClientRects().length)}(T)&&"visible"===getComputedStyle(T).visibility}isTabbable(T){if(!this._platform.isBrowser)return!1;const j=function Mt(X){try{return X.frameElement}catch{return null}}(function It(X){return X.ownerDocument&&X.ownerDocument.defaultView||window}(T));if(j&&(-1===re(j)||!this.isVisible(j)))return!1;let Ee=T.nodeName.toLowerCase(),Oe=re(T);return T.hasAttribute("contenteditable")?-1!==Oe:!("iframe"===Ee||"object"===Ee||this._platform.WEBKIT&&this._platform.IOS&&!function ge(X){let L=X.nodeName.toLowerCase(),T="input"===L&&X.type;return"text"===T||"password"===T||"select"===L||"textarea"===L}(T))&&("audio"===Ee?!!T.hasAttribute("controls")&&-1!==Oe:"video"===Ee?-1!==Oe&&(null!==Oe||this._platform.FIREFOX||T.hasAttribute("controls")):T.tabIndex>=0)}isFocusable(T,j){return function He(X){return!function Bn(X){return function Mn(X){return"input"==X.nodeName.toLowerCase()}(X)&&"hidden"==X.type}(X)&&(function _n(X){let L=X.nodeName.toLowerCase();return"input"===L||"select"===L||"button"===L||"textarea"===L}(X)||function qn(X){return function Pn(X){return"a"==X.nodeName.toLowerCase()}(X)&&X.hasAttribute("href")}(X)||X.hasAttribute("contenteditable")||Le(X))}(T)&&!this.isDisabled(T)&&(j?.ignoreVisibility||this.isVisible(T))}}return X.\u0275fac=function(T){return new(T||X)(b.LFG(f.t4))},X.\u0275prov=b.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})();function Le(X){if(!X.hasAttribute("tabindex")||void 0===X.tabIndex)return!1;let L=X.getAttribute("tabindex");return!(!L||isNaN(parseInt(L,10)))}function re(X){if(!Le(X))return null;const L=parseInt(X.getAttribute("tabindex")||"",10);return isNaN(L)?-1:L}class Pt{get enabled(){return this._enabled}set enabled(L){this._enabled=L,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(L,this._startAnchor),this._toggleAnchorTabIndex(L,this._endAnchor))}constructor(L,T,j,Ee,Oe=!1){this._element=L,this._checker=T,this._ngZone=j,this._document=Ee,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Oe||this.attachAnchors()}destroy(){const L=this._startAnchor,T=this._endAnchor;L&&(L.removeEventListener("focus",this.startAnchorListener),L.remove()),T&&(T.removeEventListener("focus",this.endAnchorListener),T.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(L){return new Promise(T=>{this._executeOnStable(()=>T(this.focusInitialElement(L)))})}focusFirstTabbableElementWhenReady(L){return new Promise(T=>{this._executeOnStable(()=>T(this.focusFirstTabbableElement(L)))})}focusLastTabbableElementWhenReady(L){return new Promise(T=>{this._executeOnStable(()=>T(this.focusLastTabbableElement(L)))})}_getRegionBoundary(L){const T=this._element.querySelectorAll(`[cdk-focus-region-${L}], [cdkFocusRegion${L}], [cdk-focus-${L}]`);return"start"==L?T.length?T[0]:this._getFirstTabbableElement(this._element):T.length?T[T.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(L){const T=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(T){if(!this._checker.isFocusable(T)){const j=this._getFirstTabbableElement(T);return j?.focus(L),!!j}return T.focus(L),!0}return this.focusFirstTabbableElement(L)}focusFirstTabbableElement(L){const T=this._getRegionBoundary("start");return T&&T.focus(L),!!T}focusLastTabbableElement(L){const T=this._getRegionBoundary("end");return T&&T.focus(L),!!T}hasAttached(){return this._hasAttached}_getFirstTabbableElement(L){if(this._checker.isFocusable(L)&&this._checker.isTabbable(L))return L;const T=L.children;for(let j=0;j<T.length;j++){const Ee=T[j].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(T[j]):null;if(Ee)return Ee}return null}_getLastTabbableElement(L){if(this._checker.isFocusable(L)&&this._checker.isTabbable(L))return L;const T=L.children;for(let j=T.length-1;j>=0;j--){const Ee=T[j].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(T[j]):null;if(Ee)return Ee}return null}_createAnchor(){const L=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,L),L.classList.add("cdk-visually-hidden"),L.classList.add("cdk-focus-trap-anchor"),L.setAttribute("aria-hidden","true"),L}_toggleAnchorTabIndex(L,T){L?T.setAttribute("tabindex","0"):T.removeAttribute("tabindex")}toggleAnchors(L){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(L,this._startAnchor),this._toggleAnchorTabIndex(L,this._endAnchor))}_executeOnStable(L){this._ngZone.isStable?L():this._ngZone.onStable.pipe((0,W.q)(1)).subscribe(L)}}let Qt=(()=>{class X{constructor(T,j,Ee){this._checker=T,this._ngZone=j,this._document=Ee}create(T,j=!1){return new Pt(T,this._checker,this._ngZone,this._document,j)}}return X.\u0275fac=function(T){return new(T||X)(b.LFG($e),b.LFG(b.R0b),b.LFG(l.K0))},X.\u0275prov=b.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})();function sn(X){return 0===X.buttons||0===X.offsetX&&0===X.offsetY}function mn(X){const L=X.touches&&X.touches[0]||X.changedTouches&&X.changedTouches[0];return!(!L||-1!==L.identifier||null!=L.radiusX&&1!==L.radiusX||null!=L.radiusY&&1!==L.radiusY)}const ai=new b.OlP("cdk-input-modality-detector-options"),zn={ignoreKeys:[z.zL,z.jx,z.b2,z.MW,z.JU]},Qn=(0,f.i$)({passive:!0,capture:!0});let Ti=(()=>{class X{get mostRecentModality(){return this._modality.value}constructor(T,j,Ee,Oe){this._platform=T,this._mostRecentTarget=null,this._modality=new ee.X(null),this._lastTouchMs=0,this._onKeydown=st=>{this._options?.ignoreKeys?.some(_t=>_t===st.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,f.sA)(st))},this._onMousedown=st=>{Date.now()-this._lastTouchMs<650||(this._modality.next(sn(st)?"keyboard":"mouse"),this._mostRecentTarget=(0,f.sA)(st))},this._onTouchstart=st=>{mn(st)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,f.sA)(st))},this._options={...zn,...Oe},this.modalityDetected=this._modality.pipe(ne(1)),this.modalityChanged=this.modalityDetected.pipe((0,le.x)()),T.isBrowser&&j.runOutsideAngular(()=>{Ee.addEventListener("keydown",this._onKeydown,Qn),Ee.addEventListener("mousedown",this._onMousedown,Qn),Ee.addEventListener("touchstart",this._onTouchstart,Qn)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Qn),document.removeEventListener("mousedown",this._onMousedown,Qn),document.removeEventListener("touchstart",this._onTouchstart,Qn))}}return X.\u0275fac=function(T){return new(T||X)(b.LFG(f.t4),b.LFG(b.R0b),b.LFG(l.K0),b.LFG(ai,8))},X.\u0275prov=b.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})();const an=new b.OlP("cdk-focus-monitor-default-options"),Jt=(0,f.i$)({passive:!0,capture:!0});let Ln=(()=>{class X{constructor(T,j,Ee,Oe,st){this._ngZone=T,this._platform=j,this._inputModalityDetector=Ee,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new O.x,this._rootNodeFocusAndBlurListener=_t=>{for(let bn=(0,f.sA)(_t);bn;bn=bn.parentElement)"focus"===_t.type?this._onFocus(_t,bn):this._onBlur(_t,bn)},this._document=Oe,this._detectionMode=st?.detectionMode||0}monitor(T,j=!1){const Ee=(0,_e.fI)(T);if(!this._platform.isBrowser||1!==Ee.nodeType)return(0,te.of)(null);const Oe=(0,f.kV)(Ee)||this._getDocument(),st=this._elementInfo.get(Ee);if(st)return j&&(st.checkChildren=!0),st.subject;const _t={checkChildren:j,subject:new O.x,rootNode:Oe};return this._elementInfo.set(Ee,_t),this._registerGlobalListeners(_t),_t.subject}stopMonitoring(T){const j=(0,_e.fI)(T),Ee=this._elementInfo.get(j);Ee&&(Ee.subject.complete(),this._setClasses(j),this._elementInfo.delete(j),this._removeGlobalListeners(Ee))}focusVia(T,j,Ee){const Oe=(0,_e.fI)(T);Oe===this._getDocument().activeElement?this._getClosestElementsInfo(Oe).forEach(([_t,en])=>this._originChanged(_t,j,en)):(this._setOrigin(j),"function"==typeof Oe.focus&&Oe.focus(Ee))}ngOnDestroy(){this._elementInfo.forEach((T,j)=>this.stopMonitoring(j))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(T){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(T)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:T&&this._isLastInteractionFromInputLabel(T)?"mouse":"program"}_shouldBeAttributedToTouch(T){return 1===this._detectionMode||!!T?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(T,j){T.classList.toggle("cdk-focused",!!j),T.classList.toggle("cdk-touch-focused","touch"===j),T.classList.toggle("cdk-keyboard-focused","keyboard"===j),T.classList.toggle("cdk-mouse-focused","mouse"===j),T.classList.toggle("cdk-program-focused","program"===j)}_setOrigin(T,j=!1){this._ngZone.runOutsideAngular(()=>{this._origin=T,this._originFromTouchInteraction="touch"===T&&j,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(T,j){const Ee=this._elementInfo.get(j),Oe=(0,f.sA)(T);!Ee||!Ee.checkChildren&&j!==Oe||this._originChanged(j,this._getFocusOrigin(Oe),Ee)}_onBlur(T,j){const Ee=this._elementInfo.get(j);!Ee||Ee.checkChildren&&T.relatedTarget instanceof Node&&j.contains(T.relatedTarget)||(this._setClasses(j),this._emitOrigin(Ee,null))}_emitOrigin(T,j){T.subject.observers.length&&this._ngZone.run(()=>T.subject.next(j))}_registerGlobalListeners(T){if(!this._platform.isBrowser)return;const j=T.rootNode,Ee=this._rootNodeFocusListenerCount.get(j)||0;Ee||this._ngZone.runOutsideAngular(()=>{j.addEventListener("focus",this._rootNodeFocusAndBlurListener,Jt),j.addEventListener("blur",this._rootNodeFocusAndBlurListener,Jt)}),this._rootNodeFocusListenerCount.set(j,Ee+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,Ae.R)(this._stopInputModalityDetector)).subscribe(Oe=>{this._setOrigin(Oe,!0)}))}_removeGlobalListeners(T){const j=T.rootNode;if(this._rootNodeFocusListenerCount.has(j)){const Ee=this._rootNodeFocusListenerCount.get(j);Ee>1?this._rootNodeFocusListenerCount.set(j,Ee-1):(j.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Jt),j.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Jt),this._rootNodeFocusListenerCount.delete(j))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(T,j,Ee){this._setClasses(T,j),this._emitOrigin(Ee,j),this._lastFocusOrigin=j}_getClosestElementsInfo(T){const j=[];return this._elementInfo.forEach((Ee,Oe)=>{(Oe===T||Ee.checkChildren&&Oe.contains(T))&&j.push([Oe,Ee])}),j}_isLastInteractionFromInputLabel(T){const{_mostRecentTarget:j,mostRecentModality:Ee}=this._inputModalityDetector;if("mouse"!==Ee||!j||j===T||"INPUT"!==T.nodeName&&"TEXTAREA"!==T.nodeName||T.disabled)return!1;const Oe=T.labels;if(Oe)for(let st=0;st<Oe.length;st++)if(Oe[st].contains(j))return!0;return!1}}return X.\u0275fac=function(T){return new(T||X)(b.LFG(b.R0b),b.LFG(f.t4),b.LFG(Ti),b.LFG(l.K0,8),b.LFG(an,8))},X.\u0275prov=b.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})();const Ve="cdk-high-contrast-black-on-white",et="cdk-high-contrast-white-on-black",Rt="cdk-high-contrast-active";let ht=(()=>{class X{constructor(T,j){this._platform=T,this._document=j,this._breakpointSubscription=(0,b.f3M)(ct).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const T=this._document.createElement("div");T.style.backgroundColor="rgb(1,2,3)",T.style.position="absolute",this._document.body.appendChild(T);const j=this._document.defaultView||window,Ee=j&&j.getComputedStyle?j.getComputedStyle(T):null,Oe=(Ee&&Ee.backgroundColor||"").replace(/ /g,"");switch(T.remove(),Oe){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const T=this._document.body.classList;T.remove(Rt,Ve,et),this._hasCheckedHighContrastMode=!0;const j=this.getHighContrastMode();1===j?T.add(Rt,Ve):2===j&&T.add(Rt,et)}}}return X.\u0275fac=function(T){return new(T||X)(b.LFG(f.t4),b.LFG(l.K0))},X.\u0275prov=b.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})(),tt=(()=>{class X{constructor(T){T._applyBodyHighContrastModeCssClasses()}}return X.\u0275fac=function(T){return new(T||X)(b.LFG(ht))},X.\u0275mod=b.oAB({type:X}),X.\u0275inj=b.cJS({imports:[oe.Q8]}),X})()},445:(wt,Fe,_)=>{"use strict";_.d(Fe,{Is:()=>te,vT:()=>K});var l=_(4650),b=_(6895);const f=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function O(){return(0,l.f3M)(b.K0)}}),de=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let te=(()=>{class Y{constructor(U){this.value="ltr",this.change=new l.vpe,U&&(this.value=function ee(Y){const k=Y?.toLowerCase()||"";return"auto"===k&&typeof navigator<"u"&&navigator?.language?de.test(navigator.language)?"rtl":"ltr":"rtl"===k?"rtl":"ltr"}((U.body?U.body.dir:null)||(U.documentElement?U.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return Y.\u0275fac=function(U){return new(U||Y)(l.LFG(f,8))},Y.\u0275prov=l.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y})(),K=(()=>{class Y{}return Y.\u0275fac=function(U){return new(U||Y)},Y.\u0275mod=l.oAB({type:Y}),Y.\u0275inj=l.cJS({}),Y})()},1281:(wt,Fe,_)=>{"use strict";_.d(Fe,{Eq:()=>de,HM:()=>ee,Ig:()=>b,fI:()=>te,su:()=>f});var l=_(4650);function b(K){return null!=K&&"false"!=`${K}`}function f(K,Y=0){return function O(K){return!isNaN(parseFloat(K))&&!isNaN(Number(K))}(K)?Number(K):Y}function de(K){return Array.isArray(K)?K:[K]}function ee(K){return null==K?"":"string"==typeof K?K:`${K}px`}function te(K){return K instanceof l.SBq?K.nativeElement:K}},9521:(wt,Fe,_)=>{"use strict";_.d(Fe,{A:()=>me,JH:()=>Me,JU:()=>ee,K5:()=>de,Ku:()=>W,LH:()=>oe,L_:()=>U,MW:()=>De,Mf:()=>f,SV:()=>fe,Sd:()=>Ae,VM:()=>ne,Vb:()=>cr,Z:()=>Ye,aO:()=>jt,b2:()=>Vi,hY:()=>k,jx:()=>te,oh:()=>_e,uR:()=>le,xE:()=>Pe,zL:()=>z});const f=9,de=13,ee=16,te=17,z=18,k=27,U=32,W=33,ne=34,le=35,Ae=36,_e=37,oe=38,fe=39,Me=40,Pe=48,jt=57,me=65,Ye=90,De=91,Vi=224;function cr(ui,..._r){return _r.length?_r.some(Io=>ui[Io]):ui.altKey||ui.shiftKey||ui.ctrlKey||ui.metaKey}},9643:(wt,Fe,_)=>{"use strict";_.d(Fe,{Q8:()=>de});var l=_(4650);let b=(()=>{class ee{create(z){return typeof MutationObserver>"u"?null:new MutationObserver(z)}}return ee.\u0275fac=function(z){return new(z||ee)},ee.\u0275prov=l.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"root"}),ee})(),de=(()=>{class ee{}return ee.\u0275fac=function(z){return new(z||ee)},ee.\u0275mod=l.oAB({type:ee}),ee.\u0275inj=l.cJS({providers:[b]}),ee})()},8184:(wt,Fe,_)=>{"use strict";_.d(Fe,{U8:()=>Mn,aV:()=>Tt});var l=_(8605),b=_(6895),f=_(4650),O=_(1281),de=_(3353),ee=_(9300),te=_(5698),z=_(2722),K=_(445),Y=_(4080),k=_(7579),U=_(727),W=_(6451);const ne=(0,de.Mq)();class le{constructor(re,ge){this._viewportRuler=re,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=ge}attach(){}enable(){if(this._canBeEnabled()){const re=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=re.style.left||"",this._previousHTMLStyles.top=re.style.top||"",re.style.left=(0,O.HM)(-this._previousScrollPosition.left),re.style.top=(0,O.HM)(-this._previousScrollPosition.top),re.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const re=this._document.documentElement,He=re.style,It=this._document.body.style,Pt=He.scrollBehavior||"",Qt=It.scrollBehavior||"";this._isEnabled=!1,He.left=this._previousHTMLStyles.left,He.top=this._previousHTMLStyles.top,re.classList.remove("cdk-global-scrollblock"),ne&&(He.scrollBehavior=It.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ne&&(He.scrollBehavior=Pt,It.scrollBehavior=Qt)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const ge=this._document.body,He=this._viewportRuler.getViewportSize();return ge.scrollHeight>He.height||ge.scrollWidth>He.width}}class _e{constructor(re,ge,He,It){this._scrollDispatcher=re,this._ngZone=ge,this._viewportRuler=He,this._config=It,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(re){this._overlayRef=re}enable(){if(this._scrollSubscription)return;const re=this._scrollDispatcher.scrolled(0).pipe((0,ee.h)(ge=>!ge||!this._overlayRef.overlayElement.contains(ge.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=re.subscribe(()=>{const ge=this._viewportRuler.getViewportScrollPosition().top;Math.abs(ge-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=re.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class oe{enable(){}disable(){}attach(){}}function fe(Le,re){return re.some(ge=>Le.bottom<ge.top||Le.top>ge.bottom||Le.right<ge.left||Le.left>ge.right)}function Me(Le,re){return re.some(ge=>Le.top<ge.top||Le.bottom>ge.bottom||Le.left<ge.left||Le.right>ge.right)}class pe{constructor(re,ge,He,It){this._scrollDispatcher=re,this._viewportRuler=ge,this._ngZone=He,this._config=It,this._scrollSubscription=null}attach(re){this._overlayRef=re}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const ge=this._overlayRef.overlayElement.getBoundingClientRect(),{width:He,height:It}=this._viewportRuler.getViewportSize();fe(ge,[{width:He,height:It,bottom:It,right:He,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let he=(()=>{class Le{constructor(ge,He,It,Pt){this._scrollDispatcher=ge,this._viewportRuler=He,this._ngZone=It,this.noop=()=>new oe,this.close=Qt=>new _e(this._scrollDispatcher,this._ngZone,this._viewportRuler,Qt),this.block=()=>new le(this._viewportRuler,this._document),this.reposition=Qt=>new pe(this._scrollDispatcher,this._viewportRuler,this._ngZone,Qt),this._document=Pt}}return Le.\u0275fac=function(ge){return new(ge||Le)(f.LFG(l.mF),f.LFG(l.rL),f.LFG(f.R0b),f.LFG(b.K0))},Le.\u0275prov=f.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})();class xe{constructor(re){if(this.scrollStrategy=new oe,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,re){const ge=Object.keys(re);for(const He of ge)void 0!==re[He]&&(this[He]=re[He])}}}class Xe{constructor(re,ge){this.connectionPair=re,this.scrollableViewProperties=ge}}let ct=(()=>{class Le{constructor(ge){this._attachedOverlays=[],this._document=ge}ngOnDestroy(){this.detach()}add(ge){this.remove(ge),this._attachedOverlays.push(ge)}remove(ge){const He=this._attachedOverlays.indexOf(ge);He>-1&&this._attachedOverlays.splice(He,1),0===this._attachedOverlays.length&&this.detach()}}return Le.\u0275fac=function(ge){return new(ge||Le)(f.LFG(b.K0))},Le.\u0275prov=f.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})(),Ot=(()=>{class Le extends ct{constructor(ge,He){super(ge),this._ngZone=He,this._keydownListener=It=>{const Pt=this._attachedOverlays;for(let Qt=Pt.length-1;Qt>-1;Qt--)if(Pt[Qt]._keydownEvents.observers.length>0){const hn=Pt[Qt]._keydownEvents;this._ngZone?this._ngZone.run(()=>hn.next(It)):hn.next(It);break}}}add(ge){super.add(ge),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return Le.\u0275fac=function(ge){return new(ge||Le)(f.LFG(b.K0),f.LFG(f.R0b,8))},Le.\u0275prov=f.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})(),at=(()=>{class Le extends ct{constructor(ge,He,It){super(ge),this._platform=He,this._ngZone=It,this._cursorStyleIsSet=!1,this._pointerDownListener=Pt=>{this._pointerDownEventTarget=(0,de.sA)(Pt)},this._clickListener=Pt=>{const Qt=(0,de.sA)(Pt),hn="click"===Pt.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Qt;this._pointerDownEventTarget=null;const ut=this._attachedOverlays.slice();for(let Ye=ut.length-1;Ye>-1;Ye--){const De=ut[Ye];if(De._outsidePointerEvents.observers.length<1||!De.hasAttached())continue;if(De.overlayElement.contains(Qt)||De.overlayElement.contains(hn))break;const rt=De._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>rt.next(Pt)):rt.next(Pt)}}}add(ge){if(super.add(ge),!this._isAttached){const He=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(He)):this._addEventListeners(He),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=He.style.cursor,He.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const ge=this._document.body;ge.removeEventListener("pointerdown",this._pointerDownListener,!0),ge.removeEventListener("click",this._clickListener,!0),ge.removeEventListener("auxclick",this._clickListener,!0),ge.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(ge.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(ge){ge.addEventListener("pointerdown",this._pointerDownListener,!0),ge.addEventListener("click",this._clickListener,!0),ge.addEventListener("auxclick",this._clickListener,!0),ge.addEventListener("contextmenu",this._clickListener,!0)}}return Le.\u0275fac=function(ge){return new(ge||Le)(f.LFG(b.K0),f.LFG(de.t4),f.LFG(f.R0b,8))},Le.\u0275prov=f.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})(),fn=(()=>{class Le{constructor(ge,He){this._platform=He,this._document=ge}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const ge="cdk-overlay-container";if(this._platform.isBrowser||(0,de.Oy)()){const It=this._document.querySelectorAll(`.${ge}[platform="server"], .${ge}[platform="test"]`);for(let Pt=0;Pt<It.length;Pt++)It[Pt].remove()}const He=this._document.createElement("div");He.classList.add(ge),(0,de.Oy)()?He.setAttribute("platform","test"):this._platform.isBrowser||He.setAttribute("platform","server"),this._document.body.appendChild(He),this._containerElement=He}}return Le.\u0275fac=function(ge){return new(ge||Le)(f.LFG(b.K0),f.LFG(de.t4))},Le.\u0275prov=f.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})();class $t{constructor(re,ge,He,It,Pt,Qt,hn,ut,Ye,De=!1){this._portalOutlet=re,this._host=ge,this._pane=He,this._config=It,this._ngZone=Pt,this._keyboardDispatcher=Qt,this._document=hn,this._location=ut,this._outsideClickDispatcher=Ye,this._animationsDisabled=De,this._backdropElement=null,this._backdropClick=new k.x,this._attachments=new k.x,this._detachments=new k.x,this._locationChanges=U.w0.EMPTY,this._backdropClickHandler=rt=>this._backdropClick.next(rt),this._backdropTransitionendHandler=rt=>{this._disposeBackdrop(rt.target)},this._keydownEvents=new k.x,this._outsidePointerEvents=new k.x,It.scrollStrategy&&(this._scrollStrategy=It.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=It.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(re){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const ge=this._portalOutlet.attach(re);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,te.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof ge?.onDestroy&&ge.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),ge}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const re=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),re}dispose(){const re=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,re&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(re){re!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=re,this.hasAttached()&&(re.attach(this),this.updatePosition()))}updateSize(re){this._config={...this._config,...re},this._updateElementSize()}setDirection(re){this._config={...this._config,direction:re},this._updateElementDirection()}addPanelClass(re){this._pane&&this._toggleClasses(this._pane,re,!0)}removePanelClass(re){this._pane&&this._toggleClasses(this._pane,re,!1)}getDirection(){const re=this._config.direction;return re?"string"==typeof re?re:re.value:"ltr"}updateScrollStrategy(re){re!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=re,this.hasAttached()&&(re.attach(this),re.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const re=this._pane.style;re.width=(0,O.HM)(this._config.width),re.height=(0,O.HM)(this._config.height),re.minWidth=(0,O.HM)(this._config.minWidth),re.minHeight=(0,O.HM)(this._config.minHeight),re.maxWidth=(0,O.HM)(this._config.maxWidth),re.maxHeight=(0,O.HM)(this._config.maxHeight)}_togglePointerEvents(re){this._pane.style.pointerEvents=re?"":"none"}_attachBackdrop(){const re="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(re)})}):this._backdropElement.classList.add(re)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const re=this._backdropElement;if(re){if(this._animationsDisabled)return void this._disposeBackdrop(re);re.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{re.addEventListener("transitionend",this._backdropTransitionendHandler)}),re.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(re)},500))}}_toggleClasses(re,ge,He){const It=(0,O.Eq)(ge||[]).filter(Pt=>!!Pt);It.length&&(He?re.classList.add(...It):re.classList.remove(...It))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const re=this._ngZone.onStable.pipe((0,z.R)((0,W.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),re.unsubscribe())})})}_disposeScrollStrategy(){const re=this._scrollStrategy;re&&(re.disable(),re.detach&&re.detach())}_disposeBackdrop(re){re&&(re.removeEventListener("click",this._backdropClickHandler),re.removeEventListener("transitionend",this._backdropTransitionendHandler),re.remove(),this._backdropElement===re&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const jt="cdk-overlay-connected-position-bounding-box",Zt=/([A-Za-z%]+)$/;class we{get positions(){return this._preferredPositions}constructor(re,ge,He,It,Pt){this._viewportRuler=ge,this._document=He,this._platform=It,this._overlayContainer=Pt,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new k.x,this._resizeSubscription=U.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(re)}attach(re){this._validatePositions(),re.hostElement.classList.add(jt),this._overlayRef=re,this._boundingBox=re.hostElement,this._pane=re.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const re=this._originRect,ge=this._overlayRect,He=this._viewportRect,It=this._containerRect,Pt=[];let Qt;for(let hn of this._preferredPositions){let ut=this._getOriginPoint(re,It,hn),Ye=this._getOverlayPoint(ut,ge,hn),De=this._getOverlayFit(Ye,ge,He,hn);if(De.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(hn,ut);this._canFitWithFlexibleDimensions(De,Ye,He)?Pt.push({position:hn,origin:ut,overlayRect:ge,boundingBoxRect:this._calculateBoundingBoxRect(ut,hn)}):(!Qt||Qt.overlayFit.visibleArea<De.visibleArea)&&(Qt={overlayFit:De,overlayPoint:Ye,originPoint:ut,position:hn,overlayRect:ge})}if(Pt.length){let hn=null,ut=-1;for(const Ye of Pt){const De=Ye.boundingBoxRect.width*Ye.boundingBoxRect.height*(Ye.position.weight||1);De>ut&&(ut=De,hn=Ye)}return this._isPushed=!1,void this._applyPosition(hn.position,hn.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Qt.position,Qt.originPoint);this._applyPosition(Qt.position,Qt.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ke(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(jt),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const re=this._lastPosition;if(re){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ge=this._getOriginPoint(this._originRect,this._containerRect,re);this._applyPosition(re,ge)}else this.apply()}withScrollableContainers(re){return this._scrollables=re,this}withPositions(re){return this._preferredPositions=re,-1===re.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(re){return this._viewportMargin=re,this}withFlexibleDimensions(re=!0){return this._hasFlexibleDimensions=re,this}withGrowAfterOpen(re=!0){return this._growAfterOpen=re,this}withPush(re=!0){return this._canPush=re,this}withLockedPosition(re=!0){return this._positionLocked=re,this}setOrigin(re){return this._origin=re,this}withDefaultOffsetX(re){return this._offsetX=re,this}withDefaultOffsetY(re){return this._offsetY=re,this}withTransformOriginOn(re){return this._transformOriginSelector=re,this}_getOriginPoint(re,ge,He){let It,Pt;if("center"==He.originX)It=re.left+re.width/2;else{const Qt=this._isRtl()?re.right:re.left,hn=this._isRtl()?re.left:re.right;It="start"==He.originX?Qt:hn}return ge.left<0&&(It-=ge.left),Pt="center"==He.originY?re.top+re.height/2:"top"==He.originY?re.top:re.bottom,ge.top<0&&(Pt-=ge.top),{x:It,y:Pt}}_getOverlayPoint(re,ge,He){let It,Pt;return It="center"==He.overlayX?-ge.width/2:"start"===He.overlayX?this._isRtl()?-ge.width:0:this._isRtl()?0:-ge.width,Pt="center"==He.overlayY?-ge.height/2:"top"==He.overlayY?0:-ge.height,{x:re.x+It,y:re.y+Pt}}_getOverlayFit(re,ge,He,It){const Pt=me(ge);let{x:Qt,y:hn}=re,ut=this._getOffset(It,"x"),Ye=this._getOffset(It,"y");ut&&(Qt+=ut),Ye&&(hn+=Ye);let Wt=0-hn,sn=hn+Pt.height-He.height,mn=this._subtractOverflows(Pt.width,0-Qt,Qt+Pt.width-He.width),ai=this._subtractOverflows(Pt.height,Wt,sn),zn=mn*ai;return{visibleArea:zn,isCompletelyWithinViewport:Pt.width*Pt.height===zn,fitsInViewportVertically:ai===Pt.height,fitsInViewportHorizontally:mn==Pt.width}}_canFitWithFlexibleDimensions(re,ge,He){if(this._hasFlexibleDimensions){const It=He.bottom-ge.y,Pt=He.right-ge.x,Qt=Ne(this._overlayRef.getConfig().minHeight),hn=Ne(this._overlayRef.getConfig().minWidth);return(re.fitsInViewportVertically||null!=Qt&&Qt<=It)&&(re.fitsInViewportHorizontally||null!=hn&&hn<=Pt)}return!1}_pushOverlayOnScreen(re,ge,He){if(this._previousPushAmount&&this._positionLocked)return{x:re.x+this._previousPushAmount.x,y:re.y+this._previousPushAmount.y};const It=me(ge),Pt=this._viewportRect,Qt=Math.max(re.x+It.width-Pt.width,0),hn=Math.max(re.y+It.height-Pt.height,0),ut=Math.max(Pt.top-He.top-re.y,0),Ye=Math.max(Pt.left-He.left-re.x,0);let De=0,rt=0;return De=It.width<=Pt.width?Ye||-Qt:re.x<this._viewportMargin?Pt.left-He.left-re.x:0,rt=It.height<=Pt.height?ut||-hn:re.y<this._viewportMargin?Pt.top-He.top-re.y:0,this._previousPushAmount={x:De,y:rt},{x:re.x+De,y:re.y+rt}}_applyPosition(re,ge){if(this._setTransformOrigin(re),this._setOverlayElementStyles(ge,re),this._setBoundingBoxStyles(ge,re),re.panelClass&&this._addPanelClasses(re.panelClass),this._lastPosition=re,this._positionChanges.observers.length){const He=this._getScrollVisibility(),It=new Xe(re,He);this._positionChanges.next(It)}this._isInitialRender=!1}_setTransformOrigin(re){if(!this._transformOriginSelector)return;const ge=this._boundingBox.querySelectorAll(this._transformOriginSelector);let He,It=re.overlayY;He="center"===re.overlayX?"center":this._isRtl()?"start"===re.overlayX?"right":"left":"start"===re.overlayX?"left":"right";for(let Pt=0;Pt<ge.length;Pt++)ge[Pt].style.transformOrigin=`${He} ${It}`}_calculateBoundingBoxRect(re,ge){const He=this._viewportRect,It=this._isRtl();let Pt,Qt,hn,De,rt,Wt;if("top"===ge.overlayY)Qt=re.y,Pt=He.height-Qt+this._viewportMargin;else if("bottom"===ge.overlayY)hn=He.height-re.y+2*this._viewportMargin,Pt=He.height-hn+this._viewportMargin;else{const sn=Math.min(He.bottom-re.y+He.top,re.y),mn=this._lastBoundingBoxSize.height;Pt=2*sn,Qt=re.y-sn,Pt>mn&&!this._isInitialRender&&!this._growAfterOpen&&(Qt=re.y-mn/2)}if("end"===ge.overlayX&&!It||"start"===ge.overlayX&&It)Wt=He.width-re.x+this._viewportMargin,De=re.x-this._viewportMargin;else if("start"===ge.overlayX&&!It||"end"===ge.overlayX&&It)rt=re.x,De=He.right-re.x;else{const sn=Math.min(He.right-re.x+He.left,re.x),mn=this._lastBoundingBoxSize.width;De=2*sn,rt=re.x-sn,De>mn&&!this._isInitialRender&&!this._growAfterOpen&&(rt=re.x-mn/2)}return{top:Qt,left:rt,bottom:hn,right:Wt,width:De,height:Pt}}_setBoundingBoxStyles(re,ge){const He=this._calculateBoundingBoxRect(re,ge);!this._isInitialRender&&!this._growAfterOpen&&(He.height=Math.min(He.height,this._lastBoundingBoxSize.height),He.width=Math.min(He.width,this._lastBoundingBoxSize.width));const It={};if(this._hasExactPosition())It.top=It.left="0",It.bottom=It.right=It.maxHeight=It.maxWidth="",It.width=It.height="100%";else{const Pt=this._overlayRef.getConfig().maxHeight,Qt=this._overlayRef.getConfig().maxWidth;It.height=(0,O.HM)(He.height),It.top=(0,O.HM)(He.top),It.bottom=(0,O.HM)(He.bottom),It.width=(0,O.HM)(He.width),It.left=(0,O.HM)(He.left),It.right=(0,O.HM)(He.right),It.alignItems="center"===ge.overlayX?"center":"end"===ge.overlayX?"flex-end":"flex-start",It.justifyContent="center"===ge.overlayY?"center":"bottom"===ge.overlayY?"flex-end":"flex-start",Pt&&(It.maxHeight=(0,O.HM)(Pt)),Qt&&(It.maxWidth=(0,O.HM)(Qt))}this._lastBoundingBoxSize=He,ke(this._boundingBox.style,It)}_resetBoundingBoxStyles(){ke(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ke(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(re,ge){const He={},It=this._hasExactPosition(),Pt=this._hasFlexibleDimensions,Qt=this._overlayRef.getConfig();if(It){const De=this._viewportRuler.getViewportScrollPosition();ke(He,this._getExactOverlayY(ge,re,De)),ke(He,this._getExactOverlayX(ge,re,De))}else He.position="static";let hn="",ut=this._getOffset(ge,"x"),Ye=this._getOffset(ge,"y");ut&&(hn+=`translateX(${ut}px) `),Ye&&(hn+=`translateY(${Ye}px)`),He.transform=hn.trim(),Qt.maxHeight&&(It?He.maxHeight=(0,O.HM)(Qt.maxHeight):Pt&&(He.maxHeight="")),Qt.maxWidth&&(It?He.maxWidth=(0,O.HM)(Qt.maxWidth):Pt&&(He.maxWidth="")),ke(this._pane.style,He)}_getExactOverlayY(re,ge,He){let It={top:"",bottom:""},Pt=this._getOverlayPoint(ge,this._overlayRect,re);return this._isPushed&&(Pt=this._pushOverlayOnScreen(Pt,this._overlayRect,He)),"bottom"===re.overlayY?It.bottom=this._document.documentElement.clientHeight-(Pt.y+this._overlayRect.height)+"px":It.top=(0,O.HM)(Pt.y),It}_getExactOverlayX(re,ge,He){let Qt,It={left:"",right:""},Pt=this._getOverlayPoint(ge,this._overlayRect,re);return this._isPushed&&(Pt=this._pushOverlayOnScreen(Pt,this._overlayRect,He)),Qt=this._isRtl()?"end"===re.overlayX?"left":"right":"end"===re.overlayX?"right":"left","right"===Qt?It.right=this._document.documentElement.clientWidth-(Pt.x+this._overlayRect.width)+"px":It.left=(0,O.HM)(Pt.x),It}_getScrollVisibility(){const re=this._getOriginRect(),ge=this._pane.getBoundingClientRect(),He=this._scrollables.map(It=>It.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Me(re,He),isOriginOutsideView:fe(re,He),isOverlayClipped:Me(ge,He),isOverlayOutsideView:fe(ge,He)}}_subtractOverflows(re,...ge){return ge.reduce((He,It)=>He-Math.max(It,0),re)}_getNarrowedViewportRect(){const re=this._document.documentElement.clientWidth,ge=this._document.documentElement.clientHeight,He=this._viewportRuler.getViewportScrollPosition();return{top:He.top+this._viewportMargin,left:He.left+this._viewportMargin,right:He.left+re-this._viewportMargin,bottom:He.top+ge-this._viewportMargin,width:re-2*this._viewportMargin,height:ge-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(re,ge){return"x"===ge?null==re.offsetX?this._offsetX:re.offsetX:null==re.offsetY?this._offsetY:re.offsetY}_validatePositions(){}_addPanelClasses(re){this._pane&&(0,O.Eq)(re).forEach(ge=>{""!==ge&&-1===this._appliedPanelClasses.indexOf(ge)&&(this._appliedPanelClasses.push(ge),this._pane.classList.add(ge))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(re=>{this._pane.classList.remove(re)}),this._appliedPanelClasses=[])}_getOriginRect(){const re=this._origin;if(re instanceof f.SBq)return re.nativeElement.getBoundingClientRect();if(re instanceof Element)return re.getBoundingClientRect();const ge=re.width||0,He=re.height||0;return{top:re.y,bottom:re.y+He,left:re.x,right:re.x+ge,height:He,width:ge}}}function ke(Le,re){for(let ge in re)re.hasOwnProperty(ge)&&(Le[ge]=re[ge]);return Le}function Ne(Le){if("number"!=typeof Le&&null!=Le){const[re,ge]=Le.split(Zt);return ge&&"px"!==ge?null:parseFloat(re)}return Le||null}function me(Le){return{top:Math.floor(Le.top),right:Math.floor(Le.right),bottom:Math.floor(Le.bottom),left:Math.floor(Le.left),width:Math.floor(Le.width),height:Math.floor(Le.height)}}const ye="cdk-global-overlay-wrapper";class R{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(re){const ge=re.getConfig();this._overlayRef=re,this._width&&!ge.width&&re.updateSize({width:this._width}),this._height&&!ge.height&&re.updateSize({height:this._height}),re.hostElement.classList.add(ye),this._isDisposed=!1}top(re=""){return this._bottomOffset="",this._topOffset=re,this._alignItems="flex-start",this}left(re=""){return this._xOffset=re,this._xPosition="left",this}bottom(re=""){return this._topOffset="",this._bottomOffset=re,this._alignItems="flex-end",this}right(re=""){return this._xOffset=re,this._xPosition="right",this}start(re=""){return this._xOffset=re,this._xPosition="start",this}end(re=""){return this._xOffset=re,this._xPosition="end",this}width(re=""){return this._overlayRef?this._overlayRef.updateSize({width:re}):this._width=re,this}height(re=""){return this._overlayRef?this._overlayRef.updateSize({height:re}):this._height=re,this}centerHorizontally(re=""){return this.left(re),this._xPosition="center",this}centerVertically(re=""){return this.top(re),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const re=this._overlayRef.overlayElement.style,ge=this._overlayRef.hostElement.style,He=this._overlayRef.getConfig(),{width:It,height:Pt,maxWidth:Qt,maxHeight:hn}=He,ut=!("100%"!==It&&"100vw"!==It||Qt&&"100%"!==Qt&&"100vw"!==Qt),Ye=!("100%"!==Pt&&"100vh"!==Pt||hn&&"100%"!==hn&&"100vh"!==hn),De=this._xPosition,rt=this._xOffset,Wt="rtl"===this._overlayRef.getConfig().direction;let sn="",mn="",ai="";ut?ai="flex-start":"center"===De?(ai="center",Wt?mn=rt:sn=rt):Wt?"left"===De||"end"===De?(ai="flex-end",sn=rt):("right"===De||"start"===De)&&(ai="flex-start",mn=rt):"left"===De||"start"===De?(ai="flex-start",sn=rt):("right"===De||"end"===De)&&(ai="flex-end",mn=rt),re.position=this._cssPosition,re.marginLeft=ut?"0":sn,re.marginTop=Ye?"0":this._topOffset,re.marginBottom=this._bottomOffset,re.marginRight=ut?"0":mn,ge.justifyContent=ai,ge.alignItems=Ye?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const re=this._overlayRef.overlayElement.style,ge=this._overlayRef.hostElement,He=ge.style;ge.classList.remove(ye),He.justifyContent=He.alignItems=re.marginTop=re.marginBottom=re.marginLeft=re.marginRight=re.position="",this._overlayRef=null,this._isDisposed=!0}}let Se=(()=>{class Le{constructor(ge,He,It,Pt){this._viewportRuler=ge,this._document=He,this._platform=It,this._overlayContainer=Pt}global(){return new R}flexibleConnectedTo(ge){return new we(ge,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return Le.\u0275fac=function(ge){return new(ge||Le)(f.LFG(l.rL),f.LFG(b.K0),f.LFG(de.t4),f.LFG(fn))},Le.\u0275prov=f.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})(),Qe=0,Tt=(()=>{class Le{constructor(ge,He,It,Pt,Qt,hn,ut,Ye,De,rt,Wt,sn){this.scrollStrategies=ge,this._overlayContainer=He,this._componentFactoryResolver=It,this._positionBuilder=Pt,this._keyboardDispatcher=Qt,this._injector=hn,this._ngZone=ut,this._document=Ye,this._directionality=De,this._location=rt,this._outsideClickDispatcher=Wt,this._animationsModuleType=sn}create(ge){const He=this._createHostElement(),It=this._createPaneElement(He),Pt=this._createPortalOutlet(It),Qt=new xe(ge);return Qt.direction=Qt.direction||this._directionality.value,new $t(Pt,He,It,Qt,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(ge){const He=this._document.createElement("div");return He.id="cdk-overlay-"+Qe++,He.classList.add("cdk-overlay-pane"),ge.appendChild(He),He}_createHostElement(){const ge=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(ge),ge}_createPortalOutlet(ge){return this._appRef||(this._appRef=this._injector.get(f.z2F)),new Y.u0(ge,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return Le.\u0275fac=function(ge){return new(ge||Le)(f.LFG(he),f.LFG(fn),f.LFG(f._Vd),f.LFG(Se),f.LFG(Ot),f.LFG(f.zs3),f.LFG(f.R0b),f.LFG(b.K0),f.LFG(K.Is),f.LFG(b.Ye),f.LFG(at),f.LFG(f.QbO,8))},Le.\u0275prov=f.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})();const qn={provide:new f.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Tt],useFactory:function Bn(Le){return()=>Le.scrollStrategies.reposition()}};let Mn=(()=>{class Le{}return Le.\u0275fac=function(ge){return new(ge||Le)},Le.\u0275mod=f.oAB({type:Le}),Le.\u0275inj=f.cJS({providers:[Tt,qn],imports:[K.vT,Y.eL,l.Cl,l.Cl]}),Le})()},3353:(wt,Fe,_)=>{"use strict";_.d(Fe,{Mq:()=>ne,Oy:()=>pe,_i:()=>le,i$:()=>k,kV:()=>oe,sA:()=>Me,t4:()=>O});var l=_(4650),b=_(6895);let f;try{f=typeof Intl<"u"&&Intl.v8BreakIterator}catch{f=!1}let K,U,W,Ae,O=(()=>{class he{constructor(je){this._platformId=je,this.isBrowser=this._platformId?(0,b.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!f)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return he.\u0275fac=function(je){return new(je||he)(l.LFG(l.Lbi))},he.\u0275prov=l.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})();function k(he){return function Y(){if(null==K&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>K=!0}))}finally{K=K||!1}return K}()?he:!!he.capture}function ne(){if(null==W){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return W=!1,W;if("scrollBehavior"in document.documentElement.style)W=!0;else{const he=Element.prototype.scrollTo;W=!!he&&!/\{\s*\[native code\]\s*\}/.test(he.toString())}}return W}function le(){if("object"!=typeof document||!document)return 0;if(null==U){const he=document.createElement("div"),xe=he.style;he.dir="rtl",xe.width="1px",xe.overflow="auto",xe.visibility="hidden",xe.pointerEvents="none",xe.position="absolute";const je=document.createElement("div"),Pe=je.style;Pe.width="2px",Pe.height="1px",he.appendChild(je),document.body.appendChild(he),U=0,0===he.scrollLeft&&(he.scrollLeft=1,U=0===he.scrollLeft?1:2),he.remove()}return U}function oe(he){if(function _e(){if(null==Ae){const he=typeof document<"u"?document.head:null;Ae=!(!he||!he.createShadowRoot&&!he.attachShadow)}return Ae}()){const xe=he.getRootNode?he.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&xe instanceof ShadowRoot)return xe}return null}function Me(he){return he.composedPath?he.composedPath()[0]:he.target}function pe(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},4080:(wt,Fe,_)=>{"use strict";_.d(Fe,{Pl:()=>fe,UE:()=>k,eL:()=>pe,u0:()=>le});var l=_(4650),b=_(6895);class K{attach(je){return this._attachedHost=je,je.attach(this)}detach(){let je=this._attachedHost;null!=je&&(this._attachedHost=null,je.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(je){this._attachedHost=je}}class Y extends K{constructor(je,Pe,Xe,dt,Ue){super(),this.component=je,this.viewContainerRef=Pe,this.injector=Xe,this.componentFactoryResolver=dt,this.projectableNodes=Ue}}class k extends K{constructor(je,Pe,Xe,dt){super(),this.templateRef=je,this.viewContainerRef=Pe,this.context=Xe,this.injector=dt}get origin(){return this.templateRef.elementRef}attach(je,Pe=this.context){return this.context=Pe,super.attach(je)}detach(){return this.context=void 0,super.detach()}}class U extends K{constructor(je){super(),this.element=je instanceof l.SBq?je.nativeElement:je}}class W{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(je){return je instanceof Y?(this._attachedPortal=je,this.attachComponentPortal(je)):je instanceof k?(this._attachedPortal=je,this.attachTemplatePortal(je)):this.attachDomPortal&&je instanceof U?(this._attachedPortal=je,this.attachDomPortal(je)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(je){this._disposeFn=je}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class le extends W{constructor(je,Pe,Xe,dt,Ue){super(),this.outletElement=je,this._componentFactoryResolver=Pe,this._appRef=Xe,this._defaultInjector=dt,this.attachDomPortal=ct=>{const Ot=ct.element,at=this._document.createComment("dom-portal");Ot.parentNode.insertBefore(at,Ot),this.outletElement.appendChild(Ot),this._attachedPortal=ct,super.setDisposeFn(()=>{at.parentNode&&at.parentNode.replaceChild(Ot,at)})},this._document=Ue}attachComponentPortal(je){const Xe=(je.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(je.component);let dt;return je.viewContainerRef?(dt=je.viewContainerRef.createComponent(Xe,je.viewContainerRef.length,je.injector||je.viewContainerRef.injector,je.projectableNodes||void 0),this.setDisposeFn(()=>dt.destroy())):(dt=Xe.create(je.injector||this._defaultInjector||l.zs3.NULL),this._appRef.attachView(dt.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(dt.hostView),dt.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(dt)),this._attachedPortal=je,dt}attachTemplatePortal(je){let Pe=je.viewContainerRef,Xe=Pe.createEmbeddedView(je.templateRef,je.context,{injector:je.injector});return Xe.rootNodes.forEach(dt=>this.outletElement.appendChild(dt)),Xe.detectChanges(),this.setDisposeFn(()=>{let dt=Pe.indexOf(Xe);-1!==dt&&Pe.remove(dt)}),this._attachedPortal=je,Xe}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(je){return je.hostView.rootNodes[0]}}let fe=(()=>{class xe extends W{constructor(Pe,Xe,dt){super(),this._componentFactoryResolver=Pe,this._viewContainerRef=Xe,this._isInitialized=!1,this.attached=new l.vpe,this.attachDomPortal=Ue=>{const ct=Ue.element,Ot=this._document.createComment("dom-portal");Ue.setAttachedHost(this),ct.parentNode.insertBefore(Ot,ct),this._getRootNode().appendChild(ct),this._attachedPortal=Ue,super.setDisposeFn(()=>{Ot.parentNode&&Ot.parentNode.replaceChild(ct,Ot)})},this._document=dt}get portal(){return this._attachedPortal}set portal(Pe){this.hasAttached()&&!Pe&&!this._isInitialized||(this.hasAttached()&&super.detach(),Pe&&super.attach(Pe),this._attachedPortal=Pe||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(Pe){Pe.setAttachedHost(this);const Xe=null!=Pe.viewContainerRef?Pe.viewContainerRef:this._viewContainerRef,Ue=(Pe.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Pe.component),ct=Xe.createComponent(Ue,Xe.length,Pe.injector||Xe.injector,Pe.projectableNodes||void 0);return Xe!==this._viewContainerRef&&this._getRootNode().appendChild(ct.hostView.rootNodes[0]),super.setDisposeFn(()=>ct.destroy()),this._attachedPortal=Pe,this._attachedRef=ct,this.attached.emit(ct),ct}attachTemplatePortal(Pe){Pe.setAttachedHost(this);const Xe=this._viewContainerRef.createEmbeddedView(Pe.templateRef,Pe.context,{injector:Pe.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=Pe,this._attachedRef=Xe,this.attached.emit(Xe),Xe}_getRootNode(){const Pe=this._viewContainerRef.element.nativeElement;return Pe.nodeType===Pe.ELEMENT_NODE?Pe:Pe.parentNode}}return xe.\u0275fac=function(Pe){return new(Pe||xe)(l.Y36(l._Vd),l.Y36(l.s_b),l.Y36(b.K0))},xe.\u0275dir=l.lG2({type:xe,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[l.qOj]}),xe})(),pe=(()=>{class xe{}return xe.\u0275fac=function(Pe){return new(Pe||xe)},xe.\u0275mod=l.oAB({type:xe}),xe.\u0275inj=l.cJS({}),xe})()},8605:(wt,Fe,_)=>{"use strict";_.d(Fe,{PQ:()=>Gt,ZD:()=>Qt,mF:()=>Mt,Cl:()=>hn,rL:()=>Bn});var l=_(1281),b=_(4650),f=_(7579),O=_(9646),de=_(9751),ee=_(4968),te=_(4408),z=_(727);const K={schedule(ut){let Ye=requestAnimationFrame,De=cancelAnimationFrame;const{delegate:rt}=K;rt&&(Ye=rt.requestAnimationFrame,De=rt.cancelAnimationFrame);const Wt=Ye(sn=>{De=void 0,ut(sn)});return new z.w0(()=>De?.(Wt))},requestAnimationFrame(...ut){const{delegate:Ye}=K;return(Ye?.requestAnimationFrame||requestAnimationFrame)(...ut)},cancelAnimationFrame(...ut){const{delegate:Ye}=K;return(Ye?.cancelAnimationFrame||cancelAnimationFrame)(...ut)},delegate:void 0};var k=_(7565);const W=new class U extends k.v{flush(Ye){this._active=!0;const De=this._scheduled;this._scheduled=void 0;const{actions:rt}=this;let Wt;Ye=Ye||rt.shift();do{if(Wt=Ye.execute(Ye.state,Ye.delay))break}while((Ye=rt[0])&&Ye.id===De&&rt.shift());if(this._active=!1,Wt){for(;(Ye=rt[0])&&Ye.id===De&&rt.shift();)Ye.unsubscribe();throw Wt}}}(class Y extends te.o{constructor(Ye,De){super(Ye,De),this.scheduler=Ye,this.work=De}requestAsyncId(Ye,De,rt=0){return null!==rt&&rt>0?super.requestAsyncId(Ye,De,rt):(Ye.actions.push(this),Ye._scheduled||(Ye._scheduled=K.requestAnimationFrame(()=>Ye.flush(void 0))))}recycleAsyncId(Ye,De,rt=0){var Wt;if(null!=rt?rt>0:this.delay>0)return super.recycleAsyncId(Ye,De,rt);const{actions:sn}=Ye;null!=De&&(null===(Wt=sn[sn.length-1])||void 0===Wt?void 0:Wt.id)!==De&&(K.cancelAnimationFrame(De),Ye._scheduled=void 0)}});let Ae,le=1;const _e={};function oe(ut){return ut in _e&&(delete _e[ut],!0)}const fe={setImmediate(ut){const Ye=le++;return _e[Ye]=!0,Ae||(Ae=Promise.resolve()),Ae.then(()=>oe(Ye)&&ut()),Ye},clearImmediate(ut){oe(ut)}},{setImmediate:pe,clearImmediate:he}=fe,xe={setImmediate(...ut){const{delegate:Ye}=xe;return(Ye?.setImmediate||pe)(...ut)},clearImmediate(ut){const{delegate:Ye}=xe;return(Ye?.clearImmediate||he)(ut)},delegate:void 0},Xe=new class Pe extends k.v{flush(Ye){this._active=!0;const De=this._scheduled;this._scheduled=void 0;const{actions:rt}=this;let Wt;Ye=Ye||rt.shift();do{if(Wt=Ye.execute(Ye.state,Ye.delay))break}while((Ye=rt[0])&&Ye.id===De&&rt.shift());if(this._active=!1,Wt){for(;(Ye=rt[0])&&Ye.id===De&&rt.shift();)Ye.unsubscribe();throw Wt}}}(class je extends te.o{constructor(Ye,De){super(Ye,De),this.scheduler=Ye,this.work=De}requestAsyncId(Ye,De,rt=0){return null!==rt&&rt>0?super.requestAsyncId(Ye,De,rt):(Ye.actions.push(this),Ye._scheduled||(Ye._scheduled=xe.setImmediate(Ye.flush.bind(Ye,void 0))))}recycleAsyncId(Ye,De,rt=0){var Wt;if(null!=rt?rt>0:this.delay>0)return super.recycleAsyncId(Ye,De,rt);const{actions:sn}=Ye;null!=De&&(null===(Wt=sn[sn.length-1])||void 0===Wt?void 0:Wt.id)!==De&&(xe.clearImmediate(De),Ye._scheduled===De&&(Ye._scheduled=void 0))}});var Ue=_(4986),ct=_(4482),Ot=_(8421),at=_(5403),$t=_(2805);function jt(ut,Ye=Ue.z){return function fn(ut){return(0,ct.e)((Ye,De)=>{let rt=!1,Wt=null,sn=null,mn=!1;const ai=()=>{if(sn?.unsubscribe(),sn=null,rt){rt=!1;const ri=Wt;Wt=null,De.next(ri)}mn&&De.complete()},zn=()=>{sn=null,mn&&De.complete()};Ye.subscribe((0,at.x)(De,ri=>{rt=!0,Wt=ri,sn||(0,Ot.Xf)(ut(ri)).subscribe(sn=(0,at.x)(De,ai,zn))},()=>{mn=!0,(!rt||!sn||sn.closed)&&De.complete()}))})}(()=>(0,$t.H)(ut,Ye))}var Zt=_(9300),we=_(2722),ke=_(8675),Ne=_(3353),me=_(6895),qe=_(445);const Z=["contentWrapper"],ye=["*"],R=new b.OlP("VIRTUAL_SCROLL_STRATEGY");let Mt=(()=>{class ut{constructor(De,rt,Wt){this._ngZone=De,this._platform=rt,this._scrolled=new f.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Wt}register(De){this.scrollContainers.has(De)||this.scrollContainers.set(De,De.elementScrolled().subscribe(()=>this._scrolled.next(De)))}deregister(De){const rt=this.scrollContainers.get(De);rt&&(rt.unsubscribe(),this.scrollContainers.delete(De))}scrolled(De=20){return this._platform.isBrowser?new de.y(rt=>{this._globalSubscription||this._addGlobalListener();const Wt=De>0?this._scrolled.pipe(jt(De)).subscribe(rt):this._scrolled.subscribe(rt);return this._scrolledCount++,()=>{Wt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,O.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((De,rt)=>this.deregister(rt)),this._scrolled.complete()}ancestorScrolled(De,rt){const Wt=this.getAncestorScrollContainers(De);return this.scrolled(rt).pipe((0,Zt.h)(sn=>!sn||Wt.indexOf(sn)>-1))}getAncestorScrollContainers(De){const rt=[];return this.scrollContainers.forEach((Wt,sn)=>{this._scrollableContainsElement(sn,De)&&rt.push(sn)}),rt}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(De,rt){let Wt=(0,l.fI)(rt),sn=De.getElementRef().nativeElement;do{if(Wt==sn)return!0}while(Wt=Wt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const De=this._getWindow();return(0,ee.R)(De.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return ut.\u0275fac=function(De){return new(De||ut)(b.LFG(b.R0b),b.LFG(Ne.t4),b.LFG(me.K0,8))},ut.\u0275prov=b.Yz7({token:ut,factory:ut.\u0275fac,providedIn:"root"}),ut})(),Gt=(()=>{class ut{constructor(De,rt,Wt,sn){this.elementRef=De,this.scrollDispatcher=rt,this.ngZone=Wt,this.dir=sn,this._destroyed=new f.x,this._elementScrolled=new de.y(mn=>this.ngZone.runOutsideAngular(()=>(0,ee.R)(this.elementRef.nativeElement,"scroll").pipe((0,we.R)(this._destroyed)).subscribe(mn)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(De){const rt=this.elementRef.nativeElement,Wt=this.dir&&"rtl"==this.dir.value;null==De.left&&(De.left=Wt?De.end:De.start),null==De.right&&(De.right=Wt?De.start:De.end),null!=De.bottom&&(De.top=rt.scrollHeight-rt.clientHeight-De.bottom),Wt&&0!=(0,Ne._i)()?(null!=De.left&&(De.right=rt.scrollWidth-rt.clientWidth-De.left),2==(0,Ne._i)()?De.left=De.right:1==(0,Ne._i)()&&(De.left=De.right?-De.right:De.right)):null!=De.right&&(De.left=rt.scrollWidth-rt.clientWidth-De.right),this._applyScrollToOptions(De)}_applyScrollToOptions(De){const rt=this.elementRef.nativeElement;(0,Ne.Mq)()?rt.scrollTo(De):(null!=De.top&&(rt.scrollTop=De.top),null!=De.left&&(rt.scrollLeft=De.left))}measureScrollOffset(De){const rt="left",sn=this.elementRef.nativeElement;if("top"==De)return sn.scrollTop;if("bottom"==De)return sn.scrollHeight-sn.clientHeight-sn.scrollTop;const mn=this.dir&&"rtl"==this.dir.value;return"start"==De?De=mn?"right":rt:"end"==De&&(De=mn?rt:"right"),mn&&2==(0,Ne._i)()?De==rt?sn.scrollWidth-sn.clientWidth-sn.scrollLeft:sn.scrollLeft:mn&&1==(0,Ne._i)()?De==rt?sn.scrollLeft+sn.scrollWidth-sn.clientWidth:-sn.scrollLeft:De==rt?sn.scrollLeft:sn.scrollWidth-sn.clientWidth-sn.scrollLeft}}return ut.\u0275fac=function(De){return new(De||ut)(b.Y36(b.SBq),b.Y36(Mt),b.Y36(b.R0b),b.Y36(qe.Is,8))},ut.\u0275dir=b.lG2({type:ut,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),ut})(),Bn=(()=>{class ut{constructor(De,rt,Wt){this._platform=De,this._change=new f.x,this._changeListener=sn=>{this._change.next(sn)},this._document=Wt,rt.runOutsideAngular(()=>{if(De.isBrowser){const sn=this._getWindow();sn.addEventListener("resize",this._changeListener),sn.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const De=this._getWindow();De.removeEventListener("resize",this._changeListener),De.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const De={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),De}getViewportRect(){const De=this.getViewportScrollPosition(),{width:rt,height:Wt}=this.getViewportSize();return{top:De.top,left:De.left,bottom:De.top+Wt,right:De.left+rt,height:Wt,width:rt}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const De=this._document,rt=this._getWindow(),Wt=De.documentElement,sn=Wt.getBoundingClientRect();return{top:-sn.top||De.body.scrollTop||rt.scrollY||Wt.scrollTop||0,left:-sn.left||De.body.scrollLeft||rt.scrollX||Wt.scrollLeft||0}}change(De=20){return De>0?this._change.pipe(jt(De)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const De=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:De.innerWidth,height:De.innerHeight}:{width:0,height:0}}}return ut.\u0275fac=function(De){return new(De||ut)(b.LFG(Ne.t4),b.LFG(b.R0b),b.LFG(me.K0,8))},ut.\u0275prov=b.Yz7({token:ut,factory:ut.\u0275fac,providedIn:"root"}),ut})();const qn=new b.OlP("VIRTUAL_SCROLLABLE");let Mn=(()=>{class ut extends Gt{constructor(De,rt,Wt,sn){super(De,rt,Wt,sn)}measureViewportSize(De){const rt=this.elementRef.nativeElement;return"horizontal"===De?rt.clientWidth:rt.clientHeight}}return ut.\u0275fac=function(De){return new(De||ut)(b.Y36(b.SBq),b.Y36(Mt),b.Y36(b.R0b),b.Y36(qe.Is,8))},ut.\u0275dir=b.lG2({type:ut,features:[b.qOj]}),ut})();const Le=typeof requestAnimationFrame<"u"?W:Xe;let re=(()=>{class ut extends Mn{get orientation(){return this._orientation}set orientation(De){this._orientation!==De&&(this._orientation=De,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(De){this._appendOnly=(0,l.Ig)(De)}constructor(De,rt,Wt,sn,mn,ai,zn,ri){super(De,ai,Wt,mn),this.elementRef=De,this._changeDetectorRef=rt,this._scrollStrategy=sn,this.scrollable=ri,this._platform=(0,b.f3M)(Ne.t4),this._detachedSubject=new f.x,this._renderedRangeSubject=new f.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new de.y(Qn=>this._scrollStrategy.scrolledIndexChange.subscribe(Ti=>Promise.resolve().then(()=>this.ngZone.run(()=>Qn.next(Ti))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=z.w0.EMPTY,this._viewportChanges=zn.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe((0,ke.O)(null),jt(0,Le)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(De){this.ngZone.runOutsideAngular(()=>{this._forOf=De,this._forOf.dataStream.pipe((0,we.R)(this._detachedSubject)).subscribe(rt=>{const Wt=rt.length;Wt!==this._dataLength&&(this._dataLength=Wt,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(De){return this.getElementRef().nativeElement.getBoundingClientRect()[De]}setTotalContentSize(De){this._totalContentSize!==De&&(this._totalContentSize=De,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(De){(function Pn(ut,Ye){return ut.start==Ye.start&&ut.end==Ye.end})(this._renderedRange,De)||(this.appendOnly&&(De={start:0,end:Math.max(this._renderedRange.end,De.end)}),this._renderedRangeSubject.next(this._renderedRange=De),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(De,rt="to-start"){De=this.appendOnly&&"to-start"===rt?0:De;const sn="horizontal"==this.orientation,mn=sn?"X":"Y";let zn=`translate${mn}(${Number((sn&&this.dir&&"rtl"==this.dir.value?-1:1)*De)}px)`;this._renderedContentOffset=De,"to-end"===rt&&(zn+=` translate${mn}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=zn&&(this._renderedContentTransform=zn,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(De,rt="auto"){const Wt={behavior:rt};"horizontal"===this.orientation?Wt.start=De:Wt.top=De,this.scrollable.scrollTo(Wt)}scrollToIndex(De,rt="auto"){this._scrollStrategy.scrollToIndex(De,rt)}measureScrollOffset(De){let rt;return rt=this.scrollable==this?Wt=>super.measureScrollOffset(Wt):Wt=>this.scrollable.measureScrollOffset(Wt),Math.max(0,rt(De??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(De){let rt;const mn="rtl"==this.dir?.value;rt="start"==De?mn?"right":"left":"end"==De?mn?"left":"right":De||("horizontal"===this.orientation?"left":"top");const ai=this.scrollable.measureBoundingClientRectWithScrollOffset(rt);return this.elementRef.nativeElement.getBoundingClientRect()[rt]-ai}measureRenderedContentSize(){const De=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?De.offsetWidth:De.offsetHeight}measureRangeSize(De){return this._forOf?this._forOf.measureRangeSize(De,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(De){De&&this._runAfterChangeDetection.push(De),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const De=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const rt of De)rt()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return ut.\u0275fac=function(De){return new(De||ut)(b.Y36(b.SBq),b.Y36(b.sBO),b.Y36(b.R0b),b.Y36(R,8),b.Y36(qe.Is,8),b.Y36(Mt),b.Y36(Bn),b.Y36(qn,8))},ut.\u0275cmp=b.Xpm({type:ut,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(De,rt){if(1&De&&b.Gf(Z,7),2&De){let Wt;b.iGM(Wt=b.CRH())&&(rt._contentWrapper=Wt.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(De,rt){2&De&&b.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===rt.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==rt.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[b._Bn([{provide:Gt,useFactory:(Ye,De)=>Ye||De,deps:[[new b.FiY,new b.tBr(qn)],ut]}]),b.qOj,b.jDz],ngContentSelectors:ye,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(De,rt){1&De&&(b.F$t(),b.TgZ(0,"div",0,1),b.Hsn(2),b.qZA(),b._UZ(3,"div",2)),2&De&&(b.xp6(3),b.Udp("width",rt._totalContentWidth)("height",rt._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),ut})(),Qt=(()=>{class ut{}return ut.\u0275fac=function(De){return new(De||ut)},ut.\u0275mod=b.oAB({type:ut}),ut.\u0275inj=b.cJS({}),ut})(),hn=(()=>{class ut{}return ut.\u0275fac=function(De){return new(De||ut)},ut.\u0275mod=b.oAB({type:ut}),ut.\u0275inj=b.cJS({imports:[qe.vT,Qt,re,qe.vT,Qt]}),ut})()},6895:(wt,Fe,_)=>{"use strict";_.d(Fe,{Do:()=>fe,EM:()=>es,HT:()=>O,JF:()=>Ks,K0:()=>ee,Mx:()=>Ei,NF:()=>As,O5:()=>Io,PC:()=>Kr,PM:()=>dr,S$:()=>Ae,V_:()=>K,Ye:()=>Me,Zd:()=>Qs,b0:()=>oe,bD:()=>da,ez:()=>Ca,mk:()=>ti,q:()=>f,sg:()=>cr,tP:()=>io,uU:()=>Qi,w_:()=>de});var l=_(4650);let b=null;function f(){return b}function O(N){b||(b=N)}class de{}const ee=new l.OlP("DocumentToken");let te=(()=>{class N{historyGo(V){throw new Error("Not implemented")}}return N.\u0275fac=function(V){return new(V||N)},N.\u0275prov=l.Yz7({token:N,factory:function(){return function z(){return(0,l.LFG)(Y)}()},providedIn:"platform"}),N})();const K=new l.OlP("Location Initialized");let Y=(()=>{class N extends te{constructor(V){super(),this._doc=V,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return f().getBaseHref(this._doc)}onPopState(V){const ve=f().getGlobalEventTarget(this._doc,"window");return ve.addEventListener("popstate",V,!1),()=>ve.removeEventListener("popstate",V)}onHashChange(V){const ve=f().getGlobalEventTarget(this._doc,"window");return ve.addEventListener("hashchange",V,!1),()=>ve.removeEventListener("hashchange",V)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(V){this._location.pathname=V}pushState(V,ve,Ke){k()?this._history.pushState(V,ve,Ke):this._location.hash=Ke}replaceState(V,ve,Ke){k()?this._history.replaceState(V,ve,Ke):this._location.hash=Ke}forward(){this._history.forward()}back(){this._history.back()}historyGo(V=0){this._history.go(V)}getState(){return this._history.state}}return N.\u0275fac=function(V){return new(V||N)(l.LFG(ee))},N.\u0275prov=l.Yz7({token:N,factory:function(){return function U(){return new Y((0,l.LFG)(ee))}()},providedIn:"platform"}),N})();function k(){return!!window.history.pushState}function W(N,ce){if(0==N.length)return ce;if(0==ce.length)return N;let V=0;return N.endsWith("/")&&V++,ce.startsWith("/")&&V++,2==V?N+ce.substring(1):1==V?N+ce:N+"/"+ce}function ne(N){const ce=N.match(/#|\?|$/),V=ce&&ce.index||N.length;return N.slice(0,V-("/"===N[V-1]?1:0))+N.slice(V)}function le(N){return N&&"?"!==N[0]?"?"+N:N}let Ae=(()=>{class N{historyGo(V){throw new Error("Not implemented")}}return N.\u0275fac=function(V){return new(V||N)},N.\u0275prov=l.Yz7({token:N,factory:function(){return(0,l.f3M)(oe)},providedIn:"root"}),N})();const _e=new l.OlP("appBaseHref");let oe=(()=>{class N extends Ae{constructor(V,ve){super(),this._platformLocation=V,this._removeListenerFns=[],this._baseHref=ve??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(ee).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}prepareExternalUrl(V){return W(this._baseHref,V)}path(V=!1){const ve=this._platformLocation.pathname+le(this._platformLocation.search),Ke=this._platformLocation.hash;return Ke&&V?`${ve}${Ke}`:ve}pushState(V,ve,Ke,Ht){const Xt=this.prepareExternalUrl(Ke+le(Ht));this._platformLocation.pushState(V,ve,Xt)}replaceState(V,ve,Ke,Ht){const Xt=this.prepareExternalUrl(Ke+le(Ht));this._platformLocation.replaceState(V,ve,Xt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(V=0){this._platformLocation.historyGo?.(V)}}return N.\u0275fac=function(V){return new(V||N)(l.LFG(te),l.LFG(_e,8))},N.\u0275prov=l.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),fe=(()=>{class N extends Ae{constructor(V,ve){super(),this._platformLocation=V,this._baseHref="",this._removeListenerFns=[],null!=ve&&(this._baseHref=ve)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}path(V=!1){let ve=this._platformLocation.hash;return null==ve&&(ve="#"),ve.length>0?ve.substring(1):ve}prepareExternalUrl(V){const ve=W(this._baseHref,V);return ve.length>0?"#"+ve:ve}pushState(V,ve,Ke,Ht){let Xt=this.prepareExternalUrl(Ke+le(Ht));0==Xt.length&&(Xt=this._platformLocation.pathname),this._platformLocation.pushState(V,ve,Xt)}replaceState(V,ve,Ke,Ht){let Xt=this.prepareExternalUrl(Ke+le(Ht));0==Xt.length&&(Xt=this._platformLocation.pathname),this._platformLocation.replaceState(V,ve,Xt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(V=0){this._platformLocation.historyGo?.(V)}}return N.\u0275fac=function(V){return new(V||N)(l.LFG(te),l.LFG(_e,8))},N.\u0275prov=l.Yz7({token:N,factory:N.\u0275fac}),N})(),Me=(()=>{class N{constructor(V){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=V;const ve=this._locationStrategy.getBaseHref();this._basePath=function je(N){if(new RegExp("^(https?:)?//").test(N)){const[,V]=N.split(/\/\/[^\/]+/);return V}return N}(ne(xe(ve))),this._locationStrategy.onPopState(Ke=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ke.state,type:Ke.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(V=!1){return this.normalize(this._locationStrategy.path(V))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(V,ve=""){return this.path()==this.normalize(V+le(ve))}normalize(V){return N.stripTrailingSlash(function he(N,ce){if(!N||!ce.startsWith(N))return ce;const V=ce.substring(N.length);return""===V||["/",";","?","#"].includes(V[0])?V:ce}(this._basePath,xe(V)))}prepareExternalUrl(V){return V&&"/"!==V[0]&&(V="/"+V),this._locationStrategy.prepareExternalUrl(V)}go(V,ve="",Ke=null){this._locationStrategy.pushState(Ke,"",V,ve),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+le(ve)),Ke)}replaceState(V,ve="",Ke=null){this._locationStrategy.replaceState(Ke,"",V,ve),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+le(ve)),Ke)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(V=0){this._locationStrategy.historyGo?.(V)}onUrlChange(V){return this._urlChangeListeners.push(V),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ve=>{this._notifyUrlChangeListeners(ve.url,ve.state)})),()=>{const ve=this._urlChangeListeners.indexOf(V);this._urlChangeListeners.splice(ve,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(V="",ve){this._urlChangeListeners.forEach(Ke=>Ke(V,ve))}subscribe(V,ve,Ke){return this._subject.subscribe({next:V,error:ve,complete:Ke})}}return N.normalizeQueryParams=le,N.joinWithSlash=W,N.stripTrailingSlash=ne,N.\u0275fac=function(V){return new(V||N)(l.LFG(Ae))},N.\u0275prov=l.Yz7({token:N,factory:function(){return function pe(){return new Me((0,l.LFG)(Ae))}()},providedIn:"root"}),N})();function xe(N){return N.replace(/\/index.html$/,"")}var Ue=(()=>((Ue=Ue||{})[Ue.Format=0]="Format",Ue[Ue.Standalone=1]="Standalone",Ue))(),ct=(()=>((ct=ct||{})[ct.Narrow=0]="Narrow",ct[ct.Abbreviated=1]="Abbreviated",ct[ct.Wide=2]="Wide",ct[ct.Short=3]="Short",ct))(),Ot=(()=>((Ot=Ot||{})[Ot.Short=0]="Short",Ot[Ot.Medium=1]="Medium",Ot[Ot.Long=2]="Long",Ot[Ot.Full=3]="Full",Ot))(),at=(()=>((at=at||{})[at.Decimal=0]="Decimal",at[at.Group=1]="Group",at[at.List=2]="List",at[at.PercentSign=3]="PercentSign",at[at.PlusSign=4]="PlusSign",at[at.MinusSign=5]="MinusSign",at[at.Exponential=6]="Exponential",at[at.SuperscriptingExponent=7]="SuperscriptingExponent",at[at.PerMille=8]="PerMille",at[at.Infinity=9]="Infinity",at[at.NaN=10]="NaN",at[at.TimeSeparator=11]="TimeSeparator",at[at.CurrencyDecimal=12]="CurrencyDecimal",at[at.CurrencyGroup=13]="CurrencyGroup",at))();function qe(N,ce){return Pn((0,l.cg1)(N)[l.wAp.DateFormat],ce)}function Z(N,ce){return Pn((0,l.cg1)(N)[l.wAp.TimeFormat],ce)}function ye(N,ce){return Pn((0,l.cg1)(N)[l.wAp.DateTimeFormat],ce)}function R(N,ce){const V=(0,l.cg1)(N),ve=V[l.wAp.NumberSymbols][ce];if(typeof ve>"u"){if(ce===at.CurrencyDecimal)return V[l.wAp.NumberSymbols][at.Decimal];if(ce===at.CurrencyGroup)return V[l.wAp.NumberSymbols][at.Group]}return ve}function _n(N){if(!N[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${N[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Pn(N,ce){for(let V=ce;V>-1;V--)if(typeof N[V]<"u")return N[V];throw new Error("Locale data API: locale data undefined")}function Le(N){const[ce,V]=N.split(":");return{hours:+ce,minutes:+V}}const It=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Pt={},Qt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var hn=(()=>((hn=hn||{})[hn.Short=0]="Short",hn[hn.ShortGMT=1]="ShortGMT",hn[hn.Long=2]="Long",hn[hn.Extended=3]="Extended",hn))(),ut=(()=>((ut=ut||{})[ut.FullYear=0]="FullYear",ut[ut.Month=1]="Month",ut[ut.Date=2]="Date",ut[ut.Hours=3]="Hours",ut[ut.Minutes=4]="Minutes",ut[ut.Seconds=5]="Seconds",ut[ut.FractionalSeconds=6]="FractionalSeconds",ut[ut.Day=7]="Day",ut))(),Ye=(()=>((Ye=Ye||{})[Ye.DayPeriods=0]="DayPeriods",Ye[Ye.Days=1]="Days",Ye[Ye.Months=2]="Months",Ye[Ye.Eras=3]="Eras",Ye))();function De(N,ce,V,ve){let Ke=function Rt(N){if(tt(N))return N;if("number"==typeof N&&!isNaN(N))return new Date(N);if("string"==typeof N){if(N=N.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(N)){const[Ke,Ht=1,Xt=1]=N.split("-").map(Kn=>+Kn);return rt(Ke,Ht-1,Xt)}const V=parseFloat(N);if(!isNaN(N-V))return new Date(V);let ve;if(ve=N.match(It))return function ht(N){const ce=new Date(0);let V=0,ve=0;const Ke=N[8]?ce.setUTCFullYear:ce.setFullYear,Ht=N[8]?ce.setUTCHours:ce.setHours;N[9]&&(V=Number(N[9]+N[10]),ve=Number(N[9]+N[11])),Ke.call(ce,Number(N[1]),Number(N[2])-1,Number(N[3]));const Xt=Number(N[4]||0)-V,Kn=Number(N[5]||0)-ve,Ki=Number(N[6]||0),Oi=Math.floor(1e3*parseFloat("0."+(N[7]||0)));return Ht.call(ce,Xt,Kn,Ki,Oi),ce}(ve)}const ce=new Date(N);if(!tt(ce))throw new Error(`Unable to convert "${N}" into a date`);return ce}(N);ce=Wt(V,ce)||ce;let Kn,Xt=[];for(;ce;){if(Kn=Qt.exec(ce),!Kn){Xt.push(ce);break}{Xt=Xt.concat(Kn.slice(1));const Mi=Xt.pop();if(!Mi)break;ce=Mi}}let Ki=Ke.getTimezoneOffset();ve&&(Ki=Ze(ve,Ki),Ke=function et(N,ce,V){const ve=V?-1:1,Ke=N.getTimezoneOffset();return function Ve(N,ce){return(N=new Date(N.getTime())).setMinutes(N.getMinutes()+ce),N}(N,ve*(Ze(ce,Ke)-Ke))}(Ke,ve,!0));let Oi="";return Xt.forEach(Mi=>{const yi=function Ln(N){if(Jt[N])return Jt[N];let ce;switch(N){case"G":case"GG":case"GGG":ce=Qn(Ye.Eras,ct.Abbreviated);break;case"GGGG":ce=Qn(Ye.Eras,ct.Wide);break;case"GGGGG":ce=Qn(Ye.Eras,ct.Narrow);break;case"y":ce=zn(ut.FullYear,1,0,!1,!0);break;case"yy":ce=zn(ut.FullYear,2,0,!0,!0);break;case"yyy":ce=zn(ut.FullYear,3,0,!1,!0);break;case"yyyy":ce=zn(ut.FullYear,4,0,!1,!0);break;case"Y":ce=an(1);break;case"YY":ce=an(2,!0);break;case"YYY":ce=an(3);break;case"YYYY":ce=an(4);break;case"M":case"L":ce=zn(ut.Month,1,1);break;case"MM":case"LL":ce=zn(ut.Month,2,1);break;case"MMM":ce=Qn(Ye.Months,ct.Abbreviated);break;case"MMMM":ce=Qn(Ye.Months,ct.Wide);break;case"MMMMM":ce=Qn(Ye.Months,ct.Narrow);break;case"LLL":ce=Qn(Ye.Months,ct.Abbreviated,Ue.Standalone);break;case"LLLL":ce=Qn(Ye.Months,ct.Wide,Ue.Standalone);break;case"LLLLL":ce=Qn(Ye.Months,ct.Narrow,Ue.Standalone);break;case"w":ce=ot(1);break;case"ww":ce=ot(2);break;case"W":ce=ot(1,!0);break;case"d":ce=zn(ut.Date,1);break;case"dd":ce=zn(ut.Date,2);break;case"c":case"cc":ce=zn(ut.Day,1);break;case"ccc":ce=Qn(Ye.Days,ct.Abbreviated,Ue.Standalone);break;case"cccc":ce=Qn(Ye.Days,ct.Wide,Ue.Standalone);break;case"ccccc":ce=Qn(Ye.Days,ct.Narrow,Ue.Standalone);break;case"cccccc":ce=Qn(Ye.Days,ct.Short,Ue.Standalone);break;case"E":case"EE":case"EEE":ce=Qn(Ye.Days,ct.Abbreviated);break;case"EEEE":ce=Qn(Ye.Days,ct.Wide);break;case"EEEEE":ce=Qn(Ye.Days,ct.Narrow);break;case"EEEEEE":ce=Qn(Ye.Days,ct.Short);break;case"a":case"aa":case"aaa":ce=Qn(Ye.DayPeriods,ct.Abbreviated);break;case"aaaa":ce=Qn(Ye.DayPeriods,ct.Wide);break;case"aaaaa":ce=Qn(Ye.DayPeriods,ct.Narrow);break;case"b":case"bb":case"bbb":ce=Qn(Ye.DayPeriods,ct.Abbreviated,Ue.Standalone,!0);break;case"bbbb":ce=Qn(Ye.DayPeriods,ct.Wide,Ue.Standalone,!0);break;case"bbbbb":ce=Qn(Ye.DayPeriods,ct.Narrow,Ue.Standalone,!0);break;case"B":case"BB":case"BBB":ce=Qn(Ye.DayPeriods,ct.Abbreviated,Ue.Format,!0);break;case"BBBB":ce=Qn(Ye.DayPeriods,ct.Wide,Ue.Format,!0);break;case"BBBBB":ce=Qn(Ye.DayPeriods,ct.Narrow,Ue.Format,!0);break;case"h":ce=zn(ut.Hours,1,-12);break;case"hh":ce=zn(ut.Hours,2,-12);break;case"H":ce=zn(ut.Hours,1);break;case"HH":ce=zn(ut.Hours,2);break;case"m":ce=zn(ut.Minutes,1);break;case"mm":ce=zn(ut.Minutes,2);break;case"s":ce=zn(ut.Seconds,1);break;case"ss":ce=zn(ut.Seconds,2);break;case"S":ce=zn(ut.FractionalSeconds,1);break;case"SS":ce=zn(ut.FractionalSeconds,2);break;case"SSS":ce=zn(ut.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ce=nn(hn.Short);break;case"ZZZZZ":ce=nn(hn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ce=nn(hn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ce=nn(hn.Long);break;default:return null}return Jt[N]=ce,ce}(Mi);Oi+=yi?yi(Ke,V,Ki):"''"===Mi?"'":Mi.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Oi}function rt(N,ce,V){const ve=new Date(0);return ve.setFullYear(N,ce,V),ve.setHours(0,0,0),ve}function Wt(N,ce){const V=function $t(N){return(0,l.cg1)(N)[l.wAp.LocaleId]}(N);if(Pt[V]=Pt[V]||{},Pt[V][ce])return Pt[V][ce];let ve="";switch(ce){case"shortDate":ve=qe(N,Ot.Short);break;case"mediumDate":ve=qe(N,Ot.Medium);break;case"longDate":ve=qe(N,Ot.Long);break;case"fullDate":ve=qe(N,Ot.Full);break;case"shortTime":ve=Z(N,Ot.Short);break;case"mediumTime":ve=Z(N,Ot.Medium);break;case"longTime":ve=Z(N,Ot.Long);break;case"fullTime":ve=Z(N,Ot.Full);break;case"short":const Ke=Wt(N,"shortTime"),Ht=Wt(N,"shortDate");ve=sn(ye(N,Ot.Short),[Ke,Ht]);break;case"medium":const Xt=Wt(N,"mediumTime"),Kn=Wt(N,"mediumDate");ve=sn(ye(N,Ot.Medium),[Xt,Kn]);break;case"long":const Ki=Wt(N,"longTime"),Oi=Wt(N,"longDate");ve=sn(ye(N,Ot.Long),[Ki,Oi]);break;case"full":const Mi=Wt(N,"fullTime"),yi=Wt(N,"fullDate");ve=sn(ye(N,Ot.Full),[Mi,yi])}return ve&&(Pt[V][ce]=ve),ve}function sn(N,ce){return ce&&(N=N.replace(/\{([^}]+)}/g,function(V,ve){return null!=ce&&ve in ce?ce[ve]:V})),N}function mn(N,ce,V="-",ve,Ke){let Ht="";(N<0||Ke&&N<=0)&&(Ke?N=1-N:(N=-N,Ht=V));let Xt=String(N);for(;Xt.length<ce;)Xt="0"+Xt;return ve&&(Xt=Xt.slice(Xt.length-ce)),Ht+Xt}function zn(N,ce,V=0,ve=!1,Ke=!1){return function(Ht,Xt){let Kn=function ri(N,ce){switch(N){case ut.FullYear:return ce.getFullYear();case ut.Month:return ce.getMonth();case ut.Date:return ce.getDate();case ut.Hours:return ce.getHours();case ut.Minutes:return ce.getMinutes();case ut.Seconds:return ce.getSeconds();case ut.FractionalSeconds:return ce.getMilliseconds();case ut.Day:return ce.getDay();default:throw new Error(`Unknown DateType value "${N}".`)}}(N,Ht);if((V>0||Kn>-V)&&(Kn+=V),N===ut.Hours)0===Kn&&-12===V&&(Kn=12);else if(N===ut.FractionalSeconds)return function ai(N,ce){return mn(N,3).substring(0,ce)}(Kn,ce);const Ki=R(Xt,at.MinusSign);return mn(Kn,ce,Ki,ve,Ke)}}function Qn(N,ce,V=Ue.Format,ve=!1){return function(Ke,Ht){return function Ti(N,ce,V,ve,Ke,Ht){switch(V){case Ye.Months:return function we(N,ce,V){const ve=(0,l.cg1)(N),Ht=Pn([ve[l.wAp.MonthsFormat],ve[l.wAp.MonthsStandalone]],ce);return Pn(Ht,V)}(ce,Ke,ve)[N.getMonth()];case Ye.Days:return function Zt(N,ce,V){const ve=(0,l.cg1)(N),Ht=Pn([ve[l.wAp.DaysFormat],ve[l.wAp.DaysStandalone]],ce);return Pn(Ht,V)}(ce,Ke,ve)[N.getDay()];case Ye.DayPeriods:const Xt=N.getHours(),Kn=N.getMinutes();if(Ht){const Oi=function Bn(N){const ce=(0,l.cg1)(N);return _n(ce),(ce[l.wAp.ExtraData][2]||[]).map(ve=>"string"==typeof ve?Le(ve):[Le(ve[0]),Le(ve[1])])}(ce),Mi=function qn(N,ce,V){const ve=(0,l.cg1)(N);_n(ve);const Ht=Pn([ve[l.wAp.ExtraData][0],ve[l.wAp.ExtraData][1]],ce)||[];return Pn(Ht,V)||[]}(ce,Ke,ve),yi=Oi.findIndex(tr=>{if(Array.isArray(tr)){const[Li,Lr]=tr,ps=Xt>=Li.hours&&Kn>=Li.minutes,Xr=Xt<Lr.hours||Xt===Lr.hours&&Kn<Lr.minutes;if(Li.hours<Lr.hours){if(ps&&Xr)return!0}else if(ps||Xr)return!0}else if(tr.hours===Xt&&tr.minutes===Kn)return!0;return!1});if(-1!==yi)return Mi[yi]}return function jt(N,ce,V){const ve=(0,l.cg1)(N),Ht=Pn([ve[l.wAp.DayPeriodsFormat],ve[l.wAp.DayPeriodsStandalone]],ce);return Pn(Ht,V)}(ce,Ke,ve)[Xt<12?0:1];case Ye.Eras:return function ke(N,ce){return Pn((0,l.cg1)(N)[l.wAp.Eras],ce)}(ce,ve)[N.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${V}`)}}(Ke,Ht,N,ce,V,ve)}}function nn(N){return function(ce,V,ve){const Ke=-1*ve,Ht=R(V,at.MinusSign),Xt=Ke>0?Math.floor(Ke/60):Math.ceil(Ke/60);switch(N){case hn.Short:return(Ke>=0?"+":"")+mn(Xt,2,Ht)+mn(Math.abs(Ke%60),2,Ht);case hn.ShortGMT:return"GMT"+(Ke>=0?"+":"")+mn(Xt,1,Ht);case hn.Long:return"GMT"+(Ke>=0?"+":"")+mn(Xt,2,Ht)+":"+mn(Math.abs(Ke%60),2,Ht);case hn.Extended:return 0===ve?"Z":(Ke>=0?"+":"")+mn(Xt,2,Ht)+":"+mn(Math.abs(Ke%60),2,Ht);default:throw new Error(`Unknown zone width "${N}"`)}}}const pt=0,mt=4;function ze(N){return rt(N.getFullYear(),N.getMonth(),N.getDate()+(mt-N.getDay()))}function ot(N,ce=!1){return function(V,ve){let Ke;if(ce){const Ht=new Date(V.getFullYear(),V.getMonth(),1).getDay()-1,Xt=V.getDate();Ke=1+Math.floor((Xt+Ht)/7)}else{const Ht=ze(V),Xt=function nt(N){const ce=rt(N,pt,1).getDay();return rt(N,0,1+(ce<=mt?mt:mt+7)-ce)}(Ht.getFullYear()),Kn=Ht.getTime()-Xt.getTime();Ke=1+Math.round(Kn/6048e5)}return mn(Ke,N,R(ve,at.MinusSign))}}function an(N,ce=!1){return function(V,ve){return mn(ze(V).getFullYear(),N,R(ve,at.MinusSign),ce)}}const Jt={};function Ze(N,ce){N=N.replace(/:/g,"");const V=Date.parse("Jan 01, 1970 00:00:00 "+N)/6e4;return isNaN(V)?ce:V}function tt(N){return N instanceof Date&&!isNaN(N.valueOf())}function Ei(N,ce){ce=encodeURIComponent(ce);for(const V of N.split(";")){const ve=V.indexOf("="),[Ke,Ht]=-1==ve?[V,""]:[V.slice(0,ve),V.slice(ve+1)];if(Ke.trim()===ce)return decodeURIComponent(Ht)}return null}const fi=/\s+/,yn=[];let ti=(()=>{class N{constructor(V,ve,Ke,Ht){this._iterableDiffers=V,this._keyValueDiffers=ve,this._ngEl=Ke,this._renderer=Ht,this.initialClasses=yn,this.stateMap=new Map}set klass(V){this.initialClasses=null!=V?V.trim().split(fi):yn}set ngClass(V){this.rawClass="string"==typeof V?V.trim().split(fi):V}ngDoCheck(){for(const ve of this.initialClasses)this._updateState(ve,!0);const V=this.rawClass;if(Array.isArray(V)||V instanceof Set)for(const ve of V)this._updateState(ve,!0);else if(null!=V)for(const ve of Object.keys(V))this._updateState(ve,Boolean(V[ve]));this._applyStateDiff()}_updateState(V,ve){const Ke=this.stateMap.get(V);void 0!==Ke?(Ke.enabled!==ve&&(Ke.changed=!0,Ke.enabled=ve),Ke.touched=!0):this.stateMap.set(V,{enabled:ve,changed:!0,touched:!0})}_applyStateDiff(){for(const V of this.stateMap){const ve=V[0],Ke=V[1];Ke.changed?(this._toggleClass(ve,Ke.enabled),Ke.changed=!1):Ke.touched||(Ke.enabled&&this._toggleClass(ve,!1),this.stateMap.delete(ve)),Ke.touched=!1}}_toggleClass(V,ve){(V=V.trim()).length>0&&V.split(fi).forEach(Ke=>{ve?this._renderer.addClass(this._ngEl.nativeElement,Ke):this._renderer.removeClass(this._ngEl.nativeElement,Ke)})}}return N.\u0275fac=function(V){return new(V||N)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},N.\u0275dir=l.lG2({type:N,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),N})();class Vi{constructor(ce,V,ve,Ke){this.$implicit=ce,this.ngForOf=V,this.index=ve,this.count=Ke}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let cr=(()=>{class N{set ngForOf(V){this._ngForOf=V,this._ngForOfDirty=!0}set ngForTrackBy(V){this._trackByFn=V}get ngForTrackBy(){return this._trackByFn}constructor(V,ve,Ke){this._viewContainer=V,this._template=ve,this._differs=Ke,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(V){V&&(this._template=V)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const V=this._ngForOf;!this._differ&&V&&(this._differ=this._differs.find(V).create(this.ngForTrackBy))}if(this._differ){const V=this._differ.diff(this._ngForOf);V&&this._applyChanges(V)}}_applyChanges(V){const ve=this._viewContainer;V.forEachOperation((Ke,Ht,Xt)=>{if(null==Ke.previousIndex)ve.createEmbeddedView(this._template,new Vi(Ke.item,this._ngForOf,-1,-1),null===Xt?void 0:Xt);else if(null==Xt)ve.remove(null===Ht?void 0:Ht);else if(null!==Ht){const Kn=ve.get(Ht);ve.move(Kn,Xt),ui(Kn,Ke)}});for(let Ke=0,Ht=ve.length;Ke<Ht;Ke++){const Kn=ve.get(Ke).context;Kn.index=Ke,Kn.count=Ht,Kn.ngForOf=this._ngForOf}V.forEachIdentityChange(Ke=>{ui(ve.get(Ke.currentIndex),Ke)})}static ngTemplateContextGuard(V,ve){return!0}}return N.\u0275fac=function(V){return new(V||N)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},N.\u0275dir=l.lG2({type:N,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),N})();function ui(N,ce){N.context.$implicit=ce.item}let Io=(()=>{class N{constructor(V,ve){this._viewContainer=V,this._context=new si,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ve}set ngIf(V){this._context.$implicit=this._context.ngIf=V,this._updateView()}set ngIfThen(V){Fo("ngIfThen",V),this._thenTemplateRef=V,this._thenViewRef=null,this._updateView()}set ngIfElse(V){Fo("ngIfElse",V),this._elseTemplateRef=V,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(V,ve){return!0}}return N.\u0275fac=function(V){return new(V||N)(l.Y36(l.s_b),l.Y36(l.Rgc))},N.\u0275dir=l.lG2({type:N,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),N})();class si{constructor(){this.$implicit=null,this.ngIf=null}}function Fo(N,ce){if(ce&&!ce.createEmbeddedView)throw new Error(`${N} must be a TemplateRef, but received '${(0,l.AaK)(ce)}'.`)}let Kr=(()=>{class N{constructor(V,ve,Ke){this._ngEl=V,this._differs=ve,this._renderer=Ke,this._ngStyle=null,this._differ=null}set ngStyle(V){this._ngStyle=V,!this._differ&&V&&(this._differ=this._differs.find(V).create())}ngDoCheck(){if(this._differ){const V=this._differ.diff(this._ngStyle);V&&this._applyChanges(V)}}_setStyle(V,ve){const[Ke,Ht]=V.split("."),Xt=-1===Ke.indexOf("-")?void 0:l.JOm.DashCase;null!=ve?this._renderer.setStyle(this._ngEl.nativeElement,Ke,Ht?`${ve}${Ht}`:ve,Xt):this._renderer.removeStyle(this._ngEl.nativeElement,Ke,Xt)}_applyChanges(V){V.forEachRemovedItem(ve=>this._setStyle(ve.key,null)),V.forEachAddedItem(ve=>this._setStyle(ve.key,ve.currentValue)),V.forEachChangedItem(ve=>this._setStyle(ve.key,ve.currentValue))}}return N.\u0275fac=function(V){return new(V||N)(l.Y36(l.SBq),l.Y36(l.aQg),l.Y36(l.Qsj))},N.\u0275dir=l.lG2({type:N,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),N})(),io=(()=>{class N{constructor(V){this._viewContainerRef=V,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(V){if(V.ngTemplateOutlet||V.ngTemplateOutletInjector){const ve=this._viewContainerRef;if(this._viewRef&&ve.remove(ve.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Ke,ngTemplateOutletContext:Ht,ngTemplateOutletInjector:Xt}=this;this._viewRef=ve.createEmbeddedView(Ke,Ht,Xt?{injector:Xt}:void 0)}else this._viewRef=null}else this._viewRef&&V.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return N.\u0275fac=function(V){return new(V||N)(l.Y36(l.s_b))},N.\u0275dir=l.lG2({type:N,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]}),N})();const qi=new l.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),oo=new l.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Qi=(()=>{class N{constructor(V,ve,Ke){this.locale=V,this.defaultTimezone=ve,this.defaultOptions=Ke}transform(V,ve,Ke,Ht){if(null==V||""===V||V!=V)return null;try{return De(V,ve??this.defaultOptions?.dateFormat??"mediumDate",Ht||this.locale,Ke??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Xt){throw function vr(N,ce){return new l.vHH(2100,!1)}()}}}return N.\u0275fac=function(V){return new(V||N)(l.Y36(l.soG,16),l.Y36(qi,24),l.Y36(oo,24))},N.\u0275pipe=l.Yjl({name:"date",type:N,pure:!0,standalone:!0}),N})(),Ca=(()=>{class N{}return N.\u0275fac=function(V){return new(V||N)},N.\u0275mod=l.oAB({type:N}),N.\u0275inj=l.cJS({}),N})();const da="browser",Bo="server";function As(N){return N===da}function dr(N){return N===Bo}let es=(()=>{class N{}return N.\u0275prov=(0,l.Yz7)({token:N,providedIn:"root",factory:()=>new Ws((0,l.LFG)(ee),window)}),N})();class Ws{constructor(ce,V){this.document=ce,this.window=V,this.offset=()=>[0,0]}setOffset(ce){this.offset=Array.isArray(ce)?()=>ce:ce}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ce){this.supportsScrolling()&&this.window.scrollTo(ce[0],ce[1])}scrollToAnchor(ce){if(!this.supportsScrolling())return;const V=function ts(N,ce){const V=N.getElementById(ce)||N.getElementsByName(ce)[0];if(V)return V;if("function"==typeof N.createTreeWalker&&N.body&&(N.body.createShadowRoot||N.body.attachShadow)){const ve=N.createTreeWalker(N.body,NodeFilter.SHOW_ELEMENT);let Ke=ve.currentNode;for(;Ke;){const Ht=Ke.shadowRoot;if(Ht){const Xt=Ht.getElementById(ce)||Ht.querySelector(`[name="${ce}"]`);if(Xt)return Xt}Ke=ve.nextNode()}}return null}(this.document,ce);V&&(this.scrollToElement(V),V.focus())}setHistoryScrollRestoration(ce){if(this.supportScrollRestoration()){const V=this.window.history;V&&V.scrollRestoration&&(V.scrollRestoration=ce)}}scrollToElement(ce){const V=ce.getBoundingClientRect(),ve=V.left+this.window.pageXOffset,Ke=V.top+this.window.pageYOffset,Ht=this.offset();this.window.scrollTo(ve-Ht[0],Ke-Ht[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ce=us(this.window.history)||us(Object.getPrototypeOf(this.window.history));return!(!ce||!ce.writable&&!ce.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function us(N){return Object.getOwnPropertyDescriptor(N,"scrollRestoration")}class Ks{}const Si=N=>N.src,so=new l.OlP("ImageLoader",{providedIn:"root",factory:()=>Si}),go=new l.OlP("NG_OPTIMIZED_PRELOADED_IMAGES",{providedIn:"root",factory:()=>new Set});let Vo=(()=>{class N{constructor(){this.preloadedImages=(0,l.f3M)(go),this.document=(0,l.f3M)(ee)}createPreloadLinkTag(V,ve,Ke,Ht){if(this.preloadedImages.has(ve))return;this.preloadedImages.add(ve);const Xt=V.createElement("link");V.setAttribute(Xt,"as","image"),V.setAttribute(Xt,"href",ve),V.setAttribute(Xt,"rel","preload"),V.setAttribute(Xt,"fetchpriority","high"),Ht&&V.setAttribute(Xt,"imageSizes",Ht),Ke&&V.setAttribute(Xt,"imageSrcset",Ke),V.appendChild(this.document.head,Xt)}}return N.\u0275fac=function(V){return new(V||N)},N.\u0275prov=l.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();const Cr=/^((\s*\d+w\s*(,|$)){1,})$/,Uo=[1,2],ns={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840]},pa=new l.OlP("ImageConfig",{providedIn:"root",factory:()=>ns});let Qs=(()=>{class N{constructor(){this.imageLoader=(0,l.f3M)(so),this.config=function Ia(N){let ce={};return N.breakpoints&&(ce.breakpoints=N.breakpoints.sort((V,ve)=>V-ve)),Object.assign({},ns,N,ce)}((0,l.f3M)(pa)),this.renderer=(0,l.f3M)(l.Qsj),this.imgElement=(0,l.f3M)(l.SBq).nativeElement,this.injector=(0,l.f3M)(l.zs3),this.isServer=dr((0,l.f3M)(l.Lbi)),this.preloadLinkChecker=(0,l.f3M)(Vo),this.lcpObserver=null,this._renderedSrc=null,this._priority=!1,this._disableOptimizedSrcset=!1,this._fill=!1}set width(V){this._width=Za(V)}get width(){return this._width}set height(V){this._height=Za(V)}get height(){return this._height}set priority(V){this._priority=Ps(V)}get priority(){return this._priority}set disableOptimizedSrcset(V){this._disableOptimizedSrcset=Ps(V)}get disableOptimizedSrcset(){return this._disableOptimizedSrcset}set fill(V){this._fill=Ps(V)}get fill(){return this._fill}ngOnInit(){this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||(this.sizes="100vw"):(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("ng-img","true");const V=this.getRewrittenSrc();let ve;this.setHostAttribute("src",V),this.sizes&&this.setHostAttribute("sizes",this.sizes),this.ngSrcset?ve=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(ve=this.getAutomaticSrcset()),ve&&this.setHostAttribute("srcset",ve),this.isServer&&this.priority&&this.preloadLinkChecker.createPreloadLinkTag(this.renderer,V,ve,this.sizes)}ngOnChanges(V){}callImageLoader(V){let ve=V;return this.loaderParams&&(ve.loaderParams=this.loaderParams),this.imageLoader(ve)}getLoadingBehavior(){return this.priority||void 0===this.loading?this.priority?"eager":"lazy":this.loading}getFetchPriority(){return this.priority?"high":"auto"}getRewrittenSrc(){return this._renderedSrc||(this._renderedSrc=this.callImageLoader({src:this.ngSrc})),this._renderedSrc}getRewrittenSrcset(){const V=Cr.test(this.ngSrcset);return this.ngSrcset.split(",").filter(Ke=>""!==Ke).map(Ke=>{Ke=Ke.trim();const Ht=V?parseFloat(Ke):parseFloat(Ke)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:Ht})} ${Ke}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){const{breakpoints:V}=this.config;let ve=V;return"100vw"===this.sizes?.trim()&&(ve=V.filter(Ht=>Ht>=640)),ve.map(Ht=>`${this.callImageLoader({src:this.ngSrc,width:Ht})} ${Ht}w`).join(", ")}getFixedSrcset(){return Uo.map(ve=>`${this.callImageLoader({src:this.ngSrc,width:this.width*ve})} ${ve}x`).join(", ")}shouldGenerateAutomaticSrcset(){return!this._disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==Si&&!(this.width>1920||this.height>1080)}ngOnDestroy(){}setHostAttribute(V,ve){this.renderer.setAttribute(this.imgElement,V,ve)}}return N.\u0275fac=function(V){return new(V||N)},N.\u0275dir=l.lG2({type:N,selectors:[["img","ngSrc",""]],hostVars:8,hostBindings:function(V,ve){2&V&&l.Udp("position",ve.fill?"absolute":null)("width",ve.fill?"100%":null)("height",ve.fill?"100%":null)("inset",ve.fill?"0px":null)},inputs:{ngSrc:"ngSrc",ngSrcset:"ngSrcset",sizes:"sizes",width:"width",height:"height",loading:"loading",priority:"priority",loaderParams:"loaderParams",disableOptimizedSrcset:"disableOptimizedSrcset",fill:"fill",src:"src",srcset:"srcset"},standalone:!0,features:[l.TTD]}),N})();function Za(N){return"string"==typeof N?parseInt(N,10):N}function Ps(N){return null!=N&&"false"!=`${N}`}},529:(wt,Fe,_)=>{"use strict";_.d(Fe,{JF:()=>nn,LE:()=>oe,TP:()=>ke,WM:()=>Y,eN:()=>$t});var l=_(6895),b=_(4650),f=_(9646),O=_(9751),de=_(4351),ee=_(9300),te=_(4004);class z{}class K{}class Y{constructor(ze){this.normalizedNames=new Map,this.lazyUpdate=null,ze?this.lazyInit="string"==typeof ze?()=>{this.headers=new Map,ze.split("\n").forEach(ot=>{const an=ot.indexOf(":");if(an>0){const Jt=ot.slice(0,an),Ln=Jt.toLowerCase(),Ze=ot.slice(an+1).trim();this.maybeSetNormalizedName(Jt,Ln),this.headers.has(Ln)?this.headers.get(Ln).push(Ze):this.headers.set(Ln,[Ze])}})}:()=>{this.headers=new Map,Object.entries(ze).forEach(([ot,an])=>{let Jt;if(Jt="string"==typeof an?[an]:"number"==typeof an?[an.toString()]:an.map(Ln=>Ln.toString()),Jt.length>0){const Ln=ot.toLowerCase();this.headers.set(Ln,Jt),this.maybeSetNormalizedName(ot,Ln)}})}:this.headers=new Map}has(ze){return this.init(),this.headers.has(ze.toLowerCase())}get(ze){this.init();const ot=this.headers.get(ze.toLowerCase());return ot&&ot.length>0?ot[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ze){return this.init(),this.headers.get(ze.toLowerCase())||null}append(ze,ot){return this.clone({name:ze,value:ot,op:"a"})}set(ze,ot){return this.clone({name:ze,value:ot,op:"s"})}delete(ze,ot){return this.clone({name:ze,value:ot,op:"d"})}maybeSetNormalizedName(ze,ot){this.normalizedNames.has(ot)||this.normalizedNames.set(ot,ze)}init(){this.lazyInit&&(this.lazyInit instanceof Y?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ze=>this.applyUpdate(ze)),this.lazyUpdate=null))}copyFrom(ze){ze.init(),Array.from(ze.headers.keys()).forEach(ot=>{this.headers.set(ot,ze.headers.get(ot)),this.normalizedNames.set(ot,ze.normalizedNames.get(ot))})}clone(ze){const ot=new Y;return ot.lazyInit=this.lazyInit&&this.lazyInit instanceof Y?this.lazyInit:this,ot.lazyUpdate=(this.lazyUpdate||[]).concat([ze]),ot}applyUpdate(ze){const ot=ze.name.toLowerCase();switch(ze.op){case"a":case"s":let an=ze.value;if("string"==typeof an&&(an=[an]),0===an.length)return;this.maybeSetNormalizedName(ze.name,ot);const Jt=("a"===ze.op?this.headers.get(ot):void 0)||[];Jt.push(...an),this.headers.set(ot,Jt);break;case"d":const Ln=ze.value;if(Ln){let Ze=this.headers.get(ot);if(!Ze)return;Ze=Ze.filter(Ve=>-1===Ln.indexOf(Ve)),0===Ze.length?(this.headers.delete(ot),this.normalizedNames.delete(ot)):this.headers.set(ot,Ze)}else this.headers.delete(ot),this.normalizedNames.delete(ot)}}forEach(ze){this.init(),Array.from(this.normalizedNames.keys()).forEach(ot=>ze(this.normalizedNames.get(ot),this.headers.get(ot)))}}class U{encodeKey(ze){return Ae(ze)}encodeValue(ze){return Ae(ze)}decodeKey(ze){return decodeURIComponent(ze)}decodeValue(ze){return decodeURIComponent(ze)}}const ne=/%(\d[a-f0-9])/gi,le={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ae(nt){return encodeURIComponent(nt).replace(ne,(ze,ot)=>le[ot]??ze)}function _e(nt){return`${nt}`}class oe{constructor(ze={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ze.encoder||new U,ze.fromString){if(ze.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function W(nt,ze){const ot=new Map;return nt.length>0&&nt.replace(/^\?/,"").split("&").forEach(Jt=>{const Ln=Jt.indexOf("="),[Ze,Ve]=-1==Ln?[ze.decodeKey(Jt),""]:[ze.decodeKey(Jt.slice(0,Ln)),ze.decodeValue(Jt.slice(Ln+1))],et=ot.get(Ze)||[];et.push(Ve),ot.set(Ze,et)}),ot}(ze.fromString,this.encoder)}else ze.fromObject?(this.map=new Map,Object.keys(ze.fromObject).forEach(ot=>{const an=ze.fromObject[ot],Jt=Array.isArray(an)?an.map(_e):[_e(an)];this.map.set(ot,Jt)})):this.map=null}has(ze){return this.init(),this.map.has(ze)}get(ze){this.init();const ot=this.map.get(ze);return ot?ot[0]:null}getAll(ze){return this.init(),this.map.get(ze)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ze,ot){return this.clone({param:ze,value:ot,op:"a"})}appendAll(ze){const ot=[];return Object.keys(ze).forEach(an=>{const Jt=ze[an];Array.isArray(Jt)?Jt.forEach(Ln=>{ot.push({param:an,value:Ln,op:"a"})}):ot.push({param:an,value:Jt,op:"a"})}),this.clone(ot)}set(ze,ot){return this.clone({param:ze,value:ot,op:"s"})}delete(ze,ot){return this.clone({param:ze,value:ot,op:"d"})}toString(){return this.init(),this.keys().map(ze=>{const ot=this.encoder.encodeKey(ze);return this.map.get(ze).map(an=>ot+"="+this.encoder.encodeValue(an)).join("&")}).filter(ze=>""!==ze).join("&")}clone(ze){const ot=new oe({encoder:this.encoder});return ot.cloneFrom=this.cloneFrom||this,ot.updates=(this.updates||[]).concat(ze),ot}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ze=>this.map.set(ze,this.cloneFrom.map.get(ze))),this.updates.forEach(ze=>{switch(ze.op){case"a":case"s":const ot=("a"===ze.op?this.map.get(ze.param):void 0)||[];ot.push(_e(ze.value)),this.map.set(ze.param,ot);break;case"d":if(void 0===ze.value){this.map.delete(ze.param);break}{let an=this.map.get(ze.param)||[];const Jt=an.indexOf(_e(ze.value));-1!==Jt&&an.splice(Jt,1),an.length>0?this.map.set(ze.param,an):this.map.delete(ze.param)}}}),this.cloneFrom=this.updates=null)}}class Me{constructor(){this.map=new Map}set(ze,ot){return this.map.set(ze,ot),this}get(ze){return this.map.has(ze)||this.map.set(ze,ze.defaultValue()),this.map.get(ze)}delete(ze){return this.map.delete(ze),this}has(ze){return this.map.has(ze)}keys(){return this.map.keys()}}function he(nt){return typeof ArrayBuffer<"u"&&nt instanceof ArrayBuffer}function xe(nt){return typeof Blob<"u"&&nt instanceof Blob}function je(nt){return typeof FormData<"u"&&nt instanceof FormData}class Xe{constructor(ze,ot,an,Jt){let Ln;if(this.url=ot,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ze.toUpperCase(),function pe(nt){switch(nt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Jt?(this.body=void 0!==an?an:null,Ln=Jt):Ln=an,Ln&&(this.reportProgress=!!Ln.reportProgress,this.withCredentials=!!Ln.withCredentials,Ln.responseType&&(this.responseType=Ln.responseType),Ln.headers&&(this.headers=Ln.headers),Ln.context&&(this.context=Ln.context),Ln.params&&(this.params=Ln.params)),this.headers||(this.headers=new Y),this.context||(this.context=new Me),this.params){const Ze=this.params.toString();if(0===Ze.length)this.urlWithParams=ot;else{const Ve=ot.indexOf("?");this.urlWithParams=ot+(-1===Ve?"?":Ve<ot.length-1?"&":"")+Ze}}else this.params=new oe,this.urlWithParams=ot}serializeBody(){return null===this.body?null:he(this.body)||xe(this.body)||je(this.body)||function Pe(nt){return typeof URLSearchParams<"u"&&nt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof oe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||je(this.body)?null:xe(this.body)?this.body.type||null:he(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof oe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ze={}){const ot=ze.method||this.method,an=ze.url||this.url,Jt=ze.responseType||this.responseType,Ln=void 0!==ze.body?ze.body:this.body,Ze=void 0!==ze.withCredentials?ze.withCredentials:this.withCredentials,Ve=void 0!==ze.reportProgress?ze.reportProgress:this.reportProgress;let et=ze.headers||this.headers,Rt=ze.params||this.params;const ht=ze.context??this.context;return void 0!==ze.setHeaders&&(et=Object.keys(ze.setHeaders).reduce((tt,X)=>tt.set(X,ze.setHeaders[X]),et)),ze.setParams&&(Rt=Object.keys(ze.setParams).reduce((tt,X)=>tt.set(X,ze.setParams[X]),Rt)),new Xe(ot,an,Ln,{params:Rt,headers:et,context:ht,reportProgress:Ve,responseType:Jt,withCredentials:Ze})}}var dt=(()=>((dt=dt||{})[dt.Sent=0]="Sent",dt[dt.UploadProgress=1]="UploadProgress",dt[dt.ResponseHeader=2]="ResponseHeader",dt[dt.DownloadProgress=3]="DownloadProgress",dt[dt.Response=4]="Response",dt[dt.User=5]="User",dt))();class Ue{constructor(ze,ot=200,an="OK"){this.headers=ze.headers||new Y,this.status=void 0!==ze.status?ze.status:ot,this.statusText=ze.statusText||an,this.url=ze.url||null,this.ok=this.status>=200&&this.status<300}}class ct extends Ue{constructor(ze={}){super(ze),this.type=dt.ResponseHeader}clone(ze={}){return new ct({headers:ze.headers||this.headers,status:void 0!==ze.status?ze.status:this.status,statusText:ze.statusText||this.statusText,url:ze.url||this.url||void 0})}}class Ot extends Ue{constructor(ze={}){super(ze),this.type=dt.Response,this.body=void 0!==ze.body?ze.body:null}clone(ze={}){return new Ot({body:void 0!==ze.body?ze.body:this.body,headers:ze.headers||this.headers,status:void 0!==ze.status?ze.status:this.status,statusText:ze.statusText||this.statusText,url:ze.url||this.url||void 0})}}class at extends Ue{constructor(ze){super(ze,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ze.url||"(unknown url)"}`:`Http failure response for ${ze.url||"(unknown url)"}: ${ze.status} ${ze.statusText}`,this.error=ze.error||null}}function fn(nt,ze){return{body:ze,headers:nt.headers,context:nt.context,observe:nt.observe,params:nt.params,reportProgress:nt.reportProgress,responseType:nt.responseType,withCredentials:nt.withCredentials}}let $t=(()=>{class nt{constructor(ot){this.handler=ot}request(ot,an,Jt={}){let Ln;if(ot instanceof Xe)Ln=ot;else{let et,Rt;et=Jt.headers instanceof Y?Jt.headers:new Y(Jt.headers),Jt.params&&(Rt=Jt.params instanceof oe?Jt.params:new oe({fromObject:Jt.params})),Ln=new Xe(ot,an,void 0!==Jt.body?Jt.body:null,{headers:et,context:Jt.context,params:Rt,reportProgress:Jt.reportProgress,responseType:Jt.responseType||"json",withCredentials:Jt.withCredentials})}const Ze=(0,f.of)(Ln).pipe((0,de.b)(et=>this.handler.handle(et)));if(ot instanceof Xe||"events"===Jt.observe)return Ze;const Ve=Ze.pipe((0,ee.h)(et=>et instanceof Ot));switch(Jt.observe||"body"){case"body":switch(Ln.responseType){case"arraybuffer":return Ve.pipe((0,te.U)(et=>{if(null!==et.body&&!(et.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return et.body}));case"blob":return Ve.pipe((0,te.U)(et=>{if(null!==et.body&&!(et.body instanceof Blob))throw new Error("Response is not a Blob.");return et.body}));case"text":return Ve.pipe((0,te.U)(et=>{if(null!==et.body&&"string"!=typeof et.body)throw new Error("Response is not a string.");return et.body}));default:return Ve.pipe((0,te.U)(et=>et.body))}case"response":return Ve;default:throw new Error(`Unreachable: unhandled observe type ${Jt.observe}}`)}}delete(ot,an={}){return this.request("DELETE",ot,an)}get(ot,an={}){return this.request("GET",ot,an)}head(ot,an={}){return this.request("HEAD",ot,an)}jsonp(ot,an){return this.request("JSONP",ot,{params:(new oe).append(an,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ot,an={}){return this.request("OPTIONS",ot,an)}patch(ot,an,Jt={}){return this.request("PATCH",ot,fn(Jt,an))}post(ot,an,Jt={}){return this.request("POST",ot,fn(Jt,an))}put(ot,an,Jt={}){return this.request("PUT",ot,fn(Jt,an))}}return nt.\u0275fac=function(ot){return new(ot||nt)(b.LFG(z))},nt.\u0275prov=b.Yz7({token:nt,factory:nt.\u0275fac}),nt})();function jt(nt,ze){return ze(nt)}function Zt(nt,ze){return(ot,an)=>ze.intercept(ot,{handle:Jt=>nt(Jt,an)})}const ke=new b.OlP("HTTP_INTERCEPTORS"),Ne=new b.OlP("HTTP_INTERCEPTOR_FNS");function me(){let nt=null;return(ze,ot)=>(null===nt&&(nt=((0,b.f3M)(ke,{optional:!0})??[]).reduceRight(Zt,jt)),nt(ze,ot))}let qe=(()=>{class nt extends z{constructor(ot,an){super(),this.backend=ot,this.injector=an,this.chain=null}handle(ot){if(null===this.chain){const an=Array.from(new Set(this.injector.get(Ne)));this.chain=an.reduceRight((Jt,Ln)=>function we(nt,ze,ot){return(an,Jt)=>ot.runInContext(()=>ze(an,Ln=>nt(Ln,Jt)))}(Jt,Ln,this.injector),jt)}return this.chain(ot,an=>this.backend.handle(an))}}return nt.\u0275fac=function(ot){return new(ot||nt)(b.LFG(K),b.LFG(b.lqb))},nt.\u0275prov=b.Yz7({token:nt,factory:nt.\u0275fac}),nt})();const qn=/^\)\]\}',?\n/;let Pn=(()=>{class nt{constructor(ot){this.xhrFactory=ot}handle(ot){if("JSONP"===ot.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new O.y(an=>{const Jt=this.xhrFactory.build();if(Jt.open(ot.method,ot.urlWithParams),ot.withCredentials&&(Jt.withCredentials=!0),ot.headers.forEach((L,T)=>Jt.setRequestHeader(L,T.join(","))),ot.headers.has("Accept")||Jt.setRequestHeader("Accept","application/json, text/plain, */*"),!ot.headers.has("Content-Type")){const L=ot.detectContentTypeHeader();null!==L&&Jt.setRequestHeader("Content-Type",L)}if(ot.responseType){const L=ot.responseType.toLowerCase();Jt.responseType="json"!==L?L:"text"}const Ln=ot.serializeBody();let Ze=null;const Ve=()=>{if(null!==Ze)return Ze;const L=Jt.statusText||"OK",T=new Y(Jt.getAllResponseHeaders()),j=function Mn(nt){return"responseURL"in nt&&nt.responseURL?nt.responseURL:/^X-Request-URL:/m.test(nt.getAllResponseHeaders())?nt.getResponseHeader("X-Request-URL"):null}(Jt)||ot.url;return Ze=new ct({headers:T,status:Jt.status,statusText:L,url:j}),Ze},et=()=>{let{headers:L,status:T,statusText:j,url:Ee}=Ve(),Oe=null;204!==T&&(Oe=typeof Jt.response>"u"?Jt.responseText:Jt.response),0===T&&(T=Oe?200:0);let st=T>=200&&T<300;if("json"===ot.responseType&&"string"==typeof Oe){const _t=Oe;Oe=Oe.replace(qn,"");try{Oe=""!==Oe?JSON.parse(Oe):null}catch(en){Oe=_t,st&&(st=!1,Oe={error:en,text:Oe})}}st?(an.next(new Ot({body:Oe,headers:L,status:T,statusText:j,url:Ee||void 0})),an.complete()):an.error(new at({error:Oe,headers:L,status:T,statusText:j,url:Ee||void 0}))},Rt=L=>{const{url:T}=Ve(),j=new at({error:L,status:Jt.status||0,statusText:Jt.statusText||"Unknown Error",url:T||void 0});an.error(j)};let ht=!1;const tt=L=>{ht||(an.next(Ve()),ht=!0);let T={type:dt.DownloadProgress,loaded:L.loaded};L.lengthComputable&&(T.total=L.total),"text"===ot.responseType&&Jt.responseText&&(T.partialText=Jt.responseText),an.next(T)},X=L=>{let T={type:dt.UploadProgress,loaded:L.loaded};L.lengthComputable&&(T.total=L.total),an.next(T)};return Jt.addEventListener("load",et),Jt.addEventListener("error",Rt),Jt.addEventListener("timeout",Rt),Jt.addEventListener("abort",Rt),ot.reportProgress&&(Jt.addEventListener("progress",tt),null!==Ln&&Jt.upload&&Jt.upload.addEventListener("progress",X)),Jt.send(Ln),an.next({type:dt.Sent}),()=>{Jt.removeEventListener("error",Rt),Jt.removeEventListener("abort",Rt),Jt.removeEventListener("load",et),Jt.removeEventListener("timeout",Rt),ot.reportProgress&&(Jt.removeEventListener("progress",tt),null!==Ln&&Jt.upload&&Jt.upload.removeEventListener("progress",X)),Jt.readyState!==Jt.DONE&&Jt.abort()}})}}return nt.\u0275fac=function(ot){return new(ot||nt)(b.LFG(l.JF))},nt.\u0275prov=b.Yz7({token:nt,factory:nt.\u0275fac}),nt})();const Le=new b.OlP("XSRF_ENABLED"),ge=new b.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),It=new b.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Pt{}let Qt=(()=>{class nt{constructor(ot,an,Jt){this.doc=ot,this.platform=an,this.cookieName=Jt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ot=this.doc.cookie||"";return ot!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,l.Mx)(ot,this.cookieName),this.lastCookieString=ot),this.lastToken}}return nt.\u0275fac=function(ot){return new(ot||nt)(b.LFG(l.K0),b.LFG(b.Lbi),b.LFG(ge))},nt.\u0275prov=b.Yz7({token:nt,factory:nt.\u0275fac}),nt})();function hn(nt,ze){const ot=nt.url.toLowerCase();if(!(0,b.f3M)(Le)||"GET"===nt.method||"HEAD"===nt.method||ot.startsWith("http://")||ot.startsWith("https://"))return ze(nt);const an=(0,b.f3M)(Pt).getToken(),Jt=(0,b.f3M)(It);return null!=an&&!nt.headers.has(Jt)&&(nt=nt.clone({headers:nt.headers.set(Jt,an)})),ze(nt)}var Ye=(()=>((Ye=Ye||{})[Ye.Interceptors=0]="Interceptors",Ye[Ye.LegacyInterceptors=1]="LegacyInterceptors",Ye[Ye.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ye[Ye.NoXsrfProtection=3]="NoXsrfProtection",Ye[Ye.JsonpSupport=4]="JsonpSupport",Ye[Ye.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ye))();function De(nt,ze){return{\u0275kind:nt,\u0275providers:ze}}function rt(...nt){const ze=[$t,Pn,qe,{provide:z,useExisting:qe},{provide:K,useExisting:Pn},{provide:Ne,useValue:hn,multi:!0},{provide:Le,useValue:!0},{provide:Pt,useClass:Qt}];for(const ot of nt)ze.push(...ot.\u0275providers);return(0,b.MR2)(ze)}const sn=new b.OlP("LEGACY_INTERCEPTOR_FN");let nn=(()=>{class nt{}return nt.\u0275fac=function(ot){return new(ot||nt)},nt.\u0275mod=b.oAB({type:nt}),nt.\u0275inj=b.cJS({providers:[rt(De(Ye.LegacyInterceptors,[{provide:sn,useFactory:me},{provide:Ne,useExisting:sn,multi:!0}]))]}),nt})()},4650:(wt,Fe,_)=>{"use strict";_.d(Fe,{$8M:()=>Xa,$WT:()=>on,$Z:()=>ru,AFp:()=>Je,ALo:()=>xd,AaK:()=>z,AsE:()=>dl,BQk:()=>Th,CHM:()=>pi,CRH:()=>og,CZH:()=>Ie,CqO:()=>bm,D6c:()=>Ig,DdM:()=>vc,EJc:()=>Ct,EiD:()=>Oo,EpF:()=>vm,F$t:()=>Oy,F4k:()=>gd,FYo:()=>zp,FiY:()=>jn,Gf:()=>oC,GfV:()=>bo,GkF:()=>Ah,Gpc:()=>k,Hsn:()=>xm,JOm:()=>Os,JVY:()=>qc,JZr:()=>Ae,KtG:()=>Ni,L6k:()=>qd,LAX:()=>Qd,LFG:()=>nn,LSH:()=>ih,Lbi:()=>Cn,Lck:()=>Qm,MAs:()=>hc,MGl:()=>Dh,MMx:()=>S0,MR2:()=>os,NdJ:()=>U_,O4$:()=>Tu,OlP:()=>or,Oqu:()=>o0,P3R:()=>be,PXZ:()=>xs,Q6J:()=>mm,QGY:()=>ym,QbO:()=>vn,Qsj:()=>Qg,R0b:()=>Bi,RDi:()=>Rp,Rgc:()=>cp,SBq:()=>td,Sil:()=>zt,Suo:()=>sC,TTD:()=>Gs,TgZ:()=>gm,Tol:()=>Hy,Udp:()=>Dm,VKq:()=>Fb,W1O:()=>G0,WFA:()=>z_,WLB:()=>N0,X6Q:()=>EE,XFs:()=>Le,Xpm:()=>st,Xts:()=>Tn,Y36:()=>Vl,YKP:()=>Mb,YNc:()=>pm,Yjl:()=>Gn,Yz7:()=>R,Z0I:()=>$e,ZZ4:()=>vv,_Bn:()=>Ux,_UZ:()=>B_,_Vd:()=>ah,_c5:()=>ME,_uU:()=>Rm,aQg:()=>bv,c2e:()=>Un,cJS:()=>Qe,cg1:()=>kh,d8E:()=>Xf,dDg:()=>tv,dqk:()=>Qt,eBb:()=>Zu,eFA:()=>vE,eJc:()=>ag,ekj:()=>Gf,eoX:()=>nv,f3M:()=>mt,g9A:()=>qt,h0i:()=>_u,hGG:()=>Vr,hij:()=>Oh,iGM:()=>rC,ifc:()=>et,ip1:()=>ue,jDz:()=>Rb,kL8:()=>g0,kcU:()=>Yl,kuF:()=>oe,lG2:()=>An,lcZ:()=>Vb,lnq:()=>Kf,lqb:()=>Va,lri:()=>cg,mCW:()=>Yu,n5z:()=>Rc,n_E:()=>tg,oAB:()=>On,oJD:()=>Qu,oxw:()=>Ry,pB0:()=>Xd,q3G:()=>Br,q4F:()=>zi,qLn:()=>Af,qOj:()=>A_,qZA:()=>Ih,qzn:()=>Ai,rWj:()=>ug,s9C:()=>$_,sBO:()=>Vs,s_b:()=>ng,soG:()=>ci,tBr:()=>Ra,tb:()=>gE,tp0:()=>Ru,uIk:()=>O_,uOi:()=>y,vHH:()=>_e,vpe:()=>yc,wAp:()=>di,xi3:()=>Ub,xp6:()=>Zv,ynx:()=>_m,z2F:()=>Cu,z3N:()=>Fa,zSh:()=>Fl,zs3:()=>rd});var l=_(7579),b=_(727),f=_(9751),O=_(6451),de=_(3099);function ee(n){for(let r in n)if(n[r]===ee)return r;throw Error("Could not find renamed property on target object.")}function te(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function z(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(z).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function K(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const Y=ee({__forward_ref__:ee});function k(n){return n.__forward_ref__=k,n.toString=function(){return z(this())},n}function U(n){return W(n)?n():n}function W(n){return"function"==typeof n&&n.hasOwnProperty(Y)&&n.__forward_ref__===k}function ne(n){return n&&!!n.\u0275providers}const Ae="https://g.co/ng/security#xss";class _e extends Error{constructor(r,s){super(oe(r,s)),this.code=r}}function oe(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}function fe(n){return"string"==typeof n?n:null==n?"":String(n)}function je(n,r){throw new _e(-201,!1)}function Ne(n,r){null==n&&function me(n,r,s,c){throw new Error(`ASSERTION ERROR: ${n}`+(null==c?"":` [Expected=> ${s} ${c} ${r} <=Actual]`))}(r,n,null,"!=")}function R(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Qe(n){return{providers:n.providers||[],imports:n.imports||[]}}function Tt(n){return Mt(n,Bn)||Mt(n,Mn)}function $e(n){return null!==Tt(n)}function Mt(n,r){return n.hasOwnProperty(r)?n[r]:null}function _n(n){return n&&(n.hasOwnProperty(qn)||n.hasOwnProperty(Pn))?n[qn]:null}const Bn=ee({\u0275prov:ee}),qn=ee({\u0275inj:ee}),Mn=ee({ngInjectableDef:ee}),Pn=ee({ngInjectorDef:ee});var Le=(()=>((Le=Le||{})[Le.Default=0]="Default",Le[Le.Host=1]="Host",Le[Le.Self=2]="Self",Le[Le.SkipSelf=4]="SkipSelf",Le[Le.Optional=8]="Optional",Le))();let re;function He(n){const r=re;return re=n,r}function It(n,r,s){const c=Tt(n);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:s&Le.Optional?null:void 0!==r?r:void je(z(n))}const Qt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),De={},rt="__NG_DI_FLAG__",Wt="ngTempTokenPath",sn="ngTokenPath",mn=/\n/gm,ai="\u0275",zn="__source";let ri;function Qn(n){const r=ri;return ri=n,r}function Ti(n,r=Le.Default){if(void 0===ri)throw new _e(-203,!1);return null===ri?It(n,void 0,r):ri.get(n,r&Le.Optional?null:void 0,r)}function nn(n,r=Le.Default){return(function ge(){return re}()||Ti)(U(n),r)}function mt(n,r=Le.Default){return nn(n,nt(r))}function nt(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function ze(n){const r=[];for(let s=0;s<n.length;s++){const c=U(n[s]);if(Array.isArray(c)){if(0===c.length)throw new _e(900,!1);let d,g=Le.Default;for(let w=0;w<c.length;w++){const F=c[w],H=an(F);"number"==typeof H?-1===H?d=F.token:g|=H:d=F}r.push(nn(d,g))}else r.push(nn(c))}return r}function ot(n,r){return n[rt]=r,n.prototype[rt]=r,n}function an(n){return n[rt]}function Ze(n){return{toString:n}.toString()}var Ve=(()=>((Ve=Ve||{})[Ve.OnPush=0]="OnPush",Ve[Ve.Default=1]="Default",Ve))(),et=(()=>{return(n=et||(et={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",et;var n})();const Rt={},ht=[],tt=ee({\u0275cmp:ee}),X=ee({\u0275dir:ee}),L=ee({\u0275pipe:ee}),T=ee({\u0275mod:ee}),j=ee({\u0275fac:ee}),Ee=ee({__NG_ELEMENT_ID__:ee});let Oe=0;function st(n){return Ze(()=>{const r=ni(n),s={...r,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Ve.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||et.Emulated,id:"c"+Oe++,styles:n.styles||ht,_:null,schemas:n.schemas||null,tView:null};li(s);const c=n.dependencies;return s.directiveDefs=Ei(c,!1),s.pipeDefs=Ei(c,!0),s})}function en(n){return bt(n)||Et(n)}function bn(n){return null!==n}function On(n){return Ze(()=>({type:n.type,bootstrap:n.bootstrap||ht,declarations:n.declarations||ht,imports:n.imports||ht,exports:n.exports||ht,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function $n(n,r){if(null==n)return Rt;const s={};for(const c in n)if(n.hasOwnProperty(c)){let d=n[c],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),s[d]=c,r&&(r[d]=g)}return s}function An(n){return Ze(()=>{const r=ni(n);return li(r),r})}function Gn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function bt(n){return n[tt]||null}function Et(n){return n[X]||null}function Vt(n){return n[L]||null}function on(n){const r=bt(n)||Et(n)||Vt(n);return null!==r&&r.standalone}function In(n,r){const s=n[T]||null;if(!s&&!0===r)throw new Error(`Type ${z(n)} does not have '\u0275mod' property.`);return s}function ni(n){const r={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||ht,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:$n(n.inputs,r),outputs:$n(n.outputs)}}function li(n){n.features?.forEach(r=>r(n))}function Ei(n,r){if(!n)return null;const s=r?Vt:en;return()=>("function"==typeof n?n():n).map(c=>s(c)).filter(bn)}const fi=0,yn=1,ti=2,oi=3,nr=4,lr=5,Vi=6,cr=7,ui=8,_r=9,Io=10,si=11,Fo=12,$o=13,zs=14,Ir=15,Tr=16,To=17,Wr=18,Zr=19,Kr=20,io=21,Ri=22,Ao=1,Cs=2,Hs=7,No=8,Yr=9,ur=10;function Gi(n){return Array.isArray(n)&&"object"==typeof n[Ao]}function xr(n){return Array.isArray(n)&&!0===n[Ao]}function ro(n){return 0!=(4&n.flags)}function qi(n){return n.componentOffset>-1}function oo(n){return 1==(1&n.flags)}function Qi(n){return!!n.template}function Ga(n){return 0!=(256&n[ti])}function Wo(n,r){return n.hasOwnProperty(j)?n[j]:null}class cs{constructor(r,s,c){this.previousValue=r,this.currentValue=s,this.firstChange=c}isFirstChange(){return this.firstChange}}function Gs(){return es}function es(n){return n.type.prototype.ngOnChanges&&(n.setInput=us),Ws}function Ws(){const n=Zs(this),r=n?.current;if(r){const s=n.previous;if(s===Rt)n.previous=r;else for(let c in r)s[c]=r[c];n.current=null,this.ngOnChanges(r)}}function us(n,r,s,c){const d=this.declaredInputs[s],g=Zs(n)||function Ks(n,r){return n[ts]=r}(n,{previous:Rt,current:null}),w=g.current||(g.current={}),F=g.previous,H=F[d];w[d]=new cs(H&&H.currentValue,r,F===Rt),n[c]=r}Gs.ngInherit=!0;const ts="__ngSimpleChanges__";function Zs(n){return n[ts]||null}const Nr=function(n,r,s){},hs="svg";function ir(n){for(;Array.isArray(n);)n=n[fi];return n}function so(n,r){return ir(r[n])}function Fi(n,r){return ir(r[n.index])}function Ds(n,r){return n.data[r]}function So(n,r){return n[r]}function Or(n,r){const s=r[n];return Gi(s)?s:s[fi]}function fa(n){return 64==(64&n[ti])}function ao(n,r){return null==r?null:n[r]}function qs(n){n[Wr]=0}function fs(n,r){n[lr]+=r;let s=n,c=n[oi];for(;null!==c&&(1===r&&1===s[lr]||-1===r&&0===s[lr]);)c[lr]+=r,s=c,c=c[oi]}const Wn={lFrame:Zl(null),bindingsEnabled:!0};function Ge(){return Wn.bindingsEnabled}function vt(){return Wn.lFrame.lView}function xn(){return Wn.lFrame.tView}function pi(n){return Wn.lFrame.contextLView=n,n[ui]}function Ni(n){return Wn.lFrame.contextLView=null,n}function bi(){let n=Hi();for(;null!==n&&64===n.type;)n=n.parent;return n}function Hi(){return Wn.lFrame.currentTNode}function Xi(n,r){const s=Wn.lFrame;s.currentTNode=n,s.isParent=r}function Ji(){return Wn.lFrame.isParent}function go(){Wn.lFrame.isParent=!1}function er(){const n=Wn.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function Hr(){return Wn.lFrame.bindingIndex}function Uo(){return Wn.lFrame.bindingIndex++}function Qr(n){const r=Wn.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}function ml(n,r){const s=Wn.lFrame;s.bindingIndex=s.bindingRootIndex=n,co(r)}function co(n){Wn.lFrame.currentDirectiveIndex=n}function ns(n){const r=Wn.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}function pa(){return Wn.lFrame.currentQueryIndex}function Qs(n){Wn.lFrame.currentQueryIndex=n}function Za(n){const r=n[yn];return 2===r.type?r.declTNode:1===r.type?n[Vi]:null}function Ps(n,r,s){if(s&Le.SkipSelf){let d=r,g=n;for(;!(d=d.parent,null!==d||s&Le.Host||(d=Za(g),null===d||(g=g[Ir],10&d.type))););if(null===d)return!1;r=d,n=g}const c=Wn.lFrame=ma();return c.currentTNode=r,c.lView=n,!0}function Ia(n){const r=ma(),s=n[yn];Wn.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function ma(){const n=Wn.lFrame,r=null===n?null:n.child;return null===r?Zl(n):r}function Zl(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Ta(){const n=Wn.lFrame;return Wn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Iu=Ta;function Ka(){const n=Ta();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Zi(){return Wn.lFrame.selectedIndex}function Zo(n){Wn.lFrame.selectedIndex=n}function fr(){const n=Wn.lFrame;return Ds(n.tView,n.selectedIndex)}function Tu(){Wn.lFrame.currentNamespace=hs}function Yl(){!function Du(){Wn.lFrame.currentNamespace=null}()}function qa(n,r){for(let s=r.directiveStart,c=r.directiveEnd;s<c;s++){const g=n.data[s].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:F,ngAfterViewInit:H,ngAfterViewChecked:se,ngOnDestroy:Te}=g;w&&(n.contentHooks??(n.contentHooks=[])).push(-s,w),F&&((n.contentHooks??(n.contentHooks=[])).push(s,F),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(s,F)),H&&(n.viewHooks??(n.viewHooks=[])).push(-s,H),se&&((n.viewHooks??(n.viewHooks=[])).push(s,se),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(s,se)),null!=Te&&(n.destroyHooks??(n.destroyHooks=[])).push(s,Te)}}function Aa(n,r,s){ce(n,r,3,s)}function Da(n,r,s,c){(3&n[ti])===s&&ce(n,r,s,c)}function N(n,r){let s=n[ti];(3&s)===r&&(s&=2047,s+=1,n[ti]=s)}function ce(n,r,s,c){const g=c??-1,w=r.length-1;let F=0;for(let H=void 0!==c?65535&n[Wr]:0;H<w;H++)if("number"==typeof r[H+1]){if(F=r[H],null!=c&&F>=c)break}else r[H]<0&&(n[Wr]+=65536),(F<g||-1==g)&&(V(n,s,r,H),n[Wr]=(4294901760&n[Wr])+H+2),H++}function V(n,r,s,c){const d=s[c]<0,g=s[c+1],F=n[d?-s[c]:s[c]];if(d){if(n[ti]>>11<n[Wr]>>16&&(3&n[ti])===r){n[ti]+=2048,Nr(4,F,g);try{g.call(F)}finally{Nr(5,F,g)}}}else{Nr(4,F,g);try{g.call(F)}finally{Nr(5,F,g)}}}const ve=-1;class Ke{constructor(r,s,c){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=c}}function Li(n,r,s){let c=0;for(;c<s.length;){const d=s[c];if("number"==typeof d){if(0!==d)break;c++;const g=s[c++],w=s[c++],F=s[c++];n.setAttribute(r,w,F,g)}else{const g=d,w=s[++c];ps(g)?n.setProperty(r,g,w):n.setAttribute(r,g,w),c++}}return c}function Lr(n){return 3===n||4===n||6===n}function ps(n){return 64===n.charCodeAt(0)}function Xr(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let c=0;c<r.length;c++){const d=r[c];"number"==typeof d?s=d:0===s||Ko(n,s,d,null,-1===s||2===s?r[++c]:null)}}return n}function Ko(n,r,s,c,d){let g=0,w=n.length;if(-1===r)w=-1;else for(;g<n.length;){const F=n[g++];if("number"==typeof F){if(F===r){w=-1;break}if(F>r){w=g-1;break}}}for(;g<n.length;){const F=n[g];if("number"==typeof F)break;if(F===s){if(null===c)return void(null!==d&&(n[g+1]=d));if(c===n[g+1])return void(n[g+2]=d)}g++,null!==c&&g++,null!==d&&g++}-1!==w&&(n.splice(w,0,r),g=w+1),n.splice(g++,0,s),null!==c&&n.splice(g++,0,c),null!==d&&n.splice(g++,0,d)}function zo(n){return n!==ve}function ms(n){return 32767&n}function gs(n,r){let s=function Qa(n){return n>>16}(n),c=r;for(;s>0;)c=c[Ir],s--;return c}let Sd=!0;function Dc(n){const r=Sd;return Sd=n,r}const Sc=255,Kh=5;let bp=0;const Rs={};function ql(n,r){const s=Yo(n,r);if(-1!==s)return s;const c=r[yn];c.firstCreatePass&&(n.injectorIndex=r.length,pr(c.data,n),pr(r,null),pr(c.blueprint,null));const d=_o(n,r),g=n.injectorIndex;if(zo(d)){const w=ms(d),F=gs(d,r),H=F[yn].data;for(let se=0;se<8;se++)r[g+se]=F[w+se]|H[w+se]}return r[g+8]=d,g}function pr(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Yo(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function _o(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,c=null,d=r;for(;null!==d;){if(c=Rd(d),null===c)return ve;if(s++,d=d[Ir],-1!==c.injectorIndex)return c.injectorIndex|s<<16}return ve}function Sa(n,r,s){!function Ep(n,r,s){let c;"string"==typeof s?c=s.charCodeAt(0)||0:s.hasOwnProperty(Ee)&&(c=s[Ee]),null==c&&(c=s[Ee]=bp++);const d=c&Sc;r.data[n+(d>>Kh)]|=1<<d}(n,r,s)}function vl(n,r,s){if(s&Le.Optional||void 0!==n)return n;je()}function Md(n,r,s,c){if(s&Le.Optional&&void 0===c&&(c=null),!(s&(Le.Self|Le.Host))){const d=n[_r],g=He(void 0);try{return d?d.get(r,c,s&Le.Optional):It(r,c,s&Le.Optional)}finally{He(g)}}return vl(c,0,s)}function yl(n,r,s,c=Le.Default,d){if(null!==n){if(1024&r[ti]){const w=function Oc(n,r,s,c,d){let g=n,w=r;for(;null!==g&&null!==w&&1024&w[ti]&&!(256&w[ti]);){const F=Xs(g,w,s,c|Le.Self,Rs);if(F!==Rs)return F;let H=g.parent;if(!H){const se=w[io];if(se){const Te=se.get(s,Rs,c);if(Te!==Rs)return Te}H=Rd(w),w=w[Ir]}g=H}return d}(n,r,s,c,Rs);if(w!==Rs)return w}const g=Xs(n,r,s,c,Rs);if(g!==Rs)return g}return Md(r,s,c,d)}function Xs(n,r,s,c,d){const g=function Mu(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Ee)?n[Ee]:void 0;return"number"==typeof r?r>=0?r&Sc:Pc:r}(s);if("function"==typeof g){if(!Ps(r,n,c))return c&Le.Host?vl(d,0,c):Md(r,s,c,d);try{const w=g(c);if(null!=w||c&Le.Optional)return w;je()}finally{Iu()}}else if("number"==typeof g){let w=null,F=Yo(n,r),H=ve,se=c&Le.Host?r[Tr][Vi]:null;for((-1===F||c&Le.SkipSelf)&&(H=-1===F?_o(n,r):r[F+8],H!==ve&&Pd(c,!1)?(w=r[yn],F=ms(H),r=gs(H,r)):F=-1);-1!==F;){const Te=r[yn];if(Ho(g,F,Te.data)){const We=qo(F,r,s,w,c,se);if(We!==Rs)return We}H=r[F+8],H!==ve&&Pd(c,r[yn].data[F+8]===se)&&Ho(g,F,r)?(w=Te,F=ms(H),r=gs(H,r)):F=-1}}return d}function qo(n,r,s,c,d,g){const w=r[yn],F=w.data[n+8],Te=Mc(F,w,s,null==c?qi(F)&&Sd:c!=w&&0!=(3&F.type),d&Le.Host&&g===F);return null!==Te?_s(r,w,Te,F):Rs}function Mc(n,r,s,c,d){const g=n.providerIndexes,w=r.data,F=1048575&g,H=n.directiveStart,Te=g>>20,xt=d?F+Te:n.directiveEnd;for(let Lt=c?F:F+Te;Lt<xt;Lt++){const cn=w[Lt];if(Lt<H&&s===cn||Lt>=H&&cn.type===s)return Lt}if(d){const Lt=w[H];if(Lt&&Qi(Lt)&&Lt.type===s)return H}return null}function _s(n,r,s,c){let d=n[s];const g=r.data;if(function Ht(n){return n instanceof Ke}(d)){const w=d;w.resolving&&function pe(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new _e(-200,`Circular dependency in DI detected for ${n}${s}`)}(function Me(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():fe(n)}(g[s]));const F=Dc(w.canSeeViewProviders);w.resolving=!0;const H=w.injectImpl?He(w.injectImpl):null;Ps(n,c,Le.Default);try{d=n[s]=w.factory(void 0,g,n,c),r.firstCreatePass&&s>=c.directiveStart&&function Su(n,r,s){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:g}=r.type.prototype;if(c){const w=es(r);(s.preOrderHooks??(s.preOrderHooks=[])).push(n,w),(s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(n,w)}d&&(s.preOrderHooks??(s.preOrderHooks=[])).push(0-n,d),g&&((s.preOrderHooks??(s.preOrderHooks=[])).push(n,g),(s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(n,g))}(s,g[s],r)}finally{null!==H&&He(H),Dc(F),w.resolving=!1,Iu()}}return d}function Ho(n,r,s){return!!(s[r+(n>>Kh)]&1<<n)}function Pd(n,r){return!(n&Le.Self||n&Le.Host&&r)}class Js{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,c){return yl(this._tNode,this._lView,r,nt(c),s)}}function Pc(){return new Js(bi(),vt())}function Rc(n){return Ze(()=>{const r=n.prototype.constructor,s=r[j]||Jr(r),c=Object.prototype;let d=Object.getPrototypeOf(n.prototype).constructor;for(;d&&d!==c;){const g=d[j]||Jr(d);if(g&&g!==s)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function Jr(n){return W(n)?()=>{const r=Jr(U(n));return r&&r()}:Wo(n)}function Rd(n){const r=n[yn],s=r.type;return 2===s?r.declTNode:1===s?n[Vi]:null}function Xa(n){return function _l(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const c=s.length;let d=0;for(;d<c;){const g=s[d];if(Lr(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<c&&"string"==typeof s[d];)d++;else{if(g===r)return s[d+1];d+=2}}}return null}(bi(),n)}const rr="__parameters__";function ga(n,r,s){return Ze(()=>{const c=function kc(n){return function(...s){if(n){const c=n(...s);for(const d in c)this[d]=c[d]}}}(r);function d(...g){if(this instanceof d)return c.apply(this,g),this;const w=new d(...g);return F.annotation=w,F;function F(H,se,Te){const We=H.hasOwnProperty(rr)?H[rr]:Object.defineProperty(H,rr,{value:[]})[rr];for(;We.length<=Te;)We.push(null);return(We[Te]=We[Te]||[]).push(w),H}}return s&&(d.prototype=Object.create(s.prototype)),d.prototype.ngMetadataName=n,d.annotationCls=d,d})}class or{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=R({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function is(n,r){n.forEach(s=>Array.isArray(s)?is(s,r):r(s))}function Lc(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function D(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function P(n,r){const s=[];for(let c=0;c<n;c++)s.push(r);return s}function Re(n,r,s){let c=ln(n,r);return c>=0?n[1|c]=s:(c=~c,function J(n,r,s,c){let d=n.length;if(d==r)n.push(s,c);else if(1===d)n.push(c,n[0]),n[0]=s;else{for(d--,n.push(n[d-1],n[d]);d>r;)n[d]=n[d-2],d--;n[r]=s,n[r+1]=c}}(n,c,r,s)),c}function Dt(n,r){const s=ln(n,r);if(s>=0)return n[1|s]}function ln(n,r){return function Hn(n,r,s){let c=0,d=n.length>>s;for(;d!==c;){const g=c+(d-c>>1),w=n[g<<s];if(r===w)return g<<s;w>r?d=g:c=g+1}return~(d<<s)}(n,r,1)}const Ra=ot(ga("Inject",n=>({token:n})),-1),jn=ot(ga("Optional"),8),Ru=ot(ga("SkipSelf"),4);var Os=(()=>((Os=Os||{})[Os.Important=1]="Important",Os[Os.DashCase=2]="DashCase",Os))();const ta=new Map;let Vg=0;const Vd="__ngContext__";function Ui(n,r){Gi(r)?(n[Vd]=r[Kr],function Jh(n){ta.set(n[Kr],n)}(r)):n[Vd]=r}let tf;function nf(n,r){return tf(n,r)}function Vu(n){const r=n[oi];return xr(r)?r[oi]:r}function sf(n){return lf(n[$o])}function af(n){return lf(n[nr])}function lf(n){for(;null!==n&&!xr(n);)n=n[nr];return n}function jc(n,r,s,c,d){if(null!=c){let g,w=!1;xr(c)?g=c:Gi(c)&&(w=!0,c=c[fi]);const F=ir(c);0===n&&null!==s?null==d?rs(r,s,F):ks(r,s,F,d||null,!0):1===n&&null!==s?ks(r,s,F,d||null,!0):2===n?function ka(n,r,s){const c=jd(n,r);c&&function Zg(n,r,s,c){n.removeChild(r,s,c)}(n,c,r,s)}(r,F,w):3===n&&r.destroyNode(F),null!=g&&function Gd(n,r,s,c,d){const g=s[Hs];g!==ir(s)&&jc(r,n,c,g,d);for(let F=ur;F<s.length;F++){const H=s[F];va(H[yn],H,n,r,c,g)}}(r,n,g,s,d)}}function zd(n,r,s){return n.createElement(r,s)}function nl(n,r){const s=n[Yr],c=s.indexOf(r),d=r[oi];512&r[ti]&&(r[ti]&=-513,fs(d,-1)),s.splice(c,1)}function $c(n,r){if(n.length<=ur)return;const s=ur+r,c=n[s];if(c){const d=c[To];null!==d&&d!==n&&nl(d,c),r>0&&(n[s-1][nr]=c[nr]);const g=D(n,ur+r);!function Uu(n,r){va(n,r,r[si],2,null,null),r[fi]=null,r[Vi]=null}(c[yn],c);const w=g[Zr];null!==w&&w.detachView(g[yn]),c[oi]=null,c[nr]=null,c[ti]&=-65}return c}function df(n,r){if(!(128&r[ti])){const s=r[si];s.destroyNode&&va(n,r,s,3,null,null),function zu(n){let r=n[$o];if(!r)return yr(n[yn],n);for(;r;){let s=null;if(Gi(r))s=r[$o];else{const c=r[ur];c&&(s=c)}if(!s){for(;r&&!r[nr]&&r!==n;)Gi(r)&&yr(r[yn],r),r=r[oi];null===r&&(r=n),Gi(r)&&yr(r[yn],r),s=r&&r[nr]}r=s}}(r)}}function yr(n,r){if(!(128&r[ti])){r[ti]&=-65,r[ti]|=128,function Ro(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let c=0;c<s.length;c+=2){const d=r[s[c]];if(!(d instanceof Ke)){const g=s[c+1];if(Array.isArray(g))for(let w=0;w<g.length;w+=2){const F=d[g[w]],H=g[w+1];Nr(4,F,H);try{H.call(F)}finally{Nr(5,F,H)}}else{Nr(4,d,g);try{g.call(d)}finally{Nr(5,d,g)}}}}}(n,r),function Gc(n,r){const s=n.cleanup,c=r[cr];let d=-1;if(null!==s)for(let g=0;g<s.length-1;g+=2)if("string"==typeof s[g]){const w=s[g+3];w>=0?c[d=w]():c[d=-w].unsubscribe(),g+=2}else{const w=c[d=s[g+1]];s[g].call(w)}if(null!==c){for(let g=d+1;g<c.length;g++)(0,c[g])();r[cr]=null}}(n,r),1===r[yn].type&&r[si].destroy();const s=r[To];if(null!==s&&xr(r[oi])){s!==r[oi]&&nl(s,r);const c=r[Zr];null!==c&&c.detachView(n)}!function Ug(n){ta.delete(n[Kr])}(r)}}function $i(n,r,s){return function Hd(n,r,s){let c=r;for(;null!==c&&40&c.type;)c=(r=c).parent;if(null===c)return s[fi];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:g}=n.data[c.directiveStart+d];if(g===et.None||g===et.Emulated)return null}return Fi(c,s)}}(n,r.parent,s)}function ks(n,r,s,c,d){n.insertBefore(r,s,c,d)}function rs(n,r,s){n.appendChild(r,s)}function hf(n,r,s,c,d){null!==c?ks(n,r,s,c,d):rs(n,r,s)}function jd(n,r){return n.parentNode(r)}function Sr(n,r,s){return Hu(n,r,s)}let ia,Kc,Zd,Kd,Hu=function il(n,r,s){return 40&n.type?Fi(n,s):null};function $d(n,r,s,c){const d=$i(n,c,r),g=r[si],F=Sr(c.parent||r[Vi],c,r);if(null!=d)if(Array.isArray(s))for(let H=0;H<s.length;H++)hf(g,d,s[H],F,!1);else hf(g,d,s,F,!1);void 0!==ia&&ia(g,c,r,s,d)}function Fs(n,r){if(null!==r){const s=r.type;if(3&s)return Fi(r,n);if(4&s)return Sl(-1,n[r.index]);if(8&s){const c=r.child;if(null!==c)return Fs(n,c);{const d=n[r.index];return xr(d)?Sl(-1,d):ir(d)}}if(32&s)return nf(r,n)()||ir(n[r.index]);{const c=rl(n,r);return null!==c?Array.isArray(c)?c[0]:Fs(Vu(n[Tr]),c):Fs(n,r.next)}}return null}function rl(n,r){return null!==r?n[Tr][Vi].projection[r.projection]:null}function Sl(n,r){const s=ur+n+1;if(s<r.length){const c=r[s],d=c[yn].firstChild;if(null!==d)return Fs(c,d)}return r[Hs]}function ra(n,r,s,c,d,g,w){for(;null!=s;){const F=c[s.index],H=s.type;if(w&&0===r&&(F&&Ui(ir(F),c),s.flags|=2),32!=(32&s.flags))if(8&H)ra(n,r,s.child,c,d,g,!1),jc(r,n,d,F,g);else if(32&H){const se=nf(s,c);let Te;for(;Te=se();)jc(r,n,d,Te,g);jc(r,n,d,F,g)}else 16&H?ff(n,r,c,s,d,g):jc(r,n,d,F,g);s=w?s.projectionNext:s.next}}function va(n,r,s,c,d,g){ra(s,c,n.firstChild,r,d,g,!1)}function ff(n,r,s,c,d,g){const w=s[Tr],H=w[Vi].projection[c.projection];if(Array.isArray(H))for(let se=0;se<H.length;se++)jc(r,n,d,H[se],g);else ra(n,r,H,w[oi],d,g,!0)}function ju(n,r,s){""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s)}function Pl(n,r,s){const{mergedAttrs:c,classes:d,styles:g}=s;null!==c&&Li(n,r,c),null!==d&&ju(n,r,d),null!==g&&function pf(n,r,s){n.setAttribute(r,"style",s)}(n,r,g)}function ol(n){return function Rl(){if(void 0===Kc&&(Kc=null,Qt.trustedTypes))try{Kc=Qt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Kc}()?.createHTML(n)||n}function Rp(n){Zd=n}function Yd(){if(void 0===Kd&&(Kd=null,Qt.trustedTypes))try{Kd=Qt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Kd}function mf(n){return Yd()?.createHTML(n)||n}function gf(n){return Yd()?.createScriptURL(n)||n}class Yi{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ae})`}}class Ol extends Yi{getTypeName(){return"HTML"}}class Op extends Yi{getTypeName(){return"Style"}}class Yc extends Yi{getTypeName(){return"Script"}}class Wu extends Yi{getTypeName(){return"URL"}}class kp extends Yi{getTypeName(){return"ResourceURL"}}function Fa(n){return n instanceof Yi?n.changingThisBreaksApplicationSecurity:n}function Ai(n,r){const s=function sr(n){return n instanceof Yi&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${Ae})`)}return s===r}function qc(n){return new Ol(n)}function qd(n){return new Op(n)}function Zu(n){return new Yc(n)}function Qd(n){return new Wu(n)}function Xd(n){return new kp(n)}class Jd{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(ol(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch{return null}}}class Fp{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const s=this.inertDocument.createElement("template");return s.innerHTML=ol(r),s}}const Ku=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Yu(n){return(n=String(n)).match(Ku)?n:"unsafe:"+n}function Na(n){const r={};for(const s of n.split(","))r[s]=!0;return r}function rc(...n){const r={};for(const s of n)for(const c in s)s.hasOwnProperty(c)&&(r[c]=!0);return r}const qu=Na("area,br,col,hr,img,wbr"),Np=Na("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),vf=Na("rp,rt"),sc=rc(qu,rc(Np,Na("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),rc(vf,Na("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),rc(vf,Np)),Qc=Na("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Xo=rc(Qc,Na("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Na("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ya=Na("script,style,template");class eh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,c=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?c=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,c&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let d=this.checkClobberedElement(s,s.nextSibling);if(d){s=d;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!sc.hasOwnProperty(s))return this.sanitizedSomething=!0,!ya.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const c=r.attributes;for(let d=0;d<c.length;d++){const g=c.item(d),w=g.name,F=w.toLowerCase();if(!Xo.hasOwnProperty(F)){this.sanitizedSomething=!0;continue}let H=g.value;Qc[F]&&(H=Yu(H)),this.buf.push(" ",w,'="',kl(H),'"')}return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();sc.hasOwnProperty(s)&&!qu.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(kl(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const Xc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,La=/([^\#-~ |!])/g;function kl(n){return n.replace(/&/g,"&amp;").replace(Xc,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(La,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ba;function Oo(n,r){let s=null;try{Ba=Ba||function _f(n){const r=new Fp(n);return function Ns(){try{return!!(new window.DOMParser).parseFromString(ol(""),"text/html")}catch{return!1}}()?new Jd(r):r}(n);let c=r?String(r):"";s=Ba.getInertBodyElement(c);let d=5,g=c;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,c=g,g=s.innerHTML,s=Ba.getInertBodyElement(c)}while(c!==g);return ol((new eh).sanitizeChildren(th(s)||s))}finally{if(s){const c=th(s)||s;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function th(n){return"content"in n&&function nh(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Br=(()=>((Br=Br||{})[Br.NONE=0]="NONE",Br[Br.HTML=1]="HTML",Br[Br.STYLE=2]="STYLE",Br[Br.SCRIPT=3]="SCRIPT",Br[Br.URL=4]="URL",Br[Br.RESOURCE_URL=5]="RESOURCE_URL",Br))();function Qu(n){const r=rn();return r?mf(r.sanitize(Br.HTML,n)||""):Ai(n,"HTML")?mf(Fa(n)):Oo(function Gu(){return void 0!==Zd?Zd:typeof document<"u"?document:void 0}(),fe(n))}function ih(n){const r=rn();return r?r.sanitize(Br.URL,n)||"":Ai(n,"URL")?Fa(n):Yu(fe(n))}function y(n){const r=rn();if(r)return gf(r.sanitize(Br.RESOURCE_URL,n)||"");if(Ai(n,"ResourceURL"))return gf(Fa(n));throw new _e(904,!1)}function be(n,r,s){return function Q(n,r){return"src"===r&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===r&&("base"===n||"link"===n)?y:ih}(r,s)(n)}function rn(){const n=vt();return n&&n[Fo]}const Tn=new or("ENVIRONMENT_INITIALIZER"),Zn=new or("INJECTOR",-1),kn=new or("INJECTOR_DEF_TYPES");class Mr{get(r,s=De){if(s===De){const c=new Error(`NullInjectorError: No provider for ${z(r)}!`);throw c.name="NullInjectorError",c}return s}}function os(n){return{\u0275providers:n}}function rh(...n){return{\u0275providers:bf(0,n),\u0275fromNgModule:!0}}function bf(n,...r){const s=[],c=new Set;let d;return is(r,g=>{const w=g;oh(w,s,[],c)&&(d||(d=[]),d.push(w))}),void 0!==d&&xi(d,s),s}function xi(n,r){for(let s=0;s<n.length;s++){const{providers:d}=n[s];ac(d,g=>{r.push(g)})}}function oh(n,r,s,c){if(!(n=U(n)))return!1;let d=null,g=_n(n);const w=!g&&bt(n);if(g||w){if(w&&!w.standalone)return!1;d=n}else{const H=n.ngModule;if(g=_n(H),!g)return!1;d=H}const F=c.has(d);if(w){if(F)return!1;if(c.add(d),w.dependencies){const H="function"==typeof w.dependencies?w.dependencies():w.dependencies;for(const se of H)oh(se,r,s,c)}}else{if(!g)return!1;{if(null!=g.imports&&!F){let se;c.add(d);try{is(g.imports,Te=>{oh(Te,r,s,c)&&(se||(se=[]),se.push(Te))})}finally{}void 0!==se&&xi(se,r)}if(!F){const se=Wo(d)||(()=>new d);r.push({provide:d,useFactory:se,deps:ht},{provide:kn,useValue:d,multi:!0},{provide:Tn,useValue:()=>nn(d),multi:!0})}const H=g.providers;null==H||F||ac(H,Te=>{r.push(Te)})}}return d!==n&&void 0!==n.providers}function ac(n,r){for(let s of n)ne(s)&&(s=s.\u0275providers),Array.isArray(s)?ac(s,r):r(s)}const xf=ee({provide:String,useValue:ee});function Ju(n){return null!==n&&"object"==typeof n&&xf in n}function cc(n){return"function"==typeof n}const Fl=new or("Set Injector scope."),Nl={},Dv={};let uc;function wf(){return void 0===uc&&(uc=new Mr),uc}class Va{}class Kg extends Va{get destroyed(){return this._destroyed}constructor(r,s,c,d){super(),this.parent=s,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Yg(r,w=>this.processProvider(w)),this.records.set(Zn,br(void 0,this)),d.has("environment")&&this.records.set(Va,br(void 0,this));const g=this.records.get(Fl);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(kn.multi,ht,Le.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=Qn(this),c=He(void 0);try{return r()}finally{Qn(s),He(c)}}get(r,s=De,c=Le.Default){this.assertNotDestroyed(),c=nt(c);const d=Qn(this),g=He(void 0);try{if(!(c&Le.SkipSelf)){let F=this.records.get(r);if(void 0===F){const H=function Mv(n){return"function"==typeof n||"object"==typeof n&&n instanceof or}(r)&&Tt(r);F=H&&this.injectableDefInScope(H)?br(Bp(r),Nl):null,this.records.set(r,F)}if(null!=F)return this.hydrate(r,F)}return(c&Le.Self?wf():this.parent).get(r,s=c&Le.Optional&&s===De?null:s)}catch(w){if("NullInjectorError"===w.name){if((w[Wt]=w[Wt]||[]).unshift(z(r)),d)throw w;return function Jt(n,r,s,c){const d=n[Wt];throw r[zn]&&d.unshift(r[zn]),n.message=function Ln(n,r,s,c=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==ai?n.slice(2):n;let d=z(r);if(Array.isArray(r))d=r.map(z).join(" -> ");else if("object"==typeof r){let g=[];for(let w in r)if(r.hasOwnProperty(w)){let F=r[w];g.push(w+":"+("string"==typeof F?JSON.stringify(F):z(F)))}d=`{${g.join(", ")}}`}return`${s}${c?"("+c+")":""}[${d}]: ${n.replace(mn,"\n  ")}`}("\n"+n.message,d,s,c),n[sn]=d,n[Wt]=null,n}(w,r,"R3InjectorError",this.source)}throw w}finally{He(g),Qn(d)}}resolveInjectorInitializers(){const r=Qn(this),s=He(void 0);try{const c=this.get(Tn.multi,ht,Le.Self);for(const d of c)d()}finally{Qn(r),He(s)}}toString(){const r=[],s=this.records;for(const c of s.keys())r.push(z(c));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _e(205,!1)}processProvider(r){let s=cc(r=U(r))?r:U(r&&r.provide);const c=function NE(n){return Ju(n)?br(void 0,n.useValue):br(Sv(n),Nl)}(r);if(cc(r)||!0!==r.multi)this.records.get(s);else{let d=this.records.get(s);d||(d=br(void 0,Nl,!0),d.factory=()=>ze(d.multi),this.records.set(s,d)),s=r,d.multi.push(r)}this.records.set(s,c)}hydrate(r,s){return s.value===Nl&&(s.value=Dv,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Up(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=U(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function Bp(n){const r=Tt(n),s=null!==r?r.factory:Wo(n);if(null!==s)return s;if(n instanceof or)throw new _e(204,!1);if(n instanceof Function)return function If(n){const r=n.length;if(r>0)throw P(r,"?"),new _e(204,!1);const s=function Gt(n){return n&&(n[Bn]||n[Mn])||null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new _e(204,!1)}function Sv(n,r,s){let c;if(cc(n)){const d=U(n);return Wo(d)||Bp(d)}if(Ju(n))c=()=>U(n.useValue);else if(function Cf(n){return!(!n||!n.useFactory)}(n))c=()=>n.useFactory(...ze(n.deps||[]));else if(function lc(n){return!(!n||!n.useExisting)}(n))c=()=>nn(U(n.useExisting));else{const d=U(n&&(n.useClass||n.provide));if(!function Vp(n){return!!n.deps}(n))return Wo(d)||Bp(d);c=()=>new d(...ze(n.deps))}return c}function br(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function Yg(n,r){for(const s of n)Array.isArray(s)?Yg(s,r):s&&ne(s)?Yg(s.\u0275providers,r):r(s)}class Tf{}class Pv{}class Ov{resolveComponentFactory(r){throw function Rv(n){const r=Error(`No component factory found for ${z(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let ah=(()=>{class n{}return n.NULL=new Ov,n})();function kv(){return al(bi(),vt())}function al(n,r){return new td(Fi(n,r))}let td=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=kv,n})();function qg(n){return n instanceof td?n.nativeElement:n}class zp{}let Qg=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Fv(){const n=vt(),s=Or(bi().index,n);return(Gi(s)?s:n)[si]}(),n})(),LE=(()=>{class n{}return n.\u0275prov=R({token:n,providedIn:"root",factory:()=>null}),n})();class bo{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const zi=new bo("15.2.10"),Hp={},jp="ngOriginalError";function Gp(n){return n[jp]}class Af{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Gp(r);for(;s&&Gp(s);)s=Gp(s);return s||null}}function Ll(n){return n instanceof Function?n():n}function Uv(n,r,s){let c=n.length;for(;;){const d=n.indexOf(r,s);if(-1===d)return d;if(0===d||n.charCodeAt(d-1)<=32){const g=r.length;if(d+g===c||n.charCodeAt(d+g)<=32)return d}s=d+1}}const zv="ng-template";function Jg(n,r,s){let c=0,d=!0;for(;c<n.length;){let g=n[c++];if("string"==typeof g&&d){const w=n[c++];if(s&&"class"===g&&-1!==Uv(w.toLowerCase(),r,0))return!0}else{if(1===g){for(;c<n.length&&"string"==typeof(g=n[c++]);)if(g.toLowerCase()===r)return!0;return!1}"number"==typeof g&&(d=!1)}}return!1}function id(n){return 4===n.type&&n.value!==zv}function Hv(n,r,s){return r===(4!==n.type||s?n.value:zv)}function zE(n,r,s){let c=4;const d=n.attrs||[],g=function Pf(n){for(let r=0;r<n.length;r++)if(Lr(n[r]))return r;return n.length}(d);let w=!1;for(let F=0;F<r.length;F++){const H=r[F];if("number"!=typeof H){if(!w)if(4&c){if(c=2|1&c,""!==H&&!Hv(n,H,s)||""===H&&1===r.length){if(ar(c))return!1;w=!0}}else{const se=8&c?H:r[++F];if(8&c&&null!==n.attrs){if(!Jg(n.attrs,se,s)){if(ar(c))return!1;w=!0}continue}const We=e_(8&c?"class":H,d,id(n),s);if(-1===We){if(ar(c))return!1;w=!0;continue}if(""!==se){let xt;xt=We>g?"":d[We+1].toLowerCase();const Lt=8&c?xt:null;if(Lt&&-1!==Uv(Lt,se,0)||2&c&&se!==xt){if(ar(c))return!1;w=!0}}}}else{if(!w&&!ar(c)&&!ar(H))return!1;if(w&&ar(H))continue;w=!1,c=H|1&c}}return ar(c)||w}function ar(n){return 0==(1&n)}function e_(n,r,s,c){if(null===r)return-1;let d=0;if(c||!s){let g=!1;for(;d<r.length;){const w=r[d];if(w===n)return d;if(3===w||6===w)g=!0;else{if(1===w||2===w){let F=r[++d];for(;"string"==typeof F;)F=r[++d];continue}if(4===w)break;if(0===w){d+=4;continue}}d+=g?1:2}return-1}return function Bl(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const c=n[s];if("number"==typeof c)return-1;if(c===r)return s;s++}return-1}(r,n)}function Zp(n,r,s=!1){for(let c=0;c<r.length;c++)if(zE(n,r[c],s))return!0;return!1}function $v(n,r){e:for(let s=0;s<r.length;s++){const c=r[s];if(n.length===c.length){for(let d=0;d<n.length;d++)if(n[d]!==c[d])continue e;return!0}}return!1}function t_(n,r){return n?":not("+r.trim()+")":r}function n_(n){let r=n[0],s=1,c=2,d="",g=!1;for(;s<n.length;){let w=n[s];if("string"==typeof w)if(2&c){const F=n[++s];d+="["+w+(F.length>0?'="'+F+'"':"")+"]"}else 8&c?d+="."+w:4&c&&(d+=" "+w);else""!==d&&!ar(w)&&(r+=t_(g,d),d=""),c=w,g=g||!ar(c);s++}return""!==d&&(r+=t_(g,d)),r}const Ii={};function Zv(n){Kv(xn(),vt(),Zi()+n,!1)}function Kv(n,r,s,c){if(!c)if(3==(3&r[ti])){const g=n.preOrderCheckHooks;null!==g&&Aa(r,g,s)}else{const g=n.preOrderHooks;null!==g&&Da(r,g,0,s)}Zo(s)}function qv(n,r=null,s=null,c){const d=Qv(n,r,s,c);return d.resolveInjectorInitializers(),d}function Qv(n,r=null,s=null,c,d=new Set){const g=[s||ht,rh(n)];return c=c||("object"==typeof n?void 0:z(n)),new Kg(g,r||wf(),c||null,d)}let rd=(()=>{class n{static create(s,c){if(Array.isArray(s))return qv({name:""},c,s,"");{const d=s.name??"";return qv({name:d},s.parent,s.providers,d)}}}return n.THROW_IF_NOT_FOUND=De,n.NULL=new Mr,n.\u0275prov=R({token:n,providedIn:"any",factory:()=>nn(Zn)}),n.__NG_ELEMENT_ID__=-1,n})();function Vl(n,r=Le.Default){const s=vt();return null===s?nn(n,r):yl(bi(),s,U(n),r)}function ru(){throw new Error("invalid")}function d_(n,r){const s=n.contentQueries;if(null!==s)for(let c=0;c<s.length;c+=2){const g=s[c+1];if(-1!==g){const w=n.data[g];Qs(s[c]),w.contentQueries(2,r[g],g)}}}function Qp(n,r,s,c,d,g,w,F,H,se,Te){const We=r.blueprint.slice();return We[fi]=d,We[ti]=76|c,(null!==Te||n&&1024&n[ti])&&(We[ti]|=1024),qs(We),We[oi]=We[Ir]=n,We[ui]=s,We[Io]=w||n&&n[Io],We[si]=F||n&&n[si],We[Fo]=H||n&&n[Fo]||null,We[_r]=se||n&&n[_r]||null,We[Vi]=g,We[Kr]=function Al(){return Vg++}(),We[io]=Te,We[Tr]=2==r.type?n[Tr]:We,We}function su(n,r,s,c,d){let g=n.data[r];if(null===g)g=function Ff(n,r,s,c,d){const g=Hi(),w=Ji(),H=n.data[r]=function mh(n,r,s,c,d,g){return{type:s,index:c,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?g:g&&g.parent,s,r,c,d);return null===n.firstChild&&(n.firstChild=H),null!==g&&(w?null==g.child&&null!==H.parent&&(g.child=H):null===g.next&&(g.next=H,H.prev=g)),H}(n,r,s,c,d),function Ms(){return Wn.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=s,g.value=c,g.attrs=d;const w=function Wi(){const n=Wn.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();g.injectorIndex=null===w?-1:w.injectorIndex}return Xi(g,!0),g}function uh(n,r,s,c){if(0===s)return-1;const d=r.length;for(let g=0;g<s;g++)r.push(c),n.blueprint.push(c),n.data.push(null);return d}function Nf(n,r,s){Ia(r);try{const c=n.viewQuery;null!==c&&ko(1,c,s);const d=n.template;null!==d&&h_(n,r,d,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&d_(n,r),n.staticViewQueries&&ko(2,n.viewQuery,s);const g=n.components;null!==g&&function ry(n,r){for(let s=0;s<r.length;s++)nx(n,r[s])}(r,g)}catch(c){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),c}finally{r[ti]&=-5,Ka()}}function dh(n,r,s,c){const d=r[ti];if(128!=(128&d)){Ia(r);try{qs(r),function lo(n){return Wn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&h_(n,r,s,2,c);const w=3==(3&d);if(w){const se=n.preOrderCheckHooks;null!==se&&Aa(r,se,null)}else{const se=n.preOrderHooks;null!==se&&Da(r,se,0,null),N(r,0)}if(function Vf(n){for(let r=sf(n);null!==r;r=af(r)){if(!r[Cs])continue;const s=r[Yr];for(let c=0;c<s.length;c++){const d=s[c];512&d[ti]||fs(d[oi],1),d[ti]|=512}}}(r),function cd(n){for(let r=sf(n);null!==r;r=af(r))for(let s=ur;s<r.length;s++){const c=r[s],d=c[yn];fa(c)&&dh(d,c,d.template,c[ui])}}(r),null!==n.contentQueries&&d_(n,r),w){const se=n.contentCheckHooks;null!==se&&Aa(r,se)}else{const se=n.contentHooks;null!==se&&Da(r,se,1),N(r,1)}!function ou(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let c=0;c<s.length;c++){const d=s[c];if(d<0)Zo(~d);else{const g=d,w=s[++c],F=s[++c];ml(w,g),F(2,r[g])}}}finally{Zo(-1)}}(n,r);const F=n.components;null!==F&&function iy(n,r){for(let s=0;s<r.length;s++)hy(n,r[s])}(r,F);const H=n.viewQuery;if(null!==H&&ko(2,H,c),w){const se=n.viewCheckHooks;null!==se&&Aa(r,se)}else{const se=n.viewHooks;null!==se&&Da(r,se,2),N(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[ti]&=-41,512&r[ti]&&(r[ti]&=-513,fs(r[oi],-1))}finally{Ka()}}}function h_(n,r,s,c,d){const g=Zi(),w=2&c;try{Zo(-1),w&&r.length>Ri&&Kv(n,r,Ri,!1),Nr(w?2:0,d),s(c,d)}finally{Zo(g),Nr(w?3:1,d)}}function hh(n,r,s){if(ro(r)){const d=r.directiveEnd;for(let g=r.directiveStart;g<d;g++){const w=n.data[g];w.contentQueries&&w.contentQueries(1,s[g],g)}}}function f_(n,r,s){Ge()&&(function gh(n,r,s,c){const d=s.directiveStart,g=s.directiveEnd;qi(s)&&function Jp(n,r,s){const c=Fi(r,n),d=Bf(s),g=n[Io],w=tm(n,Qp(n,d,null,s.onPush?32:16,c,r,g,g.createRenderer(c,s),null,null,null));n[r.index]=w}(r,s,n.data[d+s.componentOffset]),n.firstCreatePass||ql(s,r),Ui(c,r);const w=s.initialInputs;for(let F=d;F<g;F++){const H=n.data[F],se=_s(r,n,F,s);Ui(se,r),null!==w&&dy(0,F-d,se,H,0,w),Qi(H)&&(Or(s.index,r)[ui]=_s(r,n,F,s))}}(n,r,s,Fi(s,r)),64==(64&s.flags)&&v_(n,r,s))}function Lf(n,r,s=Fi){const c=r.localNames;if(null!==c){let d=r.index+1;for(let g=0;g<c.length;g+=2){const w=c[g+1],F=-1===w?s(r,n):n[w];n[d++]=F}}}function Bf(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=p_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function p_(n,r,s,c,d,g,w,F,H,se){const Te=Ri+c,We=Te+d,xt=function oy(n,r){const s=[];for(let c=0;c<r;c++)s.push(c<n?null:Ii);return s}(Te,We),Lt="function"==typeof se?se():se;return xt[yn]={type:n,blueprint:xt,template:s,queries:null,viewQuery:F,declTNode:r,data:xt.slice().fill(null,Te),bindingStartIndex:Te,expandoStartIndex:We,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:H,consts:Lt,incompleteFirstPass:!1}}function ph(n,r,s,c){const d=my(r);null===s?d.push(c):(d.push(s),n.firstCreatePass&&gy(n).push(c,d.length-1))}function m_(n,r,s,c){for(let d in n)if(n.hasOwnProperty(d)){s=null===s?{}:s;const g=n[d];null===c?g_(s,r,d,g):c.hasOwnProperty(d)&&g_(s,r,c[d],g)}return s}function g_(n,r,s,c){n.hasOwnProperty(s)?n[s].push(r,c):n[s]=[r,c]}function bs(n,r,s,c,d,g,w,F){const H=Fi(r,s);let Te,se=r.inputs;!F&&null!=se&&(Te=se[c])?(x_(n,s,Te,c,d),qi(r)&&function Xp(n,r){const s=Or(r,n);16&s[ti]||(s[ti]|=32)}(s,r.index)):3&r.type&&(c=function sy(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(c),d=null!=w?w(d,r.value||"",c):d,g.setProperty(H,c,d))}function au(n,r,s,c){if(Ge()){const d=null===c?null:{"":-1},g=function ly(n,r){const s=n.directiveRegistry;let c=null,d=null;if(s)for(let g=0;g<s.length;g++){const w=s[g];if(Zp(r,w.selectors,!1))if(c||(c=[]),Qi(w))if(null!==w.findHostDirectiveDefs){const F=[];d=d||new Map,w.findHostDirectiveDefs(w,F,d),c.unshift(...F,w),y_(n,r,F.length)}else c.unshift(w),y_(n,r,0);else d=d||new Map,w.findHostDirectiveDefs?.(w,c,d),c.push(w)}return null===c?null:[c,d]}(n,s);let w,F;null===g?w=F=null:[w,F]=g,null!==w&&__(n,r,s,w,d,F),d&&function cy(n,r,s){if(r){const c=n.localNames=[];for(let d=0;d<r.length;d+=2){const g=s[r[d+1]];if(null==g)throw new _e(-301,!1);c.push(r[d],g)}}}(s,c,d)}s.mergedAttrs=Xr(s.mergedAttrs,s.attrs)}function __(n,r,s,c,d,g){for(let se=0;se<c.length;se++)Sa(ql(s,r),n,c[se].type);!function uy(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}(s,n.data.length,c.length);for(let se=0;se<c.length;se++){const Te=c[se];Te.providersResolver&&Te.providersResolver(Te)}let w=!1,F=!1,H=uh(n,r,c.length,null);for(let se=0;se<c.length;se++){const Te=c[se];s.mergedAttrs=Xr(s.mergedAttrs,Te.hostAttrs),ex(n,s,r,H,Te),JE(H,Te,d),null!==Te.contentQueries&&(s.flags|=4),(null!==Te.hostBindings||null!==Te.hostAttrs||0!==Te.hostVars)&&(s.flags|=64);const We=Te.type.prototype;!w&&(We.ngOnChanges||We.ngOnInit||We.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(s.index),w=!0),!F&&(We.ngOnChanges||We.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(s.index),F=!0),H++}!function ys(n,r,s){const d=r.directiveEnd,g=n.data,w=r.attrs,F=[];let H=null,se=null;for(let Te=r.directiveStart;Te<d;Te++){const We=g[Te],xt=s?s.get(We):null,cn=xt?xt.outputs:null;H=m_(We.inputs,Te,H,xt?xt.inputs:null),se=m_(We.outputs,Te,se,cn);const wn=null===H||null===w||id(r)?null:tx(H,Te,w);F.push(wn)}null!==H&&(H.hasOwnProperty("class")&&(r.flags|=8),H.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=F,r.inputs=H,r.outputs=se}(n,s,g)}function v_(n,r,s){const c=s.directiveStart,d=s.directiveEnd,g=s.index,w=function gl(){return Wn.lFrame.currentDirectiveIndex}();try{Zo(g);for(let F=c;F<d;F++){const H=n.data[F],se=r[F];co(F),(null!==H.hostBindings||0!==H.hostVars||null!==H.hostAttrs)&&lu(H,se)}}finally{Zo(-1),co(w)}}function lu(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function y_(n,r,s){r.componentOffset=s,(n.components??(n.components=[])).push(r.index)}function JE(n,r,s){if(s){if(r.exportAs)for(let c=0;c<r.exportAs.length;c++)s[r.exportAs[c]]=n;Qi(r)&&(s[""]=n)}}function ex(n,r,s,c,d){n.data[c]=d;const g=d.factory||(d.factory=Wo(d.type)),w=new Ke(g,Qi(d),Vl);n.blueprint[c]=w,s[c]=w,function ld(n,r,s,c,d){const g=d.hostBindings;if(g){let w=n.hostBindingOpCodes;null===w&&(w=n.hostBindingOpCodes=[]);const F=~r.index;(function XE(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(w)!=F&&w.push(F),w.push(s,c,g)}}(n,r,c,uh(n,s,d.hostVars,Ii),d)}function ll(n,r,s,c,d,g){const w=Fi(n,r);!function b_(n,r,s,c,d,g,w){if(null==g)n.removeAttribute(r,d,s);else{const F=null==w?fe(g):w(g,c||"",d);n.setAttribute(r,d,F,s)}}(r[si],w,g,n.value,s,c,d)}function dy(n,r,s,c,d,g){const w=g[r];if(null!==w){const F=c.setInput;for(let H=0;H<w.length;){const se=w[H++],Te=w[H++],We=w[H++];null!==F?c.setInput(s,We,se,Te):s[Te]=We}}}function tx(n,r,s){let c=null,d=0;for(;d<s.length;){const g=s[d];if(0!==g)if(5!==g){if("number"==typeof g)break;if(n.hasOwnProperty(g)){null===c&&(c=[]);const w=n[g];for(let F=0;F<w.length;F+=2)if(w[F]===r){c.push(g,w[F+1],s[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function E_(n,r,s,c){return[n,!0,!1,r,null,0,c,s,null,null]}function hy(n,r){const s=Or(r,n);if(fa(s)){const c=s[yn];48&s[ti]?dh(c,s,c.template,s[ui]):s[lr]>0&&em(s)}}function em(n){for(let c=sf(n);null!==c;c=af(c))for(let d=ur;d<c.length;d++){const g=c[d];if(fa(g))if(512&g[ti]){const w=g[yn];dh(w,g,w.template,g[ui])}else g[lr]>0&&em(g)}const s=n[yn].components;if(null!==s)for(let c=0;c<s.length;c++){const d=Or(s[c],n);fa(d)&&d[lr]>0&&em(d)}}function nx(n,r){const s=Or(r,n),c=s[yn];(function fy(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(c,s),Nf(c,s,s[ui])}function tm(n,r){return n[$o]?n[zs][nr]=r:n[$o]=r,n[zs]=r,r}function nm(n){for(;n;){n[ti]|=32;const r=Vu(n);if(Ga(n)&&!r)return n;n=r}return null}function im(n,r,s,c=!0){const d=r[Io];d.begin&&d.begin();try{dh(n,r,n.template,s)}catch(w){throw c&&rm(r,w),w}finally{d.end&&d.end()}}function ko(n,r,s){Qs(0),r(n,s)}function my(n){return n[cr]||(n[cr]=[])}function gy(n){return n.cleanup||(n.cleanup=[])}function _y(n,r,s){return(null===n||Qi(n))&&(s=function Si(n){for(;Array.isArray(n);){if("object"==typeof n[Ao])return n;n=n[fi]}return null}(s[r.index])),s[si]}function rm(n,r){const s=n[_r],c=s?s.get(Af,null):null;c&&c.handleError(r)}function x_(n,r,s,c,d){for(let g=0;g<s.length;){const w=s[g++],F=s[g++],H=r[w],se=n.data[w];null!==se.setInput?se.setInput(H,d,c,F):H[F]=d}}function za(n,r,s){const c=so(r,n);!function Sp(n,r,s){n.setValue(r,s)}(n[si],c,s)}function ud(n,r,s){let c=s?n.styles:null,d=s?n.classes:null,g=0;if(null!==r)for(let w=0;w<r.length;w++){const F=r[w];"number"==typeof F?g=F:1==g?d=K(d,F):2==g&&(c=K(c,F+": "+r[++w]+";"))}s?n.styles=c:n.stylesWithoutHost=c,s?n.classes=d:n.classesWithoutHost=d}function om(n,r,s,c,d=!1){for(;null!==s;){const g=r[s.index];if(null!==g&&c.push(ir(g)),xr(g))for(let F=ur;F<g.length;F++){const H=g[F],se=H[yn].firstChild;null!==se&&om(H[yn],H,se,c)}const w=s.type;if(8&w)om(n,r,s.child,c);else if(32&w){const F=nf(s,r);let H;for(;H=F();)c.push(H)}else if(16&w){const F=rl(r,s);if(Array.isArray(F))c.push(...F);else{const H=Vu(r[Tr]);om(H[yn],H,F,c,!0)}}s=d?s.projectionNext:s.next}return c}class _h{get rootNodes(){const r=this._lView,s=r[yn];return om(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ui]}set context(r){this._lView[ui]=r}get destroyed(){return 128==(128&this._lView[ti])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[oi];if(xr(r)){const s=r[No],c=s?s.indexOf(this):-1;c>-1&&($c(r,c),D(s,c))}this._attachedToViewContainer=!1}df(this._lView[yn],this._lView)}onDestroy(r){ph(this._lView[yn],this._lView,null,r)}markForCheck(){nm(this._cdRefInjectingView||this._lView)}detach(){this._lView[ti]&=-65}reattach(){this._lView[ti]|=64}detectChanges(){im(this._lView[yn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new _e(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Wg(n,r){va(n,r,r[si],2,null,null)}(this._lView[yn],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new _e(902,!1);this._appRef=r}}class C_ extends _h{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;im(r[yn],r,r[ui],!1)}checkNoChanges(){}get context(){return null}}class sm extends ah{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=bt(r);return new dd(s,this.ngModule)}}function vh(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class w_{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,c){c=nt(c);const d=this.injector.get(r,Hp,c);return d!==Hp||s===Hp?d:this.parentInjector.get(r,s,c)}}class dd extends Pv{get inputs(){return vh(this.componentDef.inputs)}get outputs(){return vh(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Gv(n){return n.map(n_).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,c,d){let g=(d=d||this.ngModule)instanceof Va?d:d?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const w=g?new w_(r,g):r,F=w.get(zp,null);if(null===F)throw new _e(407,!1);const H=w.get(LE,null),se=F.createRenderer(null,this.componentDef),Te=this.componentDef.selectors[0][0]||"div",We=c?function fh(n,r,s){return n.selectRootElement(r,s===et.ShadowDom)}(se,c,this.componentDef.encapsulation):zd(se,Te,function am(n){const r=n.toLowerCase();return"svg"===r?hs:"math"===r?"math":null}(Te)),xt=this.componentDef.onPush?288:272,Lt=p_(0,null,null,1,0,null,null,null,null,null),cn=Qp(null,Lt,null,xt,null,null,F,se,H,w,null);let wn,En;Ia(cn);try{const Jn=this.componentDef;let vi,gn=null;Jn.findHostDirectiveDefs?(vi=[],gn=new Map,Jn.findHostDirectiveDefs(Jn,vi,gn),vi.push(Jn)):vi=[Jn];const wi=function ox(n,r){const s=n[yn],c=Ri;return n[c]=r,su(s,c,2,"#host",null)}(cn,We),Ur=function vy(n,r,s,c,d,g,w,F){const H=d[yn];!function yy(n,r,s,c){for(const d of n)r.mergedAttrs=Xr(r.mergedAttrs,d.hostAttrs);null!==r.mergedAttrs&&(ud(r,r.mergedAttrs,!0),null!==s&&Pl(c,s,r))}(c,n,r,w);const se=g.createRenderer(r,s),Te=Qp(d,Bf(s),null,s.onPush?32:16,d[n.index],n,g,se,F||null,null,null);return H.firstCreatePass&&y_(H,n,c.length-1),tm(d,Te),d[n.index]=Te}(wi,We,Jn,vi,cn,F,se);En=Ds(Lt,Ri),We&&function sx(n,r,s,c){if(c)Li(n,s,["ng-version",zi.full]);else{const{attrs:d,classes:g}=function Wv(n){const r=[],s=[];let c=1,d=2;for(;c<n.length;){let g=n[c];if("string"==typeof g)2===d?""!==g&&r.push(g,n[++c]):8===d&&s.push(g);else{if(!ar(d))break;d=g}c++}return{attrs:r,classes:s}}(r.selectors[0]);d&&Li(n,s,d),g&&g.length>0&&ju(n,s,g.join(" "))}}(se,Jn,We,c),void 0!==s&&function by(n,r,s){const c=n.projection=[];for(let d=0;d<r.length;d++){const g=s[d];c.push(null!=g?Array.from(g):null)}}(En,this.ngContentSelectors,s),wn=function I_(n,r,s,c,d,g){const w=bi(),F=d[yn],H=Fi(w,d);__(F,d,w,s,null,c);for(let Te=0;Te<s.length;Te++)Ui(_s(d,F,w.directiveStart+Te,w),d);v_(F,d,w),H&&Ui(H,d);const se=_s(d,F,w.directiveStart+w.componentOffset,w);if(n[ui]=d[ui]=se,null!==g)for(const Te of g)Te(se,r);return hh(F,w,n),se}(Ur,Jn,vi,gn,cn,[ax]),Nf(Lt,cn,null)}finally{Ka()}return new ix(this.componentType,wn,al(En,cn),cn,En)}}class ix extends Tf{constructor(r,s,c,d,g){super(),this.location=c,this._rootLView=d,this._tNode=g,this.instance=s,this.hostView=this.changeDetectorRef=new C_(d),this.componentType=r}setInput(r,s){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[r])){const g=this._rootLView;x_(g[yn],g,d,r,s),nm(Or(this._tNode.index,g))}}get injector(){return new Js(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function ax(){const n=bi();qa(vt()[yn],n)}function A_(n){let r=function T_(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const c=[n];for(;r;){let d;if(Qi(n))d=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new _e(903,!1);d=r.\u0275dir}if(d){if(s){c.push(d);const w=n;w.inputs=cu(n.inputs),w.declaredInputs=cu(n.declaredInputs),w.outputs=cu(n.outputs);const F=d.hostBindings;F&&Ey(n,F);const H=d.viewQuery,se=d.contentQueries;if(H&&D_(n,H),se&&lm(n,se),te(n.inputs,d.inputs),te(n.declaredInputs,d.declaredInputs),te(n.outputs,d.outputs),Qi(d)&&d.data.animation){const Te=n.data;Te.animation=(Te.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let w=0;w<g.length;w++){const F=g[w];F&&F.ngInherit&&F(n),F===A_&&(s=!1)}}r=Object.getPrototypeOf(r)}!function yh(n){let r=0,s=null;for(let c=n.length-1;c>=0;c--){const d=n[c];d.hostVars=r+=d.hostVars,d.hostAttrs=Xr(d.hostAttrs,s=Xr(s,d.hostAttrs))}}(c)}function cu(n){return n===Rt?{}:n===ht?[]:n}function D_(n,r){const s=n.viewQuery;n.viewQuery=s?(c,d)=>{r(c,d),s(c,d)}:r}function lm(n,r){const s=n.contentQueries;n.contentQueries=s?(c,d,g)=>{r(c,d,g),s(c,d,g)}:r}function Ey(n,r){const s=n.hostBindings;n.hostBindings=s?(c,d)=>{r(c,d),s(c,d)}:r}function uu(n){return!!Uf(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Uf(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function cl(n,r,s){return n[r]=s}function ss(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function Ul(n,r,s,c){const d=ss(n,r,s);return ss(n,r+1,c)||d}function O_(n,r,s,c){const d=vt();return ss(d,Uo(),r)&&(xn(),ll(fr(),d,n,r,s,c)),O_}function Eh(n,r,s,c){return ss(n,Uo(),s)?r+fe(s)+c:Ii}function dc(n,r,s,c,d,g,w,F){const se=function bh(n,r,s,c,d){const g=Ul(n,r,s,c);return ss(n,r+2,d)||g}(n,Hr(),s,d,w);return Qr(3),se?r+fe(s)+c+fe(d)+g+fe(w)+F:Ii}function pm(n,r,s,c,d,g,w,F){const H=vt(),se=xn(),Te=n+Ri,We=se.firstCreatePass?function Sy(n,r,s,c,d,g,w,F,H){const se=r.consts,Te=su(r,n,4,w||null,ao(se,F));au(r,s,Te,ao(se,H)),qa(r,Te);const We=Te.tView=p_(2,Te,c,d,g,r.directiveRegistry,r.pipeRegistry,null,r.schemas,se);return null!==r.queries&&(r.queries.template(r,Te),We.queries=r.queries.embeddedTView(Te)),Te}(Te,se,H,r,s,c,d,g,w):se.data[Te];Xi(We,!1);const xt=H[si].createComment("");$d(se,H,xt,We),Ui(xt,H),tm(H,H[Te]=E_(xt,H,xt,We)),oo(We)&&f_(se,H,We),null!=w&&Lf(H,We,F)}function hc(n){return So(function Vo(){return Wn.lFrame.contextLView}(),Ri+n)}function mm(n,r,s){const c=vt();return ss(c,Uo(),r)&&bs(xn(),fr(),c,n,r,c[si],s,!1),mm}function N_(n,r,s,c,d){const w=d?"class":"style";x_(n,s,r.inputs[w],w,c)}function gm(n,r,s,c){const d=vt(),g=xn(),w=Ri+n,F=d[si],H=g.firstCreatePass?function L_(n,r,s,c,d,g){const w=r.consts,H=su(r,n,2,c,ao(w,d));return au(r,s,H,ao(w,g)),null!==H.attrs&&ud(H,H.attrs,!1),null!==H.mergedAttrs&&ud(H,H.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,H),H}(w,g,d,r,s,c):g.data[w],se=d[w]=zd(F,r,function Ya(){return Wn.lFrame.currentNamespace}()),Te=oo(H);return Xi(H,!0),Pl(F,se,H),32!=(32&H.flags)&&$d(g,d,se,H),0===function A(){return Wn.lFrame.elementDepthCount}()&&Ui(se,d),function S(){Wn.lFrame.elementDepthCount++}(),Te&&(f_(g,d,H),hh(g,H,d)),null!==c&&Lf(d,H),gm}function Ih(){let n=bi();Ji()?go():(n=n.parent,Xi(n,!1));const r=n;!function q(){Wn.lFrame.elementDepthCount--}();const s=xn();return s.firstCreatePass&&(qa(s,n),ro(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Oi(n){return 0!=(8&n.flags)}(r)&&N_(s,r,vt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Mi(n){return 0!=(16&n.flags)}(r)&&N_(s,r,vt(),r.stylesWithoutHost,!1),Ih}function B_(n,r,s,c){return gm(n,r,s,c),Ih(),B_}function _m(n,r,s){const c=vt(),d=xn(),g=n+Ri,w=d.firstCreatePass?function V_(n,r,s,c,d){const g=r.consts,w=ao(g,c),F=su(r,n,8,"ng-container",w);return null!==w&&ud(F,w,!0),au(r,s,F,ao(g,d)),null!==r.queries&&r.queries.elementStart(r,F),F}(g,d,c,r,s):d.data[g];Xi(w,!0);const F=c[g]=c[si].createComment("");return $d(d,c,F,w),Ui(F,c),oo(w)&&(f_(d,c,w),hh(d,w,c)),null!=s&&Lf(c,w),_m}function Th(){let n=bi();const r=xn();return Ji()?go():(n=n.parent,Xi(n,!1)),r.firstCreatePass&&(qa(r,n),ro(n)&&r.queries.elementEnd(n)),Th}function Ah(n,r,s){return _m(n,r,s),Th(),Ah}function vm(){return vt()}function ym(n){return!!n&&"function"==typeof n.then}function gd(n){return!!n&&"function"==typeof n.subscribe}const bm=gd;function U_(n,r,s,c){const d=vt(),g=xn(),w=bi();return H_(g,d,d[si],w,n,r,c),U_}function z_(n,r){const s=bi(),c=vt(),d=xn();return H_(d,c,_y(ns(d.data),s,c),s,n,r),z_}function H_(n,r,s,c,d,g,w){const F=oo(c),se=n.firstCreatePass&&gy(n),Te=r[ui],We=my(r);let xt=!0;if(3&c.type||w){const wn=Fi(c,r),En=w?w(wn):wn,Jn=We.length,vi=w?wi=>w(ir(wi[c.index])):c.index;let gn=null;if(!w&&F&&(gn=function My(n,r,s,c){const d=n.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const w=d[g];if(w===s&&d[g+1]===c){const F=r[cr],H=d[g+2];return F.length>H?F[H]:null}"string"==typeof w&&(g+=2)}return null}(n,r,d,c.index)),null!==gn)(gn.__ngLastListenerFn__||gn).__ngNextListenerFn__=g,gn.__ngLastListenerFn__=g,xt=!1;else{g=Em(c,r,Te,g,!1);const wi=s.listen(En,d,g);We.push(g,wi),se&&se.push(d,vi,Jn,Jn+1)}}else g=Em(c,r,Te,g,!1);const Lt=c.outputs;let cn;if(xt&&null!==Lt&&(cn=Lt[d])){const wn=cn.length;if(wn)for(let En=0;En<wn;En+=2){const Ur=r[cn[En]][cn[En+1]].subscribe(g),Gr=We.length;We.push(g,Ur),se&&se.push(d,c.index,Gr,-(Gr+1))}}}function Py(n,r,s,c){try{return Nr(6,r,s),!1!==s(c)}catch(d){return rm(n,d),!1}finally{Nr(7,r,s)}}function Em(n,r,s,c,d){return function g(w){if(w===Function)return c;nm(n.componentOffset>-1?Or(n.index,r):r);let H=Py(r,s,c,w),se=g.__ngNextListenerFn__;for(;se;)H=Py(r,s,se,w)&&H,se=se.__ngNextListenerFn__;return d&&!1===H&&(w.preventDefault(),w.returnValue=!1),H}}function Ry(n=1){return function Ac(n){return(Wn.lFrame.contextLView=function Kl(n,r){for(;n>0;)r=r[Ir],n--;return r}(n,Wn.lFrame.contextLView))[ui]}(n)}function j_(n,r){let s=null;const c=function jv(n){const r=n.attrs;if(null!=r){const s=r.indexOf(5);if(!(1&s))return r[s+1]}return null}(n);for(let d=0;d<r.length;d++){const g=r[d];if("*"!==g){if(null===c?Zp(n,g,!0):$v(c,g))return d}else s=d}return s}function Oy(n){const r=vt()[Tr][Vi];if(!r.projection){const c=r.projection=P(n?n.length:1,null),d=c.slice();let g=r.child;for(;null!==g;){const w=n?j_(g,n):0;null!==w&&(d[w]?d[w].projectionNext=g:c[w]=g,d[w]=g),g=g.next}}}function xm(n,r=0,s){const c=vt(),d=xn(),g=su(d,Ri+n,16,null,s||null);null===g.projection&&(g.projection=r),go(),32!=(32&g.flags)&&function Ml(n,r,s){ff(r[si],0,r,s,$i(n,s,r),Sr(s.parent||r[Vi],s,r))}(d,c,g)}function $_(n,r,s){return Dh(n,"",r,"",s),$_}function Dh(n,r,s,c,d){const g=vt(),w=Eh(g,r,s,c);return w!==Ii&&bs(xn(),fr(),g,n,w,g[si],d,!1),Dh}function pc(n,r){return n<<17|r<<2}function mc(n){return n>>17&32767}function W_(n){return 2|n}function hu(n){return(131068&n)>>2}function jf(n,r){return-131069&n|r<<2}function $f(n){return 1|n}function Am(n,r,s,c,d){const g=n[s+1],w=null===r;let F=c?mc(g):hu(g),H=!1;for(;0!==F&&(!1===H||w);){const Te=n[F+1];Fy(n[F],r)&&(H=!0,n[F+1]=c?$f(Te):W_(Te)),F=c?mc(Te):hu(Te)}H&&(n[s+1]=c?W_(g):$f(g))}function Fy(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&ln(n,r)>=0}const xo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ny(n){return n.substring(xo.key,xo.keyEnd)}function Y_(n,r){const s=xo.textEnd;return s===r?-1:(r=xo.keyEnd=function fx(n,r,s){for(;r<s&&n.charCodeAt(r)>32;)r++;return r}(n,xo.key=r,s),Mh(n,r,s))}function Mh(n,r,s){for(;r<s&&n.charCodeAt(r)<=32;)r++;return r}function Dm(n,r,s){return ul(n,r,s,!1),Dm}function Gf(n,r){return ul(n,r,null,!0),Gf}function Hy(n){!function ba(n,r,s,c){const d=xn(),g=Qr(2);d.firstUpdatePass&&Sm(d,null,g,c);const w=vt();if(s!==Ii&&ss(w,g,s)){const F=d.data[Zi()];if(r0(F,c)&&!jy(d,g)){let H=c?F.classesWithoutHost:F.stylesWithoutHost;null!==H&&(s=K(H,s||"")),N_(d,F,w,s,c)}else!function gx(n,r,s,c,d,g,w,F){d===Ii&&(d=ht);let H=0,se=0,Te=0<d.length?d[0]:null,We=0<g.length?g[0]:null;for(;null!==Te||null!==We;){const xt=H<d.length?d[H+1]:void 0,Lt=se<g.length?g[se+1]:void 0;let wn,cn=null;Te===We?(H+=2,se+=2,xt!==Lt&&(cn=We,wn=Lt)):null===We||null!==Te&&Te<We?(H+=2,cn=Te):(se+=2,cn=We,wn=Lt),null!==cn&&Mm(n,r,s,c,cn,wn,w,F),Te=H<d.length?d[H]:null,We=se<g.length?g[se]:null}}(d,F,w,w[si],w[g+1],w[g+1]=function t0(n,r,s){if(null==s||""===s)return ht;const c=[],d=Fa(s);if(Array.isArray(d))for(let g=0;g<d.length;g++)n(c,d[g],!0);else if("object"==typeof d)for(const g in d)d.hasOwnProperty(g)&&n(c,g,d[g]);else"string"==typeof d&&r(c,d);return c}(n,r,s),c,g)}}(n0,$a,n,!0)}function $a(n,r){for(let s=function hx(n){return function Q_(n){xo.key=0,xo.keyEnd=0,xo.value=0,xo.valueEnd=0,xo.textEnd=n.length}(n),Y_(n,Mh(n,0,xo.textEnd))}(r);s>=0;s=Y_(r,s))Re(n,Ny(r),!0)}function ul(n,r,s,c){const d=vt(),g=xn(),w=Qr(2);g.firstUpdatePass&&Sm(g,n,w,c),r!==Ii&&ss(d,w,r)&&Mm(g,g.data[Zi()],d,d[si],n,d[w+1]=function Rh(n,r){return null==n||""===n||("string"==typeof r?n+=r:"object"==typeof n&&(n=z(Fa(n)))),n}(r,s),c,w)}function jy(n,r){return r>=n.expandoStartIndex}function Sm(n,r,s,c){const d=n.data;if(null===d[s+1]){const g=d[Zi()],w=jy(n,s);r0(g,c)&&null===r&&!w&&(r=!1),r=function $y(n,r,s,c){const d=ns(n);let g=c?r.residualClasses:r.residualStyles;if(null===d)0===(c?r.classBindings:r.styleBindings)&&(s=Zf(s=Wf(null,n,r,s,c),r.attrs,c),g=null);else{const w=r.directiveStylingLast;if(-1===w||n[w]!==d)if(s=Wf(d,n,r,s,c),null===g){let H=function e0(n,r,s){const c=s?r.classBindings:r.styleBindings;if(0!==hu(c))return n[mc(c)]}(n,r,c);void 0!==H&&Array.isArray(H)&&(H=Wf(null,n,r,H[1],c),H=Zf(H,r.attrs,c),function Gy(n,r,s,c){n[mc(s?r.classBindings:r.styleBindings)]=c}(n,r,c,H))}else g=function mx(n,r,s){let c;const d=r.directiveEnd;for(let g=1+r.directiveStylingLast;g<d;g++)c=Zf(c,n[g].hostAttrs,s);return Zf(c,r.attrs,s)}(n,r,c)}return void 0!==g&&(c?r.residualClasses=g:r.residualStyles=g),s}(d,g,r,c),function dx(n,r,s,c,d,g){let w=g?r.classBindings:r.styleBindings,F=mc(w),H=hu(w);n[c]=s;let Te,se=!1;if(Array.isArray(s)?(Te=s[1],(null===Te||ln(s,Te)>0)&&(se=!0)):Te=s,d)if(0!==H){const xt=mc(n[F+1]);n[c+1]=pc(xt,F),0!==xt&&(n[xt+1]=jf(n[xt+1],c)),n[F+1]=function ux(n,r){return 131071&n|r<<17}(n[F+1],c)}else n[c+1]=pc(F,0),0!==F&&(n[F+1]=jf(n[F+1],c)),F=c;else n[c+1]=pc(H,0),0===F?F=c:n[H+1]=jf(n[H+1],c),H=c;se&&(n[c+1]=W_(n[c+1])),Am(n,Te,c,!0),Am(n,Te,c,!1),function K_(n,r,s,c,d){const g=d?n.residualClasses:n.residualStyles;null!=g&&"string"==typeof r&&ln(g,r)>=0&&(s[c+1]=$f(s[c+1]))}(r,Te,n,c,g),w=pc(F,H),g?r.classBindings=w:r.styleBindings=w}(d,g,r,s,w,c)}}function Wf(n,r,s,c,d){let g=null;const w=s.directiveEnd;let F=s.directiveStylingLast;for(-1===F?F=s.directiveStart:F++;F<w&&(g=r[F],c=Zf(c,g.hostAttrs,d),g!==n);)F++;return null!==n&&(s.directiveStylingLast=F),c}function Zf(n,r,s){const c=s?1:2;let d=-1;if(null!==r)for(let g=0;g<r.length;g++){const w=r[g];"number"==typeof w?d=w:d===c&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Re(n,w,!!s||r[++g]))}return void 0===n?null:n}function n0(n,r,s){const c=String(r);""!==c&&!c.includes(" ")&&Re(n,c,s)}function Mm(n,r,s,c,d,g,w,F){if(!(3&r.type))return;const H=n.data,se=H[F+1],Te=function Z_(n){return 1==(1&n)}(se)?Pm(H,r,s,d,hu(se),w):void 0;Ph(Te)||(Ph(g)||function Sh(n){return 2==(2&n)}(se)&&(g=Pm(H,null,s,d,F,w)),function Zc(n,r,s,c,d){if(r)d?n.addClass(s,c):n.removeClass(s,c);else{let g=-1===c.indexOf("-")?void 0:Os.DashCase;null==d?n.removeStyle(s,c,g):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),g|=Os.Important),n.setStyle(s,c,d,g))}}(c,w,so(Zi(),s),d,g))}function Pm(n,r,s,c,d,g){const w=null===r;let F;for(;d>0;){const H=n[d],se=Array.isArray(H),Te=se?H[1]:H,We=null===Te;let xt=s[d+1];xt===Ii&&(xt=We?ht:void 0);let Lt=We?Dt(xt,c):Te===c?xt:void 0;if(se&&!Ph(Lt)&&(Lt=Dt(H,c)),Ph(Lt)&&(F=Lt,w))return F;const cn=n[d+1];d=w?mc(cn):hu(cn)}if(null!==r){let H=g?r.residualClasses:r.residualStyles;null!=H&&(F=Dt(H,c))}return F}function Ph(n){return void 0!==n}function r0(n,r){return 0!=(n.flags&(r?8:16))}function Rm(n,r=""){const s=vt(),c=xn(),d=n+Ri,g=c.firstCreatePass?su(c,d,1,r,null):c.data[d],w=s[d]=function Ud(n,r){return n.createText(r)}(s[si],r);$d(c,s,w,g),Xi(g,!1)}function o0(n){return Oh("",n,""),o0}function Oh(n,r,s){const c=vt(),d=Eh(c,n,r,s);return d!==Ii&&za(c,Zi(),d),Oh}function dl(n,r,s,c,d){const g=vt(),w=function hd(n,r,s,c,d,g){const F=Ul(n,Hr(),s,d);return Qr(2),F?r+fe(s)+c+fe(d)+g:Ii}(g,n,r,s,c,d);return w!==Ii&&za(g,Zi(),w),dl}function Kf(n,r,s,c,d,g,w){const F=vt(),H=dc(F,n,r,s,c,d,g,w);return H!==Ii&&za(F,Zi(),H),Kf}function Xf(n,r,s){const c=vt();if(ss(c,Uo(),r)){const g=xn(),w=fr();bs(g,w,c,n,r,_y(ns(g.data),w,c),s,!0)}return Xf}const gc=void 0;var ib=["en",[["a","p"],["AM","PM"],gc],[["AM","PM"],gc,gc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gc,"{1} 'at' {0}",gc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function m0(n){const s=Math.floor(Math.abs(n)),c=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===c?1:5}];let fu={};function kh(n){const r=function sb(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=bd(r);if(s)return s;const c=r.split("-")[0];if(s=bd(c),s)return s;if("en"===c)return ib;throw new _e(701,!1)}function g0(n){return kh(n)[di.PluralCase]}function bd(n){return n in fu||(fu[n]=Qt.ng&&Qt.ng.common&&Qt.ng.common.locales&&Qt.ng.common.locales[n]),fu[n]}var di=(()=>((di=di||{})[di.LocaleId=0]="LocaleId",di[di.DayPeriodsFormat=1]="DayPeriodsFormat",di[di.DayPeriodsStandalone=2]="DayPeriodsStandalone",di[di.DaysFormat=3]="DaysFormat",di[di.DaysStandalone=4]="DaysStandalone",di[di.MonthsFormat=5]="MonthsFormat",di[di.MonthsStandalone=6]="MonthsStandalone",di[di.Eras=7]="Eras",di[di.FirstDayOfWeek=8]="FirstDayOfWeek",di[di.WeekendRange=9]="WeekendRange",di[di.DateFormat=10]="DateFormat",di[di.TimeFormat=11]="TimeFormat",di[di.DateTimeFormat=12]="DateTimeFormat",di[di.NumberSymbols=13]="NumberSymbols",di[di.NumberFormats=14]="NumberFormats",di[di.CurrencyCode=15]="CurrencyCode",di[di.CurrencySymbol=16]="CurrencySymbol",di[di.CurrencyName=17]="CurrencyName",di[di.Currencies=18]="Currencies",di[di.Directionality=19]="Directionality",di[di.PluralCase=20]="PluralCase",di[di.ExtraData=21]="ExtraData",di))();const Nh="en-US";let ab=Nh;function qm(n,r,s,c,d){if(n=U(n),Array.isArray(n))for(let g=0;g<n.length;g++)qm(n[g],r,s,c,d);else{const g=xn(),w=vt();let F=cc(n)?n:U(n.provide),H=Sv(n);const se=bi(),Te=1048575&se.providerIndexes,We=se.directiveStart,xt=se.providerIndexes>>20;if(cc(n)||!n.multi){const Lt=new Ke(H,d,Vl),cn=$l(F,r,d?Te:Te+xt,We);-1===cn?(Sa(ql(se,w),g,F),sp(g,n,r.length),r.push(F),se.directiveStart++,se.directiveEnd++,d&&(se.providerIndexes+=1048576),s.push(Lt),w.push(Lt)):(s[cn]=Lt,w[cn]=Lt)}else{const Lt=$l(F,r,Te+xt,We),cn=$l(F,r,Te,Te+xt),En=cn>=0&&s[cn];if(d&&!En||!d&&!(Lt>=0&&s[Lt])){Sa(ql(se,w),g,F);const Jn=function BC(n,r,s,c,d){const g=new Ke(n,s,Vl);return g.multi=[],g.index=r,g.componentProviders=0,zh(g,d,c&&!s),g}(d?Vx:ap,s.length,d,c,H);!d&&En&&(s[cn].providerFactory=Jn),sp(g,n,r.length,0),r.push(F),se.directiveStart++,se.directiveEnd++,d&&(se.providerIndexes+=1048576),s.push(Jn),w.push(Jn)}else sp(g,n,Lt>-1?Lt:cn,zh(s[d?cn:Lt],H,!d&&c));!d&&c&&En&&s[cn].componentProviders++}}}function sp(n,r,s,c){const d=cc(r),g=function sh(n){return!!n.useClass}(r);if(d||g){const H=(g?U(r.useClass):r).prototype.ngOnDestroy;if(H){const se=n.destroyHooks||(n.destroyHooks=[]);if(!d&&r.multi){const Te=se.indexOf(s);-1===Te?se.push(s,[c,H]):se[Te+1].push(c,H)}else se.push(s,H)}}}function zh(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function $l(n,r,s,c){for(let d=s;d<c;d++)if(r[d]===n)return d;return-1}function ap(n,r,s,c){return gu(this.multi,[])}function Vx(n,r,s,c){const d=this.multi;let g;if(this.providerFactory){const w=this.providerFactory.componentProviders,F=_s(s,s[yn],this.providerFactory.index,c);g=F.slice(0,w),gu(d,g);for(let H=w;H<F.length;H++)g.push(F[H])}else g=[],gu(d,g);return g}function gu(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function Ux(n,r=[]){return s=>{s.providersResolver=(c,d)=>function Ym(n,r,s){const c=xn();if(c.firstCreatePass){const d=Qi(n);qm(s,c.data,c.blueprint,d,!0),qm(r,c.data,c.blueprint,d,!1)}}(c,d?d(n):n,r)}}class _u{}class Mb{}function Qm(n,r){return new Pb(n,r??null)}class Pb extends _u{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new sm(this);const c=In(r);this._bootstrapComponents=Ll(c.bootstrap),this._r3Injector=Qv(r,s,[{provide:_u,useValue:this},{provide:ah,useValue:this.componentFactoryResolver}],z(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Hh extends Mb{constructor(r){super(),this.moduleType=r}create(r){return new Pb(this.moduleType,r)}}class zx extends _u{constructor(r,s,c){super(),this.componentFactoryResolver=new sm(this),this.instance=null;const d=new Kg([...r,{provide:_u,useValue:this},{provide:ah,useValue:this.componentFactoryResolver}],s||wf(),c,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function S0(n,r,s=null){return new zx(n,r,s).injector}let Xm=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const c=bf(0,s.type),d=c.length>0?S0([c],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,d)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=R({token:n,providedIn:"environment",factory:()=>new n(nn(Va))}),n})();function Rb(n){n.getStandaloneInjector=r=>r.get(Xm).getOrCreateStandaloneInjector(n)}function vc(n,r,s){const c=er()+n,d=vt();return d[c]===Ii?cl(d,c,s?r.call(s):r()):function zf(n,r){return n[r]}(d,c)}function Fb(n,r,s,c){return L0(vt(),er(),n,r,s,c)}function N0(n,r,s,c,d){return Nb(vt(),er(),n,r,s,c,d)}function $h(n,r){const s=n[r];return s===Ii?void 0:s}function L0(n,r,s,c,d,g){const w=r+s;return ss(n,w,d)?cl(n,w+1,g?c.call(g,d):c(d)):$h(n,w+1)}function Nb(n,r,s,c,d,g,w){const F=r+s;return Ul(n,F,d,g)?cl(n,F+2,w?c.call(w,d,g):c(d,g)):$h(n,F+2)}function xd(n,r){const s=xn();let c;const d=n+Ri;s.firstCreatePass?(c=function V0(n,r){if(r)for(let s=r.length-1;s>=0;s--){const c=r[s];if(n===c.name)return c}}(r,s.pipeRegistry),s.data[d]=c,c.onDestroy&&(s.destroyHooks??(s.destroyHooks=[])).push(d,c.onDestroy)):c=s.data[d];const g=c.factory||(c.factory=Wo(c.type)),w=He(Vl);try{const F=Dc(!1),H=g();return Dc(F),function F_(n,r,s,c){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=c}(s,vt(),d,H),H}finally{He(w)}}function Vb(n,r,s){const c=n+Ri,d=vt(),g=So(d,c);return eg(d,c)?L0(d,er(),r,g.transform,s,g):g.transform(s)}function Ub(n,r,s,c){const d=n+Ri,g=vt(),w=So(g,d);return eg(g,d)?Nb(g,er(),r,w.transform,s,c,w):w.transform(s,c)}function eg(n,r){return n[yn].data[r].pure}function zb(n){return r=>{setTimeout(n,void 0,r)}}const yc=class HC extends l.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,c){let d=r,g=s||(()=>null),w=c;if(r&&"object"==typeof r){const H=r;d=H.next?.bind(H),g=H.error?.bind(H),w=H.complete?.bind(H)}this.__isAsync&&(g=zb(g),d&&(d=zb(d)),w&&(w=zb(w)));const F=super.subscribe({next:d,error:g,complete:w});return r instanceof b.w0&&r.add(F),F}};function Jx(){return this._results[Symbol.iterator]()}class tg{get changes(){return this._changes||(this._changes=new yc)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=tg.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=Jx)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const c=this;c.dirty=!1;const d=function uo(n){return n.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Nd(n,r,s){if(n.length!==r.length)return!1;for(let c=0;c<n.length;c++){let d=n[c],g=r[c];if(s&&(d=s(d),g=s(g)),g!==d)return!1}return!0}(c._results,d,s))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let cp=(()=>{class n{}return n.__NG_ELEMENT_ID__=Hb,n})();const jC=cp,eC=class extends jC{constructor(r,s,c){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=c}createEmbeddedView(r,s){const c=this._declarationTContainer.tView,d=Qp(this._declarationLView,c,r,16,null,c.declTNode,null,null,null,null,s||null);d[To]=this._declarationLView[this._declarationTContainer.index];const w=this._declarationLView[Zr];return null!==w&&(d[Zr]=w.createEmbeddedView(c)),Nf(c,d,r),new _h(d)}};function Hb(){return hl(bi(),vt())}function hl(n,r){return 4&n.type?new eC(r,n,al(n,r)):null}let ng=(()=>{class n{}return n.__NG_ELEMENT_ID__=tC,n})();function tC(){return Gb(bi(),vt())}const nC=ng,jb=class extends nC{constructor(r,s,c){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=c}get element(){return al(this._hostTNode,this._hostLView)}get injector(){return new Js(this._hostTNode,this._hostLView)}get parentInjector(){const r=_o(this._hostTNode,this._hostLView);if(zo(r)){const s=gs(r,this._hostLView),c=ms(r);return new Js(s[yn].data[c+8],s)}return new Js(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=$b(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-ur}createEmbeddedView(r,s,c){let d,g;"number"==typeof c?d=c:null!=c&&(d=c.index,g=c.injector);const w=r.createEmbeddedView(s||{},g);return this.insert(w,d),w}createComponent(r,s,c,d,g){const w=r&&!function xl(n){return"function"==typeof n}(r);let F;if(w)F=s;else{const We=s||{};F=We.index,c=We.injector,d=We.projectableNodes,g=We.environmentInjector||We.ngModuleRef}const H=w?r:new dd(bt(r)),se=c||this.parentInjector;if(!g&&null==H.ngModule){const xt=(w?se:this.parentInjector).get(Va,null);xt&&(g=xt)}const Te=H.create(se,d,void 0,g);return this.insert(Te.hostView,F),Te}insert(r,s){const c=r._lView,d=c[yn];if(function Mo(n){return xr(n[oi])}(c)){const Te=this.indexOf(r);if(-1!==Te)this.detach(Te);else{const We=c[oi],xt=new jb(We,We[Vi],We[oi]);xt.detach(xt.indexOf(r))}}const g=this._adjustIndex(s),w=this._lContainer;!function vo(n,r,s,c){const d=ur+c,g=s.length;c>0&&(s[d-1][nr]=r),c<g-ur?(r[nr]=s[d],Lc(s,ur+c,r)):(s.push(r),r[nr]=null),r[oi]=s;const w=r[To];null!==w&&s!==w&&function uf(n,r){const s=n[Yr];r[Tr]!==r[oi][oi][Tr]&&(n[Cs]=!0),null===s?n[Yr]=[r]:s.push(r)}(w,r);const F=r[Zr];null!==F&&F.insertView(n),r[ti]|=64}(d,c,w,g);const F=Sl(g,w),H=c[si],se=jd(H,w[Hs]);return null!==se&&function cf(n,r,s,c,d,g){c[fi]=d,c[Vi]=r,va(n,c,s,1,d,g)}(d,w[Vi],H,c,se,F),r.attachToViewContainerRef(),Lc(U0(w),g,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=$b(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),c=$c(this._lContainer,s);c&&(D(U0(this._lContainer),s),df(c[yn],c))}detach(r){const s=this._adjustIndex(r,-1),c=$c(this._lContainer,s);return c&&null!=D(U0(this._lContainer),s)?new _h(c):null}_adjustIndex(r,s=0){return r??this.length+s}};function $b(n){return n[No]}function U0(n){return n[No]||(n[No]=[])}function Gb(n,r){let s;const c=r[n.index];if(xr(c))s=c;else{let d;if(8&n.type)d=ir(c);else{const g=r[si];d=g.createComment("");const w=Fi(n,r);ks(g,jd(g,w),d,function Oa(n,r){return n.nextSibling(r)}(g,w),!1)}r[n.index]=s=E_(c,r,d,n),tm(r,s)}return new jb(s,n,r)}class Wb{constructor(r){this.queryList=r,this.matches=null}clone(){return new Wb(this.queryList)}setDirty(){this.queryList.setDirty()}}class Zb{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const c=null!==r.contentQueries?r.contentQueries[0]:s.length,d=[];for(let g=0;g<c;g++){const w=s.getByIndex(g);d.push(this.queries[w.indexInDeclarationView].clone())}return new Zb(d)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==$0(r,s).matches&&this.queries[s].setDirty()}}class iC{constructor(r,s,c=null){this.predicate=r,this.flags=s,this.read=c}}class ig{constructor(r=[]){this.queries=r}elementStart(r,s){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let c=0;c<this.length;c++){const d=null!==s?s.length:0,g=this.getByIndex(c).embeddedTView(r,d);g&&(g.indexInDeclarationView=c,null!==s?s.push(g):s=[g])}return null!==s?new ig(s):null}template(r,s){for(let c=0;c<this.queries.length;c++)this.queries[c].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class z0{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new z0(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let c=r.parent;for(;null!==c&&8&c.type&&c.index!==s;)c=c.parent;return s===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const g=c[d];this.matchTNodeWithReadOption(r,s,$C(s,g)),this.matchTNodeWithReadOption(r,s,Mc(s,r,g,!1,!1))}else c===cp?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Mc(s,r,c,!1,!1))}matchTNodeWithReadOption(r,s,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===td||d===ng||d===cp&&4&s.type)this.addMatch(s.index,-2);else{const g=Mc(s,r,d,!1,!1);null!==g&&this.addMatch(s.index,g)}else this.addMatch(s.index,c)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function $C(n,r){const s=n.localNames;if(null!==s)for(let c=0;c<s.length;c+=2)if(s[c]===r)return s[c+1];return null}function WC(n,r,s,c){return-1===s?function GC(n,r){return 11&n.type?al(n,r):4&n.type?hl(n,r):null}(r,n):-2===s?function ZC(n,r,s){return s===td?al(r,n):s===cp?hl(r,n):s===ng?Gb(r,n):void 0}(n,r,c):_s(n,n[yn],s,r)}function H0(n,r,s,c){const d=r[Zr].queries[c];if(null===d.matches){const g=n.data,w=s.matches,F=[];for(let H=0;H<w.length;H+=2){const se=w[H];F.push(se<0?null:WC(r,g[se],w[H+1],s.metadata.read))}d.matches=F}return d.matches}function rg(n,r,s,c){const d=n.queries.getByIndex(s),g=d.matches;if(null!==g){const w=H0(n,r,d,s);for(let F=0;F<g.length;F+=2){const H=g[F];if(H>0)c.push(w[F/2]);else{const se=g[F+1],Te=r[-H];for(let We=ur;We<Te.length;We++){const xt=Te[We];xt[To]===xt[oi]&&rg(xt[yn],xt,se,c)}if(null!==Te[Yr]){const We=Te[Yr];for(let xt=0;xt<We.length;xt++){const Lt=We[xt];rg(Lt[yn],Lt,se,c)}}}}}return c}function rC(n){const r=vt(),s=xn(),c=pa();Qs(c+1);const d=$0(s,c);if(n.dirty&&function Ss(n){return 4==(4&n[ti])}(r)===(2==(2&d.metadata.flags))){if(null===d.matches)n.reset([]);else{const g=d.crossesNgTemplate?rg(s,r,c,[]):H0(s,r,d,c);n.reset(g,qg),n.notifyOnChanges()}return!0}return!1}function oC(n,r,s){const c=xn();c.firstCreatePass&&(Yb(c,new iC(n,r,s),-1),2==(2&r)&&(c.staticViewQueries=!0)),Kb(c,vt(),r)}function sC(n,r,s,c){const d=xn();if(d.firstCreatePass){const g=bi();Yb(d,new iC(r,s,c),g.index),function j0(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(d,n),2==(2&s)&&(d.staticContentQueries=!0)}Kb(d,vt(),s)}function og(){return function sg(n,r){return n[Zr].queries[r].queryList}(vt(),pa())}function Kb(n,r,s){const c=new tg(4==(4&s));ph(n,r,c,c.destroy),null===r[Zr]&&(r[Zr]=new Zb),r[Zr].queries.push(new Wb(c))}function Yb(n,r,s){null===n.queries&&(n.queries=new ig),n.queries.track(new z0(r,s))}function $0(n,r){return n.queries.getByIndex(r)}function G0(n,r){return hl(n,r)}function ag(n){return!!In(n)}function M(...n){}const ue=new or("Application Initializer");let Ie=(()=>{class n{constructor(s){this.appInits=s,this.resolve=M,this.reject=M,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const s=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const g=this.appInits[d]();if(ym(g))s.push(g);else if(bm(g)){const w=new Promise((F,H)=>{g.subscribe({complete:F,error:H})});s.push(w)}}Promise.all(s).then(()=>{c()}).catch(d=>{this.reject(d)}),0===s.length&&c(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(nn(ue,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Je=new or("AppId",{providedIn:"root",factory:function yt(){return`${Kt()}${Kt()}${Kt()}`}});function Kt(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const qt=new or("Platform Initializer"),Cn=new or("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),vn=new or("AnimationModuleType");let Un=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const ci=new or("LocaleId",{providedIn:"root",factory:()=>mt(ci,Le.Optional|Le.SkipSelf)||function gi(){return typeof $localize<"u"&&$localize.locale||Nh}()}),Ct=new or("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class kt{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let zt=(()=>{class n{compileModuleSync(s){return new Hh(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const c=this.compileModuleSync(s),g=Ll(In(s).declarations).reduce((w,F)=>{const H=bt(F);return H&&w.push(new dd(H)),w},[]);return new kt(c,g)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wo=(()=>Promise.resolve(0))();function sa(n){typeof Zone>"u"?wo.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Bi{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yc(!1),this.onMicrotaskEmpty=new yc(!1),this.onStable=new yc(!1),this.onError=new yc(!1),typeof Zone>"u")throw new _e(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&s,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function fo(){let n=Qt.requestAnimationFrame,r=Qt.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const c=r[Zone.__symbol__("OriginalDelegate")];c&&(r=c)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function xc(n){const r=()=>{!function po(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Qt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Es(n),n.isCheckStableRunning=!0,hp(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Es(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,c,d,g,w,F)=>{try{return Gl(n),s.invokeTask(d,g,w,F)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||n.shouldCoalesceRunChangeDetection)&&r(),Cc(n)}},onInvoke:(s,c,d,g,w,F,H)=>{try{return Gl(n),s.invoke(d,g,w,F,H)}finally{n.shouldCoalesceRunChangeDetection&&r(),Cc(n)}},onHasTask:(s,c,d,g)=>{s.hasTask(d,g),c===d&&("microTask"==g.change?(n._hasPendingMicrotasks=g.microTask,Es(n),hp(n)):"macroTask"==g.change&&(n.hasPendingMacrotasks=g.macroTask))},onHandleError:(s,c,d,g)=>(s.handleError(d,g),n.runOutsideAngular(()=>n.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Bi.isInAngularZone())throw new _e(909,!1)}static assertNotInAngularZone(){if(Bi.isInAngularZone())throw new _e(909,!1)}run(r,s,c){return this._inner.run(r,s,c)}runTask(r,s,c,d){const g=this._inner,w=g.scheduleEventTask("NgZoneEvent: "+d,r,xu,M,M);try{return g.runTask(w,s,c)}finally{g.cancelTask(w)}}runGuarded(r,s,c){return this._inner.runGuarded(r,s,c)}runOutsideAngular(r){return this._outer.run(r)}}const xu={};function hp(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Es(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Gl(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Cc(n){n._nesting--,hp(n)}class ev{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yc,this.onMicrotaskEmpty=new yc,this.onStable=new yc,this.onError=new yc}run(r,s,c){return r.apply(s,c)}runGuarded(r,s,c){return r.apply(s,c)}runOutsideAngular(r){return r()}runTask(r,s,c,d){return r.apply(s,c)}}const cg=new or(""),ug=new or("");let iv,tv=(()=>{class n{constructor(s,c,d){this._ngZone=s,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,iv||(function mE(n){iv=n}(d),d.addToWindow(c)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Bi.assertNotInAngularZone(),sa(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())sa(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(s)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,c,d){let g=-1;c&&c>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==g),s(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:s,timeoutId:g,updateCb:d})}whenStable(s,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,c,d){return[]}}return n.\u0275fac=function(s){return new(s||n)(nn(Bi),nn(nv),nn(ug))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})(),nv=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,c){this._applications.set(s,c)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,c=!0){return iv?.findTestabilityInTree(this,s,c)??null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Wl=!1;let wc=null;const dg=new or("AllowMultipleToken"),hg=new or("PlatformDestroyListeners"),gE=new or("appBootstrapListener");class xs{constructor(r,s){this.name=r,this.token=s}}function vE(n,r,s=[]){const c=`Platform: ${r}`,d=new or(c);return(g=[])=>{let w=pp();if(!w||w.injector.get(dg,!1)){const F=[...s,...g,{provide:d,useValue:!0}];n?n(F):function Bs(n){if(wc&&!wc.get(dg,!1))throw new _e(400,!1);wc=n;const r=n.get(yE);(function sv(n){const r=n.get(qt,null);r&&r.forEach(s=>s())})(n)}(function av(n=[],r){return rd.create({name:r,providers:[{provide:Fl,useValue:"platform"},{provide:hg,useValue:new Set([()=>wc=null])},...n]})}(F,c))}return function fp(n){const r=pp();if(!r)throw new _e(401,!1);return r}()}}function pp(){return wc?.get(yE)??null}let yE=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,c){const d=function pg(n,r){let s;return s="noop"===n?new ev:("zone.js"===n?void 0:n)||new Bi(r),s}(c?.ngZone,function bE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(c)),g=[{provide:Bi,useValue:d}];return d.run(()=>{const w=rd.create({providers:g,parent:this.injector,name:s.moduleType.name}),F=s.create(w),H=F.injector.get(Af,null);if(!H)throw new _e(402,!1);return d.runOutsideAngular(()=>{const se=d.onError.subscribe({next:Te=>{H.handleError(Te)}});F.onDestroy(()=>{Zh(this._modules,F),se.unsubscribe()})}),function lv(n,r,s){try{const c=s();return ym(c)?c.catch(d=>{throw r.runOutsideAngular(()=>n.handleError(d)),d}):c}catch(c){throw r.runOutsideAngular(()=>n.handleError(c)),c}}(H,d,()=>{const se=F.injector.get(Ie);return se.runInitializers(),se.donePromise.then(()=>(function lb(n){Ne(n,"Expected localeId to be defined"),"string"==typeof n&&(ab=n.toLowerCase().replace(/_/g,"-"))}(F.injector.get(ci,Nh)||Nh),this._moduleDoBootstrap(F),F))})})}bootstrapModule(s,c=[]){const d=cv({},c);return function rv(n,r,s){const c=new Hh(s);return Promise.resolve(c)}(0,0,s).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(s){const c=s.injector.get(Cu);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!s.instance.ngDoBootstrap)throw new _e(-403,!1);s.instance.ngDoBootstrap(c)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new _e(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const s=this._injector.get(hg,null);s&&(s.forEach(c=>c()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(nn(rd))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function cv(n,r){return Array.isArray(r)?r.reduce(cv,n):{...n,...r}}let Cu=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(s,c,d){this._zone=s,this._injector=c,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new f.y(F=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{F.next(this._stable),F.complete()})}),w=new f.y(F=>{let H;this._zone.runOutsideAngular(()=>{H=this._zone.onStable.subscribe(()=>{Bi.assertNotInAngularZone(),sa(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,F.next(!0))})})});const se=this._zone.onUnstable.subscribe(()=>{Bi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{F.next(!1)}))});return()=>{H.unsubscribe(),se.unsubscribe()}});this.isStable=(0,O.T)(g,w.pipe((0,de.B)()))}bootstrap(s,c){const d=s instanceof Pv;if(!this._injector.get(Ie).done){!d&&on(s);throw new _e(405,Wl)}let w;w=d?s:this._injector.get(ah).resolveComponentFactory(s),this.componentTypes.push(w.componentType);const F=function ov(n){return n.isBoundToModule}(w)?void 0:this._injector.get(_u),se=w.create(rd.NULL,[],c||w.selector,F),Te=se.location.nativeElement,We=se.injector.get(cg,null);return We?.registerApplication(Te),se.onDestroy(()=>{this.detachView(se.hostView),Zh(this.components,se),We?.unregisterApplication(Te)}),this._loadComponent(se),se}tick(){if(this._runningTick)throw new _e(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const c=s;this._views.push(c),c.attachToAppRef(this)}detachView(s){const c=s;Zh(this._views,c),c.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const c=this._injector.get(gE,[]);c.push(...this._bootstrapListeners),c.forEach(d=>d(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Zh(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new _e(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)(nn(Bi),nn(Va),nn(Af))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Zh(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}function EE(){return!1}let Vs=(()=>{class n{}return n.__NG_ELEMENT_ID__=xE,n})();function xE(n){return function mp(n,r,s){if(qi(n)&&!s){const c=Or(n.index,r);return new _h(c,c)}return 47&n.type?new _h(r[Tr],r):null}(bi(),vt(),16==(16&n))}class wu{constructor(){}supports(r){return uu(r)}create(r){return new EC(r)}}const gv=(n,r)=>r;class EC{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||gv}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,c=this._removalsHead,d=0,g=null;for(;s||c;){const w=!c||s&&s.currentIndex<Cg(c,d,g)?s:c,F=Cg(w,d,g),H=w.currentIndex;if(w===c)d--,c=c._nextRemoved;else if(s=s._next,null==w.previousIndex)d++;else{g||(g=[]);const se=F-d,Te=H-d;if(se!=Te){for(let xt=0;xt<se;xt++){const Lt=xt<g.length?g[xt]:g[xt]=0,cn=Lt+xt;Te<=cn&&cn<se&&(g[xt]=Lt+1)}g[w.previousIndex]=Te-se}}F!==H&&r(w,F,H)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!uu(r))throw new _e(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let d,g,w,s=this._itHead,c=!1;if(Array.isArray(r)){this.length=r.length;for(let F=0;F<this.length;F++)g=r[F],w=this._trackByFn(F,g),null!==s&&Object.is(s.trackById,w)?(c&&(s=this._verifyReinsertion(s,g,w,F)),Object.is(s.item,g)||this._addIdentityChange(s,g)):(s=this._mismatch(s,g,w,F),c=!0),s=s._next}else d=0,function P_(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[Symbol.iterator]();let c;for(;!(c=s.next()).done;)r(c.value)}}(r,F=>{w=this._trackByFn(d,F),null!==s&&Object.is(s.trackById,w)?(c&&(s=this._verifyReinsertion(s,F,w,d)),Object.is(s.item,F)||this._addIdentityChange(s,F)):(s=this._mismatch(s,F,w,d),c=!0),s=s._next,d++}),this.length=d;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,c,d){let g;return null===r?g=this._itTail:(g=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,g,d)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,g,d)):r=this._addAfter(new IE(s,c),g,d),r}_verifyReinsertion(r,s,c,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==g?r=this._reinsertAfter(g,r._prev,d):r.currentIndex!=d&&(r.currentIndex=d,this._addToMoves(r,d)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const d=r._prevRemoved,g=r._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(r,s,c),this._addToMoves(r,c),r}_moveAfter(r,s,c){return this._unlink(r),this._insertAfter(r,s,c),this._addToMoves(r,c),r}_addAfter(r,s,c){return this._insertAfter(r,s,c),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,c){const d=null===s?this._itHead:s._next;return r._next=d,r._prev=s,null===d?this._itTail=r:d._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new _v),this._linkedRecords.put(r),r.currentIndex=c,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,c=r._next;return null===s?this._itHead=c:s._next=c,null===c?this._itTail=s:c._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _v),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class IE{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TE{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===s||s<=c.currentIndex)&&Object.is(c.trackById,r))return c;return null}remove(r){const s=r._prevDup,c=r._nextDup;return null===s?this._head=c:s._nextDup=c,null===c?this._tail=s:c._prevDup=s,null===this._head}}class _v{constructor(){this.map=new Map}put(r){const s=r.trackById;let c=this.map.get(s);c||(c=new TE,this.map.set(s,c)),c.add(r)}get(r,s){const d=this.map.get(r);return d?d.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Cg(n,r,s){const c=n.previousIndex;if(null===c)return c;let d=0;return s&&c<s.length&&(d=s[c]),c+r+d}class wg{constructor(){}supports(r){return r instanceof Map||Uf(r)}create(){return new AE}}class AE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Uf(r)))throw new _e(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(c,d)=>{if(s&&s.key===d)this._maybeAddToChanges(s,c),this._appendAfter=s,s=s._next;else{const g=this._getOrCreateRecordForKey(d,c);s=this._insertBeforeOrAppend(s,g)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let c=s;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const c=r._prev;return s._next=r,s._prev=c,r._prev=s,c&&(c._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const d=this._records.get(r);this._maybeAddToChanges(d,s);const g=d._prev,w=d._next;return g&&(g._next=w),w&&(w._prev=g),d._next=null,d._prev=null,d}const c=new DE(r);return this._records.set(r,c),c.currentValue=s,this._addToAdditions(c),c}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(c=>s(r[c],c))}}class DE{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function SE(){return new vv([new wu])}let vv=(()=>{class n{constructor(s){this.factories=s}static create(s,c){if(null!=c){const d=c.factories.slice();s=s.concat(d)}return new n(s)}static extend(s){return{provide:n,useFactory:c=>n.create(s,c||SE()),deps:[[n,new Ru,new jn]]}}find(s){const c=this.factories.find(d=>d.supports(s));if(null!=c)return c;throw new _e(901,!1)}}return n.\u0275prov=R({token:n,providedIn:"root",factory:SE}),n})();function yv(){return new bv([new wg])}let bv=(()=>{class n{constructor(s){this.factories=s}static create(s,c){if(c){const d=c.factories.slice();s=s.concat(d)}return new n(s)}static extend(s){return{provide:n,useFactory:c=>n.create(s,c||yv()),deps:[[n,new Ru,new jn]]}}find(s){const c=this.factories.find(d=>d.supports(s));if(c)return c;throw new _e(901,!1)}}return n.\u0275prov=R({token:n,providedIn:"root",factory:yv}),n})();const ME=vE(null,"core",[]);let Vr=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(nn(Cu))},n.\u0275mod=On({type:n}),n.\u0275inj=Qe({}),n})();function Ig(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},4081:(wt,Fe,_)=>{"use strict";_.d(Fe,{Q1:()=>ao,TE:()=>Wn});var l=_(9618),b=_(9751),f=_(9646),O=_(8996),de=_(8372),ee=_(4004),te=_(3900),z=_(4650),K=_(3593),Y=_(3942),k=_(5861),U=_(6881),W=_(2090),ne=_(4859);const le="firebasestorage.googleapis.com",Ae="storageBucket";class Me extends W.ZR{constructor(E,A,S=0){super(he(E),`Firebase Storage: ${A} (${he(E)})`),this.status_=S,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Me.prototype)}get status(){return this.status_}set status(E){this.status_=E}_codeEquals(E){return he(E)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(E){this.customData.serverResponse=E,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var pe=(()=>{return(ie=pe||(pe={})).UNKNOWN="unknown",ie.OBJECT_NOT_FOUND="object-not-found",ie.BUCKET_NOT_FOUND="bucket-not-found",ie.PROJECT_NOT_FOUND="project-not-found",ie.QUOTA_EXCEEDED="quota-exceeded",ie.UNAUTHENTICATED="unauthenticated",ie.UNAUTHORIZED="unauthorized",ie.UNAUTHORIZED_APP="unauthorized-app",ie.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",ie.INVALID_CHECKSUM="invalid-checksum",ie.CANCELED="canceled",ie.INVALID_EVENT_NAME="invalid-event-name",ie.INVALID_URL="invalid-url",ie.INVALID_DEFAULT_BUCKET="invalid-default-bucket",ie.NO_DEFAULT_BUCKET="no-default-bucket",ie.CANNOT_SLICE_BLOB="cannot-slice-blob",ie.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",ie.NO_DOWNLOAD_URL="no-download-url",ie.INVALID_ARGUMENT="invalid-argument",ie.INVALID_ARGUMENT_COUNT="invalid-argument-count",ie.APP_DELETED="app-deleted",ie.INVALID_ROOT_OPERATION="invalid-root-operation",ie.INVALID_FORMAT="invalid-format",ie.INTERNAL_ERROR="internal-error",ie.UNSUPPORTED_ENVIRONMENT="unsupported-environment",pe;var ie})();function he(ie){return"storage/"+ie}function xe(){return new Me(pe.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function ct(){return new Me(pe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ot(){return new Me(pe.CANCELED,"User canceled the upload/download.")}function jt(){return new Me(pe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ne(ie){return new Me(pe.INVALID_ARGUMENT,ie)}function me(){return new Me(pe.APP_DELETED,"The Firebase app was deleted.")}function qe(ie){return new Me(pe.INVALID_ROOT_OPERATION,"The operation '"+ie+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Z(ie,E){return new Me(pe.INVALID_FORMAT,"String does not match format '"+ie+"': "+E)}function ye(ie){throw new Me(pe.INTERNAL_ERROR,"Internal error: "+ie)}class R{constructor(E,A){this.bucket=E,this.path_=A}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const E=encodeURIComponent;return"/b/"+E(this.bucket)+"/o/"+E(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(E,A){let S;try{S=R.makeFromUrl(E,A)}catch{return new R(E,"")}if(""===S.path)return S;throw function fn(ie){return new Me(pe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+ie+"'.")}(E)}static makeFromUrl(E,A){let S=null;const q="([A-Za-z0-9.\\-_]+)",Dn=new RegExp("^gs://"+q+"(/(.*))?$","i");function xn(Cr){Cr.path_=decodeURIComponent(Cr.path)}const Ni=A.replace(/[.]/g,"\\."),kr=[{regex:Dn,indices:{bucket:1,path:3},postModify:function Ge(Cr){"/"===Cr.path.charAt(Cr.path.length-1)&&(Cr.path_=Cr.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Ni}/v[A-Za-z0-9_]+/b/${q}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:xn},{regex:new RegExp(`^https?://${A===le?"(?:storage.googleapis.com|storage.cloud.google.com)":A}/${q}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:xn}];for(let Cr=0;Cr<kr.length;Cr++){const er=kr[Cr],Hr=er.regex.exec(E);if(Hr){let Uo=Hr[er.indices.path];Uo||(Uo=""),S=new R(Hr[er.indices.bucket],Uo),er.postModify(S);break}}if(null==S)throw function at(ie){return new Me(pe.INVALID_URL,"Invalid URL '"+ie+"'.")}(E);return S}}class Se{constructor(E){this.promise_=Promise.reject(E)}getPromise(){return this.promise_}cancel(E=!1){}}function _n(ie){return"string"==typeof ie||ie instanceof String}function Bn(ie){return qn()&&ie instanceof Blob}function qn(){return typeof Blob<"u"}function Mn(ie,E,A,S){if(S<E)throw Ne(`Invalid value for '${ie}'. Expected ${E} or greater.`);if(S>A)throw Ne(`Invalid value for '${ie}'. Expected ${A} or less.`)}function Pn(ie,E,A){let S=E;return null==A&&(S=`https://${E}`),`${A}://${S}/v0${ie}`}function Le(ie){const E=encodeURIComponent;let A="?";for(const S in ie)ie.hasOwnProperty(S)&&(A=A+(E(S)+"=")+E(ie[S])+"&");return A=A.slice(0,-1),A}var re=(()=>{return(ie=re||(re={}))[ie.NO_ERROR=0]="NO_ERROR",ie[ie.NETWORK_ERROR=1]="NETWORK_ERROR",ie[ie.ABORT=2]="ABORT",re;var ie})();function ge(ie,E){const A=ie>=500&&ie<600,q=-1!==[408,429].indexOf(ie),Ge=-1!==E.indexOf(ie);return A||q||Ge}class He{constructor(E,A,S,q,Ge,Ut,Dn,vt,xn,pi,Ni,bi=!0){this.url_=E,this.method_=A,this.headers_=S,this.body_=q,this.successCodes_=Ge,this.additionalRetryCodes_=Ut,this.callback_=Dn,this.errorCallback_=vt,this.timeout_=xn,this.progressCallback_=pi,this.connectionFactory_=Ni,this.retry=bi,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Hi,Wi)=>{this.resolve_=Hi,this.reject_=Wi,this.start_()})}start_(){const A=(S,q)=>{const Ge=this.resolve_,Ut=this.reject_,Dn=q.connection;if(q.wasSuccessCode)try{const vt=this.callback_(Dn,Dn.getResponse());!function $e(ie){return void 0!==ie}(vt)?Ge():Ge(vt)}catch(vt){Ut(vt)}else if(null!==Dn){const vt=xe();vt.serverResponse=Dn.getErrorText(),Ut(this.errorCallback_?this.errorCallback_(Dn,vt):vt)}else Ut(q.canceled?this.appDelete_?me():Ot():ct())};this.canceled_?A(0,new It(!1,null,!0)):this.backoffId_=function Qe(ie,E,A){let S=1,q=null,Ge=null,Ut=!1,Dn=0;function vt(){return 2===Dn}let xn=!1;function pi(...Ji){xn||(xn=!0,E.apply(null,Ji))}function Ni(Ji){q=setTimeout(()=>{q=null,ie(Hi,vt())},Ji)}function bi(){Ge&&clearTimeout(Ge)}function Hi(Ji,...go){if(xn)return void bi();if(Ji)return bi(),void pi.call(null,Ji,...go);if(vt()||Ut)return bi(),void pi.call(null,Ji,...go);let kr;S<64&&(S*=2),1===Dn?(Dn=2,kr=0):kr=1e3*(S+Math.random()),Ni(kr)}let Wi=!1;function Xi(Ji){Wi||(Wi=!0,bi(),!xn&&(null!==q?(Ji||(Dn=2),clearTimeout(q),Ni(0)):Ji||(Dn=1)))}return Ni(0),Ge=setTimeout(()=>{Ut=!0,Xi(!0)},A),Xi}((S,q)=>{if(q)return void S(!1,new It(!1,null,!0));const Ge=this.connectionFactory_();this.pendingConnection_=Ge;const Ut=Dn=>{null!==this.progressCallback_&&this.progressCallback_(Dn.loaded,Dn.lengthComputable?Dn.total:-1)};null!==this.progressCallback_&&Ge.addUploadProgressListener(Ut),Ge.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Ge.removeUploadProgressListener(Ut),this.pendingConnection_=null;const Dn=Ge.getErrorCode()===re.NO_ERROR,vt=Ge.getStatus();if(!Dn||ge(vt,this.additionalRetryCodes_)&&this.retry){const pi=Ge.getErrorCode()===re.ABORT;return void S(!1,new It(!1,null,pi))}const xn=-1!==this.successCodes_.indexOf(vt);S(!0,new It(xn,Ge))})},A,this.timeout_)}getPromise(){return this.promise_}cancel(E){this.canceled_=!0,this.appDelete_=E||!1,null!==this.backoffId_&&function Tt(ie){ie(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class It{constructor(E,A,S){this.wasSuccessCode=E,this.connection=A,this.canceled=!!S}}function rt(...ie){const E=function De(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==E){const A=new E;for(let S=0;S<ie.length;S++)A.append(ie[S]);return A.getBlob()}if(qn())return new Blob(ie);throw new Me(pe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const mn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ai{constructor(E,A){this.data=E,this.contentType=A||null}}function zn(ie,E){switch(ie){case mn.RAW:return new ai(ri(E));case mn.BASE64:case mn.BASE64URL:return new ai(Ti(ie,E));case mn.DATA_URL:return new ai(function pt(ie){const E=new nn(ie);return E.base64?Ti(mn.BASE64,E.rest):function Qn(ie){let E;try{E=decodeURIComponent(ie)}catch{throw Z(mn.DATA_URL,"Malformed data URL.")}return ri(E)}(E.rest)}(E),function mt(ie){return new nn(ie).contentType}(E))}throw xe()}function ri(ie){const E=[];for(let A=0;A<ie.length;A++){let S=ie.charCodeAt(A);S<=127?E.push(S):S<=2047?E.push(192|S>>6,128|63&S):55296==(64512&S)?A<ie.length-1&&56320==(64512&ie.charCodeAt(A+1))?(S=65536|(1023&S)<<10|1023&ie.charCodeAt(++A),E.push(240|S>>18,128|S>>12&63,128|S>>6&63,128|63&S)):E.push(239,191,189):56320==(64512&S)?E.push(239,191,189):E.push(224|S>>12,128|S>>6&63,128|63&S)}return new Uint8Array(E)}function Ti(ie,E){switch(ie){case mn.BASE64:{const q=-1!==E.indexOf("-"),Ge=-1!==E.indexOf("_");if(q||Ge)throw Z(ie,"Invalid character '"+(q?"-":"_")+"' found: is it base64url encoded?");break}case mn.BASE64URL:{const q=-1!==E.indexOf("+"),Ge=-1!==E.indexOf("/");if(q||Ge)throw Z(ie,"Invalid character '"+(q?"+":"/")+"' found: is it base64 encoded?");E=E.replace(/-/g,"+").replace(/_/g,"/");break}}let A;try{A=function sn(ie){if(typeof atob>"u")throw function ke(ie){return new Me(pe.UNSUPPORTED_ENVIRONMENT,`${ie} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(ie)}(E)}catch(q){throw q.message.includes("polyfill")?q:Z(ie,"Invalid character found")}const S=new Uint8Array(A.length);for(let q=0;q<A.length;q++)S[q]=A.charCodeAt(q);return S}class nn{constructor(E){this.base64=!1,this.contentType=null;const A=E.match(/^data:([^,]+)?,/);if(null===A)throw Z(mn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const S=A[1]||null;null!=S&&(this.base64=function nt(ie,E){return ie.length>=E.length&&ie.substring(ie.length-E.length)===E}(S,";base64"),this.contentType=this.base64?S.substring(0,S.length-7):S),this.rest=E.substring(E.indexOf(",")+1)}}class ze{constructor(E,A){let S=0,q="";Bn(E)?(this.data_=E,S=E.size,q=E.type):E instanceof ArrayBuffer?(A?this.data_=new Uint8Array(E):(this.data_=new Uint8Array(E.byteLength),this.data_.set(new Uint8Array(E))),S=this.data_.length):E instanceof Uint8Array&&(A?this.data_=E:(this.data_=new Uint8Array(E.length),this.data_.set(E)),S=E.length),this.size_=S,this.type_=q}size(){return this.size_}type(){return this.type_}slice(E,A){if(Bn(this.data_)){const q=function Wt(ie,E,A){return ie.webkitSlice?ie.webkitSlice(E,A):ie.mozSlice?ie.mozSlice(E,A):ie.slice?ie.slice(E,A):null}(this.data_,E,A);return null===q?null:new ze(q)}{const S=new Uint8Array(this.data_.buffer,E,A-E);return new ze(S,!0)}}static getBlob(...E){if(qn()){const A=E.map(S=>S instanceof ze?S.data_:S);return new ze(rt.apply(null,A))}{const A=E.map(Ut=>_n(Ut)?zn(mn.RAW,Ut).data:Ut.data_);let S=0;A.forEach(Ut=>{S+=Ut.byteLength});const q=new Uint8Array(S);let Ge=0;return A.forEach(Ut=>{for(let Dn=0;Dn<Ut.length;Dn++)q[Ge++]=Ut[Dn]}),new ze(q,!0)}}uploadData(){return this.data_}}function ot(ie){let E;try{E=JSON.parse(ie)}catch{return null}return function Gt(ie){return"object"==typeof ie&&!Array.isArray(ie)}(E)?E:null}function Ln(ie){const E=ie.lastIndexOf("/",ie.length-2);return-1===E?ie:ie.slice(E+1)}function Ze(ie,E){return E}class Ve{constructor(E,A,S,q){this.server=E,this.local=A||E,this.writable=!!S,this.xform=q||Ze}}let et=null;function ht(){if(et)return et;const ie=[];ie.push(new Ve("bucket")),ie.push(new Ve("generation")),ie.push(new Ve("metageneration")),ie.push(new Ve("name","fullPath",!0));const A=new Ve("name");A.xform=function E(Ge,Ut){return function Rt(ie){return!_n(ie)||ie.length<2?ie:Ln(ie)}(Ut)},ie.push(A);const q=new Ve("size");return q.xform=function S(Ge,Ut){return void 0!==Ut?Number(Ut):Ut},ie.push(q),ie.push(new Ve("timeCreated")),ie.push(new Ve("updated")),ie.push(new Ve("md5Hash",null,!0)),ie.push(new Ve("cacheControl",null,!0)),ie.push(new Ve("contentDisposition",null,!0)),ie.push(new Ve("contentEncoding",null,!0)),ie.push(new Ve("contentLanguage",null,!0)),ie.push(new Ve("contentType",null,!0)),ie.push(new Ve("metadata","customMetadata",!0)),et=ie,et}function L(ie,E,A){const S=ot(E);return null===S?null:function X(ie,E,A){const S={type:"file"},q=A.length;for(let Ge=0;Ge<q;Ge++){const Ut=A[Ge];S[Ut.local]=Ut.xform(S,E[Ut.server])}return function tt(ie,E){Object.defineProperty(ie,"ref",{get:function A(){const Ge=new R(ie.bucket,ie.fullPath);return E._makeStorageReference(Ge)}})}(S,ie),S}(ie,S,A)}function j(ie,E){const A={},S=E.length;for(let q=0;q<S;q++){const Ge=E[q];Ge.writable&&(A[Ge.server]=ie[Ge.local])}return JSON.stringify(A)}const Ee="prefixes",Oe="items";class en{constructor(E,A,S,q){this.url=E,this.method=A,this.handler=S,this.timeout=q,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function bn(ie){if(!ie)throw xe()}function On(ie,E){return function A(S,q){const Ge=L(ie,q,E);return bn(null!==Ge),Ge}}function An(ie){return function E(A,S){let q;return q=401===A.getStatus()?A.getErrorText().includes("Firebase App Check token is invalid")?function dt(){return new Me(pe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Xe(){return new Me(pe.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===A.getStatus()?function Pe(ie){return new Me(pe.QUOTA_EXCEEDED,"Quota for bucket '"+ie+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(ie.bucket):403===A.getStatus()?function Ue(ie){return new Me(pe.UNAUTHORIZED,"User does not have permission to access '"+ie+"'.")}(ie.path):S,q.status=A.getStatus(),q.serverResponse=S.serverResponse,q}}function Gn(ie){const E=An(ie);return function A(S,q){let Ge=E(S,q);return 404===S.getStatus()&&(Ge=function je(ie){return new Me(pe.OBJECT_NOT_FOUND,"Object '"+ie+"' does not exist.")}(ie.path)),Ge.serverResponse=q.serverResponse,Ge}}function bt(ie,E,A){const q=Pn(E.fullServerUrl(),ie.host,ie._protocol),Ut=ie.maxOperationRetryTime,Dn=new en(q,"GET",On(ie,A),Ut);return Dn.errorHandler=Gn(E),Dn}function Et(ie,E,A,S,q){const Ge={};Ge.prefix=E.isRoot?"":E.path+"/",A&&A.length>0&&(Ge.delimiter=A),S&&(Ge.pageToken=S),q&&(Ge.maxResults=q);const Dn=Pn(E.bucketOnlyServerUrl(),ie.host,ie._protocol),xn=ie.maxOperationRetryTime,pi=new en(Dn,"GET",function pn(ie,E){return function A(S,q){const Ge=function _t(ie,E,A){const S=ot(A);return null===S?null:function st(ie,E,A){const S={prefixes:[],items:[],nextPageToken:A.nextPageToken};if(A[Ee])for(const q of A[Ee]){const Ge=q.replace(/\/$/,""),Ut=ie._makeStorageReference(new R(E,Ge));S.prefixes.push(Ut)}if(A[Oe])for(const q of A[Oe]){const Ge=ie._makeStorageReference(new R(E,q.name));S.items.push(Ge)}return S}(ie,E,S)}(ie,E,q);return bn(null!==Ge),Ge}}(ie,E.bucket),xn);return pi.urlParams=Ge,pi.errorHandler=An(E),pi}function Ei(ie,E,A){const S=Object.assign({},A);return S.fullPath=ie.path,S.size=E.size(),S.contentType||(S.contentType=function li(ie,E){return ie&&ie.contentType||E&&E.type()||"application/octet-stream"}(null,E)),S}class yn{constructor(E,A,S,q){this.current=E,this.total=A,this.finalized=!!S,this.metadata=q||null}}function ti(ie,E){let A=null;try{A=ie.getResponseHeader("X-Goog-Upload-Status")}catch{bn(!1)}return bn(!!A&&-1!==(E||["active"]).indexOf(A)),A}const cr={STATE_CHANGED:"state_changed"},ui={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function _r(ie){switch(ie){case"running":case"pausing":case"canceling":return ui.RUNNING;case"paused":return ui.PAUSED;case"success":return ui.SUCCESS;case"canceled":return ui.CANCELED;default:return ui.ERROR}}class Io{constructor(E,A,S){if(function Mt(ie){return"function"==typeof ie}(E)||null!=A||null!=S)this.next=E,this.error=A??void 0,this.complete=S??void 0;else{const Ge=E;this.next=Ge.next,this.error=Ge.error,this.complete=Ge.complete}}}function si(ie){return(...E)=>{Promise.resolve().then(()=>ie(...E))}}let Fo=null;class $o{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=re.NO_ERROR,this.sendPromise_=new Promise(E=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=re.ABORT,E()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=re.NETWORK_ERROR,E()}),this.xhr_.addEventListener("load",()=>{E()})})}send(E,A,S,q){if(this.sent_)throw ye("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(A,E,!0),void 0!==q)for(const Ge in q)q.hasOwnProperty(Ge)&&this.xhr_.setRequestHeader(Ge,q[Ge].toString());return void 0!==S?this.xhr_.send(S):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ye("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ye("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ye("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ye("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(E){return this.xhr_.getResponseHeader(E)}addUploadProgressListener(E){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",E)}removeUploadProgressListener(E){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",E)}}class zs extends $o{initXhr(){this.xhr_.responseType="text"}}function Ir(){return Fo?Fo():new zs}class Kr{constructor(E,A,S=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=E,this._blob=A,this._metadata=S,this._mappings=ht(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=q=>{if(this._request=void 0,this._chunkMultiplier=1,q._codeEquals(pe.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const Ge=this.isExponentialBackoffExpired();if(ge(q.status,[])){if(!Ge)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();q=ct()}this._error=q,this._transition("error")}},this._metadataErrorHandler=q=>{this._request=void 0,q._codeEquals(pe.CANCELED)?this.completeTransitions_():(this._error=q,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((q,Ge)=>{this._resolve=q,this._reject=Ge,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const E=this._transferred;return A=>this._updateProgress(E+A)}_shouldDoResumable(E){return E.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(E){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([A,S])=>{switch(this._state){case"running":E(A,S);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((E,A)=>{const S=function oi(ie,E,A,S,q){const Ge=E.bucketOnlyServerUrl(),Ut=Ei(E,S,q),Dn={name:Ut.fullPath},vt=Pn(Ge,ie.host,ie._protocol),pi={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${S.size()}`,"X-Goog-Upload-Header-Content-Type":Ut.contentType,"Content-Type":"application/json; charset=utf-8"},Ni=j(Ut,A),Wi=new en(vt,"POST",function Hi(Xi){let Ji;ti(Xi);try{Ji=Xi.getResponseHeader("X-Goog-Upload-URL")}catch{bn(!1)}return bn(_n(Ji)),Ji},ie.maxUploadRetryTime);return Wi.urlParams=Dn,Wi.headers=pi,Wi.body=Ni,Wi.errorHandler=An(E),Wi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),q=this._ref.storage._makeRequest(S,Ir,E,A);this._request=q,q.getPromise().then(Ge=>{this._request=void 0,this._uploadUrl=Ge,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const E=this._uploadUrl;this._resolveToken((A,S)=>{const q=function nr(ie,E,A,S){const vt=new en(A,"POST",function Ge(xn){const pi=ti(xn,["active","final"]);let Ni=null;try{Ni=xn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{bn(!1)}Ni||bn(!1);const bi=Number(Ni);return bn(!isNaN(bi)),new yn(bi,S.size(),"final"===pi)},ie.maxUploadRetryTime);return vt.headers={"X-Goog-Upload-Command":"query"},vt.errorHandler=An(E),vt}(this._ref.storage,this._ref._location,E,this._blob),Ge=this._ref.storage._makeRequest(q,Ir,A,S);this._request=Ge,Ge.getPromise().then(Ut=>{this._request=void 0,this._updateProgress(Ut.current),this._needToFetchStatus=!1,Ut.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const E=262144*this._chunkMultiplier,A=new yn(this._transferred,this._blob.size()),S=this._uploadUrl;this._resolveToken((q,Ge)=>{let Ut;try{Ut=function Vi(ie,E,A,S,q,Ge,Ut,Dn){const vt=new yn(0,0);if(Ut?(vt.current=Ut.current,vt.total=Ut.total):(vt.current=0,vt.total=S.size()),S.size()!==vt.total)throw function Zt(){return new Me(pe.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const xn=vt.total-vt.current;let pi=xn;q>0&&(pi=Math.min(pi,q));const Ni=vt.current;let Hi="";Hi=0===pi?"finalize":xn===pi?"upload, finalize":"upload";const Wi={"X-Goog-Upload-Command":Hi,"X-Goog-Upload-Offset":`${vt.current}`},Xi=S.slice(Ni,Ni+pi);if(null===Xi)throw jt();const kr=new en(A,"POST",function Ji(Cr,er){const Hr=ti(Cr,["active","final"]),lo=vt.current+pi,Uo=S.size();let Qr;return Qr="final"===Hr?On(E,Ge)(Cr,er):null,new yn(lo,Uo,"final"===Hr,Qr)},E.maxUploadRetryTime);return kr.headers=Wi,kr.body=Xi.uploadData(),kr.progressCallback=Dn||null,kr.errorHandler=An(ie),kr}(this._ref._location,this._ref.storage,S,this._blob,E,this._mappings,A,this._makeProgressCallback())}catch(vt){return this._error=vt,void this._transition("error")}const Dn=this._ref.storage._makeRequest(Ut,Ir,q,Ge,!1);this._request=Dn,Dn.getPromise().then(vt=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(vt.current),vt.finalized?(this._metadata=vt.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((E,A)=>{const S=bt(this._ref.storage,this._ref._location,this._mappings),q=this._ref.storage._makeRequest(S,Ir,E,A);this._request=q,q.getPromise().then(Ge=>{this._request=void 0,this._metadata=Ge,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((E,A)=>{const S=function fi(ie,E,A,S,q){const Ge=E.bucketOnlyServerUrl(),Ut={"X-Goog-Upload-Protocol":"multipart"},vt=function Dn(){let kr="";for(let Cr=0;Cr<2;Cr++)kr+=Math.random().toString().slice(2);return kr}();Ut["Content-Type"]="multipart/related; boundary="+vt;const xn=Ei(E,S,q),pi=j(xn,A),Hi=ze.getBlob("--"+vt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+pi+"\r\n--"+vt+"\r\nContent-Type: "+xn.contentType+"\r\n\r\n",S,"\r\n--"+vt+"--");if(null===Hi)throw jt();const Wi={name:xn.fullPath},Xi=Pn(Ge,ie.host,ie._protocol),go=ie.maxUploadRetryTime,Vo=new en(Xi,"POST",On(ie,A),go);return Vo.urlParams=Wi,Vo.headers=Ut,Vo.body=Hi.uploadData(),Vo.errorHandler=An(E),Vo}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),q=this._ref.storage._makeRequest(S,Ir,E,A);this._request=q,q.getPromise().then(Ge=>{this._request=void 0,this._metadata=Ge,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(E){const A=this._transferred;this._transferred=E,this._transferred!==A&&this._notifyObservers()}_transition(E){if(this._state!==E)switch(E){case"canceling":case"pausing":this._state=E,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const A="paused"===this._state;this._state=E,A&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=E,this._notifyObservers();break;case"canceled":this._error=Ot(),this._state=E,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const E=_r(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:E,metadata:this._metadata,task:this,ref:this._ref}}on(E,A,S,q){const Ge=new Io(A||void 0,S||void 0,q||void 0);return this._addObserver(Ge),()=>{this._removeObserver(Ge)}}then(E,A){return this._promise.then(E,A)}catch(E){return this.then(null,E)}_addObserver(E){this._observers.push(E),this._notifyObserver(E)}_removeObserver(E){const A=this._observers.indexOf(E);-1!==A&&this._observers.splice(A,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(A=>{this._notifyObserver(A)})}_finishPromise(){if(void 0!==this._resolve){let E=!0;switch(_r(this._state)){case ui.SUCCESS:si(this._resolve.bind(null,this.snapshot))();break;case ui.CANCELED:case ui.ERROR:si(this._reject.bind(null,this._error))();break;default:E=!1}E&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(E){switch(_r(this._state)){case ui.RUNNING:case ui.PAUSED:E.next&&si(E.next.bind(E,this.snapshot))();break;case ui.SUCCESS:E.complete&&si(E.complete.bind(E))();break;default:E.error&&si(E.error.bind(E,this._error))()}}resume(){const E="paused"===this._state||"pausing"===this._state;return E&&this._transition("running"),E}pause(){const E="running"===this._state;return E&&this._transition("pausing"),E}cancel(){const E="running"===this._state||"pausing"===this._state;return E&&this._transition("canceling"),E}}class io{constructor(E,A){this._service=E,this._location=A instanceof R?A:R.makeFromUrl(A,E.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(E,A){return new io(E,A)}get root(){const E=new R(this._location.bucket,"");return this._newRef(this._service,E)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ln(this._location.path)}get storage(){return this._service}get parent(){const E=function an(ie){if(0===ie.length)return null;const E=ie.lastIndexOf("/");return-1===E?"":ie.slice(0,E)}(this._location.path);if(null===E)return null;const A=new R(this._location.bucket,E);return new io(this._service,A)}_throwIfRoot(E){if(""===this._location.path)throw qe(E)}}function Yr(ie,E,A){return ur.apply(this,arguments)}function ur(){return(ur=(0,k.Z)(function*(ie,E,A){const q=yield ws(ie,{pageToken:A});E.prefixes.push(...q.prefixes),E.items.push(...q.items),null!=q.nextPageToken&&(yield Yr(ie,E,q.nextPageToken))})).apply(this,arguments)}function ws(ie,E){null!=E&&"number"==typeof E.maxResults&&Mn("options.maxResults",1,1e3,E.maxResults);const A=E||{},S=Et(ie.storage,ie._location,"/",A.pageToken,A.maxResults);return ie.storage.makeRequestWithTokens(S,Ir)}function ro(ie){ie._throwIfRoot("getDownloadURL");const E=function on(ie,E,A){const q=Pn(E.fullServerUrl(),ie.host,ie._protocol),Ut=ie.maxOperationRetryTime,Dn=new en(q,"GET",function $n(ie,E){return function A(S,q){const Ge=L(ie,q,E);return bn(null!==Ge),function T(ie,E,A,S){const q=ot(E);if(null===q||!_n(q.downloadTokens))return null;const Ge=q.downloadTokens;if(0===Ge.length)return null;const Ut=encodeURIComponent;return Ge.split(",").map(xn=>{const Ni=ie.fullPath;return Pn("/b/"+Ut(ie.bucket)+"/o/"+Ut(Ni),A,S)+Le({alt:"media",token:xn})})[0]}(Ge,q,ie.host,ie._protocol)}}(ie,A),Ut);return Dn.errorHandler=Gn(E),Dn}(ie.storage,ie._location,ht());return ie.storage.makeRequestWithTokens(E,Ir).then(A=>{if(null===A)throw function we(){return new Me(pe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return A})}function oo(ie,E){const A=function Jt(ie,E){const A=E.split("/").filter(S=>S.length>0).join("/");return 0===ie.length?A:ie+"/"+A}(ie._location.path,E),S=new R(ie._location.bucket,A);return new io(ie.storage,S)}function qr(ie,E){if(ie instanceof Is){const A=ie;if(null==A._bucket)throw function $t(){return new Me(pe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ae+"' property when initializing the app?")}();const S=new io(A,A._bucket);return null!=E?qr(S,E):S}return void 0!==E?oo(ie,E):ie}function ls(ie,E){if(E&&function Qi(ie){return/^[A-Za-z]+:\/\//.test(ie)}(E)){if(ie instanceof Is)return function Ga(ie,E){return new io(ie,E)}(ie,E);throw Ne("To use ref(service, url), the first argument must be a Storage instance.")}return qr(ie,E)}function Do(ie,E){const A=E?.[Ae];return null==A?null:R.makeFromBucketSpec(A,ie)}class Is{constructor(E,A,S,q,Ge){this.app=E,this._authProvider=A,this._appCheckProvider=S,this._url=q,this._firebaseVersion=Ge,this._bucket=null,this._host=le,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=q?R.makeFromBucketSpec(q,this._host):Do(this._host,this.app.options)}get host(){return this._host}set host(E){this._host=E,this._bucket=null!=this._url?R.makeFromBucketSpec(this._url,E):Do(E,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(E){Mn("time",0,Number.POSITIVE_INFINITY,E),this._maxUploadRetryTime=E}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(E){Mn("time",0,Number.POSITIVE_INFINITY,E),this._maxOperationRetryTime=E}_getAuthToken(){var E=this;return(0,k.Z)(function*(){if(E._overrideAuthToken)return E._overrideAuthToken;const A=E._authProvider.getImmediate({optional:!0});if(A){const S=yield A.getToken();if(null!==S)return S.accessToken}return null})()}_getAppCheckToken(){var E=this;return(0,k.Z)(function*(){const A=E._appCheckProvider.getImmediate({optional:!0});return A?(yield A.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(E=>E.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(E){return new io(this,E)}_makeRequest(E,A,S,q,Ge=!0){if(this._deleted)return new Se(me());{const Ut=function Ye(ie,E,A,S,q,Ge,Ut=!0){const Dn=Le(ie.urlParams),vt=ie.url+Dn,xn=Object.assign({},ie.headers);return function hn(ie,E){E&&(ie["X-Firebase-GMPID"]=E)}(xn,E),function Pt(ie,E){null!==E&&E.length>0&&(ie.Authorization="Firebase "+E)}(xn,A),function Qt(ie,E){ie["X-Firebase-Storage-Version"]="webjs/"+(E??"AppManager")}(xn,Ge),function ut(ie,E){null!==E&&(ie["X-Firebase-AppCheck"]=E)}(xn,S),new He(vt,ie.method,xn,ie.body,ie.successCodes,ie.additionalRetryCodes,ie.handler,ie.errorHandler,ie.timeout,ie.progressCallback,q,Ut)}(E,this._appId,S,q,A,this._firebaseVersion,Ge);return this._requests.add(Ut),Ut.getPromise().then(()=>this._requests.delete(Ut),()=>this._requests.delete(Ut)),Ut}}makeRequestWithTokens(E,A){var S=this;return(0,k.Z)(function*(){const[q,Ge]=yield Promise.all([S._getAuthToken(),S._getAppCheckToken()]);return S._makeRequest(E,A,q,Ge).getPromise()})()}}const Go="@firebase/storage";function As(ie,E){return ls(ie=(0,W.m9)(ie),E)}function Ws(ie,{instanceIdentifier:E}){const A=ie.getProvider("app").getImmediate(),S=ie.getProvider("auth-internal"),q=ie.getProvider("app-check-internal");return new Is(A,S,q,E,U.SDK_VERSION)}!function us(){(0,U._registerComponent)(new ne.wA("storage",Ws,"PUBLIC").setMultipleInstances(!0)),(0,U.registerVersion)(Go,"0.13.1",""),(0,U.registerVersion)(Go,"0.13.1","esm2017")}();class ts{constructor(E,A,S){this._delegate=E,this.task=A,this.ref=S}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Zs{constructor(E,A){this._delegate=E,this._ref=A,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new ts(this._delegate.snapshot,this,this._ref)}then(E,A){return this._delegate.then(S=>{if(E)return E(new ts(S,this,this._ref))},A)}on(E,A,S,q){let Ge;return A&&(Ge="function"==typeof A?Ut=>A(new ts(Ut,this,this._ref)):{next:A.next?Ut=>A.next(new ts(Ut,this,this._ref)):void 0,complete:A.complete||void 0,error:A.error||void 0}),this._delegate.on(E,Ge,S||void 0,q||void 0)}}class Ks{constructor(E,A){this._delegate=E,this._service=A}get prefixes(){return this._delegate.prefixes.map(E=>new hr(E,this._service))}get items(){return this._delegate.items.map(E=>new hr(E,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class hr{constructor(E,A){this._delegate=E,this.storage=A}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(E){const A=function dr(ie,E){return oo(ie,E)}(this._delegate,E);return new hr(A,this.storage)}get root(){return new hr(this._delegate.root,this.storage)}get parent(){const E=this._delegate.parent;return null==E?null:new hr(E,this.storage)}put(E,A){return this._throwIfRoot("put"),new Zs(function xa(ie,E,A){return function Cs(ie,E,A){return ie._throwIfRoot("uploadBytesResumable"),new Kr(ie,new ze(E),A)}(ie=(0,W.m9)(ie),E,A)}(this._delegate,E,A),this)}putString(E,A=mn.RAW,S){this._throwIfRoot("putString");const q=zn(A,E),Ge=Object.assign({},S);return null==Ge.contentType&&null!=q.contentType&&(Ge.contentType=q.contentType),new Zs(new Kr(this._delegate,new ze(q.data,!0),Ge),this)}listAll(){return function Bo(ie){return function No(ie){const E={prefixes:[],items:[]};return Yr(ie,E).then(()=>E)}(ie=(0,W.m9)(ie))}(this._delegate).then(E=>new Ks(E,this.storage))}list(E){return function da(ie,E){return ws(ie=(0,W.m9)(ie),E)}(this._delegate,E||void 0).then(A=>new Ks(A,this.storage))}getMetadata(){return function Ts(ie){return function Gi(ie){ie._throwIfRoot("getMetadata");const E=bt(ie.storage,ie._location,ht());return ie.storage.makeRequestWithTokens(E,Ir)}(ie=(0,W.m9)(ie))}(this._delegate)}updateMetadata(E){return function Ca(ie,E){return function xr(ie,E){ie._throwIfRoot("updateMetadata");const A=function In(ie,E,A,S){const Ge=Pn(E.fullServerUrl(),ie.host,ie._protocol),Dn=j(A,S),xn=ie.maxOperationRetryTime,pi=new en(Ge,"PATCH",On(ie,S),xn);return pi.headers={"Content-Type":"application/json; charset=utf-8"},pi.body=Dn,pi.errorHandler=Gn(E),pi}(ie.storage,ie._location,E,ht());return ie.storage.makeRequestWithTokens(A,Ir)}(ie=(0,W.m9)(ie),E)}(this._delegate,E)}getDownloadURL(){return function mo(ie){return ro(ie=(0,W.m9)(ie))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function ha(ie){return function qi(ie){ie._throwIfRoot("deleteObject");const E=function ni(ie,E){const S=Pn(E.fullServerUrl(),ie.host,ie._protocol),Dn=new en(S,"DELETE",function Ut(vt,xn){},ie.maxOperationRetryTime);return Dn.successCodes=[200,204],Dn.errorHandler=Gn(E),Dn}(ie.storage,ie._location);return ie.storage.makeRequestWithTokens(E,Ir)}(ie=(0,W.m9)(ie))}(this._delegate)}_throwIfRoot(E){if(""===this._delegate._location.path)throw qe(E)}}class ds{constructor(E,A){this.app=E,this._delegate=A}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(E){if(Nr(E))throw Ne("ref() expected a child path but got a URL, use refFromURL instead.");return new hr(As(this._delegate,E),this)}refFromURL(E){if(!Nr(E))throw Ne("refFromURL() expected a full URL but got a child path, use ref() instead.");try{R.makeFromUrl(E,this._delegate.host)}catch{throw Ne("refFromUrl() expected a valid full URL but got an invalid one.")}return new hr(As(this._delegate,E),this)}setMaxUploadRetryTime(E){this._delegate.maxUploadRetryTime=E}setMaxOperationRetryTime(E){this._delegate.maxOperationRetryTime=E}useEmulator(E,A,S={}){!function cs(ie,E,A,S={}){!function Jo(ie,E,A,S={}){ie.host=`${E}:${A}`,ie._protocol="http";const{mockUserToken:q}=S;q&&(ie._overrideAuthToken="string"==typeof q?q:(0,W.Sg)(q,ie.app.options.projectId))}(ie,E,A,S)}(this._delegate,E,A,S)}}function Nr(ie){return/^[A-Za-z]+:\/\//.test(ie)}function Si(ie,{instanceIdentifier:E}){const A=ie.getProvider("app-compat").getImmediate(),S=ie.getProvider("storage").getImmediate({identifier:E});return new ds(A,S)}!function so(ie){const E={TaskState:ui,TaskEvent:cr,StringFormat:mn,Storage:ds,Reference:hr};ie.INTERNAL.registerComponent(new ne.wA("storage-compat",Si,"PUBLIC").setServiceProps(E).setMultipleInstances(!0)),ie.registerVersion("@firebase/storage-compat","0.3.11")}(Y.Z);var Fi=_(9260);function Ds(ie){const E=function Ys(ie){return new b.y(E=>{const A=Ut=>E.next(Ut);A(ie.snapshot);const Ge=ie.on("state_changed",A);return ie.then(Ut=>{A(Ut),E.complete()},Ut=>{A(ie.snapshot),(Ut=>{E.error(Ut)})(Ut)}),function(){Ge()}}).pipe((0,de.b)(0))}(ie);return{task:ie,then:ie.then.bind(ie),catch:ie.catch.bind(ie),pause:ie.pause.bind(ie),cancel:ie.cancel.bind(ie),resume:ie.resume.bind(ie),snapshotChanges:()=>E,percentageChanges:()=>E.pipe((0,ee.U)(A=>A.bytesTransferred/A.totalBytes*100))}}function So(ie){return{getDownloadURL:()=>(0,f.of)(void 0).pipe(l.fc,(0,te.w)(()=>ie.getDownloadURL()),l.iC),getMetadata:()=>(0,f.of)(void 0).pipe(l.fc,(0,te.w)(()=>ie.getMetadata()),l.iC),delete:()=>(0,O.D)(ie.delete()),child:E=>So(ie.child(E)),updateMetadata:E=>(0,O.D)(ie.updateMetadata(E)),put:(E,A)=>Ds(ie.put(E,A)),putString:(E,A,S)=>Ds(ie.putString(E,A,S)),list:E=>(0,O.D)(ie.list(E)),listAll:()=>(0,O.D)(ie.listAll())}}const Or=new z.OlP("angularfire2.storageBucket"),Ss=new z.OlP("angularfire2.storage.maxUploadRetryTime"),fa=new z.OlP("angularfire2.storage.maxOperationRetryTime"),Mo=new z.OlP("angularfire2.storage.use-emulator");let ao=(()=>{class ie{storage;constructor(A,S,q,Ge,Ut,Dn,vt,xn,pi,Ni){const bi=(0,K.on)(A,Ut,S);this.storage=(0,K.cc)(`${bi.name}.storage.${q}`,"AngularFireStorage",bi.name,()=>{const Hi=Ut.runOutsideAngular(()=>bi.storage(q||void 0)),Wi=pi;return Wi&&Hi.useEmulator(...Wi),vt&&Hi.setMaxUploadRetryTime(vt),xn&&Hi.setMaxOperationRetryTime(xn),Hi},[vt,xn])}ref(A){return So(this.storage.ref(A))}refFromURL(A){return So(this.storage.refFromURL(A))}upload(A,S,q){return So(this.storage.ref(A)).put(S,q)}static \u0275fac=function(S){return new(S||ie)(z.LFG(K.Dh),z.LFG(K.xv,8),z.LFG(Or,8),z.LFG(z.Lbi),z.LFG(z.R0b),z.LFG(l.HU),z.LFG(Ss,8),z.LFG(fa,8),z.LFG(Mo,8),z.LFG(l.Rf,8))};static \u0275prov=z.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"any"})}return ie})(),fs=(()=>{class ie{static \u0275fac=function(S){return new(S||ie)};static \u0275mod=z.oAB({type:ie});static \u0275inj=z.cJS({})}return ie})(),Wn=(()=>{class ie{constructor(){Fi.Z.registerVersion("angularfire",l.q4.full,"gcs-compat")}static \u0275fac=function(S){return new(S||ie)};static \u0275mod=z.oAB({type:ie});static \u0275inj=z.cJS({providers:[ao],imports:[fs]})}return ie})()},3593:(wt,Fe,_)=>{"use strict";_.d(Fe,{Dh:()=>z,GT:()=>ee,cc:()=>ne,hO:()=>W,on:()=>Y,pX:()=>de,xv:()=>K});var l=_(4650),b=_(9618),f=_(9260);const O=["ngOnDestroy"],de=(oe,fe,Me,pe={})=>new Proxy(oe,{get:(he,xe)=>Me.runOutsideAngular(()=>{if(oe[xe])return pe?.spy?.get&&pe.spy.get(xe,oe[xe]),oe[xe];if(O.indexOf(xe)>-1)return()=>{};const je=fe.toPromise().then(Pe=>{const Xe=Pe?.[xe];return"function"==typeof Xe?Xe.bind(Pe):Xe?.then?Xe.then(dt=>Me.run(()=>dt)):Me.run(()=>Xe)});return new Proxy(()=>{},{get:(Pe,Xe)=>je[Xe],apply:(Pe,Xe,dt)=>je.then(Ue=>{const ct=Ue?.(...dt);return pe?.spy?.apply&&pe.spy.apply(xe,dt,ct),ct})})})}),ee=(oe,fe)=>{fe.forEach(Me=>{Object.getOwnPropertyNames(Me.prototype||Me).forEach(pe=>{Object.defineProperty(oe.prototype,pe,Object.getOwnPropertyDescriptor(Me.prototype||Me,pe))})})};class te{constructor(fe){return fe}}const z=new l.OlP("angularfire2.app.options"),K=new l.OlP("angularfire2.app.name");function Y(oe,fe,Me){const he="object"==typeof Me&&Me||{};he.name=he.name||"string"==typeof Me&&Me||"[DEFAULT]";const je=f.Z.apps.filter(Pe=>Pe&&Pe.name===he.name)[0]||fe.runOutsideAngular(()=>f.Z.initializeApp(oe,he));try{if(JSON.stringify(oe)!==JSON.stringify(je.options)){const Pe=!!module.hot;k("error",`${je.name} Firebase App already initialized with different options${Pe?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new te(je)}const k=(oe,...fe)=>{(0,l.X6Q)()&&typeof console<"u"&&console[oe](...fe)},U={provide:te,useFactory:Y,deps:[z,l.R0b,[new l.FiY,K]]};let W=(()=>{class oe{static initializeApp(Me,pe){return{ngModule:oe,providers:[{provide:z,useValue:Me},{provide:K,useValue:pe}]}}constructor(Me){f.Z.registerVersion("angularfire",b.q4.full,"core"),f.Z.registerVersion("angularfire",b.q4.full,"app-compat"),f.Z.registerVersion("angular",l.q4F.full,Me.toString())}static \u0275fac=function(pe){return new(pe||oe)(l.LFG(l.Lbi))};static \u0275mod=l.oAB({type:oe});static \u0275inj=l.cJS({providers:[U]})}return oe})();function ne(oe,fe,Me,pe,he){const[,xe,je]=globalThis.\u0275AngularfireInstanceCache.find(Pe=>Pe[0]===oe)||[];if(xe)return function le(oe,fe){try{return oe.toString()===fe.toString()}catch{return oe===fe}}(he,je)||(_e("error",`${fe} was already initialized on the ${Me} Firebase App with different settings.${Ae?" You may need to reload as Firebase is not HMR aware.":""}`),_e("warn",{is:he,was:je})),xe;{const Pe=pe();return globalThis.\u0275AngularfireInstanceCache.push([oe,Pe,he]),Pe}}const Ae=typeof module<"u"&&!!module.hot,_e=(oe,...fe)=>{(0,l.X6Q)()&&typeof console<"u"&&console[oe](...fe)};globalThis.\u0275AngularfireInstanceCache||=[]},9618:(wt,Fe,_)=>{"use strict";_.d(Fe,{q4:()=>le,iC:()=>Ot,fc:()=>Ue,HU:()=>je,Rf:()=>fe});var l=_(4650),b=_(6881);(0,b.registerVersion)("firebase","10.13.1","app");var de=_(4408),te=_(7565);const K=new class z extends te.v{}(class ee extends de.o{constructor(Zt,we){super(Zt,we),this.scheduler=Zt,this.work=we}schedule(Zt,we=0){return we>0?super.schedule(Zt,we):(this.delay=we,this.state=Zt,this.scheduler.flush(this),this)}execute(Zt,we){return we>0||this.closed?super.execute(Zt,we):this._execute(Zt,we)}requestAsyncId(Zt,we,ke=0){return null!=ke&&ke>0||null==ke&&this.delay>0?super.requestAsyncId(Zt,we,ke):(Zt.flush(this),0)}});var k=_(4986),U=_(8505),W=_(5363),ne=_(9468);const le=new l.GfV("ANGULARFIRE2_VERSION");class fe{constructor(){return((jt,Zt)=>{const we=(0,b.getApps)(),ke=[];return we.forEach(Ne=>{Ne.container.getProvider(jt).instances.forEach(qe=>{ke.includes(qe)||ke.push(qe)})}),ke})(Me)}}const Me="app-check";function pe(){}class he{zone;delegate;constructor(Zt,we=K){this.zone=Zt,this.delegate=we}now(){return this.delegate.now()}schedule(Zt,we,ke){const Ne=this.zone;return this.delegate.schedule(function(qe){Ne.runGuarded(()=>{Zt.apply(this,[qe])})},we,ke)}}class xe{zone;task=null;constructor(Zt){this.zone=Zt}call(Zt,we){const ke=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",pe,{},pe,pe)),we.pipe((0,U.b)({next:ke,complete:ke,error:ke})).subscribe(Zt).add(ke)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let je=(()=>{class jt{ngZone;outsideAngular;insideAngular;constructor(we){this.ngZone=we,this.outsideAngular=we.runOutsideAngular(()=>new he(Zone.current)),this.insideAngular=we.run(()=>new he(Zone.current,k.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(ke){return new(ke||jt)(l.LFG(l.R0b))};static \u0275prov=l.Yz7({token:jt,factory:jt.\u0275fac,providedIn:"root"})}return jt})();function Pe(){const jt=globalThis.\u0275AngularFireScheduler;if(!jt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return jt}function Ue(jt){return jt.pipe((0,W.Q)(Pe().outsideAngular))}function Ot(jt){return function at(jt){return function(we){return(we=we.lift(new xe(jt.ngZone))).pipe((0,ne.R)(jt.outsideAngular),(0,W.Q)(jt.insideAngular))}}(Pe())(jt)}},4006:(wt,Fe,_)=>{"use strict";_.d(Fe,{EJ:()=>Rr,F:()=>Vi,Fj:()=>ne,JJ:()=>Pn,JL:()=>Le,Kr:()=>mo,NI:()=>_r,On:()=>io,Q7:()=>ts,UX:()=>ie,Wl:()=>Y,YN:()=>Lo,_:()=>ur,_Y:()=>Ri,cw:()=>et,kI:()=>pe,sg:()=>Qi,u:()=>Go,u5:()=>Wn,wV:()=>Ao});var l=_(4650),b=_(6895),f=_(8996),O=_(4128),de=_(4004);let ee=(()=>{class E{constructor(S,q){this._renderer=S,this._elementRef=q,this.onChange=Ge=>{},this.onTouched=()=>{}}setProperty(S,q){this._renderer.setProperty(this._elementRef.nativeElement,S,q)}registerOnTouched(S){this.onTouched=S}registerOnChange(S){this.onChange=S}setDisabledState(S){this.setProperty("disabled",S)}}return E.\u0275fac=function(S){return new(S||E)(l.Y36(l.Qsj),l.Y36(l.SBq))},E.\u0275dir=l.lG2({type:E}),E})(),te=(()=>{class E extends ee{}return E.\u0275fac=function(){let A;return function(q){return(A||(A=l.n5z(E)))(q||E)}}(),E.\u0275dir=l.lG2({type:E,features:[l.qOj]}),E})();const z=new l.OlP("NgValueAccessor"),K={provide:z,useExisting:(0,l.Gpc)(()=>Y),multi:!0};let Y=(()=>{class E extends te{writeValue(S){this.setProperty("checked",S)}}return E.\u0275fac=function(){let A;return function(q){return(A||(A=l.n5z(E)))(q||E)}}(),E.\u0275dir=l.lG2({type:E,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(S,q){1&S&&l.NdJ("change",function(Ut){return q.onChange(Ut.target.checked)})("blur",function(){return q.onTouched()})},features:[l._Bn([K]),l.qOj]}),E})();const k={provide:z,useExisting:(0,l.Gpc)(()=>ne),multi:!0},W=new l.OlP("CompositionEventMode");let ne=(()=>{class E extends ee{constructor(S,q,Ge){super(S,q),this._compositionMode=Ge,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function U(){const E=(0,b.q)()?(0,b.q)().getUserAgent():"";return/android (\d+)/.test(E.toLowerCase())}())}writeValue(S){this.setProperty("value",S??"")}_handleInput(S){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(S)}_compositionStart(){this._composing=!0}_compositionEnd(S){this._composing=!1,this._compositionMode&&this.onChange(S)}}return E.\u0275fac=function(S){return new(S||E)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(W,8))},E.\u0275dir=l.lG2({type:E,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(S,q){1&S&&l.NdJ("input",function(Ut){return q._handleInput(Ut.target.value)})("blur",function(){return q.onTouched()})("compositionstart",function(){return q._compositionStart()})("compositionend",function(Ut){return q._compositionEnd(Ut.target.value)})},features:[l._Bn([k]),l.qOj]}),E})();const le=!1;function Ae(E){return null==E||("string"==typeof E||Array.isArray(E))&&0===E.length}function _e(E){return null!=E&&"number"==typeof E.length}const oe=new l.OlP("NgValidators"),fe=new l.OlP("NgAsyncValidators"),Me=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class pe{static min(A){return function he(E){return A=>{if(Ae(A.value)||Ae(E))return null;const S=parseFloat(A.value);return!isNaN(S)&&S<E?{min:{min:E,actual:A.value}}:null}}(A)}static max(A){return function xe(E){return A=>{if(Ae(A.value)||Ae(E))return null;const S=parseFloat(A.value);return!isNaN(S)&&S>E?{max:{max:E,actual:A.value}}:null}}(A)}static required(A){return je(A)}static requiredTrue(A){return function Pe(E){return!0===E.value?null:{required:!0}}(A)}static email(A){return function Xe(E){return Ae(E.value)||Me.test(E.value)?null:{email:!0}}(A)}static minLength(A){return function dt(E){return A=>Ae(A.value)||!_e(A.value)?null:A.value.length<E?{minlength:{requiredLength:E,actualLength:A.value.length}}:null}(A)}static maxLength(A){return function Ue(E){return A=>_e(A.value)&&A.value.length>E?{maxlength:{requiredLength:E,actualLength:A.value.length}}:null}(A)}static pattern(A){return function ct(E){if(!E)return Ot;let A,S;return"string"==typeof E?(S="","^"!==E.charAt(0)&&(S+="^"),S+=E,"$"!==E.charAt(E.length-1)&&(S+="$"),A=new RegExp(S)):(S=E.toString(),A=E),q=>{if(Ae(q.value))return null;const Ge=q.value;return A.test(Ge)?null:{pattern:{requiredPattern:S,actualValue:Ge}}}}(A)}static nullValidator(A){return null}static compose(A){return ke(A)}static composeAsync(A){return me(A)}}function je(E){return Ae(E.value)?{required:!0}:null}function Ot(E){return null}function at(E){return null!=E}function fn(E){const A=(0,l.QGY)(E)?(0,f.D)(E):E;if(le&&!(0,l.CqO)(A)){let S="Expected async validator to return Promise or Observable.";throw"object"==typeof E&&(S+=" Are you using a synchronous validator where an async validator is expected?"),new l.vHH(-1101,S)}return A}function $t(E){let A={};return E.forEach(S=>{A=null!=S?{...A,...S}:A}),0===Object.keys(A).length?null:A}function jt(E,A){return A.map(S=>S(E))}function we(E){return E.map(A=>function Zt(E){return!E.validate}(A)?A:S=>A.validate(S))}function ke(E){if(!E)return null;const A=E.filter(at);return 0==A.length?null:function(S){return $t(jt(S,A))}}function Ne(E){return null!=E?ke(we(E)):null}function me(E){if(!E)return null;const A=E.filter(at);return 0==A.length?null:function(S){const q=jt(S,A).map(fn);return(0,O.D)(q).pipe((0,de.U)($t))}}function qe(E){return null!=E?me(we(E)):null}function Z(E,A){return null===E?[A]:Array.isArray(E)?[...E,A]:[E,A]}function ye(E){return E._rawValidators}function R(E){return E._rawAsyncValidators}function Se(E){return E?Array.isArray(E)?E:[E]:[]}function Qe(E,A){return Array.isArray(E)?E.includes(A):E===A}function Tt(E,A){const S=Se(A);return Se(E).forEach(Ge=>{Qe(S,Ge)||S.push(Ge)}),S}function $e(E,A){return Se(A).filter(S=>!Qe(E,S))}class Mt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(A){this._rawValidators=A||[],this._composedValidatorFn=Ne(this._rawValidators)}_setAsyncValidators(A){this._rawAsyncValidators=A||[],this._composedAsyncValidatorFn=qe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(A){this._onDestroyCallbacks.push(A)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(A=>A()),this._onDestroyCallbacks=[]}reset(A){this.control&&this.control.reset(A)}hasError(A,S){return!!this.control&&this.control.hasError(A,S)}getError(A,S){return this.control?this.control.getError(A,S):null}}class Gt extends Mt{get formDirective(){return null}get path(){return null}}class _n extends Mt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Bn{constructor(A){this._cd=A}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Pn=(()=>{class E extends Bn{constructor(S){super(S)}}return E.\u0275fac=function(S){return new(S||E)(l.Y36(_n,2))},E.\u0275dir=l.lG2({type:E,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(S,q){2&S&&l.ekj("ng-untouched",q.isUntouched)("ng-touched",q.isTouched)("ng-pristine",q.isPristine)("ng-dirty",q.isDirty)("ng-valid",q.isValid)("ng-invalid",q.isInvalid)("ng-pending",q.isPending)},features:[l.qOj]}),E})(),Le=(()=>{class E extends Bn{constructor(S){super(S)}}return E.\u0275fac=function(S){return new(S||E)(l.Y36(Gt,10))},E.\u0275dir=l.lG2({type:E,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(S,q){2&S&&l.ekj("ng-untouched",q.isUntouched)("ng-touched",q.isTouched)("ng-pristine",q.isPristine)("ng-dirty",q.isDirty)("ng-valid",q.isValid)("ng-invalid",q.isInvalid)("ng-pending",q.isPending)("ng-submitted",q.isSubmitted)},features:[l.qOj]}),E})();function mn(E,A){return E?`with name: '${A}'`:`at index: ${A}`}const Qn=!1,Ti="VALID",nn="INVALID",pt="PENDING",mt="DISABLED";function nt(E){return(Jt(E)?E.validators:E)||null}function ot(E,A){return(Jt(A)?A.asyncValidators:E)||null}function Jt(E){return null!=E&&!Array.isArray(E)&&"object"==typeof E}class Ve{constructor(A,S){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(A),this._assignAsyncValidators(S)}get validator(){return this._composedValidatorFn}set validator(A){this._rawValidators=this._composedValidatorFn=A}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(A){this._rawAsyncValidators=this._composedAsyncValidatorFn=A}get parent(){return this._parent}get valid(){return this.status===Ti}get invalid(){return this.status===nn}get pending(){return this.status==pt}get disabled(){return this.status===mt}get enabled(){return this.status!==mt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(A){this._assignValidators(A)}setAsyncValidators(A){this._assignAsyncValidators(A)}addValidators(A){this.setValidators(Tt(A,this._rawValidators))}addAsyncValidators(A){this.setAsyncValidators(Tt(A,this._rawAsyncValidators))}removeValidators(A){this.setValidators($e(A,this._rawValidators))}removeAsyncValidators(A){this.setAsyncValidators($e(A,this._rawAsyncValidators))}hasValidator(A){return Qe(this._rawValidators,A)}hasAsyncValidator(A){return Qe(this._rawAsyncValidators,A)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(A={}){this.touched=!0,this._parent&&!A.onlySelf&&this._parent.markAsTouched(A)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(A=>A.markAllAsTouched())}markAsUntouched(A={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(S=>{S.markAsUntouched({onlySelf:!0})}),this._parent&&!A.onlySelf&&this._parent._updateTouched(A)}markAsDirty(A={}){this.pristine=!1,this._parent&&!A.onlySelf&&this._parent.markAsDirty(A)}markAsPristine(A={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(S=>{S.markAsPristine({onlySelf:!0})}),this._parent&&!A.onlySelf&&this._parent._updatePristine(A)}markAsPending(A={}){this.status=pt,!1!==A.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!A.onlySelf&&this._parent.markAsPending(A)}disable(A={}){const S=this._parentMarkedDirty(A.onlySelf);this.status=mt,this.errors=null,this._forEachChild(q=>{q.disable({...A,onlySelf:!0})}),this._updateValue(),!1!==A.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...A,skipPristineCheck:S}),this._onDisabledChange.forEach(q=>q(!0))}enable(A={}){const S=this._parentMarkedDirty(A.onlySelf);this.status=Ti,this._forEachChild(q=>{q.enable({...A,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:A.emitEvent}),this._updateAncestors({...A,skipPristineCheck:S}),this._onDisabledChange.forEach(q=>q(!1))}_updateAncestors(A){this._parent&&!A.onlySelf&&(this._parent.updateValueAndValidity(A),A.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(A){this._parent=A}getRawValue(){return this.value}updateValueAndValidity(A={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ti||this.status===pt)&&this._runAsyncValidator(A.emitEvent)),!1!==A.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!A.onlySelf&&this._parent.updateValueAndValidity(A)}_updateTreeValidity(A={emitEvent:!0}){this._forEachChild(S=>S._updateTreeValidity(A)),this.updateValueAndValidity({onlySelf:!0,emitEvent:A.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?mt:Ti}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(A){if(this.asyncValidator){this.status=pt,this._hasOwnPendingAsyncValidator=!0;const S=fn(this.asyncValidator(this));this._asyncValidationSubscription=S.subscribe(q=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(q,{emitEvent:A})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(A,S={}){this.errors=A,this._updateControlsErrors(!1!==S.emitEvent)}get(A){let S=A;return null==S||(Array.isArray(S)||(S=S.split(".")),0===S.length)?null:S.reduce((q,Ge)=>q&&q._find(Ge),this)}getError(A,S){const q=S?this.get(S):this;return q&&q.errors?q.errors[A]:null}hasError(A,S){return!!this.getError(A,S)}get root(){let A=this;for(;A._parent;)A=A._parent;return A}_updateControlsErrors(A){this.status=this._calculateStatus(),A&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(A)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?mt:this.errors?nn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pt)?pt:this._anyControlsHaveStatus(nn)?nn:Ti}_anyControlsHaveStatus(A){return this._anyControls(S=>S.status===A)}_anyControlsDirty(){return this._anyControls(A=>A.dirty)}_anyControlsTouched(){return this._anyControls(A=>A.touched)}_updatePristine(A={}){this.pristine=!this._anyControlsDirty(),this._parent&&!A.onlySelf&&this._parent._updatePristine(A)}_updateTouched(A={}){this.touched=this._anyControlsTouched(),this._parent&&!A.onlySelf&&this._parent._updateTouched(A)}_registerOnCollectionChange(A){this._onCollectionChange=A}_setUpdateStrategy(A){Jt(A)&&null!=A.updateOn&&(this._updateOn=A.updateOn)}_parentMarkedDirty(A){return!A&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(A){return null}_assignValidators(A){this._rawValidators=Array.isArray(A)?A.slice():A,this._composedValidatorFn=function ze(E){return Array.isArray(E)?Ne(E):E||null}(this._rawValidators)}_assignAsyncValidators(A){this._rawAsyncValidators=Array.isArray(A)?A.slice():A,this._composedAsyncValidatorFn=function an(E){return Array.isArray(E)?qe(E):E||null}(this._rawAsyncValidators)}}class et extends Ve{constructor(A,S,q){super(nt(S),ot(q,S)),this.controls=A,this._initObservables(),this._setUpdateStrategy(S),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(A,S){return this.controls[A]?this.controls[A]:(this.controls[A]=S,S.setParent(this),S._registerOnCollectionChange(this._onCollectionChange),S)}addControl(A,S,q={}){this.registerControl(A,S),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}removeControl(A,S={}){this.controls[A]&&this.controls[A]._registerOnCollectionChange(()=>{}),delete this.controls[A],this.updateValueAndValidity({emitEvent:S.emitEvent}),this._onCollectionChange()}setControl(A,S,q={}){this.controls[A]&&this.controls[A]._registerOnCollectionChange(()=>{}),delete this.controls[A],S&&this.registerControl(A,S),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}contains(A){return this.controls.hasOwnProperty(A)&&this.controls[A].enabled}setValue(A,S={}){(function Ze(E,A,S){E._forEachChild((q,Ge)=>{if(void 0===S[Ge])throw new l.vHH(1002,Qn?function ri(E,A){return`Must supply a value for form control ${mn(E,A)}`}(A,Ge):"")})})(this,!0,A),Object.keys(A).forEach(q=>{(function Ln(E,A,S){const q=E.controls;if(!(A?Object.keys(q):q).length)throw new l.vHH(1e3,Qn?function ai(E){return`\n    There are no form controls registered with this ${E?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(A):"");if(!q[S])throw new l.vHH(1001,Qn?function zn(E,A){return`Cannot find form control ${mn(E,A)}`}(A,S):"")})(this,!0,q),this.controls[q].setValue(A[q],{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S)}patchValue(A,S={}){null!=A&&(Object.keys(A).forEach(q=>{const Ge=this.controls[q];Ge&&Ge.patchValue(A[q],{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S))}reset(A={},S={}){this._forEachChild((q,Ge)=>{q.reset(A[Ge],{onlySelf:!0,emitEvent:S.emitEvent})}),this._updatePristine(S),this._updateTouched(S),this.updateValueAndValidity(S)}getRawValue(){return this._reduceChildren({},(A,S,q)=>(A[q]=S.getRawValue(),A))}_syncPendingControls(){let A=this._reduceChildren(!1,(S,q)=>!!q._syncPendingControls()||S);return A&&this.updateValueAndValidity({onlySelf:!0}),A}_forEachChild(A){Object.keys(this.controls).forEach(S=>{const q=this.controls[S];q&&A(q,S)})}_setUpControls(){this._forEachChild(A=>{A.setParent(this),A._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(A){for(const[S,q]of Object.entries(this.controls))if(this.contains(S)&&A(q))return!0;return!1}_reduceValue(){return this._reduceChildren({},(S,q,Ge)=>((q.enabled||this.disabled)&&(S[Ge]=q.value),S))}_reduceChildren(A,S){let q=A;return this._forEachChild((Ge,Ut)=>{q=S(q,Ge,Ut)}),q}_allControlsDisabled(){for(const A of Object.keys(this.controls))if(this.controls[A].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(A){return this.controls.hasOwnProperty(A)?this.controls[A]:null}}const L=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>T}),T="always";function j(E,A){return[...A.path,E]}function Ee(E,A,S=T){en(E,A),A.valueAccessor.writeValue(E.value),(E.disabled||"always"===S)&&A.valueAccessor.setDisabledState?.(E.disabled),function On(E,A){A.valueAccessor.registerOnChange(S=>{E._pendingValue=S,E._pendingChange=!0,E._pendingDirty=!0,"change"===E.updateOn&&$n(E,A)})}(E,A),function An(E,A){const S=(q,Ge)=>{A.valueAccessor.writeValue(q),Ge&&A.viewToModelUpdate(q)};E.registerOnChange(S),A._registerOnDestroy(()=>{E._unregisterOnChange(S)})}(E,A),function pn(E,A){A.valueAccessor.registerOnTouched(()=>{E._pendingTouched=!0,"blur"===E.updateOn&&E._pendingChange&&$n(E,A),"submit"!==E.updateOn&&E.markAsTouched()})}(E,A),function _t(E,A){if(A.valueAccessor.setDisabledState){const S=q=>{A.valueAccessor.setDisabledState(q)};E.registerOnDisabledChange(S),A._registerOnDestroy(()=>{E._unregisterOnDisabledChange(S)})}}(E,A)}function Oe(E,A,S=!0){const q=()=>{};A.valueAccessor&&(A.valueAccessor.registerOnChange(q),A.valueAccessor.registerOnTouched(q)),bn(E,A),E&&(A._invokeOnDestroyCallbacks(),E._registerOnCollectionChange(()=>{}))}function st(E,A){E.forEach(S=>{S.registerOnValidatorChange&&S.registerOnValidatorChange(A)})}function en(E,A){const S=ye(E);null!==A.validator?E.setValidators(Z(S,A.validator)):"function"==typeof S&&E.setValidators([S]);const q=R(E);null!==A.asyncValidator?E.setAsyncValidators(Z(q,A.asyncValidator)):"function"==typeof q&&E.setAsyncValidators([q]);const Ge=()=>E.updateValueAndValidity();st(A._rawValidators,Ge),st(A._rawAsyncValidators,Ge)}function bn(E,A){let S=!1;if(null!==E){if(null!==A.validator){const Ge=ye(E);if(Array.isArray(Ge)&&Ge.length>0){const Ut=Ge.filter(Dn=>Dn!==A.validator);Ut.length!==Ge.length&&(S=!0,E.setValidators(Ut))}}if(null!==A.asyncValidator){const Ge=R(E);if(Array.isArray(Ge)&&Ge.length>0){const Ut=Ge.filter(Dn=>Dn!==A.asyncValidator);Ut.length!==Ge.length&&(S=!0,E.setAsyncValidators(Ut))}}}const q=()=>{};return st(A._rawValidators,q),st(A._rawAsyncValidators,q),S}function $n(E,A){E._pendingDirty&&E.markAsDirty(),E.setValue(E._pendingValue,{emitModelToViewChange:!1}),A.viewToModelUpdate(E._pendingValue),E._pendingChange=!1}function Gn(E,A){en(E,A)}function li(E,A){if(!E.hasOwnProperty("model"))return!1;const S=E.model;return!!S.isFirstChange()||!Object.is(A,S.currentValue)}function fi(E,A){E._syncPendingControls(),A.forEach(S=>{const q=S.control;"submit"===q.updateOn&&q._pendingChange&&(S.viewToModelUpdate(q._pendingValue),q._pendingChange=!1)})}function yn(E,A){if(!A)return null;let S,q,Ge;return Array.isArray(A),A.forEach(Ut=>{Ut.constructor===ne?S=Ut:function Ei(E){return Object.getPrototypeOf(E.constructor)===te}(Ut)?q=Ut:Ge=Ut}),Ge||q||S||null}const nr={provide:Gt,useExisting:(0,l.Gpc)(()=>Vi)},lr=(()=>Promise.resolve())();let Vi=(()=>{class E extends Gt{constructor(S,q,Ge){super(),this.callSetDisabledState=Ge,this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new et({},Ne(S),qe(q))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(S){lr.then(()=>{const q=this._findContainer(S.path);S.control=q.registerControl(S.name,S.control),Ee(S.control,S,this.callSetDisabledState),S.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(S)})}getControl(S){return this.form.get(S.path)}removeControl(S){lr.then(()=>{const q=this._findContainer(S.path);q&&q.removeControl(S.name),this._directives.delete(S)})}addFormGroup(S){lr.then(()=>{const q=this._findContainer(S.path),Ge=new et({});Gn(Ge,S),q.registerControl(S.name,Ge),Ge.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(S){lr.then(()=>{const q=this._findContainer(S.path);q&&q.removeControl(S.name)})}getFormGroup(S){return this.form.get(S.path)}updateModel(S,q){lr.then(()=>{this.form.get(S.path).setValue(q)})}setValue(S){this.control.setValue(S)}onSubmit(S){return this.submitted=!0,fi(this.form,this._directives),this.ngSubmit.emit(S),"dialog"===S?.target?.method}onReset(){this.resetForm()}resetForm(S){this.form.reset(S),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(S){return S.pop(),S.length?this.form.get(S):this.form}}return E.\u0275fac=function(S){return new(S||E)(l.Y36(oe,10),l.Y36(fe,10),l.Y36(L,8))},E.\u0275dir=l.lG2({type:E,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(S,q){1&S&&l.NdJ("submit",function(Ut){return q.onSubmit(Ut)})("reset",function(){return q.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([nr]),l.qOj]}),E})();function cr(E,A){const S=E.indexOf(A);S>-1&&E.splice(S,1)}function ui(E){return"object"==typeof E&&null!==E&&2===Object.keys(E).length&&"value"in E&&"disabled"in E}const _r=class extends Ve{constructor(A=null,S,q){super(nt(S),ot(q,S)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(A),this._setUpdateStrategy(S),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Jt(S)&&(S.nonNullable||S.initialValueIsDefault)&&(this.defaultValue=ui(A)?A.value:A)}setValue(A,S={}){this.value=this._pendingValue=A,this._onChange.length&&!1!==S.emitModelToViewChange&&this._onChange.forEach(q=>q(this.value,!1!==S.emitViewToModelChange)),this.updateValueAndValidity(S)}patchValue(A,S={}){this.setValue(A,S)}reset(A=this.defaultValue,S={}){this._applyFormState(A),this.markAsPristine(S),this.markAsUntouched(S),this.setValue(this.value,S),this._pendingChange=!1}_updateValue(){}_anyControls(A){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(A){this._onChange.push(A)}_unregisterOnChange(A){cr(this._onChange,A)}registerOnDisabledChange(A){this._onDisabledChange.push(A)}_unregisterOnDisabledChange(A){cr(this._onDisabledChange,A)}_forEachChild(A){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(A){ui(A)?(this.value=this._pendingValue=A.value,A.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=A}},Zr={provide:_n,useExisting:(0,l.Gpc)(()=>io)},Kr=(()=>Promise.resolve())();let io=(()=>{class E extends _n{constructor(S,q,Ge,Ut,Dn,vt){super(),this._changeDetectorRef=Dn,this.callSetDisabledState=vt,this.control=new _r,this._registered=!1,this.update=new l.vpe,this._parent=S,this._setValidators(q),this._setAsyncValidators(Ge),this.valueAccessor=yn(0,Ut)}ngOnChanges(S){if(this._checkForErrors(),!this._registered||"name"in S){if(this._registered&&(this._checkName(),this.formDirective)){const q=S.name.previousValue;this.formDirective.removeControl({name:q,path:this._getPath(q)})}this._setUpControl()}"isDisabled"in S&&this._updateDisabled(S),li(S,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(S){this.viewModel=S,this.update.emit(S)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ee(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(S){Kr.then(()=>{this.control.setValue(S,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(S){const q=S.isDisabled.currentValue,Ge=0!==q&&(0,l.D6c)(q);Kr.then(()=>{Ge&&!this.control.disabled?this.control.disable():!Ge&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(S){return this._parent?j(S,this._parent):[S]}}return E.\u0275fac=function(S){return new(S||E)(l.Y36(Gt,9),l.Y36(oe,10),l.Y36(fe,10),l.Y36(z,10),l.Y36(l.sBO,8),l.Y36(L,8))},E.\u0275dir=l.lG2({type:E,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([Zr]),l.qOj,l.TTD]}),E})(),Ri=(()=>{class E{}return E.\u0275fac=function(S){return new(S||E)},E.\u0275dir=l.lG2({type:E,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),E})();const vr={provide:z,useExisting:(0,l.Gpc)(()=>Ao),multi:!0};let Ao=(()=>{class E extends te{writeValue(S){this.setProperty("value",S??"")}registerOnChange(S){this.onChange=q=>{S(""==q?null:parseFloat(q))}}}return E.\u0275fac=function(){let A;return function(q){return(A||(A=l.n5z(E)))(q||E)}}(),E.\u0275dir=l.lG2({type:E,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(S,q){1&S&&l.NdJ("input",function(Ut){return q.onChange(Ut.target.value)})("blur",function(){return q.onTouched()})},features:[l._Bn([vr]),l.qOj]}),E})();const Cs={provide:z,useExisting:(0,l.Gpc)(()=>ur),multi:!0};let No=(()=>{class E{}return E.\u0275fac=function(S){return new(S||E)},E.\u0275mod=l.oAB({type:E}),E.\u0275inj=l.cJS({}),E})(),Yr=(()=>{class E{constructor(){this._accessors=[]}add(S,q){this._accessors.push([S,q])}remove(S){for(let q=this._accessors.length-1;q>=0;--q)if(this._accessors[q][1]===S)return void this._accessors.splice(q,1)}select(S){this._accessors.forEach(q=>{this._isSameGroup(q,S)&&q[1]!==S&&q[1].fireUncheck(S.value)})}_isSameGroup(S,q){return!!S[0].control&&S[0]._parent===q._control._parent&&S[1].name===q.name}}return E.\u0275fac=function(S){return new(S||E)},E.\u0275prov=l.Yz7({token:E,factory:E.\u0275fac,providedIn:No}),E})(),ur=(()=>{class E extends te{constructor(S,q,Ge,Ut){super(S,q),this._registry=Ge,this._injector=Ut,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,l.f3M)(L,{optional:!0})??T}ngOnInit(){this._control=this._injector.get(_n),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(S){this._state=S===this.value,this.setProperty("checked",this._state)}registerOnChange(S){this._fn=S,this.onChange=()=>{S(this.value),this._registry.select(this)}}setDisabledState(S){(this.setDisabledStateFired||S||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",S),this.setDisabledStateFired=!0}fireUncheck(S){this.writeValue(S)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return E.\u0275fac=function(S){return new(S||E)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Yr),l.Y36(l.zs3))},E.\u0275dir=l.lG2({type:E,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(S,q){1&S&&l.NdJ("change",function(){return q.onChange()})("blur",function(){return q.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[l._Bn([Cs]),l.qOj]}),E})();const xr=new l.OlP("NgModelWithFormControlWarning"),oo={provide:Gt,useExisting:(0,l.Gpc)(()=>Qi)};let Qi=(()=>{class E extends Gt{constructor(S,q,Ge){super(),this.callSetDisabledState=Ge,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(S),this._setAsyncValidators(q)}ngOnChanges(S){this._checkFormPresent(),S.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(bn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(S){const q=this.form.get(S.path);return Ee(q,S,this.callSetDisabledState),q.updateValueAndValidity({emitEvent:!1}),this.directives.push(S),q}getControl(S){return this.form.get(S.path)}removeControl(S){Oe(S.control||null,S,!1),function ti(E,A){const S=E.indexOf(A);S>-1&&E.splice(S,1)}(this.directives,S)}addFormGroup(S){this._setUpFormContainer(S)}removeFormGroup(S){this._cleanUpFormContainer(S)}getFormGroup(S){return this.form.get(S.path)}addFormArray(S){this._setUpFormContainer(S)}removeFormArray(S){this._cleanUpFormContainer(S)}getFormArray(S){return this.form.get(S.path)}updateModel(S,q){this.form.get(S.path).setValue(q)}onSubmit(S){return this.submitted=!0,fi(this.form,this.directives),this.ngSubmit.emit(S),"dialog"===S?.target?.method}onReset(){this.resetForm()}resetForm(S){this.form.reset(S),this.submitted=!1}_updateDomValue(){this.directives.forEach(S=>{const q=S.control,Ge=this.form.get(S.path);q!==Ge&&(Oe(q||null,S),(E=>E instanceof _r)(Ge)&&(Ee(Ge,S,this.callSetDisabledState),S.control=Ge))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(S){const q=this.form.get(S.path);Gn(q,S),q.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(S){if(this.form){const q=this.form.get(S.path);q&&function bt(E,A){return bn(E,A)}(q,S)&&q.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){en(this.form,this),this._oldForm&&bn(this._oldForm,this)}_checkFormPresent(){}}return E.\u0275fac=function(S){return new(S||E)(l.Y36(oe,10),l.Y36(fe,10),l.Y36(L,8))},E.\u0275dir=l.lG2({type:E,selectors:[["","formGroup",""]],hostBindings:function(S,q){1&S&&l.NdJ("submit",function(Ut){return q.onSubmit(Ut)})("reset",function(){return q.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([oo]),l.qOj,l.TTD]}),E})();const Is={provide:_n,useExisting:(0,l.Gpc)(()=>Go)};let Go=(()=>{class E extends _n{set isDisabled(S){}constructor(S,q,Ge,Ut,Dn){super(),this._ngModelWarningConfig=Dn,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=S,this._setValidators(q),this._setAsyncValidators(Ge),this.valueAccessor=yn(0,Ut)}ngOnChanges(S){this._added||this._setUpControl(),li(S,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(S){this.viewModel=S,this.update.emit(S)}get path(){return j(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return E._ngModelWarningSentOnce=!1,E.\u0275fac=function(S){return new(S||E)(l.Y36(Gt,13),l.Y36(oe,10),l.Y36(fe,10),l.Y36(z,10),l.Y36(xr,8))},E.\u0275dir=l.lG2({type:E,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([Is]),l.qOj,l.TTD]}),E})();const js={provide:z,useExisting:(0,l.Gpc)(()=>Rr),multi:!0};function $s(E,A){return null==E?`${A}`:(A&&"object"==typeof A&&(A="Object"),`${E}: ${A}`.slice(0,50))}let Rr=(()=>{class E extends te{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(S){this._compareWith=S}writeValue(S){this.value=S;const Ge=$s(this._getOptionId(S),S);this.setProperty("value",Ge)}registerOnChange(S){this.onChange=q=>{this.value=this._getOptionValue(q),S(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(S){for(const q of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(q),S))return q;return null}_getOptionValue(S){const q=function ua(E){return E.split(":")[0]}(S);return this._optionMap.has(q)?this._optionMap.get(q):S}}return E.\u0275fac=function(){let A;return function(q){return(A||(A=l.n5z(E)))(q||E)}}(),E.\u0275dir=l.lG2({type:E,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(S,q){1&S&&l.NdJ("change",function(Ut){return q.onChange(Ut.target.value)})("blur",function(){return q.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([js]),l.qOj]}),E})(),Lo=(()=>{class E{constructor(S,q,Ge){this._element=S,this._renderer=q,this._select=Ge,this._select&&(this.id=this._select._registerOption())}set ngValue(S){null!=this._select&&(this._select._optionMap.set(this.id,S),this._setElementValue($s(this.id,S)),this._select.writeValue(this._select.value))}set value(S){this._setElementValue(S),this._select&&this._select.writeValue(this._select.value)}_setElementValue(S){this._renderer.setProperty(this._element.nativeElement,"value",S)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return E.\u0275fac=function(S){return new(S||E)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(Rr,9))},E.\u0275dir=l.lG2({type:E,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),E})();const xa={provide:z,useExisting:(0,l.Gpc)(()=>Bo),multi:!0};function Ts(E,A){return null==E?`${A}`:("string"==typeof A&&(A=`'${A}'`),A&&"object"==typeof A&&(A="Object"),`${E}: ${A}`.slice(0,50))}let Bo=(()=>{class E extends te{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(S){this._compareWith=S}writeValue(S){let q;if(this.value=S,Array.isArray(S)){const Ge=S.map(Ut=>this._getOptionId(Ut));q=(Ut,Dn)=>{Ut._setSelected(Ge.indexOf(Dn.toString())>-1)}}else q=(Ge,Ut)=>{Ge._setSelected(!1)};this._optionMap.forEach(q)}registerOnChange(S){this.onChange=q=>{const Ge=[],Ut=q.selectedOptions;if(void 0!==Ut){const Dn=Ut;for(let vt=0;vt<Dn.length;vt++){const pi=this._getOptionValue(Dn[vt].value);Ge.push(pi)}}else{const Dn=q.options;for(let vt=0;vt<Dn.length;vt++){const xn=Dn[vt];if(xn.selected){const pi=this._getOptionValue(xn.value);Ge.push(pi)}}}this.value=Ge,S(Ge)}}_registerOption(S){const q=(this._idCounter++).toString();return this._optionMap.set(q,S),q}_getOptionId(S){for(const q of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(q)._value,S))return q;return null}_getOptionValue(S){const q=function Ca(E){return E.split(":")[0]}(S);return this._optionMap.has(q)?this._optionMap.get(q)._value:S}}return E.\u0275fac=function(){let A;return function(q){return(A||(A=l.n5z(E)))(q||E)}}(),E.\u0275dir=l.lG2({type:E,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(S,q){1&S&&l.NdJ("change",function(Ut){return q.onChange(Ut.target)})("blur",function(){return q.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([xa]),l.qOj]}),E})(),mo=(()=>{class E{constructor(S,q,Ge){this._element=S,this._renderer=q,this._select=Ge,this._select&&(this.id=this._select._registerOption(this))}set ngValue(S){null!=this._select&&(this._value=S,this._setElementValue(Ts(this.id,S)),this._select.writeValue(this._select.value))}set value(S){this._select?(this._value=S,this._setElementValue(Ts(this.id,S)),this._select.writeValue(this._select.value)):this._setElementValue(S)}_setElementValue(S){this._renderer.setProperty(this._element.nativeElement,"value",S)}_setSelected(S){this._renderer.setProperty(this._element.nativeElement,"selected",S)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return E.\u0275fac=function(S){return new(S||E)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(Bo,9))},E.\u0275dir=l.lG2({type:E,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),E})(),dr=(()=>{class E{constructor(){this._validator=Ot}ngOnChanges(S){if(this.inputName in S){const q=this.normalizeInput(S[this.inputName].currentValue);this._enabled=this.enabled(q),this._validator=this._enabled?this.createValidator(q):Ot,this._onChange&&this._onChange()}}validate(S){return this._validator(S)}registerOnValidatorChange(S){this._onChange=S}enabled(S){return null!=S}}return E.\u0275fac=function(S){return new(S||E)},E.\u0275dir=l.lG2({type:E,features:[l.TTD]}),E})();const Ws={provide:oe,useExisting:(0,l.Gpc)(()=>ts),multi:!0};let ts=(()=>{class E extends dr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.D6c,this.createValidator=S=>je}enabled(S){return S}}return E.\u0275fac=function(){let A;return function(q){return(A||(A=l.n5z(E)))(q||E)}}(),E.\u0275dir=l.lG2({type:E,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(S,q){2&S&&l.uIk("required",q._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([Ws]),l.qOj]}),E})(),Ds=(()=>{class E{}return E.\u0275fac=function(S){return new(S||E)},E.\u0275mod=l.oAB({type:E}),E.\u0275inj=l.cJS({imports:[No]}),E})(),Wn=(()=>{class E{static withConfig(S){return{ngModule:E,providers:[{provide:L,useValue:S.callSetDisabledState??T}]}}}return E.\u0275fac=function(S){return new(S||E)},E.\u0275mod=l.oAB({type:E}),E.\u0275inj=l.cJS({imports:[Ds]}),E})(),ie=(()=>{class E{static withConfig(S){return{ngModule:E,providers:[{provide:xr,useValue:S.warnOnNgModelWithFormControl??"always"},{provide:L,useValue:S.callSetDisabledState??T}]}}}return E.\u0275fac=function(S){return new(S||E)},E.\u0275mod=l.oAB({type:E}),E.\u0275inj=l.cJS({imports:[Ds]}),E})()},7705:(wt,Fe,_)=>{"use strict";_.d(Fe,{O_:()=>dt,Y4:()=>Ne,b6:()=>Ae,ch:()=>je});var l=_(4650),b=_(6895),f=_(1135),O=_(9751),de=_(7579),ee=_(9841),te=_(3900),z=_(5698),K=_(4004),Y=_(2722);const k=["*"];class U{_clearListeners(){for(const ye of this._listeners)ye.remove();this._listeners=[]}constructor(ye){this._ngZone=ye,this._pending=[],this._listeners=[],this._targetStream=new f.X(void 0)}getLazyEmitter(ye){return this._targetStream.pipe((0,te.w)(R=>{const Se=new O.y(Qe=>{if(!R)return void this._pending.push({observable:Se,observer:Qe});const Tt=R.addListener(ye,$e=>{this._ngZone.run(()=>Qe.next($e))});if(Tt)return this._listeners.push(Tt),()=>Tt.remove();Qe.complete()});return Se}))}setTarget(ye){const R=this._targetStream.value;ye!==R&&(R&&(this._clearListeners(),this._pending=[]),this._targetStream.next(ye),this._pending.forEach(Se=>Se.observable.subscribe(Se.observer)),this._pending=[])}destroy(){this._clearListeners(),this._pending=[],this._targetStream.complete()}}const W={center:{lat:37.421995,lng:-122.084092},zoom:17,mapTypeId:"roadmap"};let Ae=(()=>{class Z{set center(R){this._center=R}set zoom(R){this._zoom=R}set options(R){this._options=R||W}constructor(R,Se,Qe){if(this._elementRef=R,this._ngZone=Se,this._eventManager=new U(this._ngZone),this.height="500px",this.width="500px",this._options=W,this.mapInitialized=new l.vpe,this.authFailure=new l.vpe,this.boundsChanged=this._eventManager.getLazyEmitter("bounds_changed"),this.centerChanged=this._eventManager.getLazyEmitter("center_changed"),this.mapClick=this._eventManager.getLazyEmitter("click"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.headingChanged=this._eventManager.getLazyEmitter("heading_changed"),this.idle=this._eventManager.getLazyEmitter("idle"),this.maptypeidChanged=this._eventManager.getLazyEmitter("maptypeid_changed"),this.mapMousemove=this._eventManager.getLazyEmitter("mousemove"),this.mapMouseout=this._eventManager.getLazyEmitter("mouseout"),this.mapMouseover=this._eventManager.getLazyEmitter("mouseover"),this.projectionChanged=this._eventManager.getLazyEmitter("projection_changed"),this.mapRightclick=this._eventManager.getLazyEmitter("rightclick"),this.tilesloaded=this._eventManager.getLazyEmitter("tilesloaded"),this.tiltChanged=this._eventManager.getLazyEmitter("tilt_changed"),this.zoomChanged=this._eventManager.getLazyEmitter("zoom_changed"),this._isBrowser=(0,b.NF)(Qe),this._isBrowser){const Tt=window;this._existingAuthFailureCallback=Tt.gm_authFailure,Tt.gm_authFailure=()=>{this._existingAuthFailureCallback&&this._existingAuthFailureCallback(),this.authFailure.emit()}}}ngOnChanges(R){(R.height||R.width)&&this._setSize();const Se=this.googleMap;Se&&(R.options&&Se.setOptions(this._combineOptions()),R.center&&this._center&&Se.setCenter(this._center),R.zoom&&null!=this._zoom&&Se.setZoom(this._zoom),R.mapTypeId&&this.mapTypeId&&Se.setMapTypeId(this.mapTypeId))}ngOnInit(){this._isBrowser&&(this._mapEl=this._elementRef.nativeElement.querySelector(".map-container"),this._setSize(),this._ngZone.runOutsideAngular(()=>{this.googleMap=new google.maps.Map(this._mapEl,this._combineOptions())}),this._eventManager.setTarget(this.googleMap),this.mapInitialized.emit(this.googleMap))}ngOnDestroy(){this._eventManager.destroy(),this._isBrowser&&(window.gm_authFailure=this._existingAuthFailureCallback)}fitBounds(R,Se){this._assertInitialized(),this.googleMap.fitBounds(R,Se)}panBy(R,Se){this._assertInitialized(),this.googleMap.panBy(R,Se)}panTo(R){this._assertInitialized(),this.googleMap.panTo(R)}panToBounds(R,Se){this._assertInitialized(),this.googleMap.panToBounds(R,Se)}getBounds(){return this._assertInitialized(),this.googleMap.getBounds()||null}getCenter(){return this._assertInitialized(),this.googleMap.getCenter()}getClickableIcons(){return this._assertInitialized(),this.googleMap.getClickableIcons()}getHeading(){return this._assertInitialized(),this.googleMap.getHeading()}getMapTypeId(){return this._assertInitialized(),this.googleMap.getMapTypeId()}getProjection(){return this._assertInitialized(),this.googleMap.getProjection()||null}getStreetView(){return this._assertInitialized(),this.googleMap.getStreetView()}getTilt(){return this._assertInitialized(),this.googleMap.getTilt()}getZoom(){return this._assertInitialized(),this.googleMap.getZoom()}get controls(){return this._assertInitialized(),this.googleMap.controls}get data(){return this._assertInitialized(),this.googleMap.data}get mapTypes(){return this._assertInitialized(),this.googleMap.mapTypes}get overlayMapTypes(){return this._assertInitialized(),this.googleMap.overlayMapTypes}_setSize(){if(this._mapEl){const R=this._mapEl.style;R.height=null===this.height?"":oe(this.height)||"500px",R.width=null===this.width?"":oe(this.width)||"500px"}}_combineOptions(){const R=this._options||{};return{...R,center:this._center||R.center||W.center,zoom:this._zoom??R.zoom??W.zoom,mapTypeId:this.mapTypeId||R.mapTypeId||W.mapTypeId}}_assertInitialized(){}}return Z.\u0275fac=function(R){return new(R||Z)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(l.Lbi))},Z.\u0275cmp=l.Xpm({type:Z,selectors:[["google-map"]],inputs:{height:"height",width:"width",mapTypeId:"mapTypeId",center:"center",zoom:"zoom",options:"options"},outputs:{mapInitialized:"mapInitialized",authFailure:"authFailure",boundsChanged:"boundsChanged",centerChanged:"centerChanged",mapClick:"mapClick",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",mapDragstart:"mapDragstart",headingChanged:"headingChanged",idle:"idle",maptypeidChanged:"maptypeidChanged",mapMousemove:"mapMousemove",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",projectionChanged:"projectionChanged",mapRightclick:"mapRightclick",tilesloaded:"tilesloaded",tiltChanged:"tiltChanged",zoomChanged:"zoomChanged"},exportAs:["googleMap"],features:[l.TTD],ngContentSelectors:k,decls:2,vars:0,consts:[[1,"map-container"]],template:function(R,Se){1&R&&(l.F$t(),l._UZ(0,"div",0),l.Hsn(1))},encapsulation:2,changeDetection:0}),Z})();const _e=/([A-Za-z%]+)$/;function oe(Z){return null==Z?"":_e.test(Z)?Z:`${Z}px`}let je=(()=>{class Z{set options(R){this._options.next(R||{})}set position(R){this._position.next(R)}constructor(R,Se,Qe){this._googleMap=R,this._elementRef=Se,this._ngZone=Qe,this._eventManager=new U(this._ngZone),this._options=new f.X({}),this._position=new f.X(void 0),this._destroy=new de.x,this.closeclick=this._eventManager.getLazyEmitter("closeclick"),this.contentChanged=this._eventManager.getLazyEmitter("content_changed"),this.domready=this._eventManager.getLazyEmitter("domready"),this.positionChanged=this._eventManager.getLazyEmitter("position_changed"),this.zindexChanged=this._eventManager.getLazyEmitter("zindex_changed")}ngOnInit(){this._googleMap._isBrowser&&(this._combineOptions().pipe((0,z.q)(1)).subscribe(Se=>{this._ngZone.runOutsideAngular(()=>{this.infoWindow=new google.maps.InfoWindow(Se)}),this._eventManager.setTarget(this.infoWindow)}),this._watchForOptionsChanges(),this._watchForPositionChanges())}ngOnDestroy(){this._eventManager.destroy(),this._destroy.next(),this._destroy.complete(),this.infoWindow&&this.close()}close(){this._assertInitialized(),this.infoWindow.close()}getContent(){return this._assertInitialized(),this.infoWindow.getContent()||null}getPosition(){return this._assertInitialized(),this.infoWindow.getPosition()||null}getZIndex(){return this._assertInitialized(),this.infoWindow.getZIndex()}open(R,Se){this._assertInitialized();const Qe=R?R.getAnchor():void 0;(this.infoWindow.get("anchor")!==Qe||!Qe)&&(this._elementRef.nativeElement.style.display="",this.infoWindow.open({map:this._googleMap.googleMap,anchor:Qe,shouldFocus:Se}))}_combineOptions(){return(0,ee.a)([this._options,this._position]).pipe((0,K.U)(([R,Se])=>({...R,position:Se||R.position,content:this._elementRef.nativeElement})))}_watchForOptionsChanges(){this._options.pipe((0,Y.R)(this._destroy)).subscribe(R=>{this._assertInitialized(),this.infoWindow.setOptions(R)})}_watchForPositionChanges(){this._position.pipe((0,Y.R)(this._destroy)).subscribe(R=>{R&&(this._assertInitialized(),this.infoWindow.setPosition(R))})}_assertInitialized(){}}return Z.\u0275fac=function(R){return new(R||Z)(l.Y36(Ae),l.Y36(l.SBq),l.Y36(l.R0b))},Z.\u0275dir=l.lG2({type:Z,selectors:[["map-info-window"]],hostAttrs:[2,"display","none"],inputs:{options:"options",position:"position"},outputs:{closeclick:"closeclick",contentChanged:"contentChanged",domready:"domready",positionChanged:"positionChanged",zindexChanged:"zindexChanged"},exportAs:["mapInfoWindow"]}),Z})();const Xe={position:{lat:37.421995,lng:-122.084092}};let dt=(()=>{class Z{set title(R){this._title=R}set position(R){this._position=R}set label(R){this._label=R}set clickable(R){this._clickable=R}set options(R){this._options=R}set icon(R){this._icon=R}set visible(R){this._visible=R}constructor(R,Se){this._googleMap=R,this._ngZone=Se,this._eventManager=new U(this._ngZone),this.animationChanged=this._eventManager.getLazyEmitter("animation_changed"),this.mapClick=this._eventManager.getLazyEmitter("click"),this.clickableChanged=this._eventManager.getLazyEmitter("clickable_changed"),this.cursorChanged=this._eventManager.getLazyEmitter("cursor_changed"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.draggableChanged=this._eventManager.getLazyEmitter("draggable_changed"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.flatChanged=this._eventManager.getLazyEmitter("flat_changed"),this.iconChanged=this._eventManager.getLazyEmitter("icon_changed"),this.mapMousedown=this._eventManager.getLazyEmitter("mousedown"),this.mapMouseout=this._eventManager.getLazyEmitter("mouseout"),this.mapMouseover=this._eventManager.getLazyEmitter("mouseover"),this.mapMouseup=this._eventManager.getLazyEmitter("mouseup"),this.positionChanged=this._eventManager.getLazyEmitter("position_changed"),this.mapRightclick=this._eventManager.getLazyEmitter("rightclick"),this.shapeChanged=this._eventManager.getLazyEmitter("shape_changed"),this.titleChanged=this._eventManager.getLazyEmitter("title_changed"),this.visibleChanged=this._eventManager.getLazyEmitter("visible_changed"),this.zindexChanged=this._eventManager.getLazyEmitter("zindex_changed")}ngOnInit(){this._googleMap._isBrowser&&(this._ngZone.runOutsideAngular(()=>{this.marker=new google.maps.Marker(this._combineOptions())}),this._assertInitialized(),this.marker.setMap(this._googleMap.googleMap),this._eventManager.setTarget(this.marker))}ngOnChanges(R){const{marker:Se,_title:Qe,_position:Tt,_label:$e,_clickable:Mt,_icon:Gt,_visible:_n}=this;Se&&(R.options&&Se.setOptions(this._combineOptions()),R.title&&void 0!==Qe&&Se.setTitle(Qe),R.position&&Tt&&Se.setPosition(Tt),R.label&&void 0!==$e&&Se.setLabel($e),R.clickable&&void 0!==Mt&&Se.setClickable(Mt),R.icon&&Gt&&Se.setIcon(Gt),R.visible&&void 0!==_n&&Se.setVisible(_n))}ngOnDestroy(){this._eventManager.destroy(),this.marker&&this.marker.setMap(null)}getAnimation(){return this._assertInitialized(),this.marker.getAnimation()||null}getClickable(){return this._assertInitialized(),this.marker.getClickable()}getCursor(){return this._assertInitialized(),this.marker.getCursor()||null}getDraggable(){return this._assertInitialized(),!!this.marker.getDraggable()}getIcon(){return this._assertInitialized(),this.marker.getIcon()||null}getLabel(){return this._assertInitialized(),this.marker.getLabel()||null}getOpacity(){return this._assertInitialized(),this.marker.getOpacity()||null}getPosition(){return this._assertInitialized(),this.marker.getPosition()||null}getShape(){return this._assertInitialized(),this.marker.getShape()||null}getTitle(){return this._assertInitialized(),this.marker.getTitle()||null}getVisible(){return this._assertInitialized(),this.marker.getVisible()}getZIndex(){return this._assertInitialized(),this.marker.getZIndex()||null}getAnchor(){return this._assertInitialized(),this.marker}_combineOptions(){const R=this._options||Xe;return{...R,title:this._title||R.title,position:this._position||R.position,label:this._label||R.label,clickable:this._clickable??R.clickable,map:this._googleMap.googleMap,icon:this._icon||R.icon,visible:this._visible??R.visible}}_assertInitialized(){}}return Z.\u0275fac=function(R){return new(R||Z)(l.Y36(Ae),l.Y36(l.R0b))},Z.\u0275dir=l.lG2({type:Z,selectors:[["map-marker"]],inputs:{title:"title",position:"position",label:"label",clickable:"clickable",options:"options",icon:"icon",visible:"visible"},outputs:{animationChanged:"animationChanged",mapClick:"mapClick",clickableChanged:"clickableChanged",cursorChanged:"cursorChanged",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",draggableChanged:"draggableChanged",mapDragstart:"mapDragstart",flatChanged:"flatChanged",iconChanged:"iconChanged",mapMousedown:"mapMousedown",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",mapMouseup:"mapMouseup",positionChanged:"positionChanged",mapRightclick:"mapRightclick",shapeChanged:"shapeChanged",titleChanged:"titleChanged",visibleChanged:"visibleChanged",zindexChanged:"zindexChanged"},exportAs:["mapMarker"],features:[l.TTD]}),Z})(),Ne=(()=>{class Z{}return Z.\u0275fac=function(R){return new(R||Z)},Z.\u0275mod=l.oAB({type:Z}),Z.\u0275inj=l.cJS({}),Z})()},9101:(wt,Fe,_)=>{"use strict";_.d(Fe,{ot:()=>jt});var l=_(4650),b=_(3238);let jt=(()=>{class Zt{}return Zt.\u0275fac=function(ke){return new(ke||Zt)},Zt.\u0275mod=l.oAB({type:Zt}),Zt.\u0275inj=l.cJS({imports:[b.BQ,b.si,b.BQ]}),Zt})()},3238:(wt,Fe,_)=>{"use strict";_.d(Fe,{BQ:()=>pe,si:()=>It,pj:()=>Xe,sb:()=>Ue});var l=_(4650),b=_(7253),f=_(445),de=_(6895),ee=_(3353),te=_(1281);const Me=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function fe(){return!0}});let pe=(()=>{class nn{constructor(mt,nt,ze){this._sanityChecks=nt,this._document=ze,this._hasDoneGlobalChecks=!1,mt._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(mt){return!(0,ee.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[mt])}}return nn.\u0275fac=function(mt){return new(mt||nn)(l.LFG(b.qm),l.LFG(Me,8),l.LFG(de.K0))},nn.\u0275mod=l.oAB({type:nn}),nn.\u0275inj=l.cJS({imports:[f.vT,f.vT]}),nn})();function Xe(nn,pt){return class extends nn{get color(){return this._color}set color(mt){const nt=mt||this.defaultColor;nt!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),nt&&this._elementRef.nativeElement.classList.add(`mat-${nt}`),this._color=nt)}constructor(...mt){super(...mt),this.defaultColor=pt,this.color=pt}}}function Ue(nn,pt=0){return class extends nn{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(mt){this._tabIndex=null!=mt?(0,te.su)(mt):this.defaultTabIndex}constructor(...mt){super(...mt),this._tabIndex=pt,this.defaultTabIndex=pt}}}class $e{constructor(pt,mt,nt,ze=!1){this._renderer=pt,this.element=mt,this.config=nt,this._animationForciblyDisabledThroughCss=ze,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Mt=(0,ee.i$)({passive:!0,capture:!0});class Gt{constructor(){this._events=new Map,this._delegateEventHandler=pt=>{const mt=(0,ee.sA)(pt);mt&&this._events.get(pt.type)?.forEach((nt,ze)=>{(ze===mt||ze.contains(mt))&&nt.forEach(ot=>ot.handleEvent(pt))})}}addHandler(pt,mt,nt,ze){const ot=this._events.get(mt);if(ot){const an=ot.get(nt);an?an.add(ze):ot.set(nt,new Set([ze]))}else this._events.set(mt,new Map([[nt,new Set([ze])]])),pt.runOutsideAngular(()=>{document.addEventListener(mt,this._delegateEventHandler,Mt)})}removeHandler(pt,mt,nt){const ze=this._events.get(pt);if(!ze)return;const ot=ze.get(mt);ot&&(ot.delete(nt),0===ot.size&&ze.delete(mt),0===ze.size&&(this._events.delete(pt),document.removeEventListener(pt,this._delegateEventHandler,Mt)))}}const _n={enterDuration:225,exitDuration:150},qn=(0,ee.i$)({passive:!0,capture:!0}),Mn=["mousedown","touchstart"],Pn=["mouseup","mouseleave","touchend","touchcancel"];class Le{constructor(pt,mt,nt,ze){this._target=pt,this._ngZone=mt,this._platform=ze,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,ze.isBrowser&&(this._containerElement=(0,te.fI)(nt))}fadeInRipple(pt,mt,nt={}){const ze=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),ot={..._n,...nt.animation};nt.centered&&(pt=ze.left+ze.width/2,mt=ze.top+ze.height/2);const an=nt.radius||function re(nn,pt,mt){const nt=Math.max(Math.abs(nn-mt.left),Math.abs(nn-mt.right)),ze=Math.max(Math.abs(pt-mt.top),Math.abs(pt-mt.bottom));return Math.sqrt(nt*nt+ze*ze)}(pt,mt,ze),Jt=pt-ze.left,Ln=mt-ze.top,Ze=ot.enterDuration,Ve=document.createElement("div");Ve.classList.add("mat-ripple-element"),Ve.style.left=Jt-an+"px",Ve.style.top=Ln-an+"px",Ve.style.height=2*an+"px",Ve.style.width=2*an+"px",null!=nt.color&&(Ve.style.backgroundColor=nt.color),Ve.style.transitionDuration=`${Ze}ms`,this._containerElement.appendChild(Ve);const et=window.getComputedStyle(Ve),ht=et.transitionDuration,tt="none"===et.transitionProperty||"0s"===ht||"0s, 0s"===ht||0===ze.width&&0===ze.height,X=new $e(this,Ve,nt,tt);Ve.style.transform="scale3d(1, 1, 1)",X.state=0,nt.persistent||(this._mostRecentTransientRipple=X);let L=null;return!tt&&(Ze||ot.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const T=()=>this._finishRippleTransition(X),j=()=>this._destroyRipple(X);Ve.addEventListener("transitionend",T),Ve.addEventListener("transitioncancel",j),L={onTransitionEnd:T,onTransitionCancel:j}}),this._activeRipples.set(X,L),(tt||!Ze)&&this._finishRippleTransition(X),X}fadeOutRipple(pt){if(2===pt.state||3===pt.state)return;const mt=pt.element,nt={..._n,...pt.config.animation};mt.style.transitionDuration=`${nt.exitDuration}ms`,mt.style.opacity="0",pt.state=2,(pt._animationForciblyDisabledThroughCss||!nt.exitDuration)&&this._finishRippleTransition(pt)}fadeOutAll(){this._getActiveRipples().forEach(pt=>pt.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(pt=>{pt.config.persistent||pt.fadeOut()})}setupTriggerEvents(pt){const mt=(0,te.fI)(pt);!this._platform.isBrowser||!mt||mt===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=mt,Mn.forEach(nt=>{Le._eventManager.addHandler(this._ngZone,nt,mt,this)}))}handleEvent(pt){"mousedown"===pt.type?this._onMousedown(pt):"touchstart"===pt.type?this._onTouchStart(pt):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Pn.forEach(mt=>{this._triggerElement.addEventListener(mt,this,qn)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(pt){0===pt.state?this._startFadeOutTransition(pt):2===pt.state&&this._destroyRipple(pt)}_startFadeOutTransition(pt){const mt=pt===this._mostRecentTransientRipple,{persistent:nt}=pt.config;pt.state=1,!nt&&(!mt||!this._isPointerDown)&&pt.fadeOut()}_destroyRipple(pt){const mt=this._activeRipples.get(pt)??null;this._activeRipples.delete(pt),this._activeRipples.size||(this._containerRect=null),pt===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),pt.state=3,null!==mt&&(pt.element.removeEventListener("transitionend",mt.onTransitionEnd),pt.element.removeEventListener("transitioncancel",mt.onTransitionCancel)),pt.element.remove()}_onMousedown(pt){const mt=(0,b.X6)(pt),nt=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!mt&&!nt&&(this._isPointerDown=!0,this.fadeInRipple(pt.clientX,pt.clientY,this._target.rippleConfig))}_onTouchStart(pt){if(!this._target.rippleDisabled&&!(0,b.yG)(pt)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const mt=pt.changedTouches;for(let nt=0;nt<mt.length;nt++)this.fadeInRipple(mt[nt].clientX,mt[nt].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(pt=>{!pt.config.persistent&&(1===pt.state||pt.config.terminateOnPointerUp&&0===pt.state)&&pt.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const pt=this._triggerElement;pt&&(Mn.forEach(mt=>Le._eventManager.removeHandler(mt,pt,this)),this._pointerUpEventsRegistered&&Pn.forEach(mt=>pt.removeEventListener(mt,this,qn)))}}Le._eventManager=new Gt;let It=(()=>{class nn{}return nn.\u0275fac=function(mt){return new(mt||nn)},nn.\u0275mod=l.oAB({type:nn}),nn.\u0275inj=l.cJS({imports:[pe,pe]}),nn})()},9022:(wt,Fe,_)=>{"use strict";_.d(Fe,{pp:()=>Mn,To:()=>Pn,ib:()=>Tt,yz:()=>_n,yK:()=>qn});var l=_(4650);let K=(()=>{class Le{constructor(){this._listeners=[]}notify(ge,He){for(let It of this._listeners)It(ge,He)}listen(ge){return this._listeners.push(ge),()=>{this._listeners=this._listeners.filter(He=>ge!==He)}}ngOnDestroy(){this._listeners=[]}}return Le.\u0275fac=function(ge){return new(ge||Le)},Le.\u0275prov=l.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})();var k=_(1281),U=_(7579),W=_(727);let ne=0;const le=new l.OlP("CdkAccordion");let Ae=(()=>{class Le{constructor(){this._stateChanges=new U.x,this._openCloseAllActions=new U.x,this.id="cdk-accordion-"+ne++,this._multi=!1}get multi(){return this._multi}set multi(ge){this._multi=(0,k.Ig)(ge)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(ge){this._stateChanges.next(ge)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return Le.\u0275fac=function(ge){return new(ge||Le)},Le.\u0275dir=l.lG2({type:Le,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[l._Bn([{provide:le,useExisting:Le}]),l.TTD]}),Le})(),_e=0,oe=(()=>{class Le{get expanded(){return this._expanded}set expanded(ge){ge=(0,k.Ig)(ge),this._expanded!==ge&&(this._expanded=ge,this.expandedChange.emit(ge),ge?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(ge){this._disabled=(0,k.Ig)(ge)}constructor(ge,He,It){this.accordion=ge,this._changeDetectorRef=He,this._expansionDispatcher=It,this._openCloseAllSubscription=W.w0.EMPTY,this.closed=new l.vpe,this.opened=new l.vpe,this.destroyed=new l.vpe,this.expandedChange=new l.vpe,this.id="cdk-accordion-child-"+_e++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=It.listen((Pt,Qt)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===Qt&&this.id!==Pt&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(ge=>{this.disabled||(this.expanded=ge)})}}return Le.\u0275fac=function(ge){return new(ge||Le)(l.Y36(le,12),l.Y36(l.sBO),l.Y36(K))},Le.\u0275dir=l.lG2({type:Le,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[l._Bn([{provide:le,useValue:void 0}])]}),Le})(),fe=(()=>{class Le{}return Le.\u0275fac=function(ge){return new(ge||Le)},Le.\u0275mod=l.oAB({type:Le}),Le.\u0275inj=l.cJS({}),Le})();var Me=_(4080),pe=_(6895),he=_(3238),xe=_(7253),je=_(1884),Pe=_(8675),Xe=_(9300),dt=_(5698),Ue=_(9521),ct=_(515),Ot=_(6451),at=_(7340);const fn=["body"];function $t(Le,re){}const jt=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],Zt=["mat-expansion-panel-header","*","mat-action-row"];function we(Le,re){if(1&Le&&l._UZ(0,"span",2),2&Le){const ge=l.oxw();l.Q6J("@indicatorRotate",ge._getExpandedState())}}const ke=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],Ne=["mat-panel-title","mat-panel-description","*"],me=new l.OlP("MAT_ACCORDION"),qe="225ms cubic-bezier(0.4,0.0,0.2,1)",Z={indicatorRotate:(0,at.X$)("indicatorRotate",[(0,at.SB)("collapsed, void",(0,at.oB)({transform:"rotate(0deg)"})),(0,at.SB)("expanded",(0,at.oB)({transform:"rotate(180deg)"})),(0,at.eR)("expanded <=> collapsed, void => collapsed",(0,at.jt)(qe))]),bodyExpansion:(0,at.X$)("bodyExpansion",[(0,at.SB)("collapsed, void",(0,at.oB)({height:"0px",visibility:"hidden"})),(0,at.SB)("expanded",(0,at.oB)({height:"*",visibility:"visible"})),(0,at.eR)("expanded <=> collapsed, void => collapsed",(0,at.jt)(qe))])},ye=new l.OlP("MAT_EXPANSION_PANEL");let R=(()=>{class Le{constructor(ge,He){this._template=ge,this._expansionPanel=He}}return Le.\u0275fac=function(ge){return new(ge||Le)(l.Y36(l.Rgc),l.Y36(ye,8))},Le.\u0275dir=l.lG2({type:Le,selectors:[["ng-template","matExpansionPanelContent",""]]}),Le})(),Se=0;const Qe=new l.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let Tt=(()=>{class Le extends oe{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(ge){this._hideToggle=(0,k.Ig)(ge)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(ge){this._togglePosition=ge}constructor(ge,He,It,Pt,Qt,hn,ut){super(ge,He,It),this._viewContainerRef=Pt,this._animationMode=hn,this._hideToggle=!1,this.afterExpand=new l.vpe,this.afterCollapse=new l.vpe,this._inputChanges=new U.x,this._headerId="mat-expansion-panel-header-"+Se++,this._bodyAnimationDone=new U.x,this.accordion=ge,this._document=Qt,this._bodyAnimationDone.pipe((0,je.x)((Ye,De)=>Ye.fromState===De.fromState&&Ye.toState===De.toState)).subscribe(Ye=>{"void"!==Ye.fromState&&("expanded"===Ye.toState?this.afterExpand.emit():"collapsed"===Ye.toState&&this.afterCollapse.emit())}),ut&&(this.hideToggle=ut.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe((0,Pe.O)(null),(0,Xe.h)(()=>this.expanded&&!this._portal),(0,dt.q)(1)).subscribe(()=>{this._portal=new Me.UE(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(ge){this._inputChanges.next(ge)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const ge=this._document.activeElement,He=this._body.nativeElement;return ge===He||He.contains(ge)}return!1}}return Le.\u0275fac=function(ge){return new(ge||Le)(l.Y36(me,12),l.Y36(l.sBO),l.Y36(K),l.Y36(l.s_b),l.Y36(pe.K0),l.Y36(l.QbO,8),l.Y36(Qe,8))},Le.\u0275cmp=l.Xpm({type:Le,selectors:[["mat-expansion-panel"]],contentQueries:function(ge,He,It){if(1&ge&&l.Suo(It,R,5),2&ge){let Pt;l.iGM(Pt=l.CRH())&&(He._lazyContent=Pt.first)}},viewQuery:function(ge,He){if(1&ge&&l.Gf(fn,5),2&ge){let It;l.iGM(It=l.CRH())&&(He._body=It.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(ge,He){2&ge&&l.ekj("mat-expanded",He.expanded)("_mat-animation-noopable","NoopAnimations"===He._animationMode)("mat-expansion-panel-spacing",He._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[l._Bn([{provide:me,useValue:void 0},{provide:ye,useExisting:Le}]),l.qOj,l.TTD],ngContentSelectors:Zt,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(ge,He){1&ge&&(l.F$t(jt),l.Hsn(0),l.TgZ(1,"div",0,1),l.NdJ("@bodyExpansion.done",function(Pt){return He._bodyAnimationDone.next(Pt)}),l.TgZ(3,"div",2),l.Hsn(4,1),l.YNc(5,$t,0,0,"ng-template",3),l.qZA(),l.Hsn(6,2),l.qZA()),2&ge&&(l.xp6(1),l.Q6J("@bodyExpansion",He._getExpandedState())("id",He.id),l.uIk("aria-labelledby",He._headerId),l.xp6(4),l.Q6J("cdkPortalOutlet",He._portal))},dependencies:[Me.Pl],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[Z.bodyExpansion]},changeDetection:0}),Le})();class Mt{}const Gt=(0,he.sb)(Mt);let _n=(()=>{class Le extends Gt{constructor(ge,He,It,Pt,Qt,hn,ut){super(),this.panel=ge,this._element=He,this._focusMonitor=It,this._changeDetectorRef=Pt,this._animationMode=hn,this._parentChangeSubscription=W.w0.EMPTY;const Ye=ge.accordion?ge.accordion._stateChanges.pipe((0,Xe.h)(De=>!(!De.hideToggle&&!De.togglePosition))):ct.E;this.tabIndex=parseInt(ut||"")||0,this._parentChangeSubscription=(0,Ot.T)(ge.opened,ge.closed,Ye,ge._inputChanges.pipe((0,Xe.h)(De=>!!(De.hideToggle||De.disabled||De.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),ge.closed.pipe((0,Xe.h)(()=>ge._containsFocus())).subscribe(()=>It.focusVia(He,"program")),Qt&&(this.expandedHeight=Qt.expandedHeight,this.collapsedHeight=Qt.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const ge=this._isExpanded();return ge&&this.expandedHeight?this.expandedHeight:!ge&&this.collapsedHeight?this.collapsedHeight:null}_keydown(ge){switch(ge.keyCode){case Ue.L_:case Ue.K5:(0,Ue.Vb)(ge)||(ge.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(ge))}}focus(ge,He){ge?this._focusMonitor.focusVia(this._element,ge,He):this._element.nativeElement.focus(He)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(ge=>{ge&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return Le.\u0275fac=function(ge){return new(ge||Le)(l.Y36(Tt,1),l.Y36(l.SBq),l.Y36(xe.tE),l.Y36(l.sBO),l.Y36(Qe,8),l.Y36(l.QbO,8),l.$8M("tabindex"))},Le.\u0275cmp=l.Xpm({type:Le,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(ge,He){1&ge&&l.NdJ("click",function(){return He._toggle()})("keydown",function(Pt){return He._keydown(Pt)}),2&ge&&(l.uIk("id",He.panel._headerId)("tabindex",He.tabIndex)("aria-controls",He._getPanelId())("aria-expanded",He._isExpanded())("aria-disabled",He.panel.disabled),l.Udp("height",He._getHeaderHeight()),l.ekj("mat-expanded",He._isExpanded())("mat-expansion-toggle-indicator-after","after"===He._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===He._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===He._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[l.qOj],ngContentSelectors:Ne,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(ge,He){1&ge&&(l.F$t(ke),l.TgZ(0,"span",0),l.Hsn(1),l.Hsn(2,1),l.Hsn(3,2),l.qZA(),l.YNc(4,we,1,1,"span",1)),2&ge&&(l.ekj("mat-content-hide-toggle",!He._showToggle()),l.xp6(4),l.Q6J("ngIf",He._showToggle()))},dependencies:[pe.O5],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[Z.indicatorRotate]},changeDetection:0}),Le})(),qn=(()=>{class Le{}return Le.\u0275fac=function(ge){return new(ge||Le)},Le.\u0275dir=l.lG2({type:Le,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),Le})(),Mn=(()=>{class Le extends Ae{constructor(){super(...arguments),this._ownHeaders=new l.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(ge){this._hideToggle=(0,k.Ig)(ge)}ngAfterContentInit(){this._headers.changes.pipe((0,Pe.O)(this._headers)).subscribe(ge=>{this._ownHeaders.reset(ge.filter(He=>He.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new xe.Em(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(ge){this._keyManager.onKeydown(ge)}_handleHeaderFocus(ge){this._keyManager.updateActiveItem(ge)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}}return Le.\u0275fac=function(){let re;return function(He){return(re||(re=l.n5z(Le)))(He||Le)}}(),Le.\u0275dir=l.lG2({type:Le,selectors:[["mat-accordion"]],contentQueries:function(ge,He,It){if(1&ge&&l.Suo(It,_n,5),2&ge){let Pt;l.iGM(Pt=l.CRH())&&(He._headers=Pt)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(ge,He){2&ge&&l.ekj("mat-accordion-multi",He.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[l._Bn([{provide:me,useExisting:Le}]),l.qOj]}),Le})(),Pn=(()=>{class Le{}return Le.\u0275fac=function(ge){return new(ge||Le)},Le.\u0275mod=l.oAB({type:Le}),Le.\u0275inj=l.cJS({imports:[pe.ez,he.BQ,fe,Me.eL]}),Le})()},7392:(wt,Fe,_)=>{"use strict";_.d(Fe,{Hw:()=>me,Ps:()=>qe});var l=_(4650),b=_(3238),f=_(1281),O=_(6895),de=_(9646),ee=_(2843),te=_(4128),z=_(727),K=_(8505),Y=_(4004),k=_(262),U=_(8746),W=_(3099),ne=_(5698),le=_(529),Ae=_(1481);const _e=["*"];let oe;function Me(Z){return function fe(){if(void 0===oe&&(oe=null,typeof window<"u")){const Z=window;void 0!==Z.trustedTypes&&(oe=Z.trustedTypes.createPolicy("angular#components",{createHTML:ye=>ye}))}return oe}()?.createHTML(Z)||Z}function pe(Z){return Error(`Unable to find icon with the name "${Z}"`)}function xe(Z){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${Z}".`)}function je(Z){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${Z}".`)}class Pe{constructor(ye,R,Se){this.url=ye,this.svgText=R,this.options=Se}}let Xe=(()=>{class Z{constructor(R,Se,Qe,Tt){this._httpClient=R,this._sanitizer=Se,this._errorHandler=Tt,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=Qe}addSvgIcon(R,Se,Qe){return this.addSvgIconInNamespace("",R,Se,Qe)}addSvgIconLiteral(R,Se,Qe){return this.addSvgIconLiteralInNamespace("",R,Se,Qe)}addSvgIconInNamespace(R,Se,Qe,Tt){return this._addSvgIconConfig(R,Se,new Pe(Qe,null,Tt))}addSvgIconResolver(R){return this._resolvers.push(R),this}addSvgIconLiteralInNamespace(R,Se,Qe,Tt){const $e=this._sanitizer.sanitize(l.q3G.HTML,Qe);if(!$e)throw je(Qe);const Mt=Me($e);return this._addSvgIconConfig(R,Se,new Pe("",Mt,Tt))}addSvgIconSet(R,Se){return this.addSvgIconSetInNamespace("",R,Se)}addSvgIconSetLiteral(R,Se){return this.addSvgIconSetLiteralInNamespace("",R,Se)}addSvgIconSetInNamespace(R,Se,Qe){return this._addSvgIconSetConfig(R,new Pe(Se,null,Qe))}addSvgIconSetLiteralInNamespace(R,Se,Qe){const Tt=this._sanitizer.sanitize(l.q3G.HTML,Se);if(!Tt)throw je(Se);const $e=Me(Tt);return this._addSvgIconSetConfig(R,new Pe("",$e,Qe))}registerFontClassAlias(R,Se=R){return this._fontCssClassesByAlias.set(R,Se),this}classNameForFontAlias(R){return this._fontCssClassesByAlias.get(R)||R}setDefaultFontSetClass(...R){return this._defaultFontSetClass=R,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(R){const Se=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,R);if(!Se)throw xe(R);const Qe=this._cachedIconsByUrl.get(Se);return Qe?(0,de.of)(ct(Qe)):this._loadSvgIconFromConfig(new Pe(R,null)).pipe((0,K.b)(Tt=>this._cachedIconsByUrl.set(Se,Tt)),(0,Y.U)(Tt=>ct(Tt)))}getNamedSvgIcon(R,Se=""){const Qe=Ot(Se,R);let Tt=this._svgIconConfigs.get(Qe);if(Tt)return this._getSvgFromConfig(Tt);if(Tt=this._getIconConfigFromResolvers(Se,R),Tt)return this._svgIconConfigs.set(Qe,Tt),this._getSvgFromConfig(Tt);const $e=this._iconSetConfigs.get(Se);return $e?this._getSvgFromIconSetConfigs(R,$e):(0,ee._)(pe(Qe))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(R){return R.svgText?(0,de.of)(ct(this._svgElementFromConfig(R))):this._loadSvgIconFromConfig(R).pipe((0,Y.U)(Se=>ct(Se)))}_getSvgFromIconSetConfigs(R,Se){const Qe=this._extractIconWithNameFromAnySet(R,Se);if(Qe)return(0,de.of)(Qe);const Tt=Se.filter($e=>!$e.svgText).map($e=>this._loadSvgIconSetFromConfig($e).pipe((0,k.K)(Mt=>{const _n=`Loading icon set URL: ${this._sanitizer.sanitize(l.q3G.RESOURCE_URL,$e.url)} failed: ${Mt.message}`;return this._errorHandler.handleError(new Error(_n)),(0,de.of)(null)})));return(0,te.D)(Tt).pipe((0,Y.U)(()=>{const $e=this._extractIconWithNameFromAnySet(R,Se);if(!$e)throw pe(R);return $e}))}_extractIconWithNameFromAnySet(R,Se){for(let Qe=Se.length-1;Qe>=0;Qe--){const Tt=Se[Qe];if(Tt.svgText&&Tt.svgText.toString().indexOf(R)>-1){const $e=this._svgElementFromConfig(Tt),Mt=this._extractSvgIconFromSet($e,R,Tt.options);if(Mt)return Mt}}return null}_loadSvgIconFromConfig(R){return this._fetchIcon(R).pipe((0,K.b)(Se=>R.svgText=Se),(0,Y.U)(()=>this._svgElementFromConfig(R)))}_loadSvgIconSetFromConfig(R){return R.svgText?(0,de.of)(null):this._fetchIcon(R).pipe((0,K.b)(Se=>R.svgText=Se))}_extractSvgIconFromSet(R,Se,Qe){const Tt=R.querySelector(`[id="${Se}"]`);if(!Tt)return null;const $e=Tt.cloneNode(!0);if($e.removeAttribute("id"),"svg"===$e.nodeName.toLowerCase())return this._setSvgAttributes($e,Qe);if("symbol"===$e.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement($e),Qe);const Mt=this._svgElementFromString(Me("<svg></svg>"));return Mt.appendChild($e),this._setSvgAttributes(Mt,Qe)}_svgElementFromString(R){const Se=this._document.createElement("DIV");Se.innerHTML=R;const Qe=Se.querySelector("svg");if(!Qe)throw Error("<svg> tag not found");return Qe}_toSvgElement(R){const Se=this._svgElementFromString(Me("<svg></svg>")),Qe=R.attributes;for(let Tt=0;Tt<Qe.length;Tt++){const{name:$e,value:Mt}=Qe[Tt];"id"!==$e&&Se.setAttribute($e,Mt)}for(let Tt=0;Tt<R.childNodes.length;Tt++)R.childNodes[Tt].nodeType===this._document.ELEMENT_NODE&&Se.appendChild(R.childNodes[Tt].cloneNode(!0));return Se}_setSvgAttributes(R,Se){return R.setAttribute("fit",""),R.setAttribute("height","100%"),R.setAttribute("width","100%"),R.setAttribute("preserveAspectRatio","xMidYMid meet"),R.setAttribute("focusable","false"),Se&&Se.viewBox&&R.setAttribute("viewBox",Se.viewBox),R}_fetchIcon(R){const{url:Se,options:Qe}=R,Tt=Qe?.withCredentials??!1;if(!this._httpClient)throw function he(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==Se)throw Error(`Cannot fetch icon from URL "${Se}".`);const $e=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,Se);if(!$e)throw xe(Se);const Mt=this._inProgressUrlFetches.get($e);if(Mt)return Mt;const Gt=this._httpClient.get($e,{responseType:"text",withCredentials:Tt}).pipe((0,Y.U)(_n=>Me(_n)),(0,U.x)(()=>this._inProgressUrlFetches.delete($e)),(0,W.B)());return this._inProgressUrlFetches.set($e,Gt),Gt}_addSvgIconConfig(R,Se,Qe){return this._svgIconConfigs.set(Ot(R,Se),Qe),this}_addSvgIconSetConfig(R,Se){const Qe=this._iconSetConfigs.get(R);return Qe?Qe.push(Se):this._iconSetConfigs.set(R,[Se]),this}_svgElementFromConfig(R){if(!R.svgElement){const Se=this._svgElementFromString(R.svgText);this._setSvgAttributes(Se,R.options),R.svgElement=Se}return R.svgElement}_getIconConfigFromResolvers(R,Se){for(let Qe=0;Qe<this._resolvers.length;Qe++){const Tt=this._resolvers[Qe](Se,R);if(Tt)return at(Tt)?new Pe(Tt.url,null,Tt.options):new Pe(Tt,null)}}}return Z.\u0275fac=function(R){return new(R||Z)(l.LFG(le.eN,8),l.LFG(Ae.H7),l.LFG(O.K0,8),l.LFG(l.qLn))},Z.\u0275prov=l.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})();function ct(Z){return Z.cloneNode(!0)}function Ot(Z,ye){return Z+":"+ye}function at(Z){return!(!Z.url||!Z.options)}const fn=(0,b.pj)(class{constructor(Z){this._elementRef=Z}}),$t=new l.OlP("MAT_ICON_DEFAULT_OPTIONS"),jt=new l.OlP("mat-icon-location",{providedIn:"root",factory:function Zt(){const Z=(0,l.f3M)(O.K0),ye=Z?Z.location:null;return{getPathname:()=>ye?ye.pathname+ye.search:""}}}),we=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],ke=we.map(Z=>`[${Z}]`).join(", "),Ne=/^url\(['"]?#(.*?)['"]?\)$/;let me=(()=>{class Z extends fn{get inline(){return this._inline}set inline(R){this._inline=(0,f.Ig)(R)}get svgIcon(){return this._svgIcon}set svgIcon(R){R!==this._svgIcon&&(R?this._updateSvgIcon(R):this._svgIcon&&this._clearSvgElement(),this._svgIcon=R)}get fontSet(){return this._fontSet}set fontSet(R){const Se=this._cleanupFontValue(R);Se!==this._fontSet&&(this._fontSet=Se,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(R){const Se=this._cleanupFontValue(R);Se!==this._fontIcon&&(this._fontIcon=Se,this._updateFontIconClasses())}constructor(R,Se,Qe,Tt,$e,Mt){super(R),this._iconRegistry=Se,this._location=Tt,this._errorHandler=$e,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=z.w0.EMPTY,Mt&&(Mt.color&&(this.color=this.defaultColor=Mt.color),Mt.fontSet&&(this.fontSet=Mt.fontSet)),Qe||R.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(R){if(!R)return["",""];const Se=R.split(":");switch(Se.length){case 1:return["",Se[0]];case 2:return Se;default:throw Error(`Invalid icon name: "${R}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const R=this._elementsWithExternalReferences;if(R&&R.size){const Se=this._location.getPathname();Se!==this._previousPath&&(this._previousPath=Se,this._prependPathToReferences(Se))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(R){this._clearSvgElement();const Se=this._location.getPathname();this._previousPath=Se,this._cacheChildrenWithExternalReferences(R),this._prependPathToReferences(Se),this._elementRef.nativeElement.appendChild(R)}_clearSvgElement(){const R=this._elementRef.nativeElement;let Se=R.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();Se--;){const Qe=R.childNodes[Se];(1!==Qe.nodeType||"svg"===Qe.nodeName.toLowerCase())&&Qe.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const R=this._elementRef.nativeElement,Se=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(Qe=>Qe.length>0);this._previousFontSetClass.forEach(Qe=>R.classList.remove(Qe)),Se.forEach(Qe=>R.classList.add(Qe)),this._previousFontSetClass=Se,this.fontIcon!==this._previousFontIconClass&&!Se.includes("mat-ligature-font")&&(this._previousFontIconClass&&R.classList.remove(this._previousFontIconClass),this.fontIcon&&R.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(R){return"string"==typeof R?R.trim().split(" ")[0]:R}_prependPathToReferences(R){const Se=this._elementsWithExternalReferences;Se&&Se.forEach((Qe,Tt)=>{Qe.forEach($e=>{Tt.setAttribute($e.name,`url('${R}#${$e.value}')`)})})}_cacheChildrenWithExternalReferences(R){const Se=R.querySelectorAll(ke),Qe=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Tt=0;Tt<Se.length;Tt++)we.forEach($e=>{const Mt=Se[Tt],Gt=Mt.getAttribute($e),_n=Gt?Gt.match(Ne):null;if(_n){let Bn=Qe.get(Mt);Bn||(Bn=[],Qe.set(Mt,Bn)),Bn.push({name:$e,value:_n[1]})}})}_updateSvgIcon(R){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),R){const[Se,Qe]=this._splitIconName(R);Se&&(this._svgNamespace=Se),Qe&&(this._svgName=Qe),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(Qe,Se).pipe((0,ne.q)(1)).subscribe(Tt=>this._setSvgElement(Tt),Tt=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${Se}:${Qe}! ${Tt.message}`))})}}}return Z.\u0275fac=function(R){return new(R||Z)(l.Y36(l.SBq),l.Y36(Xe),l.$8M("aria-hidden"),l.Y36(jt),l.Y36(l.qLn),l.Y36($t,8))},Z.\u0275cmp=l.Xpm({type:Z,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(R,Se){2&R&&(l.uIk("data-mat-icon-type",Se._usingFontIcon()?"font":"svg")("data-mat-icon-name",Se._svgName||Se.fontIcon)("data-mat-icon-namespace",Se._svgNamespace||Se.fontSet)("fontIcon",Se._usingFontIcon()?Se.fontIcon:null),l.ekj("mat-icon-inline",Se.inline)("mat-icon-no-color","primary"!==Se.color&&"accent"!==Se.color&&"warn"!==Se.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.qOj],ngContentSelectors:_e,decls:1,vars:0,template:function(R,Se){1&R&&(l.F$t(),l.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),Z})(),qe=(()=>{class Z{}return Z.\u0275fac=function(R){return new(R||Z)},Z.\u0275mod=l.oAB({type:Z}),Z.\u0275inj=l.cJS({imports:[b.BQ,b.BQ]}),Z})()},8255:(wt,Fe,_)=>{"use strict";_.d(Fe,{Tx:()=>Ne});var l=_(4650),b=_(3238),f=_(6895),de=(_(7340),_(8184)),te=(_(3353),_(8605));const $t={provide:new l.OlP("mat-menu-scroll-strategy"),deps:[de.aV],useFactory:function fn(me){return()=>me.scrollStrategies.reposition()}};let Ne=(()=>{class me{}return me.\u0275fac=function(Z){return new(Z||me)},me.\u0275mod=l.oAB({type:me}),me.\u0275inj=l.cJS({providers:[$t],imports:[f.ez,b.si,b.BQ,de.U8,te.ZD,b.BQ]}),me})()},1572:(wt,Fe,_)=>{"use strict";_.d(Fe,{Cq:()=>ne,Ou:()=>U});var l=_(4650),b=_(3238),f=_(1281),O=_(6895);const de=["determinateSpinner"];function ee(le,Ae){if(1&le&&(l.O4$(),l.TgZ(0,"svg",11),l._UZ(1,"circle",12),l.qZA()),2&le){const _e=l.oxw();l.uIk("viewBox",_e._viewBox()),l.xp6(1),l.Udp("stroke-dasharray",_e._strokeCircumference(),"px")("stroke-dashoffset",_e._strokeCircumference()/2,"px")("stroke-width",_e._circleStrokeWidth(),"%"),l.uIk("r",_e._circleRadius())}}const te=(0,b.pj)(class{constructor(le){this._elementRef=le}},"primary"),z=new l.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function K(){return{diameter:Y}}}),Y=100;let U=(()=>{class le extends te{constructor(_e,oe,fe){super(_e),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=Y,this._noopAnimations="NoopAnimations"===oe&&!!fe&&!fe._forceAnimations,fe&&(fe.color&&(this.color=this.defaultColor=fe.color),fe.diameter&&(this.diameter=fe.diameter),fe.strokeWidth&&(this.strokeWidth=fe.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(_e){this._value=Math.max(0,Math.min(100,(0,f.su)(_e)))}get diameter(){return this._diameter}set diameter(_e){this._diameter=(0,f.su)(_e)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(_e){this._strokeWidth=(0,f.su)(_e)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const _e=2*this._circleRadius()+this.strokeWidth;return`0 0 ${_e} ${_e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}}return le.\u0275fac=function(_e){return new(_e||le)(l.Y36(l.SBq),l.Y36(l.QbO,8),l.Y36(z))},le.\u0275cmp=l.Xpm({type:le,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(_e,oe){if(1&_e&&l.Gf(de,5),2&_e){let fe;l.iGM(fe=l.CRH())&&(oe._determinateCircle=fe.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:12,hostBindings:function(_e,oe){2&_e&&(l.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===oe.mode?oe.value:null)("mode",oe.mode),l.Udp("width",oe.diameter,"px")("height",oe.diameter,"px"),l.ekj("_mat-animation-noopable",oe._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===oe.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[l.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(_e,oe){if(1&_e&&(l.YNc(0,ee,2,8,"ng-template",null,0,l.W1O),l.TgZ(2,"div",1,2),l.O4$(),l.TgZ(4,"svg",3),l._UZ(5,"circle",4),l.qZA()(),l.kcU(),l.TgZ(6,"div",5)(7,"div",6)(8,"div",7),l.GkF(9,8),l.qZA(),l.TgZ(10,"div",9),l.GkF(11,8),l.qZA(),l.TgZ(12,"div",10),l.GkF(13,8),l.qZA()()()),2&_e){const fe=l.MAs(1);l.xp6(4),l.uIk("viewBox",oe._viewBox()),l.xp6(1),l.Udp("stroke-dasharray",oe._strokeCircumference(),"px")("stroke-dashoffset",oe._strokeDashOffset(),"px")("stroke-width",oe._circleStrokeWidth(),"%"),l.uIk("r",oe._circleRadius()),l.xp6(4),l.Q6J("ngTemplateOutlet",fe),l.xp6(2),l.Q6J("ngTemplateOutlet",fe),l.xp6(2),l.Q6J("ngTemplateOutlet",fe)}},dependencies:[O.tP],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, transparent)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0}),le})(),ne=(()=>{class le{}return le.\u0275fac=function(_e){return new(_e||le)},le.\u0275mod=l.oAB({type:le}),le.\u0275inj=l.cJS({imports:[O.ez,b.BQ]}),le})()},3267:(wt,Fe,_)=>{"use strict";_.d(Fe,{LW:()=>Ne,SJ:()=>Se,jA:()=>me,kh:()=>qe});var l=_(8605),b=_(6895),f=_(4650),O=_(3238),de=_(7253),ee=_(445),te=_(1281),z=_(9521),K=_(3353),Y=_(7579),k=_(4968),U=_(6451),W=_(9300),ne=_(4004),le=_(9718),Ae=_(2722),_e=_(1884),oe=_(5698),fe=_(8675),Me=_(8372),pe=_(7340);const he=["*"],xe=["content"];function je(Qe,Tt){if(1&Qe){const $e=f.EpF();f.TgZ(0,"div",2),f.NdJ("click",function(){f.CHM($e);const Gt=f.oxw();return f.KtG(Gt._onBackdropClicked())}),f.qZA()}if(2&Qe){const $e=f.oxw();f.ekj("mat-drawer-shown",$e._isShowingBackdrop())}}function Pe(Qe,Tt){1&Qe&&(f.TgZ(0,"mat-drawer-content"),f.Hsn(1,2),f.qZA())}const Xe=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],dt=["mat-drawer","mat-drawer-content","*"],$t={transformDrawer:(0,pe.X$)("transform",[(0,pe.SB)("open, open-instant",(0,pe.oB)({transform:"none",visibility:"visible"})),(0,pe.SB)("void",(0,pe.oB)({"box-shadow":"none",visibility:"hidden"})),(0,pe.eR)("void => open-instant",(0,pe.jt)("0ms")),(0,pe.eR)("void <=> open, open-instant => void",(0,pe.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Zt=new f.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function ke(){return!1}}),we=new f.OlP("MAT_DRAWER_CONTAINER");let Ne=(()=>{class Qe extends l.PQ{constructor($e,Mt,Gt,_n,Bn){super(Gt,_n,Bn),this._changeDetectorRef=$e,this._container=Mt}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return Qe.\u0275fac=function($e){return new($e||Qe)(f.Y36(f.sBO),f.Y36((0,f.Gpc)(()=>qe)),f.Y36(f.SBq),f.Y36(l.mF),f.Y36(f.R0b))},Qe.\u0275cmp=f.Xpm({type:Qe,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function($e,Mt){2&$e&&f.Udp("margin-left",Mt._container._contentMargins.left,"px")("margin-right",Mt._container._contentMargins.right,"px")},features:[f._Bn([{provide:l.PQ,useExisting:Qe}]),f.qOj],ngContentSelectors:he,decls:1,vars:0,template:function($e,Mt){1&$e&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),Qe})(),me=(()=>{class Qe{get position(){return this._position}set position($e){($e="end"===$e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent($e),this._position=$e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode($e){this._mode=$e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose($e){this._disableClose=(0,te.Ig)($e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus($e){("true"===$e||"false"===$e||null==$e)&&($e=(0,te.Ig)($e)),this._autoFocus=$e}get opened(){return this._opened}set opened($e){this.toggle((0,te.Ig)($e))}constructor($e,Mt,Gt,_n,Bn,qn,Mn,Pn){this._elementRef=$e,this._focusTrapFactory=Mt,this._focusMonitor=Gt,this._platform=_n,this._ngZone=Bn,this._interactivityChecker=qn,this._doc=Mn,this._container=Pn,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Y.x,this._animationEnd=new Y.x,this._animationState="void",this.openedChange=new f.vpe(!0),this._openedStream=this.openedChange.pipe((0,W.h)(Le=>Le),(0,ne.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,W.h)(Le=>Le.fromState!==Le.toState&&0===Le.toState.indexOf("open")),(0,le.h)(void 0)),this._closedStream=this.openedChange.pipe((0,W.h)(Le=>!Le),(0,ne.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,W.h)(Le=>Le.fromState!==Le.toState&&"void"===Le.toState),(0,le.h)(void 0)),this._destroyed=new Y.x,this.onPositionChanged=new f.vpe,this._modeChanged=new Y.x,this.openedChange.subscribe(Le=>{Le?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,k.R)(this._elementRef.nativeElement,"keydown").pipe((0,W.h)(Le=>Le.keyCode===z.hY&&!this.disableClose&&!(0,z.Vb)(Le)),(0,Ae.R)(this._destroyed)).subscribe(Le=>this._ngZone.run(()=>{this.close(),Le.stopPropagation(),Le.preventDefault()}))}),this._animationEnd.pipe((0,_e.x)((Le,re)=>Le.fromState===re.fromState&&Le.toState===re.toState)).subscribe(Le=>{const{fromState:re,toState:ge}=Le;(0===ge.indexOf("open")&&"void"===re||"void"===ge&&0===re.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus($e,Mt){this._interactivityChecker.isFocusable($e)||($e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const Gt=()=>{$e.removeEventListener("blur",Gt),$e.removeEventListener("mousedown",Gt),$e.removeAttribute("tabindex")};$e.addEventListener("blur",Gt),$e.addEventListener("mousedown",Gt)})),$e.focus(Mt)}_focusByCssSelector($e,Mt){let Gt=this._elementRef.nativeElement.querySelector($e);Gt&&this._forceFocus(Gt,Mt)}_takeFocus(){if(!this._focusTrap)return;const $e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(Mt=>{!Mt&&"function"==typeof this._elementRef.nativeElement.focus&&$e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus($e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,$e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const $e=this._doc.activeElement;return!!$e&&this._elementRef.nativeElement.contains($e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open($e){return this.toggle(!0,$e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle($e=!this.opened,Mt){$e&&Mt&&(this._openedVia=Mt);const Gt=this._setOpen($e,!$e&&this._isFocusWithinDrawer(),this._openedVia||"program");return $e||(this._openedVia=null),Gt}_setOpen($e,Mt,Gt){return this._opened=$e,$e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",Mt&&this._restoreFocus(Gt)),this._updateFocusTrapState(),new Promise(_n=>{this.openedChange.pipe((0,oe.q)(1)).subscribe(Bn=>_n(Bn?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent($e){const Mt=this._elementRef.nativeElement,Gt=Mt.parentNode;"end"===$e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),Gt.insertBefore(this._anchor,Mt)),Gt.appendChild(Mt)):this._anchor&&this._anchor.parentNode.insertBefore(Mt,this._anchor)}}return Qe.\u0275fac=function($e){return new($e||Qe)(f.Y36(f.SBq),f.Y36(de.qV),f.Y36(de.tE),f.Y36(K.t4),f.Y36(f.R0b),f.Y36(de.ic),f.Y36(b.K0,8),f.Y36(we,8))},Qe.\u0275cmp=f.Xpm({type:Qe,selectors:[["mat-drawer"]],viewQuery:function($e,Mt){if(1&$e&&f.Gf(xe,5),2&$e){let Gt;f.iGM(Gt=f.CRH())&&(Mt._content=Gt.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function($e,Mt){1&$e&&f.WFA("@transform.start",function(_n){return Mt._animationStarted.next(_n)})("@transform.done",function(_n){return Mt._animationEnd.next(_n)}),2&$e&&(f.uIk("align",null),f.d8E("@transform",Mt._animationState),f.ekj("mat-drawer-end","end"===Mt.position)("mat-drawer-over","over"===Mt.mode)("mat-drawer-push","push"===Mt.mode)("mat-drawer-side","side"===Mt.mode)("mat-drawer-opened",Mt.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:he,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function($e,Mt){1&$e&&(f.F$t(),f.TgZ(0,"div",0,1),f.Hsn(2),f.qZA())},dependencies:[l.PQ],encapsulation:2,data:{animation:[$t.transformDrawer]},changeDetection:0}),Qe})(),qe=(()=>{class Qe{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize($e){this._autosize=(0,te.Ig)($e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop($e){this._backdropOverride=null==$e?null:(0,te.Ig)($e)}get scrollable(){return this._userContent||this._content}constructor($e,Mt,Gt,_n,Bn,qn=!1,Mn){this._dir=$e,this._element=Mt,this._ngZone=Gt,this._changeDetectorRef=_n,this._animationMode=Mn,this._drawers=new f.n_E,this.backdropClick=new f.vpe,this._destroyed=new Y.x,this._doCheckSubject=new Y.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Y.x,$e&&$e.change.pipe((0,Ae.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),Bn.change().pipe((0,Ae.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=qn}ngAfterContentInit(){this._allDrawers.changes.pipe((0,fe.O)(this._allDrawers),(0,Ae.R)(this._destroyed)).subscribe($e=>{this._drawers.reset($e.filter(Mt=>!Mt._container||Mt._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,fe.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach($e=>{this._watchDrawerToggle($e),this._watchDrawerPosition($e),this._watchDrawerMode($e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,Me.b)(10),(0,Ae.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach($e=>$e.open())}close(){this._drawers.forEach($e=>$e.close())}updateContentMargins(){let $e=0,Mt=0;if(this._left&&this._left.opened)if("side"==this._left.mode)$e+=this._left._getWidth();else if("push"==this._left.mode){const Gt=this._left._getWidth();$e+=Gt,Mt-=Gt}if(this._right&&this._right.opened)if("side"==this._right.mode)Mt+=this._right._getWidth();else if("push"==this._right.mode){const Gt=this._right._getWidth();Mt+=Gt,$e-=Gt}$e=$e||null,Mt=Mt||null,($e!==this._contentMargins.left||Mt!==this._contentMargins.right)&&(this._contentMargins={left:$e,right:Mt},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle($e){$e._animationStarted.pipe((0,W.h)(Mt=>Mt.fromState!==Mt.toState),(0,Ae.R)(this._drawers.changes)).subscribe(Mt=>{"open-instant"!==Mt.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==$e.mode&&$e.openedChange.pipe((0,Ae.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass($e.opened))}_watchDrawerPosition($e){$e&&$e.onPositionChanged.pipe((0,Ae.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,oe.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode($e){$e&&$e._modeChanged.pipe((0,Ae.R)((0,U.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass($e){const Mt=this._element.nativeElement.classList,Gt="mat-drawer-container-has-open";$e?Mt.add(Gt):Mt.remove(Gt)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach($e=>{"end"==$e.position?this._end=$e:this._start=$e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter($e=>$e&&!$e.disableClose&&this._canHaveBackdrop($e)).forEach($e=>$e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop($e){return"side"!==$e.mode||!!this._backdropOverride}_isDrawerOpen($e){return null!=$e&&$e.opened}}return Qe.\u0275fac=function($e){return new($e||Qe)(f.Y36(ee.Is,8),f.Y36(f.SBq),f.Y36(f.R0b),f.Y36(f.sBO),f.Y36(l.rL),f.Y36(Zt),f.Y36(f.QbO,8))},Qe.\u0275cmp=f.Xpm({type:Qe,selectors:[["mat-drawer-container"]],contentQueries:function($e,Mt,Gt){if(1&$e&&(f.Suo(Gt,Ne,5),f.Suo(Gt,me,5)),2&$e){let _n;f.iGM(_n=f.CRH())&&(Mt._content=_n.first),f.iGM(_n=f.CRH())&&(Mt._allDrawers=_n)}},viewQuery:function($e,Mt){if(1&$e&&f.Gf(Ne,5),2&$e){let Gt;f.iGM(Gt=f.CRH())&&(Mt._userContent=Gt.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function($e,Mt){2&$e&&f.ekj("mat-drawer-container-explicit-backdrop",Mt._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[f._Bn([{provide:we,useExisting:Qe}])],ngContentSelectors:dt,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function($e,Mt){1&$e&&(f.F$t(Xe),f.YNc(0,je,1,2,"div",0),f.Hsn(1),f.Hsn(2,1),f.YNc(3,Pe,2,0,"mat-drawer-content",1)),2&$e&&(f.Q6J("ngIf",Mt.hasBackdrop),f.xp6(3),f.Q6J("ngIf",!Mt._content))},dependencies:[b.O5,Ne],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),Qe})(),Se=(()=>{class Qe{}return Qe.\u0275fac=function($e){return new($e||Qe)},Qe.\u0275mod=f.oAB({type:Qe}),Qe.\u0275inj=f.cJS({imports:[b.ez,O.BQ,l.ZD,l.ZD,O.BQ]}),Qe})()},266:(wt,Fe,_)=>{"use strict";_.d(Fe,{AV:()=>Ot});var l=_(4650),b=_(6895),O=(_(3353),_(7253)),de=_(8184),te=(_(7340),_(8605)),z=_(3238);const ne={provide:new l.OlP("mat-tooltip-scroll-strategy"),deps:[de.aV],useFactory:function W(at){return()=>at.scrollStrategies.reposition({scrollThrottle:20})}};let Ot=(()=>{class at{}return at.\u0275fac=function($t){return new($t||at)},at.\u0275mod=l.oAB({type:at}),at.\u0275inj=l.cJS({providers:[ne],imports:[O.rt,b.ez,de.U8,z.BQ,z.BQ,te.ZD]}),at})()},1481:(wt,Fe,_)=>{"use strict";_.d(Fe,{Dx:()=>hn,H7:()=>Ve,b2:()=>ge,q6:()=>Mn,se:()=>at});var l=_(6895),b=_(4650);class f extends l.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class O extends f{static makeCurrent(){(0,l.HT)(new O)}onAndCancel(X,L,T){return X.addEventListener(L,T,!1),()=>{X.removeEventListener(L,T,!1)}}dispatchEvent(X,L){X.dispatchEvent(L)}remove(X){X.parentNode&&X.parentNode.removeChild(X)}createElement(X,L){return(L=L||this.getDefaultDocument()).createElement(X)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(X){return X.nodeType===Node.ELEMENT_NODE}isShadowRoot(X){return X instanceof DocumentFragment}getGlobalEventTarget(X,L){return"window"===L?window:"document"===L?X:"body"===L?X.body:null}getBaseHref(X){const L=function ee(){return de=de||document.querySelector("base"),de?de.getAttribute("href"):null}();return null==L?null:function z(tt){te=te||document.createElement("a"),te.setAttribute("href",tt);const X=te.pathname;return"/"===X.charAt(0)?X:`/${X}`}(L)}resetBaseElement(){de=null}getUserAgent(){return window.navigator.userAgent}getCookie(X){return(0,l.Mx)(document.cookie,X)}}let te,de=null;const K=new b.OlP("TRANSITION_ID"),k=[{provide:b.ip1,useFactory:function Y(tt,X,L){return()=>{L.get(b.CZH).donePromise.then(()=>{const T=(0,l.q)(),j=X.querySelectorAll(`style[ng-transition="${tt}"]`);for(let Ee=0;Ee<j.length;Ee++)T.remove(j[Ee])})}},deps:[K,l.K0,b.zs3],multi:!0}];let W=(()=>{class tt{build(){return new XMLHttpRequest}}return tt.\u0275fac=function(L){return new(L||tt)},tt.\u0275prov=b.Yz7({token:tt,factory:tt.\u0275fac}),tt})();const ne=new b.OlP("EventManagerPlugins");let le=(()=>{class tt{constructor(L,T){this._zone=T,this._eventNameToPlugin=new Map,L.forEach(j=>{j.manager=this}),this._plugins=L.slice().reverse()}addEventListener(L,T,j){return this._findPluginFor(T).addEventListener(L,T,j)}addGlobalEventListener(L,T,j){return this._findPluginFor(T).addGlobalEventListener(L,T,j)}getZone(){return this._zone}_findPluginFor(L){const T=this._eventNameToPlugin.get(L);if(T)return T;const j=this._plugins;for(let Ee=0;Ee<j.length;Ee++){const Oe=j[Ee];if(Oe.supports(L))return this._eventNameToPlugin.set(L,Oe),Oe}throw new Error(`No event manager plugin found for event ${L}`)}}return tt.\u0275fac=function(L){return new(L||tt)(b.LFG(ne),b.LFG(b.R0b))},tt.\u0275prov=b.Yz7({token:tt,factory:tt.\u0275fac}),tt})();class Ae{constructor(X){this._doc=X}addGlobalEventListener(X,L,T){const j=(0,l.q)().getGlobalEventTarget(this._doc,X);if(!j)throw new Error(`Unsupported event target ${j} for event ${L}`);return this.addEventListener(j,L,T)}}let _e=(()=>{class tt{constructor(){this.usageCount=new Map}addStyles(L){for(const T of L)1===this.changeUsageCount(T,1)&&this.onStyleAdded(T)}removeStyles(L){for(const T of L)0===this.changeUsageCount(T,-1)&&this.onStyleRemoved(T)}onStyleRemoved(L){}onStyleAdded(L){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(L,T){const j=this.usageCount;let Ee=j.get(L)??0;return Ee+=T,Ee>0?j.set(L,Ee):j.delete(L),Ee}ngOnDestroy(){for(const L of this.getAllStyles())this.onStyleRemoved(L);this.usageCount.clear()}}return tt.\u0275fac=function(L){return new(L||tt)},tt.\u0275prov=b.Yz7({token:tt,factory:tt.\u0275fac}),tt})(),oe=(()=>{class tt extends _e{constructor(L){super(),this.doc=L,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(L){for(const T of this.hostNodes)this.addStyleToHost(T,L)}onStyleRemoved(L){const T=this.styleRef;T.get(L)?.forEach(Ee=>Ee.remove()),T.delete(L)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(L){this.hostNodes.add(L);for(const T of this.getAllStyles())this.addStyleToHost(L,T)}removeHost(L){this.hostNodes.delete(L)}addStyleToHost(L,T){const j=this.doc.createElement("style");j.textContent=T,L.appendChild(j);const Ee=this.styleRef.get(T);Ee?Ee.push(j):this.styleRef.set(T,[j])}resetHostNodes(){const L=this.hostNodes;L.clear(),L.add(this.doc.head)}}return tt.\u0275fac=function(L){return new(L||tt)(b.LFG(l.K0))},tt.\u0275prov=b.Yz7({token:tt,factory:tt.\u0275fac}),tt})();const fe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Me=/%COMP%/g,Xe=new b.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function ct(tt,X){return X.flat(100).map(L=>L.replace(Me,tt))}function Ot(tt){return X=>{if("__ngUnwrap__"===X)return tt;!1===tt(X)&&(X.preventDefault(),X.returnValue=!1)}}let at=(()=>{class tt{constructor(L,T,j,Ee){this.eventManager=L,this.sharedStylesHost=T,this.appId=j,this.removeStylesOnCompDestory=Ee,this.rendererByCompId=new Map,this.defaultRenderer=new fn(L)}createRenderer(L,T){if(!L||!T)return this.defaultRenderer;const j=this.getOrCreateRenderer(L,T);return j instanceof Ne?j.applyToHost(L):j instanceof ke&&j.applyStyles(),j}getOrCreateRenderer(L,T){const j=this.rendererByCompId;let Ee=j.get(T.id);if(!Ee){const Oe=this.eventManager,st=this.sharedStylesHost,_t=this.removeStylesOnCompDestory;switch(T.encapsulation){case b.ifc.Emulated:Ee=new Ne(Oe,st,T,this.appId,_t);break;case b.ifc.ShadowDom:return new we(Oe,st,L,T);default:Ee=new ke(Oe,st,T,_t)}Ee.onDestroy=()=>j.delete(T.id),j.set(T.id,Ee)}return Ee}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return tt.\u0275fac=function(L){return new(L||tt)(b.LFG(le),b.LFG(oe),b.LFG(b.AFp),b.LFG(Xe))},tt.\u0275prov=b.Yz7({token:tt,factory:tt.\u0275fac}),tt})();class fn{constructor(X){this.eventManager=X,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(X,L){return L?document.createElementNS(fe[L]||L,X):document.createElement(X)}createComment(X){return document.createComment(X)}createText(X){return document.createTextNode(X)}appendChild(X,L){(Zt(X)?X.content:X).appendChild(L)}insertBefore(X,L,T){X&&(Zt(X)?X.content:X).insertBefore(L,T)}removeChild(X,L){X&&X.removeChild(L)}selectRootElement(X,L){let T="string"==typeof X?document.querySelector(X):X;if(!T)throw new Error(`The selector "${X}" did not match any elements`);return L||(T.textContent=""),T}parentNode(X){return X.parentNode}nextSibling(X){return X.nextSibling}setAttribute(X,L,T,j){if(j){L=j+":"+L;const Ee=fe[j];Ee?X.setAttributeNS(Ee,L,T):X.setAttribute(L,T)}else X.setAttribute(L,T)}removeAttribute(X,L,T){if(T){const j=fe[T];j?X.removeAttributeNS(j,L):X.removeAttribute(`${T}:${L}`)}else X.removeAttribute(L)}addClass(X,L){X.classList.add(L)}removeClass(X,L){X.classList.remove(L)}setStyle(X,L,T,j){j&(b.JOm.DashCase|b.JOm.Important)?X.style.setProperty(L,T,j&b.JOm.Important?"important":""):X.style[L]=T}removeStyle(X,L,T){T&b.JOm.DashCase?X.style.removeProperty(L):X.style[L]=""}setProperty(X,L,T){X[L]=T}setValue(X,L){X.nodeValue=L}listen(X,L,T){return"string"==typeof X?this.eventManager.addGlobalEventListener(X,L,Ot(T)):this.eventManager.addEventListener(X,L,Ot(T))}}function Zt(tt){return"TEMPLATE"===tt.tagName&&void 0!==tt.content}class we extends fn{constructor(X,L,T,j){super(X),this.sharedStylesHost=L,this.hostEl=T,this.shadowRoot=T.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ee=ct(j.id,j.styles);for(const Oe of Ee){const st=document.createElement("style");st.textContent=Oe,this.shadowRoot.appendChild(st)}}nodeOrShadowRoot(X){return X===this.hostEl?this.shadowRoot:X}appendChild(X,L){return super.appendChild(this.nodeOrShadowRoot(X),L)}insertBefore(X,L,T){return super.insertBefore(this.nodeOrShadowRoot(X),L,T)}removeChild(X,L){return super.removeChild(this.nodeOrShadowRoot(X),L)}parentNode(X){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(X)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ke extends fn{constructor(X,L,T,j,Ee=T.id){super(X),this.sharedStylesHost=L,this.removeStylesOnCompDestory=j,this.rendererUsageCount=0,this.styles=ct(Ee,T.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Ne extends ke{constructor(X,L,T,j,Ee){const Oe=j+"-"+T.id;super(X,L,T,Ee,Oe),this.contentAttr=function dt(tt){return"_ngcontent-%COMP%".replace(Me,tt)}(Oe),this.hostAttr=function Ue(tt){return"_nghost-%COMP%".replace(Me,tt)}(Oe)}applyToHost(X){this.applyStyles(),this.setAttribute(X,this.hostAttr,"")}createElement(X,L){const T=super.createElement(X,L);return super.setAttribute(T,this.contentAttr,""),T}}let me=(()=>{class tt extends Ae{constructor(L){super(L)}supports(L){return!0}addEventListener(L,T,j){return L.addEventListener(T,j,!1),()=>this.removeEventListener(L,T,j)}removeEventListener(L,T,j){return L.removeEventListener(T,j)}}return tt.\u0275fac=function(L){return new(L||tt)(b.LFG(l.K0))},tt.\u0275prov=b.Yz7({token:tt,factory:tt.\u0275fac}),tt})();const qe=["alt","control","meta","shift"],Z={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ye={alt:tt=>tt.altKey,control:tt=>tt.ctrlKey,meta:tt=>tt.metaKey,shift:tt=>tt.shiftKey};let R=(()=>{class tt extends Ae{constructor(L){super(L)}supports(L){return null!=tt.parseEventName(L)}addEventListener(L,T,j){const Ee=tt.parseEventName(T),Oe=tt.eventCallback(Ee.fullKey,j,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,l.q)().onAndCancel(L,Ee.domEventName,Oe))}static parseEventName(L){const T=L.toLowerCase().split("."),j=T.shift();if(0===T.length||"keydown"!==j&&"keyup"!==j)return null;const Ee=tt._normalizeKey(T.pop());let Oe="",st=T.indexOf("code");if(st>-1&&(T.splice(st,1),Oe="code."),qe.forEach(en=>{const bn=T.indexOf(en);bn>-1&&(T.splice(bn,1),Oe+=en+".")}),Oe+=Ee,0!=T.length||0===Ee.length)return null;const _t={};return _t.domEventName=j,_t.fullKey=Oe,_t}static matchEventFullKeyCode(L,T){let j=Z[L.key]||L.key,Ee="";return T.indexOf("code.")>-1&&(j=L.code,Ee="code."),!(null==j||!j)&&(j=j.toLowerCase()," "===j?j="space":"."===j&&(j="dot"),qe.forEach(Oe=>{Oe!==j&&(0,ye[Oe])(L)&&(Ee+=Oe+".")}),Ee+=j,Ee===T)}static eventCallback(L,T,j){return Ee=>{tt.matchEventFullKeyCode(Ee,L)&&j.runGuarded(()=>T(Ee))}}static _normalizeKey(L){return"esc"===L?"escape":L}}return tt.\u0275fac=function(L){return new(L||tt)(b.LFG(l.K0))},tt.\u0275prov=b.Yz7({token:tt,factory:tt.\u0275fac}),tt})();const Mn=(0,b.eFA)(b._c5,"browser",[{provide:b.Lbi,useValue:l.bD},{provide:b.g9A,useValue:function Gt(){O.makeCurrent()},multi:!0},{provide:l.K0,useFactory:function Bn(){return(0,b.RDi)(document),document},deps:[]}]),Pn=new b.OlP(""),Le=[{provide:b.rWj,useClass:class U{addToWindow(X){b.dqk.getAngularTestability=(T,j=!0)=>{const Ee=X.findTestabilityInTree(T,j);if(null==Ee)throw new Error("Could not find testability for element.");return Ee},b.dqk.getAllAngularTestabilities=()=>X.getAllTestabilities(),b.dqk.getAllAngularRootElements=()=>X.getAllRootElements(),b.dqk.frameworkStabilizers||(b.dqk.frameworkStabilizers=[]),b.dqk.frameworkStabilizers.push(T=>{const j=b.dqk.getAllAngularTestabilities();let Ee=j.length,Oe=!1;const st=function(_t){Oe=Oe||_t,Ee--,0==Ee&&T(Oe)};j.forEach(function(_t){_t.whenStable(st)})})}findTestabilityInTree(X,L,T){return null==L?null:X.getTestability(L)??(T?(0,l.q)().isShadowRoot(L)?this.findTestabilityInTree(X,L.host,!0):this.findTestabilityInTree(X,L.parentElement,!0):null)}},deps:[]},{provide:b.lri,useClass:b.dDg,deps:[b.R0b,b.eoX,b.rWj]},{provide:b.dDg,useClass:b.dDg,deps:[b.R0b,b.eoX,b.rWj]}],re=[{provide:b.zSh,useValue:"root"},{provide:b.qLn,useFactory:function _n(){return new b.qLn},deps:[]},{provide:ne,useClass:me,multi:!0,deps:[l.K0,b.R0b,b.Lbi]},{provide:ne,useClass:R,multi:!0,deps:[l.K0]},{provide:at,useClass:at,deps:[le,oe,b.AFp,Xe]},{provide:b.FYo,useExisting:at},{provide:_e,useExisting:oe},{provide:oe,useClass:oe,deps:[l.K0]},{provide:le,useClass:le,deps:[ne,b.R0b]},{provide:l.JF,useClass:W,deps:[]},[]];let ge=(()=>{class tt{constructor(L){}static withServerTransition(L){return{ngModule:tt,providers:[{provide:b.AFp,useValue:L.appId},{provide:K,useExisting:b.AFp},k]}}}return tt.\u0275fac=function(L){return new(L||tt)(b.LFG(Pn,12))},tt.\u0275mod=b.oAB({type:tt}),tt.\u0275inj=b.cJS({providers:[...re,...Le],imports:[l.ez,b.hGG]}),tt})(),hn=(()=>{class tt{constructor(L){this._doc=L}getTitle(){return this._doc.title}setTitle(L){this._doc.title=L||""}}return tt.\u0275fac=function(L){return new(L||tt)(b.LFG(l.K0))},tt.\u0275prov=b.Yz7({token:tt,factory:function(L){let T=null;return T=L?new L:function Qt(){return new hn((0,b.LFG)(l.K0))}(),T},providedIn:"root"}),tt})();typeof window<"u"&&window;let Ve=(()=>{class tt{}return tt.\u0275fac=function(L){return new(L||tt)},tt.\u0275prov=b.Yz7({token:tt,factory:function(L){let T=null;return T=L?new(L||tt):b.LFG(Rt),T},providedIn:"root"}),tt})(),Rt=(()=>{class tt extends Ve{constructor(L){super(),this._doc=L}sanitize(L,T){if(null==T)return null;switch(L){case b.q3G.NONE:return T;case b.q3G.HTML:return(0,b.qzn)(T,"HTML")?(0,b.z3N)(T):(0,b.EiD)(this._doc,String(T)).toString();case b.q3G.STYLE:return(0,b.qzn)(T,"Style")?(0,b.z3N)(T):T;case b.q3G.SCRIPT:if((0,b.qzn)(T,"Script"))return(0,b.z3N)(T);throw new Error("unsafe value used in a script context");case b.q3G.URL:return(0,b.qzn)(T,"URL")?(0,b.z3N)(T):(0,b.mCW)(String(T));case b.q3G.RESOURCE_URL:if((0,b.qzn)(T,"ResourceURL"))return(0,b.z3N)(T);throw new Error(`unsafe value used in a resource URL context (see ${b.JZr})`);default:throw new Error(`Unexpected SecurityContext ${L} (see ${b.JZr})`)}}bypassSecurityTrustHtml(L){return(0,b.JVY)(L)}bypassSecurityTrustStyle(L){return(0,b.L6k)(L)}bypassSecurityTrustScript(L){return(0,b.eBb)(L)}bypassSecurityTrustUrl(L){return(0,b.LAX)(L)}bypassSecurityTrustResourceUrl(L){return(0,b.pB0)(L)}}return tt.\u0275fac=function(L){return new(L||tt)(b.LFG(l.K0))},tt.\u0275prov=b.Yz7({token:tt,factory:function(L){let T=null;return T=L?new L:function et(tt){return new Rt(tt.get(l.K0))}(b.LFG(b.zs3)),T},providedIn:"root"}),tt})()},1779:(wt,Fe,_)=>{"use strict";_.d(Fe,{gz:()=>qr,m2:()=>_r,F0:()=>_o,rH:()=>_l,Bz:()=>Ql,lC:()=>cs});var l=_(4650),b=_(8996),f=_(9646),O=_(1135),de=_(6805),ee=_(9841),te=_(7272),z=_(9751),K=_(8421);function Y(D){return new z.y(P=>{(0,K.Xf)(D()).subscribe(P)})}var k=_(9635),U=_(2843),W=_(515),ne=_(727),le=_(4482),Ae=_(5403);function _e(){return(0,le.e)((D,P)=>{let C=null;D._refCount++;const B=(0,Ae.x)(P,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(C=null);const J=D._connection,Ce=C;C=null,J&&(!Ce||J===Ce)&&J.unsubscribe(),P.unsubscribe()});D.subscribe(B),B.closed||(C=D.connect())})}class oe extends z.y{constructor(P,C){super(),this.source=P,this.subjectFactory=C,this._subject=null,this._refCount=0,this._connection=null,(0,le.A)(P)&&(this.lift=P.lift)}_subscribe(P){return this.getSubject().subscribe(P)}getSubject(){const P=this._subject;return(!P||P.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:P}=this;this._subject=this._connection=null,P?.unsubscribe()}connect(){let P=this._connection;if(!P){P=this._connection=new ne.w0;const C=this.getSubject();P.add(this.source.subscribe((0,Ae.x)(C,void 0,()=>{this._teardown(),C.complete()},B=>{this._teardown(),C.error(B)},()=>this._teardown()))),P.closed&&(this._connection=null,P=ne.w0.EMPTY)}return P}refCount(){return _e()(this)}}var fe=_(7579),Me=_(6895),pe=_(4004),he=_(3900),xe=_(5698),je=_(8675),Pe=_(9300),Xe=_(5577),dt=_(590),Ue=_(4351),ct=_(8505),Ot=_(262),at=_(5026);function fn(D){return D<=0?()=>W.E:(0,le.e)((P,C)=>{let B=[];P.subscribe((0,Ae.x)(C,J=>{B.push(J),D<B.length&&B.shift()},()=>{for(const J of B)C.next(J);C.complete()},void 0,()=>{B=null}))})}var $t=_(8068),jt=_(6590),Zt=_(4671);function we(D,P){const C=arguments.length>=2;return B=>B.pipe(D?(0,Pe.h)((J,Ce)=>D(J,Ce,B)):Zt.y,fn(1),C?(0,jt.d)(P):(0,$t.T)(()=>new de.K))}var Ne=_(9718),me=_(8746),qe=_(8189),Z=_(1481);const ye="primary",R=Symbol("RouteTitle");class Se{constructor(P){this.params=P||{}}has(P){return Object.prototype.hasOwnProperty.call(this.params,P)}get(P){if(this.has(P)){const C=this.params[P];return Array.isArray(C)?C[0]:C}return null}getAll(P){if(this.has(P)){const C=this.params[P];return Array.isArray(C)?C:[C]}return[]}get keys(){return Object.keys(this.params)}}function Qe(D){return new Se(D)}function Tt(D,P,C){const B=C.path.split("/");if(B.length>D.length||"full"===C.pathMatch&&(P.hasChildren()||B.length<D.length))return null;const J={};for(let Ce=0;Ce<B.length;Ce++){const Re=B[Ce],Dt=D[Ce];if(Re.startsWith(":"))J[Re.substring(1)]=Dt;else if(Re!==Dt.path)return null}return{consumed:D.slice(0,B.length),posParams:J}}function Mt(D,P){const C=D?Object.keys(D):void 0,B=P?Object.keys(P):void 0;if(!C||!B||C.length!=B.length)return!1;let J;for(let Ce=0;Ce<C.length;Ce++)if(J=C[Ce],!Gt(D[J],P[J]))return!1;return!0}function Gt(D,P){if(Array.isArray(D)&&Array.isArray(P)){if(D.length!==P.length)return!1;const C=[...D].sort(),B=[...P].sort();return C.every((J,Ce)=>B[Ce]===J)}return D===P}function _n(D){return Array.prototype.concat.apply([],D)}function Bn(D){return D.length>0?D[D.length-1]:null}function Mn(D,P){for(const C in D)D.hasOwnProperty(C)&&P(D[C],C)}function Pn(D){return(0,l.CqO)(D)?D:(0,l.QGY)(D)?(0,b.D)(Promise.resolve(D)):(0,f.of)(D)}const Le=!1,re={exact:function Pt(D,P,C){if(!mn(D.segments,P.segments)||!Ye(D.segments,P.segments,C)||D.numberOfChildren!==P.numberOfChildren)return!1;for(const B in P.children)if(!D.children[B]||!Pt(D.children[B],P.children[B],C))return!1;return!0},subset:hn},ge={exact:function It(D,P){return Mt(D,P)},subset:function Qt(D,P){return Object.keys(P).length<=Object.keys(D).length&&Object.keys(P).every(C=>Gt(D[C],P[C]))},ignored:()=>!0};function He(D,P,C){return re[C.paths](D.root,P.root,C.matrixParams)&&ge[C.queryParams](D.queryParams,P.queryParams)&&!("exact"===C.fragment&&D.fragment!==P.fragment)}function hn(D,P,C){return ut(D,P,P.segments,C)}function ut(D,P,C,B){if(D.segments.length>C.length){const J=D.segments.slice(0,C.length);return!(!mn(J,C)||P.hasChildren()||!Ye(J,C,B))}if(D.segments.length===C.length){if(!mn(D.segments,C)||!Ye(D.segments,C,B))return!1;for(const J in P.children)if(!D.children[J]||!hn(D.children[J],P.children[J],B))return!1;return!0}{const J=C.slice(0,D.segments.length),Ce=C.slice(D.segments.length);return!!(mn(D.segments,J)&&Ye(D.segments,J,B)&&D.children[ye])&&ut(D.children[ye],P,Ce,B)}}function Ye(D,P,C){return P.every((B,J)=>ge[C](D[J].parameters,B.parameters))}class De{constructor(P=new rt([],{}),C={},B=null){this.root=P,this.queryParams=C,this.fragment=B}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qe(this.queryParams)),this._queryParamMap}toString(){return Qn.serialize(this)}}class rt{constructor(P,C){this.segments=P,this.children=C,this.parent=null,Mn(C,(B,J)=>B.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ti(this)}}class Wt{constructor(P,C){this.path=P,this.parameters=C}get parameterMap(){return this._parameterMap||(this._parameterMap=Qe(this.parameters)),this._parameterMap}toString(){return Jt(this)}}function mn(D,P){return D.length===P.length&&D.every((C,B)=>C.path===P[B].path)}let zn=(()=>{class D{}return D.\u0275fac=function(C){return new(C||D)},D.\u0275prov=l.Yz7({token:D,factory:function(){return new ri},providedIn:"root"}),D})();class ri{parse(P){const C=new L(P);return new De(C.parseRootSegment(),C.parseQueryParams(),C.parseFragment())}serialize(P){const C=`/${nn(P.root,!0)}`,B=function Ze(D){const P=Object.keys(D).map(C=>{const B=D[C];return Array.isArray(B)?B.map(J=>`${mt(C)}=${mt(J)}`).join("&"):`${mt(C)}=${mt(B)}`}).filter(C=>!!C);return P.length?`?${P.join("&")}`:""}(P.queryParams);return`${C}${B}${"string"==typeof P.fragment?`#${function nt(D){return encodeURI(D)}(P.fragment)}`:""}`}}const Qn=new ri;function Ti(D){return D.segments.map(P=>Jt(P)).join("/")}function nn(D,P){if(!D.hasChildren())return Ti(D);if(P){const C=D.children[ye]?nn(D.children[ye],!1):"",B=[];return Mn(D.children,(J,Ce)=>{Ce!==ye&&B.push(`${Ce}:${nn(J,!1)}`)}),B.length>0?`${C}(${B.join("//")})`:C}{const C=function ai(D,P){let C=[];return Mn(D.children,(B,J)=>{J===ye&&(C=C.concat(P(B,J)))}),Mn(D.children,(B,J)=>{J!==ye&&(C=C.concat(P(B,J)))}),C}(D,(B,J)=>J===ye?[nn(D.children[ye],!1)]:[`${J}:${nn(B,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[ye]?`${Ti(D)}/${C[0]}`:`${Ti(D)}/(${C.join("//")})`}}function pt(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mt(D){return pt(D).replace(/%3B/gi,";")}function ze(D){return pt(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ot(D){return decodeURIComponent(D)}function an(D){return ot(D.replace(/\+/g,"%20"))}function Jt(D){return`${ze(D.path)}${function Ln(D){return Object.keys(D).map(P=>`;${ze(P)}=${ze(D[P])}`).join("")}(D.parameters)}`}const Ve=/^[^\/()?;=#]+/;function et(D){const P=D.match(Ve);return P?P[0]:""}const Rt=/^[^=?&#]+/,tt=/^[^&#]+/;class L{constructor(P){this.url=P,this.remaining=P}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new rt([],{}):new rt([],this.parseChildren())}parseQueryParams(){const P={};if(this.consumeOptional("?"))do{this.parseQueryParam(P)}while(this.consumeOptional("&"));return P}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const P=[];for(this.peekStartsWith("(")||P.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),P.push(this.parseSegment());let C={};this.peekStartsWith("/(")&&(this.capture("/"),C=this.parseParens(!0));let B={};return this.peekStartsWith("(")&&(B=this.parseParens(!1)),(P.length>0||Object.keys(C).length>0)&&(B[ye]=new rt(P,C)),B}parseSegment(){const P=et(this.remaining);if(""===P&&this.peekStartsWith(";"))throw new l.vHH(4009,Le);return this.capture(P),new Wt(ot(P),this.parseMatrixParams())}parseMatrixParams(){const P={};for(;this.consumeOptional(";");)this.parseParam(P);return P}parseParam(P){const C=et(this.remaining);if(!C)return;this.capture(C);let B="";if(this.consumeOptional("=")){const J=et(this.remaining);J&&(B=J,this.capture(B))}P[ot(C)]=ot(B)}parseQueryParam(P){const C=function ht(D){const P=D.match(Rt);return P?P[0]:""}(this.remaining);if(!C)return;this.capture(C);let B="";if(this.consumeOptional("=")){const Re=function X(D){const P=D.match(tt);return P?P[0]:""}(this.remaining);Re&&(B=Re,this.capture(B))}const J=an(C),Ce=an(B);if(P.hasOwnProperty(J)){let Re=P[J];Array.isArray(Re)||(Re=[Re],P[J]=Re),Re.push(Ce)}else P[J]=Ce}parseParens(P){const C={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const B=et(this.remaining),J=this.remaining[B.length];if("/"!==J&&")"!==J&&";"!==J)throw new l.vHH(4010,Le);let Ce;B.indexOf(":")>-1?(Ce=B.slice(0,B.indexOf(":")),this.capture(Ce),this.capture(":")):P&&(Ce=ye);const Re=this.parseChildren();C[Ce]=1===Object.keys(Re).length?Re[ye]:new rt([],Re),this.consumeOptional("//")}return C}peekStartsWith(P){return this.remaining.startsWith(P)}consumeOptional(P){return!!this.peekStartsWith(P)&&(this.remaining=this.remaining.substring(P.length),!0)}capture(P){if(!this.consumeOptional(P))throw new l.vHH(4011,Le)}}function T(D){return D.segments.length>0?new rt([],{[ye]:D}):D}function j(D){const P={};for(const B of Object.keys(D.children)){const Ce=j(D.children[B]);(Ce.segments.length>0||Ce.hasChildren())&&(P[B]=Ce)}return function Ee(D){if(1===D.numberOfChildren&&D.children[ye]){const P=D.children[ye];return new rt(D.segments.concat(P.segments),P.children)}return D}(new rt(D.segments,P))}function Oe(D){return D instanceof De}const st=!1;function On(D,P,C,B,J){if(0===C.length)return An(P.root,P.root,P.root,B,J);const Ce=function Et(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new bt(!0,0,D);let P=0,C=!1;const B=D.reduce((J,Ce,Re)=>{if("object"==typeof Ce&&null!=Ce){if(Ce.outlets){const Dt={};return Mn(Ce.outlets,(ln,Vn)=>{Dt[Vn]="string"==typeof ln?ln.split("/"):ln}),[...J,{outlets:Dt}]}if(Ce.segmentPath)return[...J,Ce.segmentPath]}return"string"!=typeof Ce?[...J,Ce]:0===Re?(Ce.split("/").forEach((Dt,ln)=>{0==ln&&"."===Dt||(0==ln&&""===Dt?C=!0:".."===Dt?P++:""!=Dt&&J.push(Dt))}),J):[...J,Ce]},[]);return new bt(C,P,B)}(C);return Ce.toRoot()?An(P.root,P.root,new rt([],{}),B,J):function Re(ln){const Vn=function In(D,P,C,B){if(D.isAbsolute)return new Vt(P.root,!0,0);if(-1===B)return new Vt(C,C===P.root,0);return function ni(D,P,C){let B=D,J=P,Ce=C;for(;Ce>J;){if(Ce-=J,B=B.parent,!B)throw new l.vHH(4005,st&&"Invalid number of '../'");J=B.segments.length}return new Vt(B,!1,J-Ce)}(C,B+(pn(D.commands[0])?0:1),D.numberOfDoubleDots)}(Ce,P,D.snapshot?._urlSegment,ln),Hn=Vn.processChildren?fi(Vn.segmentGroup,Vn.index,Ce.commands):Ei(Vn.segmentGroup,Vn.index,Ce.commands);return An(P.root,Vn.segmentGroup,Hn,B,J)}(D.snapshot?._lastPathIndex)}function pn(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function $n(D){return"object"==typeof D&&null!=D&&D.outlets}function An(D,P,C,B,J){let Re,Ce={};B&&Mn(B,(ln,Vn)=>{Ce[Vn]=Array.isArray(ln)?ln.map(Hn=>`${Hn}`):`${ln}`}),Re=D===P?C:Gn(D,P,C);const Dt=T(j(Re));return new De(Dt,Ce,J)}function Gn(D,P,C){const B={};return Mn(D.children,(J,Ce)=>{B[Ce]=J===P?C:Gn(J,P,C)}),new rt(D.segments,B)}class bt{constructor(P,C,B){if(this.isAbsolute=P,this.numberOfDoubleDots=C,this.commands=B,P&&B.length>0&&pn(B[0]))throw new l.vHH(4003,st&&"Root segment cannot have matrix parameters");const J=B.find($n);if(J&&J!==Bn(B))throw new l.vHH(4004,st&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vt{constructor(P,C,B){this.segmentGroup=P,this.processChildren=C,this.index=B}}function Ei(D,P,C){if(D||(D=new rt([],{})),0===D.segments.length&&D.hasChildren())return fi(D,P,C);const B=function yn(D,P,C){let B=0,J=P;const Ce={match:!1,pathIndex:0,commandIndex:0};for(;J<D.segments.length;){if(B>=C.length)return Ce;const Re=D.segments[J],Dt=C[B];if($n(Dt))break;const ln=`${Dt}`,Vn=B<C.length-1?C[B+1]:null;if(J>0&&void 0===ln)break;if(ln&&Vn&&"object"==typeof Vn&&void 0===Vn.outlets){if(!lr(ln,Vn,Re))return Ce;B+=2}else{if(!lr(ln,{},Re))return Ce;B++}J++}return{match:!0,pathIndex:J,commandIndex:B}}(D,P,C),J=C.slice(B.commandIndex);if(B.match&&B.pathIndex<D.segments.length){const Ce=new rt(D.segments.slice(0,B.pathIndex),{});return Ce.children[ye]=new rt(D.segments.slice(B.pathIndex),D.children),fi(Ce,0,J)}return B.match&&0===J.length?new rt(D.segments,{}):B.match&&!D.hasChildren()?ti(D,P,C):B.match?fi(D,0,J):ti(D,P,C)}function fi(D,P,C){if(0===C.length)return new rt(D.segments,{});{const B=function li(D){return $n(D[0])?D[0].outlets:{[ye]:D}}(C),J={};if(!B[ye]&&D.children[ye]&&1===D.numberOfChildren&&0===D.children[ye].segments.length){const Ce=fi(D.children[ye],P,C);return new rt(D.segments,Ce.children)}return Mn(B,(Ce,Re)=>{"string"==typeof Ce&&(Ce=[Ce]),null!==Ce&&(J[Re]=Ei(D.children[Re],P,Ce))}),Mn(D.children,(Ce,Re)=>{void 0===B[Re]&&(J[Re]=Ce)}),new rt(D.segments,J)}}function ti(D,P,C){const B=D.segments.slice(0,P);let J=0;for(;J<C.length;){const Ce=C[J];if($n(Ce)){const ln=oi(Ce.outlets);return new rt(B,ln)}if(0===J&&pn(C[0])){B.push(new Wt(D.segments[P].path,nr(C[0]))),J++;continue}const Re=$n(Ce)?Ce.outlets[ye]:`${Ce}`,Dt=J<C.length-1?C[J+1]:null;Re&&Dt&&pn(Dt)?(B.push(new Wt(Re,nr(Dt))),J+=2):(B.push(new Wt(Re,{})),J++)}return new rt(B,{})}function oi(D){const P={};return Mn(D,(C,B)=>{"string"==typeof C&&(C=[C]),null!==C&&(P[B]=ti(new rt([],{}),0,C))}),P}function nr(D){const P={};return Mn(D,(C,B)=>P[B]=`${C}`),P}function lr(D,P,C){return D==C.path&&Mt(P,C.parameters)}const Vi="imperative";class cr{constructor(P,C){this.id=P,this.url=C}}class ui extends cr{constructor(P,C,B="imperative",J=null){super(P,C),this.type=0,this.navigationTrigger=B,this.restoredState=J}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _r extends cr{constructor(P,C,B){super(P,C),this.urlAfterRedirects=B,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Io extends cr{constructor(P,C,B,J){super(P,C),this.reason=B,this.code=J,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class si extends cr{constructor(P,C,B,J){super(P,C),this.reason=B,this.code=J,this.type=16}}class Fo extends cr{constructor(P,C,B,J){super(P,C),this.error=B,this.target=J,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $o extends cr{constructor(P,C,B,J){super(P,C),this.urlAfterRedirects=B,this.state=J,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zs extends cr{constructor(P,C,B,J){super(P,C),this.urlAfterRedirects=B,this.state=J,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ir extends cr{constructor(P,C,B,J,Ce){super(P,C),this.urlAfterRedirects=B,this.state=J,this.shouldActivate=Ce,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Tr extends cr{constructor(P,C,B,J){super(P,C),this.urlAfterRedirects=B,this.state=J,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class To extends cr{constructor(P,C,B,J){super(P,C),this.urlAfterRedirects=B,this.state=J,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wr{constructor(P){this.route=P,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Zr{constructor(P){this.route=P,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Kr{constructor(P){this.snapshot=P,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class io{constructor(P){this.snapshot=P,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ri{constructor(P){this.snapshot=P,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vr{constructor(P){this.snapshot=P,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ao{constructor(P,C,B){this.routerEvent=P,this.position=C,this.anchor=B,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let No=(()=>{class D{createUrlTree(C,B,J,Ce,Re,Dt){return On(C||B.root,J,Ce,Re,Dt)}}return D.\u0275fac=function(C){return new(C||D)},D.\u0275prov=l.Yz7({token:D,factory:D.\u0275fac}),D})(),ur=(()=>{class D{}return D.\u0275fac=function(C){return new(C||D)},D.\u0275prov=l.Yz7({token:D,factory:function(P){return No.\u0275fac(P)},providedIn:"root"}),D})();class ws{constructor(P){this._root=P}get root(){return this._root.value}parent(P){const C=this.pathFromRoot(P);return C.length>1?C[C.length-2]:null}children(P){const C=Gi(P,this._root);return C?C.children.map(B=>B.value):[]}firstChild(P){const C=Gi(P,this._root);return C&&C.children.length>0?C.children[0].value:null}siblings(P){const C=xr(P,this._root);return C.length<2?[]:C[C.length-2].children.map(J=>J.value).filter(J=>J!==P)}pathFromRoot(P){return xr(P,this._root).map(C=>C.value)}}function Gi(D,P){if(D===P.value)return P;for(const C of P.children){const B=Gi(D,C);if(B)return B}return null}function xr(D,P){if(D===P.value)return[P];for(const C of P.children){const B=xr(D,C);if(B.length)return B.unshift(P),B}return[]}class ro{constructor(P,C){this.value=P,this.children=C}toString(){return`TreeNode(${this.value})`}}function qi(D){const P={};return D&&D.children.forEach(C=>P[C.value.outlet]=C),P}class oo extends ws{constructor(P,C){super(P),this.snapshot=C,Go(this,P)}toString(){return this.snapshot.toString()}}function Qi(D,P){const C=function Ga(D,P){const Re=new Jo([],{},{},"",{},ye,P,null,D.root,-1,{});return new Is("",new ro(Re,[]))}(D,P),B=new O.X([new Wt("",{})]),J=new O.X({}),Ce=new O.X({}),Re=new O.X({}),Dt=new O.X(""),ln=new qr(B,J,Re,Dt,Ce,ye,P,C.root);return ln.snapshot=C.root,new oo(new ro(ln,[]),C)}class qr{constructor(P,C,B,J,Ce,Re,Dt,ln){this.url=P,this.params=C,this.queryParams=B,this.fragment=J,this.data=Ce,this.outlet=Re,this.component=Dt,this.title=this.data?.pipe((0,pe.U)(Vn=>Vn[R]))??(0,f.of)(void 0),this._futureSnapshot=ln}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,pe.U)(P=>Qe(P)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,pe.U)(P=>Qe(P)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ls(D,P="emptyOnly"){const C=D.pathFromRoot;let B=0;if("always"!==P)for(B=C.length-1;B>=1;){const J=C[B],Ce=C[B-1];if(J.routeConfig&&""===J.routeConfig.path)B--;else{if(Ce.component)break;B--}}return function Do(D){return D.reduce((P,C)=>({params:{...P.params,...C.params},data:{...P.data,...C.data},resolve:{...C.data,...P.resolve,...C.routeConfig?.data,...C._resolvedData}}),{params:{},data:{},resolve:{}})}(C.slice(B))}class Jo{get title(){return this.data?.[R]}constructor(P,C,B,J,Ce,Re,Dt,ln,Vn,Hn,mi){this.url=P,this.params=C,this.queryParams=B,this.fragment=J,this.data=Ce,this.outlet=Re,this.component=Dt,this.routeConfig=ln,this._urlSegment=Vn,this._lastPathIndex=Hn,this._resolve=mi}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Qe(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qe(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(B=>B.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Is extends ws{constructor(P,C){super(C),this.url=P,Go(this,C)}toString(){return js(this._root)}}function Go(D,P){P.value._routerState=D,P.children.forEach(C=>Go(D,C))}function js(D){const P=D.children.length>0?` { ${D.children.map(js).join(", ")} } `:"";return`${D.value}${P}`}function $s(D){if(D.snapshot){const P=D.snapshot,C=D._futureSnapshot;D.snapshot=C,Mt(P.queryParams,C.queryParams)||D.queryParams.next(C.queryParams),P.fragment!==C.fragment&&D.fragment.next(C.fragment),Mt(P.params,C.params)||D.params.next(C.params),function $e(D,P){if(D.length!==P.length)return!1;for(let C=0;C<D.length;++C)if(!Mt(D[C],P[C]))return!1;return!0}(P.url,C.url)||D.url.next(C.url),Mt(P.data,C.data)||D.data.next(C.data)}else D.snapshot=D._futureSnapshot,D.data.next(D._futureSnapshot.data)}function ua(D,P){const C=Mt(D.params,P.params)&&function sn(D,P){return mn(D,P)&&D.every((C,B)=>Mt(C.parameters,P[B].parameters))}(D.url,P.url);return C&&!(!D.parent!=!P.parent)&&(!D.parent||ua(D.parent,P.parent))}function Lo(D,P,C){if(C&&D.shouldReuseRoute(P.value,C.value.snapshot)){const B=C.value;B._futureSnapshot=P.value;const J=function xa(D,P,C){return P.children.map(B=>{for(const J of C.children)if(D.shouldReuseRoute(B.value,J.value.snapshot))return Lo(D,B,J);return Lo(D,B)})}(D,P,C);return new ro(B,J)}{if(D.shouldAttach(P.value)){const Ce=D.retrieve(P.value);if(null!==Ce){const Re=Ce.route;return Re.value._futureSnapshot=P.value,Re.children=P.children.map(Dt=>Lo(D,Dt)),Re}}const B=function Ts(D){return new qr(new O.X(D.url),new O.X(D.params),new O.X(D.queryParams),new O.X(D.fragment),new O.X(D.data),D.outlet,D.component,D)}(P.value),J=P.children.map(Ce=>Lo(D,Ce));return new ro(B,J)}}const Ca="ngNavigationCancelingError";function da(D,P){const{redirectTo:C,navigationBehaviorOptions:B}=Oe(P)?{redirectTo:P,navigationBehaviorOptions:void 0}:P,J=Bo(!1,0,P);return J.url=C,J.navigationBehaviorOptions=B,J}function Bo(D,P,C){const B=new Error("NavigationCancelingError: "+(D||""));return B[Ca]=!0,B.cancellationCode=P,C&&(B.url=C),B}function mo(D){return ha(D)&&Oe(D.url)}function ha(D){return D&&D[Ca]}class As{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new dr,this.attachRef=null}}let dr=(()=>{class D{constructor(){this.contexts=new Map}onChildOutletCreated(C,B){const J=this.getOrCreateContext(C);J.outlet=B,this.contexts.set(C,J)}onChildOutletDestroyed(C){const B=this.getContext(C);B&&(B.outlet=null,B.attachRef=null)}onOutletDeactivated(){const C=this.contexts;return this.contexts=new Map,C}onOutletReAttached(C){this.contexts=C}getOrCreateContext(C){let B=this.getContext(C);return B||(B=new As,this.contexts.set(C,B)),B}getContext(C){return this.contexts.get(C)||null}}return D.\u0275fac=function(C){return new(C||D)},D.\u0275prov=l.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const Wo=!1;let cs=(()=>{class D{constructor(){this.activated=null,this._activatedRoute=null,this.name=ye,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(dr),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb)}ngOnChanges(C){if(C.name){const{firstChange:B,previousValue:J}=C.name;if(B)return;this.isTrackedInParentContexts(J)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(J)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(C){return this.parentContexts.getContext(C)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const C=this.parentContexts.getContext(this.name);C?.route&&(C.attachRef?this.attach(C.attachRef,C.route):this.activateWith(C.route,C.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,Wo);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,Wo);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,Wo);this.location.detach();const C=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(C.instance),C}attach(C,B){this.activated=C,this._activatedRoute=B,this.location.insert(C.hostView),this.attachEvents.emit(C.instance)}deactivate(){if(this.activated){const C=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(C)}}activateWith(C,B){if(this.isActivated)throw new l.vHH(4013,Wo);this._activatedRoute=C;const J=this.location,Re=C.snapshot.component,Dt=this.parentContexts.getOrCreateContext(this.name).children,ln=new Gs(C,Dt,J.injector);if(B&&function es(D){return!!D.resolveComponentFactory}(B)){const Vn=B.resolveComponentFactory(Re);this.activated=J.createComponent(Vn,J.length,ln)}else this.activated=J.createComponent(Re,{index:J.length,injector:ln,environmentInjector:B??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return D.\u0275fac=function(C){return new(C||D)},D.\u0275dir=l.lG2({type:D,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]}),D})();class Gs{constructor(P,C,B){this.route=P,this.childContexts=C,this.parent=B}get(P,C){return P===qr?this.route:P===dr?this.childContexts:this.parent.get(P,C)}}let Ws=(()=>{class D{}return D.\u0275fac=function(C){return new(C||D)},D.\u0275cmp=l.Xpm({type:D,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(C,B){1&C&&l._UZ(0,"router-outlet")},dependencies:[cs],encapsulation:2}),D})();function us(D,P){return D.providers&&!D._injector&&(D._injector=(0,l.MMx)(D.providers,P,`Route: ${D.path}`)),D._injector??P}function ir(D){const P=D.children&&D.children.map(ir),C=P?{...D,children:P}:{...D};return!C.component&&!C.loadComponent&&(P||C.loadChildren)&&C.outlet&&C.outlet!==ye&&(C.component=Ws),C}function Si(D){return D.outlet||ye}function so(D,P){const C=D.filter(B=>Si(B)===P);return C.push(...D.filter(B=>Si(B)!==P)),C}function Fi(D){if(!D)return null;if(D.routeConfig?._injector)return D.routeConfig._injector;for(let P=D.parent;P;P=P.parent){const C=P.routeConfig;if(C?._loadedInjector)return C._loadedInjector;if(C?._injector)return C._injector}return null}class Ds{constructor(P,C,B,J){this.routeReuseStrategy=P,this.futureState=C,this.currState=B,this.forwardEvent=J}activate(P){const C=this.futureState._root,B=this.currState?this.currState._root:null;this.deactivateChildRoutes(C,B,P),$s(this.futureState.root),this.activateChildRoutes(C,B,P)}deactivateChildRoutes(P,C,B){const J=qi(C);P.children.forEach(Ce=>{const Re=Ce.value.outlet;this.deactivateRoutes(Ce,J[Re],B),delete J[Re]}),Mn(J,(Ce,Re)=>{this.deactivateRouteAndItsChildren(Ce,B)})}deactivateRoutes(P,C,B){const J=P.value,Ce=C?C.value:null;if(J===Ce)if(J.component){const Re=B.getContext(J.outlet);Re&&this.deactivateChildRoutes(P,C,Re.children)}else this.deactivateChildRoutes(P,C,B);else Ce&&this.deactivateRouteAndItsChildren(C,B)}deactivateRouteAndItsChildren(P,C){P.value.component&&this.routeReuseStrategy.shouldDetach(P.value.snapshot)?this.detachAndStoreRouteSubtree(P,C):this.deactivateRouteAndOutlet(P,C)}detachAndStoreRouteSubtree(P,C){const B=C.getContext(P.value.outlet),J=B&&P.value.component?B.children:C,Ce=qi(P);for(const Re of Object.keys(Ce))this.deactivateRouteAndItsChildren(Ce[Re],J);if(B&&B.outlet){const Re=B.outlet.detach(),Dt=B.children.onOutletDeactivated();this.routeReuseStrategy.store(P.value.snapshot,{componentRef:Re,route:P,contexts:Dt})}}deactivateRouteAndOutlet(P,C){const B=C.getContext(P.value.outlet),J=B&&P.value.component?B.children:C,Ce=qi(P);for(const Re of Object.keys(Ce))this.deactivateRouteAndItsChildren(Ce[Re],J);B&&(B.outlet&&(B.outlet.deactivate(),B.children.onOutletDeactivated()),B.attachRef=null,B.resolver=null,B.route=null)}activateChildRoutes(P,C,B){const J=qi(C);P.children.forEach(Ce=>{this.activateRoutes(Ce,J[Ce.value.outlet],B),this.forwardEvent(new vr(Ce.value.snapshot))}),P.children.length&&this.forwardEvent(new io(P.value.snapshot))}activateRoutes(P,C,B){const J=P.value,Ce=C?C.value:null;if($s(J),J===Ce)if(J.component){const Re=B.getOrCreateContext(J.outlet);this.activateChildRoutes(P,C,Re.children)}else this.activateChildRoutes(P,C,B);else if(J.component){const Re=B.getOrCreateContext(J.outlet);if(this.routeReuseStrategy.shouldAttach(J.snapshot)){const Dt=this.routeReuseStrategy.retrieve(J.snapshot);this.routeReuseStrategy.store(J.snapshot,null),Re.children.onOutletReAttached(Dt.contexts),Re.attachRef=Dt.componentRef,Re.route=Dt.route.value,Re.outlet&&Re.outlet.attach(Dt.componentRef,Dt.route.value),$s(Dt.route.value),this.activateChildRoutes(P,null,Re.children)}else{const Dt=Fi(J.snapshot),ln=Dt?.get(l._Vd)??null;Re.attachRef=null,Re.route=J,Re.resolver=ln,Re.injector=Dt,Re.outlet&&Re.outlet.activateWith(J,Re.injector),this.activateChildRoutes(P,null,Re.children)}}else this.activateChildRoutes(P,null,B)}}class So{constructor(P){this.path=P,this.route=this.path[this.path.length-1]}}class Or{constructor(P,C){this.component=P,this.route=C}}function Ss(D,P,C){const B=D._root;return ao(B,P?P._root:null,C,[B.value])}function Mo(D,P){const C=Symbol(),B=P.get(D,C);return B===C?"function"!=typeof D||(0,l.Z0I)(D)?P.get(D):D:B}function ao(D,P,C,B,J={canDeactivateChecks:[],canActivateChecks:[]}){const Ce=qi(P);return D.children.forEach(Re=>{(function qs(D,P,C,B,J={canDeactivateChecks:[],canActivateChecks:[]}){const Ce=D.value,Re=P?P.value:null,Dt=C?C.getContext(D.value.outlet):null;if(Re&&Ce.routeConfig===Re.routeConfig){const ln=function fs(D,P,C){if("function"==typeof C)return C(D,P);switch(C){case"pathParamsChange":return!mn(D.url,P.url);case"pathParamsOrQueryParamsChange":return!mn(D.url,P.url)||!Mt(D.queryParams,P.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ua(D,P)||!Mt(D.queryParams,P.queryParams);default:return!ua(D,P)}}(Re,Ce,Ce.routeConfig.runGuardsAndResolvers);ln?J.canActivateChecks.push(new So(B)):(Ce.data=Re.data,Ce._resolvedData=Re._resolvedData),ao(D,P,Ce.component?Dt?Dt.children:null:C,B,J),ln&&Dt&&Dt.outlet&&Dt.outlet.isActivated&&J.canDeactivateChecks.push(new Or(Dt.outlet.component,Re))}else Re&&Wn(P,Dt,J),J.canActivateChecks.push(new So(B)),ao(D,null,Ce.component?Dt?Dt.children:null:C,B,J)})(Re,Ce[Re.value.outlet],C,B.concat([Re.value]),J),delete Ce[Re.value.outlet]}),Mn(Ce,(Re,Dt)=>Wn(Re,C.getContext(Dt),J)),J}function Wn(D,P,C){const B=qi(D),J=D.value;Mn(B,(Ce,Re)=>{Wn(Ce,J.component?P?P.children.getContext(Re):null:P,C)}),C.canDeactivateChecks.push(new Or(J.component&&P&&P.outlet&&P.outlet.isActivated?P.outlet.component:null,J))}function ie(D){return"function"==typeof D}function xn(D){return D instanceof de.K||"EmptyError"===D?.name}const pi=Symbol("INITIAL_VALUE");function Ni(){return(0,he.w)(D=>(0,ee.a)(D.map(P=>P.pipe((0,xe.q)(1),(0,je.O)(pi)))).pipe((0,pe.U)(P=>{for(const C of P)if(!0!==C){if(C===pi)return pi;if(!1===C||C instanceof De)return C}return!0}),(0,Pe.h)(P=>P!==pi),(0,xe.q)(1)))}function er(D){return(0,k.z)((0,ct.b)(P=>{if(Oe(P))throw da(0,P)}),(0,pe.U)(P=>!0===P))}const lo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Uo(D,P,C,B,J){const Ce=Qr(D,P,C);return Ce.matched?function Hr(D,P,C,B){const J=P.canMatch;if(!J||0===J.length)return(0,f.of)(!0);const Ce=J.map(Re=>{const Dt=Mo(Re,D);return Pn(function Ut(D){return D&&ie(D.canMatch)}(Dt)?Dt.canMatch(P,C):D.runInContext(()=>Dt(P,C)))});return(0,f.of)(Ce).pipe(Ni(),er())}(B=us(P,B),P,C).pipe((0,pe.U)(Re=>!0===Re?Ce:{...lo})):(0,f.of)(Ce)}function Qr(D,P,C){if(""===P.path)return"full"===P.pathMatch&&(D.hasChildren()||C.length>0)?{...lo}:{matched:!0,consumedSegments:[],remainingSegments:C,parameters:{},positionalParamSegments:{}};const J=(P.matcher||Tt)(C,D,P);if(!J)return{...lo};const Ce={};Mn(J.posParams,(Dt,ln)=>{Ce[ln]=Dt.path});const Re=J.consumed.length>0?{...Ce,...J.consumed[J.consumed.length-1].parameters}:Ce;return{matched:!0,consumedSegments:J.consumed,remainingSegments:C.slice(J.consumed.length),parameters:Re,positionalParamSegments:J.posParams??{}}}function Ms(D,P,C,B){if(C.length>0&&function gl(D,P,C){return C.some(B=>ns(D,P,B)&&Si(B)!==ye)}(D,C,B)){const Ce=new rt(P,function ml(D,P,C,B){const J={};J[ye]=B,B._sourceSegment=D,B._segmentIndexShift=P.length;for(const Ce of C)if(""===Ce.path&&Si(Ce)!==ye){const Re=new rt([],{});Re._sourceSegment=D,Re._segmentIndexShift=P.length,J[Si(Ce)]=Re}return J}(D,P,B,new rt(C,D.children)));return Ce._sourceSegment=D,Ce._segmentIndexShift=P.length,{segmentGroup:Ce,slicedSegments:[]}}if(0===C.length&&function co(D,P,C){return C.some(B=>ns(D,P,B))}(D,C,B)){const Ce=new rt(D.segments,function Wa(D,P,C,B,J){const Ce={};for(const Re of B)if(ns(D,C,Re)&&!J[Si(Re)]){const Dt=new rt([],{});Dt._sourceSegment=D,Dt._segmentIndexShift=P.length,Ce[Si(Re)]=Dt}return{...J,...Ce}}(D,P,C,B,D.children));return Ce._sourceSegment=D,Ce._segmentIndexShift=P.length,{segmentGroup:Ce,slicedSegments:C}}const J=new rt(D.segments,D.children);return J._sourceSegment=D,J._segmentIndexShift=P.length,{segmentGroup:J,slicedSegments:C}}function ns(D,P,C){return(!(D.hasChildren()||P.length>0)||"full"!==C.pathMatch)&&""===C.path}function pa(D,P,C,B){return!!(Si(D)===B||B!==ye&&ns(P,C,D))&&("**"===D.path||Qr(P,D,C).matched)}function Qs(D,P,C){return 0===P.length&&!D.children[C]}const Za=!1;class Ps{constructor(P){this.segmentGroup=P||null}}class Ia{constructor(P){this.urlTree=P}}function ma(D){return(0,U._)(new Ps(D))}function Zl(D){return(0,U._)(new Ia(D))}class Ac{constructor(P,C,B,J,Ce){this.injector=P,this.configLoader=C,this.urlSerializer=B,this.urlTree=J,this.config=Ce,this.allowRedirects=!0}apply(){const P=Ms(this.urlTree.root,[],[],this.config).segmentGroup,C=new rt(P.segments,P.children);return this.expandSegmentGroup(this.injector,this.config,C,ye).pipe((0,pe.U)(Ce=>this.createUrlTree(j(Ce),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Ot.K)(Ce=>{if(Ce instanceof Ia)return this.allowRedirects=!1,this.match(Ce.urlTree);throw Ce instanceof Ps?this.noMatchError(Ce):Ce}))}match(P){return this.expandSegmentGroup(this.injector,this.config,P.root,ye).pipe((0,pe.U)(J=>this.createUrlTree(j(J),P.queryParams,P.fragment))).pipe((0,Ot.K)(J=>{throw J instanceof Ps?this.noMatchError(J):J}))}noMatchError(P){return new l.vHH(4002,Za)}createUrlTree(P,C,B){const J=T(P);return new De(J,C,B)}expandSegmentGroup(P,C,B,J){return 0===B.segments.length&&B.hasChildren()?this.expandChildren(P,C,B).pipe((0,pe.U)(Ce=>new rt([],Ce))):this.expandSegment(P,B,C,B.segments,J,!0)}expandChildren(P,C,B){const J=[];for(const Ce of Object.keys(B.children))"primary"===Ce?J.unshift(Ce):J.push(Ce);return(0,b.D)(J).pipe((0,Ue.b)(Ce=>{const Re=B.children[Ce],Dt=so(C,Ce);return this.expandSegmentGroup(P,Dt,Re,Ce).pipe((0,pe.U)(ln=>({segment:ln,outlet:Ce})))}),(0,at.R)((Ce,Re)=>(Ce[Re.outlet]=Re.segment,Ce),{}),we())}expandSegment(P,C,B,J,Ce,Re){return(0,b.D)(B).pipe((0,Ue.b)(Dt=>this.expandSegmentAgainstRoute(P,C,B,Dt,J,Ce,Re).pipe((0,Ot.K)(Vn=>{if(Vn instanceof Ps)return(0,f.of)(null);throw Vn}))),(0,dt.P)(Dt=>!!Dt),(0,Ot.K)((Dt,ln)=>{if(xn(Dt))return Qs(C,J,Ce)?(0,f.of)(new rt([],{})):ma(C);throw Dt}))}expandSegmentAgainstRoute(P,C,B,J,Ce,Re,Dt){return pa(J,C,Ce,Re)?void 0===J.redirectTo?this.matchSegmentAgainstRoute(P,C,J,Ce,Re):Dt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(P,C,B,J,Ce,Re):ma(C):ma(C)}expandSegmentAgainstRouteUsingRedirect(P,C,B,J,Ce,Re){return"**"===J.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(P,B,J,Re):this.expandRegularSegmentAgainstRouteUsingRedirect(P,C,B,J,Ce,Re)}expandWildCardWithParamsAgainstRouteUsingRedirect(P,C,B,J){const Ce=this.applyRedirectCommands([],B.redirectTo,{});return B.redirectTo.startsWith("/")?Zl(Ce):this.lineralizeSegments(B,Ce).pipe((0,Xe.z)(Re=>{const Dt=new rt(Re,{});return this.expandSegment(P,Dt,C,Re,J,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(P,C,B,J,Ce,Re){const{matched:Dt,consumedSegments:ln,remainingSegments:Vn,positionalParamSegments:Hn}=Qr(C,J,Ce);if(!Dt)return ma(C);const mi=this.applyRedirectCommands(ln,J.redirectTo,Hn);return J.redirectTo.startsWith("/")?Zl(mi):this.lineralizeSegments(J,mi).pipe((0,Xe.z)(Ar=>this.expandSegment(P,C,B,Ar.concat(Vn),Re,!1)))}matchSegmentAgainstRoute(P,C,B,J,Ce){return"**"===B.path?(P=us(B,P),B.loadChildren?(B._loadedRoutes?(0,f.of)({routes:B._loadedRoutes,injector:B._loadedInjector}):this.configLoader.loadChildren(P,B)).pipe((0,pe.U)(Dt=>(B._loadedRoutes=Dt.routes,B._loadedInjector=Dt.injector,new rt(J,{})))):(0,f.of)(new rt(J,{}))):Uo(C,B,J,P).pipe((0,he.w)(({matched:Re,consumedSegments:Dt,remainingSegments:ln})=>Re?this.getChildConfig(P=B._injector??P,B,J).pipe((0,Xe.z)(Hn=>{const mi=Hn.injector??P,Ar=Hn.routes,{segmentGroup:Po,slicedSegments:Qo}=Ms(C,Dt,ln,Ar),el=new rt(Po.segments,Po.children);if(0===Qo.length&&el.hasChildren())return this.expandChildren(mi,Ar,el).pipe((0,pe.U)(Ra=>new rt(Dt,Ra)));if(0===Ar.length&&0===Qo.length)return(0,f.of)(new rt(Dt,{}));const un=Si(B)===Ce;return this.expandSegment(mi,el,Ar,Qo,un?ye:Ce,!0).pipe((0,pe.U)(eo=>new rt(Dt.concat(eo.segments),eo.children)))})):ma(C)))}getChildConfig(P,C,B){return C.children?(0,f.of)({routes:C.children,injector:P}):C.loadChildren?void 0!==C._loadedRoutes?(0,f.of)({routes:C._loadedRoutes,injector:C._loadedInjector}):function Cr(D,P,C,B){const J=P.canLoad;if(void 0===J||0===J.length)return(0,f.of)(!0);const Ce=J.map(Re=>{const Dt=Mo(Re,D);return Pn(function A(D){return D&&ie(D.canLoad)}(Dt)?Dt.canLoad(P,C):D.runInContext(()=>Dt(P,C)))});return(0,f.of)(Ce).pipe(Ni(),er())}(P,C,B).pipe((0,Xe.z)(J=>J?this.configLoader.loadChildren(P,C).pipe((0,ct.b)(Ce=>{C._loadedRoutes=Ce.routes,C._loadedInjector=Ce.injector})):function Iu(D){return(0,U._)(Bo(Za,3))}())):(0,f.of)({routes:[],injector:P})}lineralizeSegments(P,C){let B=[],J=C.root;for(;;){if(B=B.concat(J.segments),0===J.numberOfChildren)return(0,f.of)(B);if(J.numberOfChildren>1||!J.children[ye])return P.redirectTo,(0,U._)(new l.vHH(4e3,Za));J=J.children[ye]}}applyRedirectCommands(P,C,B){return this.applyRedirectCreateUrlTree(C,this.urlSerializer.parse(C),P,B)}applyRedirectCreateUrlTree(P,C,B,J){const Ce=this.createSegmentGroup(P,C.root,B,J);return new De(Ce,this.createQueryParams(C.queryParams,this.urlTree.queryParams),C.fragment)}createQueryParams(P,C){const B={};return Mn(P,(J,Ce)=>{if("string"==typeof J&&J.startsWith(":")){const Dt=J.substring(1);B[Ce]=C[Dt]}else B[Ce]=J}),B}createSegmentGroup(P,C,B,J){const Ce=this.createSegments(P,C.segments,B,J);let Re={};return Mn(C.children,(Dt,ln)=>{Re[ln]=this.createSegmentGroup(P,Dt,B,J)}),new rt(Ce,Re)}createSegments(P,C,B,J){return C.map(Ce=>Ce.path.startsWith(":")?this.findPosParam(P,Ce,J):this.findOrReturn(Ce,B))}findPosParam(P,C,B){const J=B[C.path.substring(1)];if(!J)throw new l.vHH(4001,Za);return J}findOrReturn(P,C){let B=0;for(const J of C){if(J.path===P.path)return C.splice(B),J;B++}return P}}class Zo{}class Au{constructor(P,C,B,J,Ce,Re,Dt){this.injector=P,this.rootComponentType=C,this.config=B,this.urlTree=J,this.url=Ce,this.paramsInheritanceStrategy=Re,this.urlSerializer=Dt}recognize(){const P=Ms(this.urlTree.root,[],[],this.config.filter(C=>void 0===C.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,P,ye).pipe((0,pe.U)(C=>{if(null===C)return null;const B=new Jo([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ye,this.rootComponentType,null,this.urlTree.root,-1,{}),J=new ro(B,C),Ce=new Is(this.url,J);return this.inheritParamsAndData(Ce._root),Ce}))}inheritParamsAndData(P){const C=P.value,B=ls(C,this.paramsInheritanceStrategy);C.params=Object.freeze(B.params),C.data=Object.freeze(B.data),P.children.forEach(J=>this.inheritParamsAndData(J))}processSegmentGroup(P,C,B,J){return 0===B.segments.length&&B.hasChildren()?this.processChildren(P,C,B):this.processSegment(P,C,B,B.segments,J)}processChildren(P,C,B){return(0,b.D)(Object.keys(B.children)).pipe((0,Ue.b)(J=>{const Ce=B.children[J],Re=so(C,J);return this.processSegmentGroup(P,Re,Ce,J)}),(0,at.R)((J,Ce)=>J&&Ce?(J.push(...Ce),J):null),function ke(D,P=!1){return(0,le.e)((C,B)=>{let J=0;C.subscribe((0,Ae.x)(B,Ce=>{const Re=D(Ce,J++);(Re||P)&&B.next(Ce),!Re&&B.complete()}))})}(J=>null!==J),(0,jt.d)(null),we(),(0,pe.U)(J=>{if(null===J)return null;const Ce=Su(J);return function Yl(D){D.sort((P,C)=>P.value.outlet===ye?-1:C.value.outlet===ye?1:P.value.outlet.localeCompare(C.value.outlet))}(Ce),Ce}))}processSegment(P,C,B,J,Ce){return(0,b.D)(C).pipe((0,Ue.b)(Re=>this.processSegmentAgainstRoute(Re._injector??P,Re,B,J,Ce)),(0,dt.P)(Re=>!!Re),(0,Ot.K)(Re=>{if(xn(Re))return Qs(B,J,Ce)?(0,f.of)([]):(0,f.of)(null);throw Re}))}processSegmentAgainstRoute(P,C,B,J,Ce){if(C.redirectTo||!pa(C,B,J,Ce))return(0,f.of)(null);let Re;if("**"===C.path){const Dt=J.length>0?Bn(J).parameters:{},ln=Da(B)+J.length,Vn=new Jo(J,Dt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ce(C),Si(C),C.component??C._loadedComponent??null,C,Aa(B),ln,V(C));Re=(0,f.of)({snapshot:Vn,consumedSegments:[],remainingSegments:[]})}else Re=Uo(B,C,J,P).pipe((0,pe.U)(({matched:Dt,consumedSegments:ln,remainingSegments:Vn,parameters:Hn})=>{if(!Dt)return null;const mi=Da(B)+ln.length;return{snapshot:new Jo(ln,Hn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ce(C),Si(C),C.component??C._loadedComponent??null,C,Aa(B),mi,V(C)),consumedSegments:ln,remainingSegments:Vn}}));return Re.pipe((0,he.w)(Dt=>{if(null===Dt)return(0,f.of)(null);const{snapshot:ln,consumedSegments:Vn,remainingSegments:Hn}=Dt;P=C._injector??P;const mi=C._loadedInjector??P,Ar=function Du(D){return D.children?D.children:D.loadChildren?D._loadedRoutes:[]}(C),{segmentGroup:Po,slicedSegments:Qo}=Ms(B,Vn,Hn,Ar.filter(un=>void 0===un.redirectTo));if(0===Qo.length&&Po.hasChildren())return this.processChildren(mi,Ar,Po).pipe((0,pe.U)(un=>null===un?null:[new ro(ln,un)]));if(0===Ar.length&&0===Qo.length)return(0,f.of)([new ro(ln,[])]);const el=Si(C)===Ce;return this.processSegment(mi,Ar,Po,Qo,el?ye:Ce).pipe((0,pe.U)(un=>null===un?null:[new ro(ln,un)]))}))}}function Ya(D){const P=D.value.routeConfig;return P&&""===P.path&&void 0===P.redirectTo}function Su(D){const P=[],C=new Set;for(const B of D){if(!Ya(B)){P.push(B);continue}const J=P.find(Ce=>B.value.routeConfig===Ce.value.routeConfig);void 0!==J?(J.children.push(...B.children),C.add(J)):P.push(B)}for(const B of C){const J=Su(B.children);P.push(new ro(B.value,J))}return P.filter(B=>!C.has(B))}function Aa(D){let P=D;for(;P._sourceSegment;)P=P._sourceSegment;return P}function Da(D){let P=D,C=P._segmentIndexShift??0;for(;P._sourceSegment;)P=P._sourceSegment,C+=P._segmentIndexShift??0;return C-1}function ce(D){return D.data||{}}function V(D){return D.resolve||{}}function Oi(D){return"string"==typeof D.title||null===D.title}function Mi(D){return(0,he.w)(P=>{const C=D(P);return C?(0,b.D)(C).pipe((0,pe.U)(()=>P)):(0,f.of)(P)})}const tr=new l.OlP("ROUTES");let Li=(()=>{class D{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.f3M)(l.Sil)}loadComponent(C){if(this.componentLoaders.get(C))return this.componentLoaders.get(C);if(C._loadedComponent)return(0,f.of)(C._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(C);const B=Pn(C.loadComponent()).pipe((0,pe.U)(ps),(0,ct.b)(Ce=>{this.onLoadEndListener&&this.onLoadEndListener(C),C._loadedComponent=Ce}),(0,me.x)(()=>{this.componentLoaders.delete(C)})),J=new oe(B,()=>new fe.x).pipe(_e());return this.componentLoaders.set(C,J),J}loadChildren(C,B){if(this.childrenLoaders.get(B))return this.childrenLoaders.get(B);if(B._loadedRoutes)return(0,f.of)({routes:B._loadedRoutes,injector:B._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(B);const Ce=this.loadModuleFactoryOrRoutes(B.loadChildren).pipe((0,pe.U)(Dt=>{this.onLoadEndListener&&this.onLoadEndListener(B);let ln,Vn,Hn=!1;Array.isArray(Dt)?Vn=Dt:(ln=Dt.create(C).injector,Vn=_n(ln.get(tr,[],l.XFs.Self|l.XFs.Optional)));return{routes:Vn.map(ir),injector:ln}}),(0,me.x)(()=>{this.childrenLoaders.delete(B)})),Re=new oe(Ce,()=>new fe.x).pipe(_e());return this.childrenLoaders.set(B,Re),Re}loadModuleFactoryOrRoutes(C){return Pn(C()).pipe((0,pe.U)(ps),(0,Xe.z)(B=>B instanceof l.YKP||Array.isArray(B)?(0,f.of)(B):(0,b.D)(this.compiler.compileModuleAsync(B))))}}return D.\u0275fac=function(C){return new(C||D)},D.\u0275prov=l.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function ps(D){return function Lr(D){return D&&"object"==typeof D&&"default"in D}(D)?D.default:D}let Ko=(()=>{class D{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new fe.x,this.configLoader=(0,l.f3M)(Li),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(zn),this.rootContexts=(0,l.f3M)(dr),this.navigationId=0,this.afterPreactivation=()=>(0,f.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=J=>this.events.next(new Zr(J)),this.configLoader.onLoadStartListener=J=>this.events.next(new Wr(J))}complete(){this.transitions?.complete()}handleNavigationRequest(C){const B=++this.navigationId;this.transitions?.next({...this.transitions.value,...C,id:B})}setupNavigations(C){return this.transitions=new O.X({id:0,targetPageId:0,currentUrlTree:C.currentUrlTree,currentRawUrl:C.currentUrlTree,extractedUrl:C.urlHandlingStrategy.extract(C.currentUrlTree),urlAfterRedirects:C.urlHandlingStrategy.extract(C.currentUrlTree),rawUrl:C.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Vi,restoredState:null,currentSnapshot:C.routerState.snapshot,targetSnapshot:null,currentRouterState:C.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Pe.h)(B=>0!==B.id),(0,pe.U)(B=>({...B,extractedUrl:C.urlHandlingStrategy.extract(B.rawUrl)})),(0,he.w)(B=>{let J=!1,Ce=!1;return(0,f.of)(B).pipe((0,ct.b)(Re=>{this.currentNavigation={id:Re.id,initialUrl:Re.rawUrl,extractedUrl:Re.extractedUrl,trigger:Re.source,extras:Re.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,he.w)(Re=>{const Dt=C.browserUrlTree.toString(),ln=!C.navigated||Re.extractedUrl.toString()!==Dt||Dt!==C.currentUrlTree.toString();if(!ln&&"reload"!==(Re.extras.onSameUrlNavigation??C.onSameUrlNavigation)){const Hn="";return this.events.next(new si(Re.id,C.serializeUrl(B.rawUrl),Hn,0)),C.rawUrlTree=Re.rawUrl,Re.resolve(null),W.E}if(C.urlHandlingStrategy.shouldProcessUrl(Re.rawUrl))return zo(Re.source)&&(C.browserUrlTree=Re.extractedUrl),(0,f.of)(Re).pipe((0,he.w)(Hn=>{const mi=this.transitions?.getValue();return this.events.next(new ui(Hn.id,this.urlSerializer.serialize(Hn.extractedUrl),Hn.source,Hn.restoredState)),mi!==this.transitions?.getValue()?W.E:Promise.resolve(Hn)}),function Kl(D,P,C,B){return(0,he.w)(J=>function Ka(D,P,C,B,J){return new Ac(D,P,C,B,J).apply()}(D,P,C,J.extractedUrl,B).pipe((0,pe.U)(Ce=>({...J,urlAfterRedirects:Ce}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,C.config),(0,ct.b)(Hn=>{this.currentNavigation={...this.currentNavigation,finalUrl:Hn.urlAfterRedirects},B.urlAfterRedirects=Hn.urlAfterRedirects}),function ve(D,P,C,B,J){return(0,Xe.z)(Ce=>function Tu(D,P,C,B,J,Ce,Re="emptyOnly"){return new Au(D,P,C,B,J,Re,Ce).recognize().pipe((0,he.w)(Dt=>null===Dt?function fr(D){return new z.y(P=>P.error(D))}(new Zo):(0,f.of)(Dt)))}(D,P,C,Ce.urlAfterRedirects,B.serialize(Ce.urlAfterRedirects),B,J).pipe((0,pe.U)(Re=>({...Ce,targetSnapshot:Re}))))}(this.environmentInjector,this.rootComponentType,C.config,this.urlSerializer,C.paramsInheritanceStrategy),(0,ct.b)(Hn=>{if(B.targetSnapshot=Hn.targetSnapshot,"eager"===C.urlUpdateStrategy){if(!Hn.extras.skipLocationChange){const Ar=C.urlHandlingStrategy.merge(Hn.urlAfterRedirects,Hn.rawUrl);C.setBrowserUrl(Ar,Hn)}C.browserUrlTree=Hn.urlAfterRedirects}const mi=new $o(Hn.id,this.urlSerializer.serialize(Hn.extractedUrl),this.urlSerializer.serialize(Hn.urlAfterRedirects),Hn.targetSnapshot);this.events.next(mi)}));if(ln&&C.urlHandlingStrategy.shouldProcessUrl(C.rawUrlTree)){const{id:Hn,extractedUrl:mi,source:Ar,restoredState:Po,extras:Qo}=Re,el=new ui(Hn,this.urlSerializer.serialize(mi),Ar,Po);this.events.next(el);const un=Qi(mi,this.rootComponentType).snapshot;return B={...Re,targetSnapshot:un,urlAfterRedirects:mi,extras:{...Qo,skipLocationChange:!1,replaceUrl:!1}},(0,f.of)(B)}{const Hn="";return this.events.next(new si(Re.id,C.serializeUrl(B.extractedUrl),Hn,1)),C.rawUrlTree=Re.rawUrl,Re.resolve(null),W.E}}),(0,ct.b)(Re=>{const Dt=new zs(Re.id,this.urlSerializer.serialize(Re.extractedUrl),this.urlSerializer.serialize(Re.urlAfterRedirects),Re.targetSnapshot);this.events.next(Dt)}),(0,pe.U)(Re=>B={...Re,guards:Ss(Re.targetSnapshot,Re.currentSnapshot,this.rootContexts)}),function bi(D,P){return(0,Xe.z)(C=>{const{targetSnapshot:B,currentSnapshot:J,guards:{canActivateChecks:Ce,canDeactivateChecks:Re}}=C;return 0===Re.length&&0===Ce.length?(0,f.of)({...C,guardsResult:!0}):function Hi(D,P,C,B){return(0,b.D)(D).pipe((0,Xe.z)(J=>function kr(D,P,C,B,J){const Ce=P&&P.routeConfig?P.routeConfig.canDeactivate:null;if(!Ce||0===Ce.length)return(0,f.of)(!0);const Re=Ce.map(Dt=>{const ln=Fi(P)??J,Vn=Mo(Dt,ln);return Pn(function Ge(D){return D&&ie(D.canDeactivate)}(Vn)?Vn.canDeactivate(D,P,C,B):ln.runInContext(()=>Vn(D,P,C,B))).pipe((0,dt.P)())});return(0,f.of)(Re).pipe(Ni())}(J.component,J.route,C,P,B)),(0,dt.P)(J=>!0!==J,!0))}(Re,B,J,D).pipe((0,Xe.z)(Dt=>Dt&&function E(D){return"boolean"==typeof D}(Dt)?function Wi(D,P,C,B){return(0,b.D)(P).pipe((0,Ue.b)(J=>(0,te.z)(function Ji(D,P){return null!==D&&P&&P(new Kr(D)),(0,f.of)(!0)}(J.route.parent,B),function Xi(D,P){return null!==D&&P&&P(new Ri(D)),(0,f.of)(!0)}(J.route,B),function Vo(D,P,C){const B=P[P.length-1],Ce=P.slice(0,P.length-1).reverse().map(Re=>function fa(D){const P=D.routeConfig?D.routeConfig.canActivateChild:null;return P&&0!==P.length?{node:D,guards:P}:null}(Re)).filter(Re=>null!==Re).map(Re=>Y(()=>{const Dt=Re.guards.map(ln=>{const Vn=Fi(Re.node)??C,Hn=Mo(ln,Vn);return Pn(function q(D){return D&&ie(D.canActivateChild)}(Hn)?Hn.canActivateChild(B,D):Vn.runInContext(()=>Hn(B,D))).pipe((0,dt.P)())});return(0,f.of)(Dt).pipe(Ni())}));return(0,f.of)(Ce).pipe(Ni())}(D,J.path,C),function go(D,P,C){const B=P.routeConfig?P.routeConfig.canActivate:null;if(!B||0===B.length)return(0,f.of)(!0);const J=B.map(Ce=>Y(()=>{const Re=Fi(P)??C,Dt=Mo(Ce,Re);return Pn(function S(D){return D&&ie(D.canActivate)}(Dt)?Dt.canActivate(P,D):Re.runInContext(()=>Dt(P,D))).pipe((0,dt.P)())}));return(0,f.of)(J).pipe(Ni())}(D,J.route,C))),(0,dt.P)(J=>!0!==J,!0))}(B,Ce,D,P):(0,f.of)(Dt)),(0,pe.U)(Dt=>({...C,guardsResult:Dt})))})}(this.environmentInjector,Re=>this.events.next(Re)),(0,ct.b)(Re=>{if(B.guardsResult=Re.guardsResult,Oe(Re.guardsResult))throw da(0,Re.guardsResult);const Dt=new Ir(Re.id,this.urlSerializer.serialize(Re.extractedUrl),this.urlSerializer.serialize(Re.urlAfterRedirects),Re.targetSnapshot,!!Re.guardsResult);this.events.next(Dt)}),(0,Pe.h)(Re=>!!Re.guardsResult||(C.restoreHistory(Re),this.cancelNavigationTransition(Re,"",3),!1)),Mi(Re=>{if(Re.guards.canActivateChecks.length)return(0,f.of)(Re).pipe((0,ct.b)(Dt=>{const ln=new Tr(Dt.id,this.urlSerializer.serialize(Dt.extractedUrl),this.urlSerializer.serialize(Dt.urlAfterRedirects),Dt.targetSnapshot);this.events.next(ln)}),(0,he.w)(Dt=>{let ln=!1;return(0,f.of)(Dt).pipe(function Ke(D,P){return(0,Xe.z)(C=>{const{targetSnapshot:B,guards:{canActivateChecks:J}}=C;if(!J.length)return(0,f.of)(C);let Ce=0;return(0,b.D)(J).pipe((0,Ue.b)(Re=>function Ht(D,P,C,B){const J=D.routeConfig,Ce=D._resolve;return void 0!==J?.title&&!Oi(J)&&(Ce[R]=J.title),function Xt(D,P,C,B){const J=function Kn(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}(D);if(0===J.length)return(0,f.of)({});const Ce={};return(0,b.D)(J).pipe((0,Xe.z)(Re=>function Ki(D,P,C,B){const J=Fi(P)??B,Ce=Mo(D,J);return Pn(Ce.resolve?Ce.resolve(P,C):J.runInContext(()=>Ce(P,C)))}(D[Re],P,C,B).pipe((0,dt.P)(),(0,ct.b)(Dt=>{Ce[Re]=Dt}))),fn(1),(0,Ne.h)(Ce),(0,Ot.K)(Re=>xn(Re)?W.E:(0,U._)(Re)))}(Ce,D,P,B).pipe((0,pe.U)(Re=>(D._resolvedData=Re,D.data=ls(D,C).resolve,J&&Oi(J)&&(D.data[R]=J.title),null)))}(Re.route,B,D,P)),(0,ct.b)(()=>Ce++),fn(1),(0,Xe.z)(Re=>Ce===J.length?(0,f.of)(C):W.E))})}(C.paramsInheritanceStrategy,this.environmentInjector),(0,ct.b)({next:()=>ln=!0,complete:()=>{ln||(C.restoreHistory(Dt),this.cancelNavigationTransition(Dt,"",2))}}))}),(0,ct.b)(Dt=>{const ln=new To(Dt.id,this.urlSerializer.serialize(Dt.extractedUrl),this.urlSerializer.serialize(Dt.urlAfterRedirects),Dt.targetSnapshot);this.events.next(ln)}))}),Mi(Re=>{const Dt=ln=>{const Vn=[];ln.routeConfig?.loadComponent&&!ln.routeConfig._loadedComponent&&Vn.push(this.configLoader.loadComponent(ln.routeConfig).pipe((0,ct.b)(Hn=>{ln.component=Hn}),(0,pe.U)(()=>{})));for(const Hn of ln.children)Vn.push(...Dt(Hn));return Vn};return(0,ee.a)(Dt(Re.targetSnapshot.root)).pipe((0,jt.d)(),(0,xe.q)(1))}),Mi(()=>this.afterPreactivation()),(0,pe.U)(Re=>{const Dt=function Rr(D,P,C){const B=Lo(D,P._root,C?C._root:void 0);return new oo(B,P)}(C.routeReuseStrategy,Re.targetSnapshot,Re.currentRouterState);return B={...Re,targetRouterState:Dt}}),(0,ct.b)(Re=>{C.currentUrlTree=Re.urlAfterRedirects,C.rawUrlTree=C.urlHandlingStrategy.merge(Re.urlAfterRedirects,Re.rawUrl),C.routerState=Re.targetRouterState,"deferred"===C.urlUpdateStrategy&&(Re.extras.skipLocationChange||C.setBrowserUrl(C.rawUrlTree,Re),C.browserUrlTree=Re.urlAfterRedirects)}),((D,P,C)=>(0,pe.U)(B=>(new Ds(P,B.targetRouterState,B.currentRouterState,C).activate(D),B)))(this.rootContexts,C.routeReuseStrategy,Re=>this.events.next(Re)),(0,xe.q)(1),(0,ct.b)({next:Re=>{J=!0,this.lastSuccessfulNavigation=this.currentNavigation,C.navigated=!0,this.events.next(new _r(Re.id,this.urlSerializer.serialize(Re.extractedUrl),this.urlSerializer.serialize(C.currentUrlTree))),C.titleStrategy?.updateTitle(Re.targetRouterState.snapshot),Re.resolve(!0)},complete:()=>{J=!0}}),(0,me.x)(()=>{J||Ce||this.cancelNavigationTransition(B,"",1),this.currentNavigation?.id===B.id&&(this.currentNavigation=null)}),(0,Ot.K)(Re=>{if(Ce=!0,ha(Re)){mo(Re)||(C.navigated=!0,C.restoreHistory(B,!0));const Dt=new Io(B.id,this.urlSerializer.serialize(B.extractedUrl),Re.message,Re.cancellationCode);if(this.events.next(Dt),mo(Re)){const ln=C.urlHandlingStrategy.merge(Re.url,C.rawUrlTree),Vn={skipLocationChange:B.extras.skipLocationChange,replaceUrl:"eager"===C.urlUpdateStrategy||zo(B.source)};C.scheduleNavigation(ln,Vi,null,Vn,{resolve:B.resolve,reject:B.reject,promise:B.promise})}else B.resolve(!1)}else{C.restoreHistory(B,!0);const Dt=new Fo(B.id,this.urlSerializer.serialize(B.extractedUrl),Re,B.targetSnapshot??void 0);this.events.next(Dt);try{B.resolve(C.errorHandler(Re))}catch(ln){B.reject(ln)}}return W.E}))}))}cancelNavigationTransition(C,B,J){const Ce=new Io(C.id,this.urlSerializer.serialize(C.extractedUrl),B,J);this.events.next(Ce),C.resolve(!1)}}return D.\u0275fac=function(C){return new(C||D)},D.\u0275prov=l.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function zo(D){return D!==Vi}let ms=(()=>{class D{buildTitle(C){let B,J=C.root;for(;void 0!==J;)B=this.getResolvedTitleForRoute(J)??B,J=J.children.find(Ce=>Ce.outlet===ye);return B}getResolvedTitleForRoute(C){return C.data[R]}}return D.\u0275fac=function(C){return new(C||D)},D.\u0275prov=l.Yz7({token:D,factory:function(){return(0,l.f3M)(Qa)},providedIn:"root"}),D})(),Qa=(()=>{class D extends ms{constructor(C){super(),this.title=C}updateTitle(C){const B=this.buildTitle(C);void 0!==B&&this.title.setTitle(B)}}return D.\u0275fac=function(C){return new(C||D)(l.LFG(Z.Dx))},D.\u0275prov=l.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),gs=(()=>{class D{}return D.\u0275fac=function(C){return new(C||D)},D.\u0275prov=l.Yz7({token:D,factory:function(){return(0,l.f3M)(Dc)},providedIn:"root"}),D})();class Sd{shouldDetach(P){return!1}store(P,C){}shouldAttach(P){return!1}retrieve(P){return null}shouldReuseRoute(P,C){return P.routeConfig===C.routeConfig}}let Dc=(()=>{class D extends Sd{}return D.\u0275fac=function(){let P;return function(B){return(P||(P=l.n5z(D)))(B||D)}}(),D.\u0275prov=l.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const Sc=new l.OlP("",{providedIn:"root",factory:()=>({})});let Kh=(()=>{class D{}return D.\u0275fac=function(C){return new(C||D)},D.\u0275prov=l.Yz7({token:D,factory:function(){return(0,l.f3M)(bp)},providedIn:"root"}),D})(),bp=(()=>{class D{shouldProcessUrl(C){return!0}extract(C){return C}merge(C,B){return C}}return D.\u0275fac=function(C){return new(C||D)},D.\u0275prov=l.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Ep(D){throw D}function ql(D,P,C){return P.parse("/")}const pr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Yo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let _o=(()=>{class D{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this.options=(0,l.f3M)(Sc,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Ep,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ql,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(Kh),this.routeReuseStrategy=(0,l.f3M)(gs),this.urlCreationStrategy=(0,l.f3M)(ur),this.titleStrategy=(0,l.f3M)(ms),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=_n((0,l.f3M)(tr,{optional:!0})??[]),this.navigationTransitions=(0,l.f3M)(Ko),this.urlSerializer=(0,l.f3M)(zn),this.location=(0,l.f3M)(Me.Ye),this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new De,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Qi(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(C=>{this.lastSuccessfulId=C.id,this.currentPageId=this.browserPageId??0},C=>{this.console.warn(`Unhandled Navigation Error: ${C}`)})}resetRootComponentType(C){this.routerState.root.component=C,this.navigationTransitions.rootComponentType=C}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const C=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Vi,C)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(C=>{const B="popstate"===C.type?"popstate":"hashchange";"popstate"===B&&setTimeout(()=>{this.navigateToSyncWithBrowser(C.url,B,C.state)},0)}))}navigateToSyncWithBrowser(C,B,J){const Ce={replaceUrl:!0},Re=J?.navigationId?J:null;if(J){const ln={...J};delete ln.navigationId,delete ln.\u0275routerPageId,0!==Object.keys(ln).length&&(Ce.state=ln)}const Dt=this.parseUrl(C);this.scheduleNavigation(Dt,B,Re,Ce)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(C){this.config=C.map(ir),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(C,B={}){const{relativeTo:J,queryParams:Ce,fragment:Re,queryParamsHandling:Dt,preserveFragment:ln}=B,Vn=ln?this.currentUrlTree.fragment:Re;let Hn=null;switch(Dt){case"merge":Hn={...this.currentUrlTree.queryParams,...Ce};break;case"preserve":Hn=this.currentUrlTree.queryParams;break;default:Hn=Ce||null}return null!==Hn&&(Hn=this.removeEmptyProps(Hn)),this.urlCreationStrategy.createUrlTree(J,this.routerState,this.currentUrlTree,C,Hn,Vn??null)}navigateByUrl(C,B={skipLocationChange:!1}){const J=Oe(C)?C:this.parseUrl(C),Ce=this.urlHandlingStrategy.merge(J,this.rawUrlTree);return this.scheduleNavigation(Ce,Vi,null,B)}navigate(C,B={skipLocationChange:!1}){return function Sa(D){for(let P=0;P<D.length;P++){const C=D[P];if(null==C)throw new l.vHH(4008,false)}}(C),this.navigateByUrl(this.createUrlTree(C,B),B)}serializeUrl(C){return this.urlSerializer.serialize(C)}parseUrl(C){let B;try{B=this.urlSerializer.parse(C)}catch(J){B=this.malformedUriErrorHandler(J,this.urlSerializer,C)}return B}isActive(C,B){let J;if(J=!0===B?{...pr}:!1===B?{...Yo}:B,Oe(C))return He(this.currentUrlTree,C,J);const Ce=this.parseUrl(C);return He(this.currentUrlTree,Ce,J)}removeEmptyProps(C){return Object.keys(C).reduce((B,J)=>{const Ce=C[J];return null!=Ce&&(B[J]=Ce),B},{})}scheduleNavigation(C,B,J,Ce,Re){if(this.disposed)return Promise.resolve(!1);let Dt,ln,Vn,Hn;return Re?(Dt=Re.resolve,ln=Re.reject,Vn=Re.promise):Vn=new Promise((mi,Ar)=>{Dt=mi,ln=Ar}),Hn="computed"===this.canceledNavigationResolution?J&&J.\u0275routerPageId?J.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:Hn,source:B,restoredState:J,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:C,extras:Ce,resolve:Dt,reject:ln,promise:Vn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Vn.catch(mi=>Promise.reject(mi))}setBrowserUrl(C,B){const J=this.urlSerializer.serialize(C);if(this.location.isCurrentPathEqualTo(J)||B.extras.replaceUrl){const Re={...B.extras.state,...this.generateNgRouterState(B.id,this.browserPageId)};this.location.replaceState(J,"",Re)}else{const Ce={...B.extras.state,...this.generateNgRouterState(B.id,B.targetPageId)};this.location.go(J,"",Ce)}}restoreHistory(C,B=!1){if("computed"===this.canceledNavigationResolution){const Ce=this.currentPageId-(this.browserPageId??this.currentPageId);0!==Ce?this.location.historyGo(Ce):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===Ce&&(this.resetState(C),this.browserUrlTree=C.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(B&&this.resetState(C),this.resetUrlToCurrentUrlTree())}resetState(C){this.routerState=C.currentRouterState,this.currentUrlTree=C.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,C.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(C,B){return"computed"===this.canceledNavigationResolution?{navigationId:C,\u0275routerPageId:B}:{navigationId:C}}}return D.\u0275fac=function(C){return new(C||D)},D.\u0275prov=l.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),_l=(()=>{class D{constructor(C,B,J,Ce,Re,Dt){this.router=C,this.route=B,this.tabIndexAttribute=J,this.renderer=Ce,this.el=Re,this.locationStrategy=Dt,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new fe.x;const ln=Re.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ln||"area"===ln,this.isAnchorElement?this.subscription=C.events.subscribe(Vn=>{Vn instanceof _r&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(C){this._preserveFragment=(0,l.D6c)(C)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(C){this._skipLocationChange=(0,l.D6c)(C)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(C){this._replaceUrl=(0,l.D6c)(C)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(C){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",C)}ngOnChanges(C){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(C){null!=C?(this.commands=Array.isArray(C)?C:[C],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(C,B,J,Ce,Re){return!!(null===this.urlTree||this.isAnchorElement&&(0!==C||B||J||Ce||Re||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const C=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",C)}applyAttributeValue(C,B){const J=this.renderer,Ce=this.el.nativeElement;null!==B?J.setAttribute(Ce,C,B):J.removeAttribute(Ce,C)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return D.\u0275fac=function(C){return new(C||D)(l.Y36(_o),l.Y36(qr),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Me.S$))},D.\u0275dir=l.lG2({type:D,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(C,B){1&C&&l.NdJ("click",function(Ce){return B.onClick(Ce.button,Ce.ctrlKey,Ce.shiftKey,Ce.altKey,Ce.metaKey)}),2&C&&l.uIk("target",B.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),D})();class yl{}let Mc=(()=>{class D{constructor(C,B,J,Ce,Re){this.router=C,this.injector=J,this.preloadingStrategy=Ce,this.loader=Re}setUpPreloading(){this.subscription=this.router.events.pipe((0,Pe.h)(C=>C instanceof _r),(0,Ue.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(C,B){const J=[];for(const Ce of B){Ce.providers&&!Ce._injector&&(Ce._injector=(0,l.MMx)(Ce.providers,C,`Route: ${Ce.path}`));const Re=Ce._injector??C,Dt=Ce._loadedInjector??Re;(Ce.loadChildren&&!Ce._loadedRoutes&&void 0===Ce.canLoad||Ce.loadComponent&&!Ce._loadedComponent)&&J.push(this.preloadConfig(Re,Ce)),(Ce.children||Ce._loadedRoutes)&&J.push(this.processRoutes(Dt,Ce.children??Ce._loadedRoutes))}return(0,b.D)(J).pipe((0,qe.J)())}preloadConfig(C,B){return this.preloadingStrategy.preload(B,()=>{let J;J=B.loadChildren&&void 0===B.canLoad?this.loader.loadChildren(C,B):(0,f.of)(null);const Ce=J.pipe((0,Xe.z)(Re=>null===Re?(0,f.of)(void 0):(B._loadedRoutes=Re.routes,B._loadedInjector=Re.injector,this.processRoutes(Re.injector??C,Re.routes))));if(B.loadComponent&&!B._loadedComponent){const Re=this.loader.loadComponent(B);return(0,b.D)([Ce,Re]).pipe((0,qe.J)())}return Ce})}}return D.\u0275fac=function(C){return new(C||D)(l.LFG(_o),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(yl),l.LFG(Li))},D.\u0275prov=l.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const _s=new l.OlP("");let Mu=(()=>{class D{constructor(C,B,J,Ce,Re={}){this.urlSerializer=C,this.transitions=B,this.viewportScroller=J,this.zone=Ce,this.options=Re,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Re.scrollPositionRestoration=Re.scrollPositionRestoration||"disabled",Re.anchorScrolling=Re.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(C=>{C instanceof ui?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=C.navigationTrigger,this.restoredId=C.restoredState?C.restoredState.navigationId:0):C instanceof _r&&(this.lastId=C.id,this.scheduleScrollEvent(C,this.urlSerializer.parse(C.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(C=>{C instanceof Ao&&(C.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(C.position):C.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(C.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(C,B){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ao(C,"popstate"===this.lastSource?this.store[this.restoredId]:null,B))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return D.\u0275fac=function(C){l.$Z()},D.\u0275prov=l.Yz7({token:D,factory:D.\u0275fac}),D})();var Ho=(()=>((Ho=Ho||{})[Ho.COMPLETE=0]="COMPLETE",Ho[Ho.FAILED=1]="FAILED",Ho[Ho.REDIRECTING=2]="REDIRECTING",Ho))();const Js=!1;function Jr(D,P){return{\u0275kind:D,\u0275providers:P}}const Oc=new l.OlP("",{providedIn:"root",factory:()=>!1});function rr(){const D=(0,l.f3M)(l.zs3);return P=>{const C=D.get(l.z2F);if(P!==C.components[0])return;const B=D.get(_o),J=D.get(Ma);1===D.get(Ja)&&B.initialNavigation(),D.get(kd,null,l.XFs.Optional)?.setUpPreloading(),D.get(_s,null,l.XFs.Optional)?.init(),B.resetRootComponentType(C.componentTypes[0]),J.closed||(J.next(),J.complete(),J.unsubscribe())}}const Ma=new l.OlP(Js?"bootstrap done indicator":"",{factory:()=>new fe.x}),Ja=new l.OlP(Js?"initial navigation":"",{providedIn:"root",factory:()=>1});function Od(){let D=[];return D=Js?[{provide:l.Xts,multi:!0,useFactory:()=>{const P=(0,l.f3M)(_o);return()=>P.events.subscribe(C=>{console.group?.(`Router Event: ${C.constructor.name}`),console.log(function Cs(D){if(!("type"in D))return`Unknown Router Event: ${D.constructor.name}`;switch(D.type){case 14:return`ActivationEnd(path: '${D.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${D.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${D.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${D.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}', state: ${D.state}, shouldActivate: ${D.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}', state: ${D.state})`;case 2:return`NavigationCancel(id: ${D.id}, url: '${D.url}')`;case 16:return`NavigationSkipped(id: ${D.id}, url: '${D.url}')`;case 1:return`NavigationEnd(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${D.id}, url: '${D.url}', error: ${D.error})`;case 0:return`NavigationStart(id: ${D.id}, url: '${D.url}')`;case 6:return`ResolveEnd(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}', state: ${D.state})`;case 5:return`ResolveStart(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}', state: ${D.state})`;case 10:return`RouteConfigLoadEnd(path: ${D.route.path})`;case 9:return`RouteConfigLoadStart(path: ${D.route.path})`;case 4:return`RoutesRecognized(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}', state: ${D.state})`;case 15:return`Scroll(anchor: '${D.anchor}', position: '${D.position?`${D.position[0]}, ${D.position[1]}`:null}')`}}(C)),console.log(C),console.groupEnd?.()})}}]:[],Jr(1,D)}const kd=new l.OlP(Js?"router preloader":"");function or(D){return Jr(0,[{provide:kd,useExisting:Mc},{provide:yl,useExisting:D}])}const Pa=!1,Pu=new l.OlP(Pa?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Fd=[Me.Ye,{provide:zn,useClass:ri},_o,dr,{provide:qr,useFactory:function Rc(D){return D.routerState.root},deps:[_o]},Li,Pa?{provide:Oc,useValue:!0}:[]];function El(){return new l.PXZ("Router",_o)}let Ql=(()=>{class D{constructor(C){}static forRoot(C,B){return{ngModule:D,providers:[Fd,Pa&&B?.enableTracing?Od().\u0275providers:[],{provide:tr,multi:!0,useValue:C},{provide:Pu,useFactory:xl,deps:[[_o,new l.FiY,new l.tp0]]},{provide:Sc,useValue:B||{}},B?.useHash?{provide:Me.S$,useClass:Me.Do}:{provide:Me.S$,useClass:Me.b0},{provide:_s,useFactory:()=>{const D=(0,l.f3M)(Me.EM),P=(0,l.f3M)(l.R0b),C=(0,l.f3M)(Sc),B=(0,l.f3M)(Ko),J=(0,l.f3M)(zn);return C.scrollOffset&&D.setOffset(C.scrollOffset),new Mu(J,B,D,P,C)}},B?.preloadingStrategy?or(B.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:El},B?.initialNavigation?Nd(B):[],[{provide:uo,useFactory:rr},{provide:l.tb,multi:!0,useExisting:uo}]]}}static forChild(C){return{ngModule:D,providers:[{provide:tr,multi:!0,useValue:C}]}}}return D.\u0275fac=function(C){return new(C||D)(l.LFG(Pu,8))},D.\u0275mod=l.oAB({type:D}),D.\u0275inj=l.cJS({imports:[Ws]}),D})();function xl(D){if(Pa&&D)throw new l.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Nd(D){return["disabled"===D.initialNavigation?Jr(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const P=(0,l.f3M)(_o);return()=>{P.setUpLocationChangeListener()}}},{provide:Ja,useValue:2}]).\u0275providers:[],"enabledBlocking"===D.initialNavigation?Jr(2,[{provide:Ja,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:P=>{const C=P.get(Me.V_,Promise.resolve());return()=>C.then(()=>new Promise(B=>{const J=P.get(_o),Ce=P.get(Ma);(function Pd(D,P){D.events.pipe((0,Pe.h)(C=>C instanceof _r||C instanceof Io||C instanceof Fo||C instanceof si),(0,pe.U)(C=>C instanceof _r||C instanceof si?Ho.COMPLETE:C instanceof Io&&(0===C.code||1===C.code)?Ho.REDIRECTING:Ho.FAILED),(0,Pe.h)(C=>C!==Ho.REDIRECTING),(0,xe.q)(1)).subscribe(()=>{P()})})(J,()=>{B(!0)}),P.get(Ko).afterPreactivation=()=>(B(!0),Ce.closed?(0,f.of)(void 0):Ce),J.initialNavigation()}))}}]).\u0275providers:[]]}const uo=new l.OlP(Pa?"Router Initializer":"")},3942:(wt,Fe,_)=>{"use strict";_.d(Fe,{Z:()=>le});var l=_(2090),b=_(4859),f=_(6881),O=_(1877);class de{constructor(_e,oe){this._delegate=_e,this.firebase=oe,(0,f._addComponent)(_e,new b.wA("app-compat",()=>this,"PUBLIC")),this.container=_e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this._delegate.automaticDataCollectionEnabled=_e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(_e=>{this._delegate.checkDestroyed(),_e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,f.deleteApp)(this._delegate)))}_getService(_e,oe=f._DEFAULT_ENTRY_NAME){var fe;this._delegate.checkDestroyed();const Me=this._delegate.container.getProvider(_e);return!Me.isInitialized()&&"EXPLICIT"===(null===(fe=Me.getComponent())||void 0===fe?void 0:fe.instantiationMode)&&Me.initialize(),Me.getImmediate({identifier:oe})}_removeServiceInstance(_e,oe=f._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(_e).clearInstance(oe)}_addComponent(_e){(0,f._addComponent)(this._delegate,_e)}_addOrOverwriteComponent(_e){(0,f._addOrOverwriteComponent)(this._delegate,_e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const te=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Y=function K(){const Ae=function z(Ae){const _e={},oe={__esModule:!0,initializeApp:function pe(Pe,Xe={}){const dt=f.initializeApp(Pe,Xe);if((0,l.r3)(_e,dt.name))return _e[dt.name];const Ue=new Ae(dt,oe);return _e[dt.name]=Ue,Ue},app:Me,registerVersion:f.registerVersion,setLogLevel:f.setLogLevel,onLog:f.onLog,apps:null,SDK_VERSION:f.SDK_VERSION,INTERNAL:{registerComponent:function xe(Pe){const Xe=Pe.name,dt=Xe.replace("-compat","");if(f._registerComponent(Pe)&&"PUBLIC"===Pe.type){const Ue=(ct=Me())=>{if("function"!=typeof ct[dt])throw te.create("invalid-app-argument",{appName:Xe});return ct[dt]()};void 0!==Pe.serviceProps&&(0,l.ZB)(Ue,Pe.serviceProps),oe[dt]=Ue,Ae.prototype[dt]=function(...ct){return this._getService.bind(this,Xe).apply(this,Pe.multipleInstances?ct:[])}}return"PUBLIC"===Pe.type?oe[dt]:null},removeApp:function fe(Pe){delete _e[Pe]},useAsService:function je(Pe,Xe){return"serverAuth"===Xe?null:Xe},modularAPIs:f}};function Me(Pe){if(!(0,l.r3)(_e,Pe=Pe||f._DEFAULT_ENTRY_NAME))throw te.create("no-app",{appName:Pe});return _e[Pe]}return oe.default=oe,Object.defineProperty(oe,"apps",{get:function he(){return Object.keys(_e).map(Pe=>_e[Pe])}}),Me.App=Ae,oe}(de);return Ae.INTERNAL=Object.assign(Object.assign({},Ae.INTERNAL),{createFirebaseNamespace:K,extendNamespace:function _e(oe){(0,l.ZB)(Ae,oe)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Ae}(),k=new O.Yd("@firebase/app-compat");try{const Ae=(0,l.Rd)();if(void 0!==Ae.firebase){k.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const _e=Ae.firebase.SDK_VERSION;_e&&_e.indexOf("LITE")>=0&&k.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const le=Y;!function ne(Ae){(0,f.registerVersion)("@firebase/app-compat","0.2.40",Ae)}()},6881:(wt,Fe,_)=>{"use strict";_.r(Fe),_.d(Fe,{FirebaseError:()=>O.ZR,SDK_VERSION:()=>mt,_DEFAULT_ENTRY_NAME:()=>Pt,_addComponent:()=>De,_addOrOverwriteComponent:()=>rt,_apps:()=>hn,_clearComponents:()=>ri,_components:()=>Ye,_getProvider:()=>sn,_isFirebaseApp:()=>ai,_isFirebaseServerApp:()=>zn,_registerComponent:()=>Wt,_removeServiceInstance:()=>mn,_serverApps:()=>ut,deleteApp:()=>Jt,getApp:()=>ot,getApps:()=>an,initializeApp:()=>nt,initializeServerApp:()=>ze,onLog:()=>Ve,registerVersion:()=>Ze,setLogLevel:()=>et});var l=_(5861),b=_(4859),f=_(1877),O=_(2090);const de=(bt,Et)=>Et.some(Vt=>bt instanceof Vt);let ee,te;const Y=new WeakMap,k=new WeakMap,U=new WeakMap,W=new WeakMap,ne=new WeakMap;let _e={get(bt,Et,Vt){if(bt instanceof IDBTransaction){if("done"===Et)return k.get(bt);if("objectStoreNames"===Et)return bt.objectStoreNames||U.get(bt);if("store"===Et)return Vt.objectStoreNames[1]?void 0:Vt.objectStore(Vt.objectStoreNames[0])}return pe(bt[Et])},set:(bt,Et,Vt)=>(bt[Et]=Vt,!0),has:(bt,Et)=>bt instanceof IDBTransaction&&("done"===Et||"store"===Et)||Et in bt};function Me(bt){return"function"==typeof bt?function fe(bt){return bt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function K(){return te||(te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(bt)?function(...Et){return bt.apply(he(this),Et),pe(Y.get(this))}:function(...Et){return pe(bt.apply(he(this),Et))}:function(Et,...Vt){const on=bt.call(he(this),Et,...Vt);return U.set(on,Et.sort?Et.sort():[Et]),pe(on)}}(bt):(bt instanceof IDBTransaction&&function Ae(bt){if(k.has(bt))return;const Et=new Promise((Vt,on)=>{const In=()=>{bt.removeEventListener("complete",ni),bt.removeEventListener("error",li),bt.removeEventListener("abort",li)},ni=()=>{Vt(),In()},li=()=>{on(bt.error||new DOMException("AbortError","AbortError")),In()};bt.addEventListener("complete",ni),bt.addEventListener("error",li),bt.addEventListener("abort",li)});k.set(bt,Et)}(bt),de(bt,function z(){return ee||(ee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(bt,_e):bt)}function pe(bt){if(bt instanceof IDBRequest)return function le(bt){const Et=new Promise((Vt,on)=>{const In=()=>{bt.removeEventListener("success",ni),bt.removeEventListener("error",li)},ni=()=>{Vt(pe(bt.result)),In()},li=()=>{on(bt.error),In()};bt.addEventListener("success",ni),bt.addEventListener("error",li)});return Et.then(Vt=>{Vt instanceof IDBCursor&&Y.set(Vt,bt)}).catch(()=>{}),ne.set(Et,bt),Et}(bt);if(W.has(bt))return W.get(bt);const Et=Me(bt);return Et!==bt&&(W.set(bt,Et),ne.set(Et,bt)),Et}const he=bt=>ne.get(bt),Pe=["get","getKey","getAll","getAllKeys","count"],Xe=["put","add","delete","clear"],dt=new Map;function Ue(bt,Et){if(!(bt instanceof IDBDatabase)||Et in bt||"string"!=typeof Et)return;if(dt.get(Et))return dt.get(Et);const Vt=Et.replace(/FromIndex$/,""),on=Et!==Vt,In=Xe.includes(Vt);if(!(Vt in(on?IDBIndex:IDBObjectStore).prototype)||!In&&!Pe.includes(Vt))return;const ni=function(){var li=(0,l.Z)(function*(Ei,...fi){const yn=this.transaction(Ei,In?"readwrite":"readonly");let ti=yn.store;return on&&(ti=ti.index(fi.shift())),(yield Promise.all([ti[Vt](...fi),In&&yn.done]))[0]});return function(fi){return li.apply(this,arguments)}}();return dt.set(Et,ni),ni}!function oe(bt){_e=bt(_e)}(bt=>({...bt,get:(Et,Vt,on)=>Ue(Et,Vt)||bt.get(Et,Vt,on),has:(Et,Vt)=>!!Ue(Et,Vt)||bt.has(Et,Vt)}));class ct{constructor(Et){this.container=Et}getPlatformInfoString(){return this.container.getProviders().map(Vt=>{if(function Ot(bt){return"VERSION"===bt.getComponent()?.type}(Vt)){const on=Vt.getImmediate();return`${on.library}/${on.version}`}return null}).filter(Vt=>Vt).join(" ")}}const at="@firebase/app",fn="0.10.10",$t=new f.Yd("@firebase/app"),Pt="[DEFAULT]",Qt={[at]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},hn=new Map,ut=new Map,Ye=new Map;function De(bt,Et){try{bt.container.addComponent(Et)}catch(Vt){$t.debug(`Component ${Et.name} failed to register with FirebaseApp ${bt.name}`,Vt)}}function rt(bt,Et){bt.container.addOrOverwriteComponent(Et)}function Wt(bt){const Et=bt.name;if(Ye.has(Et))return $t.debug(`There were multiple attempts to register component ${Et}.`),!1;Ye.set(Et,bt);for(const Vt of hn.values())De(Vt,bt);for(const Vt of ut.values())De(Vt,bt);return!0}function sn(bt,Et){const Vt=bt.container.getProvider("heartbeat").getImmediate({optional:!0});return Vt&&Vt.triggerHeartbeat(),bt.container.getProvider(Et)}function mn(bt,Et,Vt=Pt){sn(bt,Et).clearInstance(Vt)}function ai(bt){return void 0!==bt.options}function zn(bt){return void 0!==bt.settings}function ri(){Ye.clear()}const Ti=new O.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class nn{constructor(Et,Vt,on){this._isDeleted=!1,this._options=Object.assign({},Et),this._config=Object.assign({},Vt),this._name=Vt.name,this._automaticDataCollectionEnabled=Vt.automaticDataCollectionEnabled,this._container=on,this.container.addComponent(new b.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Et){this.checkDestroyed(),this._automaticDataCollectionEnabled=Et}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Et){this._isDeleted=Et}checkDestroyed(){if(this.isDeleted)throw Ti.create("app-deleted",{appName:this._name})}}class pt extends nn{constructor(Et,Vt,on,In){const ni=void 0!==Vt.automaticDataCollectionEnabled&&Vt.automaticDataCollectionEnabled,li={name:on,automaticDataCollectionEnabled:ni};super(void 0!==Et.apiKey?Et:Et.options,li,In),this._serverConfig=Object.assign({automaticDataCollectionEnabled:ni},Vt),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Vt.releaseOnDeref=void 0,Ze(at,fn,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(Et){this.isDeleted||(this._refCount++,void 0!==Et&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(Et,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Jt(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Ti.create("server-app-deleted")}}const mt="10.13.1";function nt(bt,Et={}){let Vt=bt;"object"!=typeof Et&&(Et={name:Et});const on=Object.assign({name:Pt,automaticDataCollectionEnabled:!1},Et),In=on.name;if("string"!=typeof In||!In)throw Ti.create("bad-app-name",{appName:String(In)});if(Vt||(Vt=(0,O.aH)()),!Vt)throw Ti.create("no-options");const ni=hn.get(In);if(ni){if((0,O.vZ)(Vt,ni.options)&&(0,O.vZ)(on,ni.config))return ni;throw Ti.create("duplicate-app",{appName:In})}const li=new b.H0(In);for(const fi of Ye.values())li.addComponent(fi);const Ei=new nn(Vt,on,li);return hn.set(In,Ei),Ei}function ze(bt,Et){if((0,O.jU)()&&!(0,O.n2)())throw Ti.create("invalid-server-app-environment");let Vt;void 0===Et.automaticDataCollectionEnabled&&(Et.automaticDataCollectionEnabled=!1),Vt=ai(bt)?bt.options:bt;const on=Object.assign(Object.assign({},Et),Vt);if(void 0!==on.releaseOnDeref&&delete on.releaseOnDeref,void 0!==Et.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Ti.create("finalization-registry-not-supported",{});const ni=""+(yn=JSON.stringify(on),[...yn].reduce((ti,oi)=>Math.imul(31,ti)+oi.charCodeAt(0)|0,0)),li=ut.get(ni);var yn;if(li)return li.incRefCount(Et.releaseOnDeref),li;const Ei=new b.H0(ni);for(const yn of Ye.values())Ei.addComponent(yn);const fi=new pt(Vt,Et,ni,Ei);return ut.set(ni,fi),fi}function ot(bt=Pt){const Et=hn.get(bt);if(!Et&&bt===Pt&&(0,O.aH)())return nt();if(!Et)throw Ti.create("no-app",{appName:bt});return Et}function an(){return Array.from(hn.values())}function Jt(bt){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,l.Z)(function*(bt){let Et=!1;const Vt=bt.name;hn.has(Vt)?(Et=!0,hn.delete(Vt)):ut.has(Vt)&&bt.decRefCount()<=0&&(ut.delete(Vt),Et=!0),Et&&(yield Promise.all(bt.container.getProviders().map(on=>on.delete())),bt.isDeleted=!0)})).apply(this,arguments)}function Ze(bt,Et,Vt){var on;let In=null!==(on=Qt[bt])&&void 0!==on?on:bt;Vt&&(In+=`-${Vt}`);const ni=In.match(/\s|\//),li=Et.match(/\s|\//);if(ni||li){const Ei=[`Unable to register library "${In}" with version "${Et}":`];return ni&&Ei.push(`library name "${In}" contains illegal characters (whitespace or "/")`),ni&&li&&Ei.push("and"),li&&Ei.push(`version name "${Et}" contains illegal characters (whitespace or "/")`),void $t.warn(Ei.join(" "))}Wt(new b.wA(`${In}-version`,()=>({library:In,version:Et}),"VERSION"))}function Ve(bt,Et){if(null!==bt&&"function"!=typeof bt)throw Ti.create("invalid-log-argument");(0,f.Am)(bt,Et)}function et(bt){(0,f.Ub)(bt)}const Rt="firebase-heartbeat-database",ht=1,tt="firebase-heartbeat-store";let X=null;function L(){return X||(X=function xe(bt,Et,{blocked:Vt,upgrade:on,blocking:In,terminated:ni}={}){const li=indexedDB.open(bt,Et),Ei=pe(li);return on&&li.addEventListener("upgradeneeded",fi=>{on(pe(li.result),fi.oldVersion,fi.newVersion,pe(li.transaction),fi)}),Vt&&li.addEventListener("blocked",fi=>Vt(fi.oldVersion,fi.newVersion,fi)),Ei.then(fi=>{ni&&fi.addEventListener("close",()=>ni()),In&&fi.addEventListener("versionchange",yn=>In(yn.oldVersion,yn.newVersion,yn))}).catch(()=>{}),Ei}(Rt,ht,{upgrade:(bt,Et)=>{if(0===Et)try{bt.createObjectStore(tt)}catch(Vt){console.warn(Vt)}}}).catch(bt=>{throw Ti.create("idb-open",{originalErrorMessage:bt.message})})),X}function j(){return(j=(0,l.Z)(function*(bt){try{const Vt=(yield L()).transaction(tt),on=yield Vt.objectStore(tt).get(st(bt));return yield Vt.done,on}catch(Et){if(Et instanceof O.ZR)$t.warn(Et.message);else{const Vt=Ti.create("idb-get",{originalErrorMessage:Et?.message});$t.warn(Vt.message)}}})).apply(this,arguments)}function Ee(bt,Et){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,l.Z)(function*(bt,Et){try{const on=(yield L()).transaction(tt,"readwrite");yield on.objectStore(tt).put(Et,st(bt)),yield on.done}catch(Vt){if(Vt instanceof O.ZR)$t.warn(Vt.message);else{const on=Ti.create("idb-set",{originalErrorMessage:Vt?.message});$t.warn(on.message)}}})).apply(this,arguments)}function st(bt){return`${bt.name}!${bt.options.appId}`}class bn{constructor(Et){this.container=Et,this._heartbeatsCache=null;const Vt=this.container.getProvider("app").getImmediate();this._storage=new $n(Vt),this._heartbeatsCachePromise=this._storage.read().then(on=>(this._heartbeatsCache=on,on))}triggerHeartbeat(){var Et=this;return(0,l.Z)(function*(){var Vt,on;try{const ni=Et.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),li=On();return null==(null===(Vt=Et._heartbeatsCache)||void 0===Vt?void 0:Vt.heartbeats)&&(Et._heartbeatsCache=yield Et._heartbeatsCachePromise,null==(null===(on=Et._heartbeatsCache)||void 0===on?void 0:on.heartbeats))||Et._heartbeatsCache.lastSentHeartbeatDate===li||Et._heartbeatsCache.heartbeats.some(Ei=>Ei.date===li)?void 0:(Et._heartbeatsCache.heartbeats.push({date:li,agent:ni}),Et._heartbeatsCache.heartbeats=Et._heartbeatsCache.heartbeats.filter(Ei=>{const fi=new Date(Ei.date).valueOf();return Date.now()-fi<=2592e6}),Et._storage.overwrite(Et._heartbeatsCache))}catch(In){$t.warn(In)}})()}getHeartbeatsHeader(){var Et=this;return(0,l.Z)(function*(){var Vt;try{if(null===Et._heartbeatsCache&&(yield Et._heartbeatsCachePromise),null==(null===(Vt=Et._heartbeatsCache)||void 0===Vt?void 0:Vt.heartbeats)||0===Et._heartbeatsCache.heartbeats.length)return"";const on=On(),{heartbeatsToSend:In,unsentEntries:ni}=function pn(bt,Et=1024){const Vt=[];let on=bt.slice();for(const In of bt){const ni=Vt.find(li=>li.agent===In.agent);if(ni){if(ni.dates.push(In.date),An(Vt)>Et){ni.dates.pop();break}}else if(Vt.push({agent:In.agent,dates:[In.date]}),An(Vt)>Et){Vt.pop();break}on=on.slice(1)}return{heartbeatsToSend:Vt,unsentEntries:on}}(Et._heartbeatsCache.heartbeats),li=(0,O.L)(JSON.stringify({version:2,heartbeats:In}));return Et._heartbeatsCache.lastSentHeartbeatDate=on,ni.length>0?(Et._heartbeatsCache.heartbeats=ni,yield Et._storage.overwrite(Et._heartbeatsCache)):(Et._heartbeatsCache.heartbeats=[],Et._storage.overwrite(Et._heartbeatsCache)),li}catch(on){return $t.warn(on),""}})()}}function On(){return(new Date).toISOString().substring(0,10)}class $n{constructor(Et){this.app=Et,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,O.hl)()&&(0,O.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Et=this;return(0,l.Z)(function*(){if(yield Et._canUseIndexedDBPromise){const on=yield function T(bt){return j.apply(this,arguments)}(Et.app);return on?.heartbeats?on:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Et){var Vt=this;return(0,l.Z)(function*(){var on;if(yield Vt._canUseIndexedDBPromise){const ni=yield Vt.read();return Ee(Vt.app,{lastSentHeartbeatDate:null!==(on=Et.lastSentHeartbeatDate)&&void 0!==on?on:ni.lastSentHeartbeatDate,heartbeats:Et.heartbeats})}})()}add(Et){var Vt=this;return(0,l.Z)(function*(){var on;if(yield Vt._canUseIndexedDBPromise){const ni=yield Vt.read();return Ee(Vt.app,{lastSentHeartbeatDate:null!==(on=Et.lastSentHeartbeatDate)&&void 0!==on?on:ni.lastSentHeartbeatDate,heartbeats:[...ni.heartbeats,...Et.heartbeats]})}})()}}function An(bt){return(0,O.L)(JSON.stringify({version:2,heartbeats:bt})).length}!function Gn(bt){Wt(new b.wA("platform-logger",Et=>new ct(Et),"PRIVATE")),Wt(new b.wA("heartbeat",Et=>new bn(Et),"PRIVATE")),Ze(at,fn,bt),Ze(at,fn,"esm2017"),Ze("fire-js","")}("")},4859:(wt,Fe,_)=>{"use strict";_.d(Fe,{H0:()=>z,wA:()=>f});var l=_(5861),b=_(2090);class f{constructor(Y,k,U){this.name=Y,this.instanceFactory=k,this.type=U,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Y){return this.instantiationMode=Y,this}setMultipleInstances(Y){return this.multipleInstances=Y,this}setServiceProps(Y){return this.serviceProps=Y,this}setInstanceCreatedCallback(Y){return this.onInstanceCreated=Y,this}}const O="[DEFAULT]";class de{constructor(Y,k){this.name=Y,this.container=k,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Y){const k=this.normalizeInstanceIdentifier(Y);if(!this.instancesDeferred.has(k)){const U=new b.BH;if(this.instancesDeferred.set(k,U),this.isInitialized(k)||this.shouldAutoInitialize())try{const W=this.getOrInitializeService({instanceIdentifier:k});W&&U.resolve(W)}catch{}}return this.instancesDeferred.get(k).promise}getImmediate(Y){var k;const U=this.normalizeInstanceIdentifier(Y?.identifier),W=null!==(k=Y?.optional)&&void 0!==k&&k;if(!this.isInitialized(U)&&!this.shouldAutoInitialize()){if(W)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:U})}catch(ne){if(W)return null;throw ne}}getComponent(){return this.component}setComponent(Y){if(Y.name!==this.name)throw Error(`Mismatching Component ${Y.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Y,this.shouldAutoInitialize()){if(function te(K){return"EAGER"===K.instantiationMode}(Y))try{this.getOrInitializeService({instanceIdentifier:O})}catch{}for(const[k,U]of this.instancesDeferred.entries()){const W=this.normalizeInstanceIdentifier(k);try{const ne=this.getOrInitializeService({instanceIdentifier:W});U.resolve(ne)}catch{}}}}clearInstance(Y=O){this.instancesDeferred.delete(Y),this.instancesOptions.delete(Y),this.instances.delete(Y)}delete(){var Y=this;return(0,l.Z)(function*(){const k=Array.from(Y.instances.values());yield Promise.all([...k.filter(U=>"INTERNAL"in U).map(U=>U.INTERNAL.delete()),...k.filter(U=>"_delete"in U).map(U=>U._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Y=O){return this.instances.has(Y)}getOptions(Y=O){return this.instancesOptions.get(Y)||{}}initialize(Y={}){const{options:k={}}=Y,U=this.normalizeInstanceIdentifier(Y.instanceIdentifier);if(this.isInitialized(U))throw Error(`${this.name}(${U}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const W=this.getOrInitializeService({instanceIdentifier:U,options:k});for(const[ne,le]of this.instancesDeferred.entries())U===this.normalizeInstanceIdentifier(ne)&&le.resolve(W);return W}onInit(Y,k){var U;const W=this.normalizeInstanceIdentifier(k),ne=null!==(U=this.onInitCallbacks.get(W))&&void 0!==U?U:new Set;ne.add(Y),this.onInitCallbacks.set(W,ne);const le=this.instances.get(W);return le&&Y(le,W),()=>{ne.delete(Y)}}invokeOnInitCallbacks(Y,k){const U=this.onInitCallbacks.get(k);if(U)for(const W of U)try{W(Y,k)}catch{}}getOrInitializeService({instanceIdentifier:Y,options:k={}}){let U=this.instances.get(Y);if(!U&&this.component&&(U=this.component.instanceFactory(this.container,{instanceIdentifier:(K=Y,K===O?void 0:K),options:k}),this.instances.set(Y,U),this.instancesOptions.set(Y,k),this.invokeOnInitCallbacks(U,Y),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Y,U)}catch{}var K;return U||null}normalizeInstanceIdentifier(Y=O){return this.component?this.component.multipleInstances?Y:O:Y}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class z{constructor(Y){this.name=Y,this.providers=new Map}addComponent(Y){const k=this.getProvider(Y.name);if(k.isComponentSet())throw new Error(`Component ${Y.name} has already been registered with ${this.name}`);k.setComponent(Y)}addOrOverwriteComponent(Y){this.getProvider(Y.name).isComponentSet()&&this.providers.delete(Y.name),this.addComponent(Y)}getProvider(Y){if(this.providers.has(Y))return this.providers.get(Y);const k=new de(Y,this);return this.providers.set(Y,k),k}getProviders(){return Array.from(this.providers.values())}}},1877:(wt,Fe,_)=>{"use strict";_.d(Fe,{Am:()=>K,Ub:()=>z,Yd:()=>te,in:()=>b});const l=[];var b=(()=>{return(Y=b||(b={}))[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",b;var Y})();const f={debug:b.DEBUG,verbose:b.VERBOSE,info:b.INFO,warn:b.WARN,error:b.ERROR,silent:b.SILENT},O=b.INFO,de={[b.DEBUG]:"log",[b.VERBOSE]:"log",[b.INFO]:"info",[b.WARN]:"warn",[b.ERROR]:"error"},ee=(Y,k,...U)=>{if(k<Y.logLevel)return;const W=(new Date).toISOString(),ne=de[k];if(!ne)throw new Error(`Attempted to log a message with an invalid logType (value: ${k})`);console[ne](`[${W}]  ${Y.name}:`,...U)};class te{constructor(k){this.name=k,this._logLevel=O,this._logHandler=ee,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(k){if(!(k in b))throw new TypeError(`Invalid value "${k}" assigned to \`logLevel\``);this._logLevel=k}setLogLevel(k){this._logLevel="string"==typeof k?f[k]:k}get logHandler(){return this._logHandler}set logHandler(k){if("function"!=typeof k)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=k}get userLogHandler(){return this._userLogHandler}set userLogHandler(k){this._userLogHandler=k}debug(...k){this._userLogHandler&&this._userLogHandler(this,b.DEBUG,...k),this._logHandler(this,b.DEBUG,...k)}log(...k){this._userLogHandler&&this._userLogHandler(this,b.VERBOSE,...k),this._logHandler(this,b.VERBOSE,...k)}info(...k){this._userLogHandler&&this._userLogHandler(this,b.INFO,...k),this._logHandler(this,b.INFO,...k)}warn(...k){this._userLogHandler&&this._userLogHandler(this,b.WARN,...k),this._logHandler(this,b.WARN,...k)}error(...k){this._userLogHandler&&this._userLogHandler(this,b.ERROR,...k),this._logHandler(this,b.ERROR,...k)}}function z(Y){l.forEach(k=>{k.setLogLevel(Y)})}function K(Y,k){for(const U of l){let W=null;k&&k.level&&(W=f[k.level]),U.userLogHandler=null===Y?null:(ne,le,...Ae)=>{const _e=Ae.map(oe=>{if(null==oe)return null;if("string"==typeof oe)return oe;if("number"==typeof oe||"boolean"==typeof oe)return oe.toString();if(oe instanceof Error)return oe.message;try{return JSON.stringify(oe)}catch{return null}}).filter(oe=>oe).join(" ");le>=(W??ne.logLevel)&&Y({level:b[le].toLowerCase(),message:_e,args:Ae,type:ne.name})}}}},6792:(wt,Fe,_)=>{"use strict";_.d(Fe,{hG:()=>ye,mb:()=>Mt,zr:()=>et,Ct:()=>ze,Ee:()=>hn});var l=_(5861),b=_(4650),f=_(6895),O=_(529),de=_(7579),ee=_(9646),te=_(8996),z=_(9751),K=_(8421);const{isArray:Y}=Array;var U=_(5403);var le=_(2843),Ae=_(9841),_e=_(6451),oe=_(9300),fe=_(8505),Me=_(8372),pe=_(4986),he=_(7272),xe=_(5698),je=_(4482),Pe=_(5032),dt=_(9718),Ue=_(5577);function ct(X,L){return L?T=>(0,he.z)(L.pipe((0,xe.q)(1),function Xe(){return(0,je.e)((X,L)=>{X.subscribe((0,U.x)(L,Pe.Z))})}()),T.pipe(ct(X))):(0,Ue.z)((T,j)=>(0,K.Xf)(X(T,j)).pipe((0,xe.q)(1),(0,dt.h)(T)))}var Ot=_(2805);function at(X,L=pe.z){const T=(0,Ot.H)(X,L);return ct(()=>T)}var fn=_(3900),$t=_(4004),jt=_(590),Zt=_(262),we=_(1165),ke=_(3888),Ne=_(9672);const me=(0,ke.d)(X=>function(T=null){X(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=T});function Z(X){throw new me(X)}class ye{validateSignature(L){return Promise.resolve(null)}validateAtHash(L){return Promise.resolve(!0)}}class R{}class Qe{}let Tt=(()=>{class X extends Qe{now(){return Date.now()}new(){return new Date}static#e=this.\u0275fac=function(){let T;return function(Ee){return(T||(T=b.n5z(X)))(Ee||X)}}();static#t=this.\u0275prov=b.Yz7({token:X,factory:X.\u0275fac})}return X})();class Mt{}class Gt{}let _n=(()=>{class X{constructor(){this.data=new Map}getItem(T){return this.data.get(T)}removeItem(T){this.data.delete(T)}setItem(T,j){this.data.set(T,j)}static#e=this.\u0275fac=function(j){return new(j||X)};static#t=this.\u0275prov=b.Yz7({token:X,factory:X.\u0275fac})}return X})();class qn{constructor(L){this.type=L}}class Mn extends qn{constructor(L,T=null){super(L),this.info=T}}class Pn extends qn{constructor(L,T=null){super(L),this.info=T}}class Le extends qn{constructor(L,T,j=null){super(L),this.reason=T,this.params=j}}function re(X){const L=X.replace(/-/g,"+").replace(/_/g,"/");return decodeURIComponent(atob(L).split("").map(function(T){return"%"+("00"+T.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function ge(X){return btoa(X).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}class He{constructor(L){this.clientId="",this.redirectUri="",this.postLogoutRedirectUri="",this.redirectUriAsPostLogoutRedirectUriFallback=!0,this.loginUrl="",this.scope="openid profile",this.resource="",this.rngUrl="",this.oidc=!0,this.requestAccessToken=!0,this.options=null,this.issuer="",this.logoutUrl="",this.clearHashAfterLogin=!0,this.tokenEndpoint=null,this.revocationEndpoint=null,this.customTokenParameters=[],this.userinfoEndpoint=null,this.responseType="",this.showDebugInformation=!1,this.silentRefreshRedirectUri="",this.silentRefreshMessagePrefix="",this.silentRefreshShowIFrame=!1,this.siletRefreshTimeout=2e4,this.silentRefreshTimeout=2e4,this.dummyClientSecret="",this.requireHttps="remoteOnly",this.strictDiscoveryDocumentValidation=!0,this.jwks=null,this.customQueryParams=null,this.silentRefreshIFrameName="angular-oauth-oidc-silent-refresh-iframe",this.timeoutFactor=.75,this.sessionChecksEnabled=!1,this.sessionCheckIntervall=3e3,this.sessionCheckIFrameUrl=null,this.sessionCheckIFrameName="angular-oauth-oidc-check-session-iframe",this.disableAtHashCheck=!1,this.skipSubjectCheck=!1,this.useIdTokenHintForSilentRefresh=!1,this.skipIssuerCheck=!1,this.nonceStateSeparator=";",this.useHttpBasicAuth=!1,this.decreaseExpirationBySec=0,this.waitForTokenInMsec=0,this.disablePKCE=!1,this.preserveRequestedRoute=!1,this.disableIdTokenTimer=!1,this.checkOrigin=!1,this.openUri=T=>{location.href=T},L&&Object.assign(this,L)}}class It{encodeKey(L){return encodeURIComponent(L)}encodeValue(L){return encodeURIComponent(L)}decodeKey(L){return decodeURIComponent(L)}decodeValue(L){return decodeURIComponent(L)}}class Pt{}let hn=(()=>{class X{getHashFragmentParams(T){let j=T||window.location.hash;if(j=decodeURIComponent(j),0!==j.indexOf("#"))return{};const Ee=j.indexOf("?");return j=j.substr(Ee>-1?Ee+1:1),this.parseQueryString(j)}parseQueryString(T){const j={};let Ee,Oe,st,_t,en,bn;if(null===T)return j;const On=T.split("&");for(let pn=0;pn<On.length;pn++)Ee=On[pn],Oe=Ee.indexOf("="),-1===Oe?(st=Ee,_t=null):(st=Ee.substr(0,Oe),_t=Ee.substr(Oe+1)),en=decodeURIComponent(st),bn=decodeURIComponent(_t),"/"===en.substr(0,1)&&(en=en.substr(1)),j[en]=bn;return j}static#e=this.\u0275fac=function(j){return new(j||X)};static#t=this.\u0275prov=b.Yz7({token:X,factory:X.\u0275fac})}return X})();const De=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function rt(X,L,T,j,Ee){let Oe,st,_t,en,bn,On,pn,$n,An,Gn,bt,Et,Vt;for(;Ee>=64;){for(Oe=L[0],st=L[1],_t=L[2],en=L[3],bn=L[4],On=L[5],pn=L[6],$n=L[7],Gn=0;Gn<16;Gn++)bt=j+4*Gn,X[Gn]=(255&T[bt])<<24|(255&T[bt+1])<<16|(255&T[bt+2])<<8|255&T[bt+3];for(Gn=16;Gn<64;Gn++)An=X[Gn-2],Et=(An>>>17|An<<15)^(An>>>19|An<<13)^An>>>10,An=X[Gn-15],Vt=(An>>>7|An<<25)^(An>>>18|An<<14)^An>>>3,X[Gn]=(Et+X[Gn-7]|0)+(Vt+X[Gn-16]|0);for(Gn=0;Gn<64;Gn++)Et=(((bn>>>6|bn<<26)^(bn>>>11|bn<<21)^(bn>>>25|bn<<7))+(bn&On^~bn&pn)|0)+($n+(De[Gn]+X[Gn]|0)|0)|0,Vt=((Oe>>>2|Oe<<30)^(Oe>>>13|Oe<<19)^(Oe>>>22|Oe<<10))+(Oe&st^Oe&_t^st&_t)|0,$n=pn,pn=On,On=bn,bn=en+Et|0,en=_t,_t=st,st=Oe,Oe=Et+Vt|0;L[0]+=Oe,L[1]+=st,L[2]+=_t,L[3]+=en,L[4]+=bn,L[5]+=On,L[6]+=pn,L[7]+=$n,j+=64,Ee-=64}return j}class Wt{constructor(){this.digestLength=32,this.blockSize=64,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}reset(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this}clean(){for(let L=0;L<this.buffer.length;L++)this.buffer[L]=0;for(let L=0;L<this.temp.length;L++)this.temp[L]=0;this.reset()}update(L,T=L.length){if(this.finished)throw new Error("SHA256: can't update because hash was finished.");let j=0;if(this.bytesHashed+=T,this.bufferLength>0){for(;this.bufferLength<64&&T>0;)this.buffer[this.bufferLength++]=L[j++],T--;64===this.bufferLength&&(rt(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(T>=64&&(j=rt(this.temp,this.state,L,j,T),T%=64);T>0;)this.buffer[this.bufferLength++]=L[j++],T--;return this}finish(L){if(!this.finished){const T=this.bytesHashed,j=this.bufferLength,Ee=T/536870912|0,Oe=T<<3,st=T%64<56?64:128;this.buffer[j]=128;for(let _t=j+1;_t<st-8;_t++)this.buffer[_t]=0;this.buffer[st-8]=Ee>>>24&255,this.buffer[st-7]=Ee>>>16&255,this.buffer[st-6]=Ee>>>8&255,this.buffer[st-5]=Ee>>>0&255,this.buffer[st-4]=Oe>>>24&255,this.buffer[st-3]=Oe>>>16&255,this.buffer[st-2]=Oe>>>8&255,this.buffer[st-1]=Oe>>>0&255,rt(this.temp,this.state,this.buffer,0,st),this.finished=!0}for(let T=0;T<8;T++)L[4*T+0]=this.state[T]>>>24&255,L[4*T+1]=this.state[T]>>>16&255,L[4*T+2]=this.state[T]>>>8&255,L[4*T+3]=this.state[T]>>>0&255;return this}digest(){const L=new Uint8Array(this.digestLength);return this.finish(L),L}_saveState(L){for(let T=0;T<this.state.length;T++)L[T]=this.state[T]}_restoreState(L,T){for(let j=0;j<this.state.length;j++)this.state[j]=L[j];this.bytesHashed=T,this.finished=!1,this.bufferLength=0}}new Uint8Array(32);class nn{}let nt=(()=>{class X{calcHash(T,j){return(0,l.Z)(function*(){return function mt(X){const L=[];for(let T=0;T<X.length;T++)L.push(String.fromCharCode(X[T]));return L.join("")}(function mn(X){const L=(new Wt).update(X),T=L.digest();return L.clean(),T}(function pt(X){if("string"!=typeof X)throw new TypeError("expected string");const L=X,T=new Uint8Array(L.length);for(let j=0;j<L.length;j++)T[j]=L.charCodeAt(j);return T}(T)))})()}toHashString2(T){let j="";for(const Ee of T)j+=String.fromCharCode(Ee);return j}toHashString(T){const j=new Uint8Array(T);let Ee="";for(const Oe of j)Ee+=String.fromCharCode(Oe);return Ee}static#e=this.\u0275fac=function(j){return new(j||X)};static#t=this.\u0275prov=b.Yz7({token:X,factory:X.\u0275fac})}return X})(),ze=(()=>{class X extends He{constructor(T,j,Ee,Oe,st,_t,en,bn,On,pn){super(),this.ngZone=T,this.http=j,this.config=st,this.urlHelper=_t,this.logger=en,this.crypto=bn,this.dateTimeService=pn,this.discoveryDocumentLoaded=!1,this.state="",this.eventsSubject=new de.x,this.discoveryDocumentLoadedSubject=new de.x,this.grantTypesSupported=[],this.inImplicitFlow=!1,this.saveNoncesInLocalStorage=!1,this.debug("angular-oauth2-oidc v10"),this.document=On,st||(st={}),this.discoveryDocumentLoaded$=this.discoveryDocumentLoadedSubject.asObservable(),this.events=this.eventsSubject.asObservable(),Oe&&(this.tokenValidationHandler=Oe),st&&this.configure(st);try{Ee?this.setStorage(Ee):typeof sessionStorage<"u"&&this.setStorage(sessionStorage)}catch($n){console.error("No OAuthStorage provided and cannot access default (sessionStorage).Consider providing a custom OAuthStorage implementation in your module.",$n)}if(this.checkLocalStorageAccessable()){const $n=window?.navigator?.userAgent;($n?.includes("MSIE ")||$n?.includes("Trident"))&&(this.saveNoncesInLocalStorage=!0)}this.setupRefreshTimer()}checkLocalStorageAccessable(){if(typeof window>"u")return!1;const T="test";try{return!(typeof window.localStorage>"u"||(localStorage.setItem(T,T),localStorage.removeItem(T),0))}catch{return!1}}configure(T){Object.assign(this,new He,T),this.config=Object.assign({},new He,T),this.sessionChecksEnabled&&this.setupSessionCheck(),this.configChanged()}configChanged(){this.setupRefreshTimer()}restartSessionChecksIfStillLoggedIn(){this.hasValidIdToken()&&this.initSessionCheck()}restartRefreshTimerIfStillLoggedIn(){this.setupExpirationTimers()}setupSessionCheck(){this.events.pipe((0,oe.h)(T=>"token_received"===T.type)).subscribe(()=>{this.initSessionCheck()})}setupAutomaticSilentRefresh(T={},j,Ee=!0){let Oe=!0;this.clearAutomaticRefreshTimer(),this.automaticRefreshSubscription=this.events.pipe((0,fe.b)(st=>{"token_received"===st.type?Oe=!0:"logout"===st.type&&(Oe=!1)}),(0,oe.h)(st=>"token_expires"===st.type&&(null==j||"any"===j||st.info===j)),(0,Me.b)(1e3)).subscribe(()=>{Oe&&this.refreshInternal(T,Ee).catch(()=>{this.debug("Automatic silent refresh did not work")})}),this.restartRefreshTimerIfStillLoggedIn()}refreshInternal(T,j){return this.useSilentRefresh||"code"!==this.responseType?this.silentRefresh(T,j):this.refreshToken()}loadDiscoveryDocumentAndTryLogin(T=null){return this.loadDiscoveryDocument().then(()=>this.tryLogin(T))}loadDiscoveryDocumentAndLogin(T=null){return this.loadDiscoveryDocumentAndTryLogin(T=T||{}).then(()=>!(!this.hasValidIdToken()||!this.hasValidAccessToken())||(this.initLoginFlow("string"==typeof T.state?T.state:""),!1))}debug(...T){this.showDebugInformation&&this.logger.debug(...T)}validateUrlFromDiscoveryDocument(T){const j=[],Ee=this.validateUrlForHttps(T),Oe=this.validateUrlAgainstIssuer(T);return Ee||j.push("https for all urls required. Also for urls received by discovery."),Oe||j.push("Every url in discovery document has to start with the issuer url.Also see property strictDiscoveryDocumentValidation."),j}validateUrlForHttps(T){if(!T)return!0;const j=T.toLowerCase();return!(!1!==this.requireHttps&&(!j.match(/^http:\/\/localhost($|[:/])/)&&!j.match(/^http:\/\/localhost($|[:/])/)||"remoteOnly"!==this.requireHttps))||j.startsWith("https://")}assertUrlNotNullAndCorrectProtocol(T,j){if(!T)throw new Error(`'${j}' should not be null`);if(!this.validateUrlForHttps(T))throw new Error(`'${j}' must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).`)}validateUrlAgainstIssuer(T){return!this.strictDiscoveryDocumentValidation||!T||T.toLowerCase().startsWith(this.issuer.toLowerCase())}setupRefreshTimer(){typeof window>"u"?this.debug("timer not supported on this plattform"):((this.hasValidIdToken()||this.hasValidAccessToken())&&(this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()),this.tokenReceivedSubscription&&this.tokenReceivedSubscription.unsubscribe(),this.tokenReceivedSubscription=this.events.pipe((0,oe.h)(T=>"token_received"===T.type)).subscribe(()=>{this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()}))}setupExpirationTimers(){this.hasValidAccessToken()&&this.setupAccessTokenTimer(),!this.disableIdTokenTimer&&this.hasValidIdToken()&&this.setupIdTokenTimer()}setupAccessTokenTimer(){const T=this.getAccessTokenExpiration(),j=this.getAccessTokenStoredAt(),Ee=this.calcTimeout(j,T);this.ngZone.runOutsideAngular(()=>{this.accessTokenTimeoutSubscription=(0,ee.of)(new Pn("token_expires","access_token")).pipe(at(Ee)).subscribe(Oe=>{this.ngZone.run(()=>{this.eventsSubject.next(Oe)})})})}setupIdTokenTimer(){const T=this.getIdTokenExpiration(),j=this.getIdTokenStoredAt(),Ee=this.calcTimeout(j,T);this.ngZone.runOutsideAngular(()=>{this.idTokenTimeoutSubscription=(0,ee.of)(new Pn("token_expires","id_token")).pipe(at(Ee)).subscribe(Oe=>{this.ngZone.run(()=>{this.eventsSubject.next(Oe)})})})}stopAutomaticRefresh(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.clearAutomaticRefreshTimer()}clearAccessTokenTimer(){this.accessTokenTimeoutSubscription&&this.accessTokenTimeoutSubscription.unsubscribe()}clearIdTokenTimer(){this.idTokenTimeoutSubscription&&this.idTokenTimeoutSubscription.unsubscribe()}clearAutomaticRefreshTimer(){this.automaticRefreshSubscription&&this.automaticRefreshSubscription.unsubscribe()}calcTimeout(T,j){const Ee=this.dateTimeService.now(),st=Math.max(0,(j-T)*this.timeoutFactor-(Ee-T)),_t=2147483647;return st>_t?_t:st}setStorage(T){this._storage=T,this.configChanged()}loadDiscoveryDocument(T=null){return new Promise((j,Ee)=>{T||((T=this.issuer||"").endsWith("/")||(T+="/"),T+=".well-known/openid-configuration"),this.validateUrlForHttps(T)?this.http.get(T).subscribe(Oe=>{if(!this.validateDiscoveryDocument(Oe))return this.eventsSubject.next(new Le("discovery_document_validation_error",null)),void Ee("discovery_document_validation_error");this.loginUrl=Oe.authorization_endpoint,this.logoutUrl=Oe.end_session_endpoint||this.logoutUrl,this.grantTypesSupported=Oe.grant_types_supported,this.issuer=Oe.issuer,this.tokenEndpoint=Oe.token_endpoint,this.userinfoEndpoint=Oe.userinfo_endpoint||this.userinfoEndpoint,this.jwksUri=Oe.jwks_uri,this.sessionCheckIFrameUrl=Oe.check_session_iframe||this.sessionCheckIFrameUrl,this.discoveryDocumentLoaded=!0,this.discoveryDocumentLoadedSubject.next(Oe),this.revocationEndpoint=Oe.revocation_endpoint||this.revocationEndpoint,this.sessionChecksEnabled&&this.restartSessionChecksIfStillLoggedIn(),this.loadJwks().then(st=>{const en=new Mn("discovery_document_loaded",{discoveryDocument:Oe,jwks:st});this.eventsSubject.next(en),j(en)}).catch(st=>{this.eventsSubject.next(new Le("discovery_document_load_error",st)),Ee(st)})},Oe=>{this.logger.error("error loading discovery document",Oe),this.eventsSubject.next(new Le("discovery_document_load_error",Oe)),Ee(Oe)}):Ee("issuer  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).")})}loadJwks(){return new Promise((T,j)=>{this.jwksUri?this.http.get(this.jwksUri).subscribe(Ee=>{this.jwks=Ee,T(Ee)},Ee=>{this.logger.error("error loading jwks",Ee),this.eventsSubject.next(new Le("jwks_load_error",Ee)),j(Ee)}):T(null)})}validateDiscoveryDocument(T){let j;return this.skipIssuerCheck||T.issuer===this.issuer?(j=this.validateUrlFromDiscoveryDocument(T.authorization_endpoint),j.length>0?(this.logger.error("error validating authorization_endpoint in discovery document",j),!1):(j=this.validateUrlFromDiscoveryDocument(T.end_session_endpoint),j.length>0?(this.logger.error("error validating end_session_endpoint in discovery document",j),!1):(j=this.validateUrlFromDiscoveryDocument(T.token_endpoint),j.length>0&&this.logger.error("error validating token_endpoint in discovery document",j),j=this.validateUrlFromDiscoveryDocument(T.revocation_endpoint),j.length>0&&this.logger.error("error validating revocation_endpoint in discovery document",j),j=this.validateUrlFromDiscoveryDocument(T.userinfo_endpoint),j.length>0?(this.logger.error("error validating userinfo_endpoint in discovery document",j),!1):(j=this.validateUrlFromDiscoveryDocument(T.jwks_uri),j.length>0?(this.logger.error("error validating jwks_uri in discovery document",j),!1):(this.sessionChecksEnabled&&!T.check_session_iframe&&this.logger.warn("sessionChecksEnabled is activated but discovery document does not contain a check_session_iframe field"),!0))))):(this.logger.error("invalid issuer in discovery document","expected: "+this.issuer,"current: "+T.issuer),!1)}fetchTokenUsingPasswordFlowAndLoadUserProfile(T,j,Ee=new O.WM){return this.fetchTokenUsingPasswordFlow(T,j,Ee).then(()=>this.loadUserProfile())}loadUserProfile(){if(!this.hasValidAccessToken())throw new Error("Can not load User Profile without access_token");if(!this.validateUrlForHttps(this.userinfoEndpoint))throw new Error("userinfoEndpoint must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return new Promise((T,j)=>{const Ee=(new O.WM).set("Authorization","Bearer "+this.getAccessToken());this.http.get(this.userinfoEndpoint,{headers:Ee,observe:"response",responseType:"text"}).subscribe(Oe=>{if(this.debug("userinfo received",JSON.stringify(Oe)),Oe.headers.get("content-type").startsWith("application/json")){let st=JSON.parse(Oe.body);const _t=this.getIdentityClaims()||{};if(!this.skipSubjectCheck&&this.oidc&&(!_t.sub||st.sub!==_t.sub))return void j("if property oidc is true, the received user-id (sub) has to be the user-id of the user that has logged in with oidc.\nif you are not using oidc but just oauth2 password flow set oidc to false");st=Object.assign({},_t,st),this._storage.setItem("id_token_claims_obj",JSON.stringify(st)),this.eventsSubject.next(new Mn("user_profile_loaded")),T({info:st})}else this.debug("userinfo is not JSON, treating it as JWE/JWS"),this.eventsSubject.next(new Mn("user_profile_loaded")),T(JSON.parse(Oe.body))},Oe=>{this.logger.error("error loading user info",Oe),this.eventsSubject.next(new Le("user_profile_load_error",Oe)),j(Oe)})})}fetchTokenUsingPasswordFlow(T,j,Ee=new O.WM){return this.fetchTokenUsingGrant("password",{username:T,password:j},Ee)}fetchTokenUsingGrant(T,j,Ee=new O.WM){this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let Oe=new O.LE({encoder:new It}).set("grant_type",T).set("scope",this.scope);if(this.useHttpBasicAuth){const st=btoa(`${this.clientId}:${this.dummyClientSecret}`);Ee=Ee.set("Authorization","Basic "+st)}if(this.useHttpBasicAuth||(Oe=Oe.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(Oe=Oe.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const st of Object.getOwnPropertyNames(this.customQueryParams))Oe=Oe.set(st,this.customQueryParams[st]);for(const st of Object.keys(j))Oe=Oe.set(st,j[st]);return Ee=Ee.set("Content-Type","application/x-www-form-urlencoded"),new Promise((st,_t)=>{this.http.post(this.tokenEndpoint,Oe,{headers:Ee}).subscribe(en=>{this.debug("tokenResponse",en),this.storeAccessTokenResponse(en.access_token,en.refresh_token,en.expires_in||this.fallbackAccessTokenExpirationTimeInSec,en.scope,this.extractRecognizedCustomParameters(en)),this.oidc&&en.id_token&&this.processIdToken(en.id_token,en.access_token).then(bn=>{this.storeIdToken(bn),st(en)}),this.eventsSubject.next(new Mn("token_received")),st(en)},en=>{this.logger.error("Error performing ${grantType} flow",en),this.eventsSubject.next(new Le("token_error",en)),_t(en)})})}refreshToken(){return this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint"),new Promise((T,j)=>{let Ee=new O.LE({encoder:new It}).set("grant_type","refresh_token").set("scope",this.scope).set("refresh_token",this._storage.getItem("refresh_token")),Oe=(new O.WM).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const st=btoa(`${this.clientId}:${this.dummyClientSecret}`);Oe=Oe.set("Authorization","Basic "+st)}if(this.useHttpBasicAuth||(Ee=Ee.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(Ee=Ee.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const st of Object.getOwnPropertyNames(this.customQueryParams))Ee=Ee.set(st,this.customQueryParams[st]);this.http.post(this.tokenEndpoint,Ee,{headers:Oe}).pipe((0,fn.w)(st=>this.oidc&&st.id_token?(0,te.D)(this.processIdToken(st.id_token,st.access_token,!0)).pipe((0,fe.b)(_t=>this.storeIdToken(_t)),(0,$t.U)(()=>st)):(0,ee.of)(st))).subscribe(st=>{this.debug("refresh tokenResponse",st),this.storeAccessTokenResponse(st.access_token,st.refresh_token,st.expires_in||this.fallbackAccessTokenExpirationTimeInSec,st.scope,this.extractRecognizedCustomParameters(st)),this.eventsSubject.next(new Mn("token_received")),this.eventsSubject.next(new Mn("token_refreshed")),T(st)},st=>{this.logger.error("Error refreshing token",st),this.eventsSubject.next(new Le("token_refresh_error",st)),j(st)})})}removeSilentRefreshEventListener(){this.silentRefreshPostMessageEventListener&&(window.removeEventListener("message",this.silentRefreshPostMessageEventListener),this.silentRefreshPostMessageEventListener=null)}setupSilentRefreshEventListener(){this.removeSilentRefreshEventListener(),this.silentRefreshPostMessageEventListener=T=>{const j=this.processMessageEventMessage(T);this.checkOrigin&&T.origin!==location.origin&&console.error("wrong origin requested silent refresh!"),this.tryLogin({customHashFragment:j,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri||this.redirectUri}).catch(Ee=>this.debug("tryLogin during silent refresh failed",Ee))},window.addEventListener("message",this.silentRefreshPostMessageEventListener)}silentRefresh(T={},j=!0){const Ee=this.getIdentityClaims()||{};if(this.useIdTokenHintForSilentRefresh&&this.hasValidIdToken()&&(T.id_token_hint=this.getIdToken()),!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(typeof this.document>"u")throw new Error("silent refresh is not supported on this platform");const Oe=this.document.getElementById(this.silentRefreshIFrameName);Oe&&this.document.body.removeChild(Oe),this.silentRefreshSubject=Ee.sub;const st=this.document.createElement("iframe");return st.id=this.silentRefreshIFrameName,this.setupSilentRefreshEventListener(),this.createLoginUrl(null,null,this.silentRefreshRedirectUri||this.redirectUri,j,T).then(pn=>{st.setAttribute("src",pn),this.silentRefreshShowIFrame||(st.style.display="none"),this.document.body.appendChild(st)}),function W(...X){return 1===(X=function k(X){return 1===X.length&&Y(X[0])?X[0]:X}(X)).length?(0,K.Xf)(X[0]):new z.y(function ne(X){return L=>{let T=[];for(let j=0;T&&!L.closed&&j<X.length;j++)T.push((0,K.Xf)(X[j]).subscribe((0,U.x)(L,Ee=>{if(T){for(let Oe=0;Oe<T.length;Oe++)Oe!==j&&T[Oe].unsubscribe();T=null}L.next(Ee)})))}}(X))}([this.events.pipe((0,oe.h)(pn=>pn instanceof Le),(0,jt.P)()),this.events.pipe((0,oe.h)(pn=>"token_received"===pn.type),(0,jt.P)()),(0,ee.of)(new Le("silent_refresh_timeout",null)).pipe(at(this.silentRefreshTimeout))]).pipe((0,$t.U)(pn=>{if(pn instanceof Le)throw"silent_refresh_timeout"===pn.type||(pn=new Le("silent_refresh_error",pn)),this.eventsSubject.next(pn),pn;return"token_received"===pn.type&&(pn=new Mn("silently_refreshed"),this.eventsSubject.next(pn)),pn})).toPromise()}initImplicitFlowInPopup(T){return this.initLoginFlowInPopup(T)}initLoginFlowInPopup(T){return T=T||{},this.createLoginUrl(null,null,this.silentRefreshRedirectUri,!1,{display:"popup"}).then(j=>new Promise((Ee,Oe)=>{let en,_t=null;T.windowRef?T.windowRef&&!T.windowRef.closed&&(_t=T.windowRef,_t.location.href=j):_t=window.open(j,"ngx-oauth2-oidc-login",this.calculatePopupFeatures(T));const bn=Gn=>{this.tryLogin({customHashFragment:Gn,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri}).then(()=>{pn(),Ee(!0)},bt=>{pn(),Oe(bt)})};_t?en=window.setInterval(()=>{(!_t||_t.closed)&&(pn(),Oe(new Le("popup_closed",{})))},500):Oe(new Le("popup_blocked",{}));const pn=()=>{window.clearInterval(en),window.removeEventListener("storage",An),window.removeEventListener("message",$n),null!==_t&&_t.close(),_t=null},$n=Gn=>{const bt=this.processMessageEventMessage(Gn);bt&&null!==bt?(window.removeEventListener("storage",An),bn(bt)):console.log("false event firing")},An=Gn=>{"auth_hash"===Gn.key&&(window.removeEventListener("message",$n),bn(Gn.newValue))};window.addEventListener("message",$n),window.addEventListener("storage",An)}))}calculatePopupFeatures(T){const j=T.height||470,Ee=T.width||500,Oe=window.screenLeft+(window.outerWidth-Ee)/2;return`location=no,toolbar=no,width=${Ee},height=${j},top=${window.screenTop+(window.outerHeight-j)/2},left=${Oe}`}processMessageEventMessage(T){let j="#";if(this.silentRefreshMessagePrefix&&(j+=this.silentRefreshMessagePrefix),!T||!T.data||"string"!=typeof T.data)return;const Ee=T.data;return Ee.startsWith(j)?"#"+Ee.substr(j.length):void 0}canPerformSessionCheck(){return!(!this.sessionChecksEnabled||(this.sessionCheckIFrameUrl?this.getSessionState()?typeof this.document>"u":(console.warn("sessionChecksEnabled is activated but there is no session_state"),1):(console.warn("sessionChecksEnabled is activated but there is no sessionCheckIFrameUrl"),1)))}setupSessionCheckEventListener(){this.removeSessionCheckEventListener(),this.sessionCheckEventListener=T=>{const j=T.origin.toLowerCase(),Ee=this.issuer.toLowerCase();if(this.debug("sessionCheckEventListener"),Ee.startsWith(j)){switch(T.data){case"unchanged":this.ngZone.run(()=>{this.handleSessionUnchanged()});break;case"changed":this.ngZone.run(()=>{this.handleSessionChange()});break;case"error":this.ngZone.run(()=>{this.handleSessionError()})}this.debug("got info from session check inframe",T)}else this.debug("sessionCheckEventListener","wrong origin",j,"expected",Ee,"event",T)},this.ngZone.runOutsideAngular(()=>{window.addEventListener("message",this.sessionCheckEventListener)})}handleSessionUnchanged(){this.debug("session check","session unchanged"),this.eventsSubject.next(new Pn("session_unchanged"))}handleSessionChange(){this.eventsSubject.next(new Pn("session_changed")),this.stopSessionCheckTimer(),this.useSilentRefresh||"code"!==this.responseType?this.silentRefreshRedirectUri?(this.silentRefresh().catch(()=>this.debug("silent refresh failed after session changed")),this.waitForSilentRefreshAfterSessionChange()):(this.eventsSubject.next(new Pn("session_terminated")),this.logOut(!0)):this.refreshToken().then(()=>{this.debug("token refresh after session change worked")}).catch(()=>{this.debug("token refresh did not work after session changed"),this.eventsSubject.next(new Pn("session_terminated")),this.logOut(!0)})}waitForSilentRefreshAfterSessionChange(){this.events.pipe((0,oe.h)(T=>"silently_refreshed"===T.type||"silent_refresh_timeout"===T.type||"silent_refresh_error"===T.type),(0,jt.P)()).subscribe(T=>{"silently_refreshed"!==T.type&&(this.debug("silent refresh did not work after session changed"),this.eventsSubject.next(new Pn("session_terminated")),this.logOut(!0))})}handleSessionError(){this.stopSessionCheckTimer(),this.eventsSubject.next(new Pn("session_error"))}removeSessionCheckEventListener(){this.sessionCheckEventListener&&(window.removeEventListener("message",this.sessionCheckEventListener),this.sessionCheckEventListener=null)}initSessionCheck(){if(!this.canPerformSessionCheck())return;const T=this.document.getElementById(this.sessionCheckIFrameName);T&&this.document.body.removeChild(T);const j=this.document.createElement("iframe");j.id=this.sessionCheckIFrameName,this.setupSessionCheckEventListener(),j.setAttribute("src",this.sessionCheckIFrameUrl),j.style.display="none",this.document.body.appendChild(j),this.startSessionCheckTimer()}startSessionCheckTimer(){this.stopSessionCheckTimer(),this.ngZone.runOutsideAngular(()=>{this.sessionCheckTimer=setInterval(this.checkSession.bind(this),this.sessionCheckIntervall)})}stopSessionCheckTimer(){this.sessionCheckTimer&&(clearInterval(this.sessionCheckTimer),this.sessionCheckTimer=null)}checkSession(){const T=this.document.getElementById(this.sessionCheckIFrameName);T||this.logger.warn("checkSession did not find iframe",this.sessionCheckIFrameName);const j=this.getSessionState();j||this.stopSessionCheckTimer(),T.contentWindow.postMessage(this.clientId+" "+j,this.issuer)}createLoginUrl(T="",j="",Ee="",Oe=!1,st={}){var _t=this;return(0,l.Z)(function*(){const en=_t;let bn;bn=Ee||_t.redirectUri;const On=yield _t.createAndSaveNonce();if(T=T?On+_t.config.nonceStateSeparator+encodeURIComponent(T):On,!_t.requestAccessToken&&!_t.oidc)throw new Error("Either requestAccessToken or oidc or both must be true");_t.responseType=_t.config.responseType?_t.config.responseType:_t.oidc&&_t.requestAccessToken?"id_token token":_t.oidc&&!_t.requestAccessToken?"id_token":"token";const pn=en.loginUrl.indexOf("?")>-1?"&":"?";let $n=en.scope;_t.oidc&&!$n.match(/(^|\s)openid($|\s)/)&&($n="openid "+$n);let An=en.loginUrl+pn+"response_type="+encodeURIComponent(en.responseType)+"&client_id="+encodeURIComponent(en.clientId)+"&state="+encodeURIComponent(T)+"&redirect_uri="+encodeURIComponent(bn)+"&scope="+encodeURIComponent($n);if(_t.responseType.includes("code")&&!_t.disablePKCE){const[Gn,bt]=yield _t.createChallangeVerifierPairForPKCE();_t.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("PKCE_verifier",bt):_t._storage.setItem("PKCE_verifier",bt),An+="&code_challenge="+Gn,An+="&code_challenge_method=S256"}j&&(An+="&login_hint="+encodeURIComponent(j)),en.resource&&(An+="&resource="+encodeURIComponent(en.resource)),en.oidc&&(An+="&nonce="+encodeURIComponent(On)),Oe&&(An+="&prompt=none");for(const Gn of Object.keys(st))An+="&"+encodeURIComponent(Gn)+"="+encodeURIComponent(st[Gn]);if(_t.customQueryParams)for(const Gn of Object.getOwnPropertyNames(_t.customQueryParams))An+="&"+Gn+"="+encodeURIComponent(_t.customQueryParams[Gn]);return An})()}initImplicitFlowInternal(T="",j=""){if(this.inImplicitFlow)return;if(this.inImplicitFlow=!0,!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let Ee={},Oe=null;"string"==typeof j?Oe=j:"object"==typeof j&&(Ee=j),this.createLoginUrl(T,Oe,null,!1,Ee).then(this.config.openUri).catch(st=>{console.error("Error in initImplicitFlow",st),this.inImplicitFlow=!1})}initImplicitFlow(T="",j=""){""!==this.loginUrl?this.initImplicitFlowInternal(T,j):this.events.pipe((0,oe.h)(Ee=>"discovery_document_loaded"===Ee.type)).subscribe(()=>this.initImplicitFlowInternal(T,j))}resetImplicitFlow(){this.inImplicitFlow=!1}callOnTokenReceivedIfExists(T){const j=this;if(T.onTokenReceived){const Ee={idClaims:j.getIdentityClaims(),idToken:j.getIdToken(),accessToken:j.getAccessToken(),state:j.state};T.onTokenReceived(Ee)}}storeAccessTokenResponse(T,j,Ee,Oe,st){if(this._storage.setItem("access_token",T),Oe&&!Array.isArray(Oe)?this._storage.setItem("granted_scopes",JSON.stringify(Oe.split(" "))):Oe&&Array.isArray(Oe)&&this._storage.setItem("granted_scopes",JSON.stringify(Oe)),this._storage.setItem("access_token_stored_at",""+this.dateTimeService.now()),Ee){const _t=1e3*Ee,bn=this.dateTimeService.new().getTime()+_t;this._storage.setItem("expires_at",""+bn)}j&&this._storage.setItem("refresh_token",j),st&&st.forEach((_t,en)=>{this._storage.setItem(en,_t)})}tryLogin(T=null){return"code"===this.config.responseType?this.tryLoginCodeFlow(T).then(()=>!0):this.tryLoginImplicitFlow(T)}parseQueryString(T){return T&&0!==T.length?("?"===T.charAt(0)&&(T=T.substr(1)),this.urlHelper.parseQueryString(T)):{}}tryLoginCodeFlow(T=null){var j=this;return(0,l.Z)(function*(){const Ee=(T=T||{}).customHashFragment?T.customHashFragment.substring(1):window.location.search,Oe=j.getCodePartsFromUrl(Ee),st=Oe.code,_t=Oe.state,en=Oe.session_state;if(!T.preventClearHashAfterLogin){const pn=location.origin+location.pathname+location.search.replace(/code=[^&$]*/,"").replace(/scope=[^&$]*/,"").replace(/state=[^&$]*/,"").replace(/session_state=[^&$]*/,"").replace(/^\?&/,"?").replace(/&$/,"").replace(/^\?$/,"").replace(/&+/g,"&").replace(/\?&/,"?").replace(/\?$/,"")+location.hash;history.replaceState(null,window.name,pn)}const[bn,On]=j.parseState(_t);if(j.state=On,Oe.error){j.debug("error trying to login"),j.handleLoginError(T,Oe);const pn=new Le("code_error",{},Oe);return j.eventsSubject.next(pn),Promise.reject(pn)}if(!T.disableNonceCheck){if(!bn)return j.saveRequestedRoute(),Promise.resolve();if(!T.disableOAuth2StateCheck&&!j.validateNonce(bn)){const $n=new Le("invalid_nonce_in_state",null);return j.eventsSubject.next($n),Promise.reject($n)}}return j.storeSessionState(en),st&&(yield j.getTokenFromCode(st,T),j.restoreRequestedRoute()),Promise.resolve()})()}saveRequestedRoute(){this.config.preserveRequestedRoute&&this._storage.setItem("requested_route",window.location.pathname+window.location.search)}restoreRequestedRoute(){const T=this._storage.getItem("requested_route");T&&history.replaceState(null,"",window.location.origin+T)}getCodePartsFromUrl(T){return T&&0!==T.length?("?"===T.charAt(0)&&(T=T.substr(1)),this.urlHelper.parseQueryString(T)):this.urlHelper.getHashFragmentParams()}getTokenFromCode(T,j){let Ee=new O.LE({encoder:new It}).set("grant_type","authorization_code").set("code",T).set("redirect_uri",j.customRedirectUri||this.redirectUri);if(!this.disablePKCE){let Oe;Oe=this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.getItem("PKCE_verifier"):this._storage.getItem("PKCE_verifier"),Oe?Ee=Ee.set("code_verifier",Oe):console.warn("No PKCE verifier found in oauth storage!")}return this.fetchAndProcessToken(Ee,j)}fetchAndProcessToken(T,j){j=j||{},this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let Ee=(new O.WM).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const Oe=btoa(`${this.clientId}:${this.dummyClientSecret}`);Ee=Ee.set("Authorization","Basic "+Oe)}return this.useHttpBasicAuth||(T=T.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(T=T.set("client_secret",this.dummyClientSecret)),new Promise((Oe,st)=>{if(this.customQueryParams)for(const _t of Object.getOwnPropertyNames(this.customQueryParams))T=T.set(_t,this.customQueryParams[_t]);this.http.post(this.tokenEndpoint,T,{headers:Ee}).subscribe(_t=>{this.debug("refresh tokenResponse",_t),this.storeAccessTokenResponse(_t.access_token,_t.refresh_token,_t.expires_in||this.fallbackAccessTokenExpirationTimeInSec,_t.scope,this.extractRecognizedCustomParameters(_t)),this.oidc&&_t.id_token?this.processIdToken(_t.id_token,_t.access_token,j.disableNonceCheck).then(en=>{this.storeIdToken(en),this.eventsSubject.next(new Mn("token_received")),this.eventsSubject.next(new Mn("token_refreshed")),Oe(_t)}).catch(en=>{this.eventsSubject.next(new Le("token_validation_error",en)),console.error("Error validating tokens"),console.error(en),st(en)}):(this.eventsSubject.next(new Mn("token_received")),this.eventsSubject.next(new Mn("token_refreshed")),Oe(_t))},_t=>{console.error("Error getting token",_t),this.eventsSubject.next(new Le("token_refresh_error",_t)),st(_t)})})}tryLoginImplicitFlow(T=null){let j;j=(T=T||{}).customHashFragment?this.urlHelper.getHashFragmentParams(T.customHashFragment):this.urlHelper.getHashFragmentParams(),this.debug("parsed url",j);const Ee=j.state,[Oe,st]=this.parseState(Ee);if(this.state=st,j.error){this.debug("error trying to login"),this.handleLoginError(T,j);const pn=new Le("token_error",{},j);return this.eventsSubject.next(pn),Promise.reject(pn)}const _t=j.access_token,en=j.id_token,bn=j.session_state,On=j.scope;if(!this.requestAccessToken&&!this.oidc)return Promise.reject("Either requestAccessToken or oidc (or both) must be true.");if(this.requestAccessToken&&!_t||this.requestAccessToken&&!T.disableOAuth2StateCheck&&!Ee||this.oidc&&!en)return Promise.resolve(!1);if(this.sessionChecksEnabled&&!bn&&this.logger.warn("session checks (Session Status Change Notification) were activated in the configuration but the id_token does not contain a session_state claim"),this.requestAccessToken&&!T.disableNonceCheck&&!this.validateNonce(Oe)){const $n=new Le("invalid_nonce_in_state",null);return this.eventsSubject.next($n),Promise.reject($n)}return this.requestAccessToken&&this.storeAccessTokenResponse(_t,null,j.expires_in||this.fallbackAccessTokenExpirationTimeInSec,On),this.oidc?this.processIdToken(en,_t,T.disableNonceCheck).then(pn=>T.validationHandler?T.validationHandler({accessToken:_t,idClaims:pn.idTokenClaims,idToken:pn.idToken,state:Ee}).then(()=>pn):pn).then(pn=>(this.storeIdToken(pn),this.storeSessionState(bn),this.clearHashAfterLogin&&!T.preventClearHashAfterLogin&&this.clearLocationHash(),this.eventsSubject.next(new Mn("token_received")),this.callOnTokenReceivedIfExists(T),this.inImplicitFlow=!1,!0)).catch(pn=>(this.eventsSubject.next(new Le("token_validation_error",pn)),this.logger.error("Error validating tokens"),this.logger.error(pn),Promise.reject(pn))):(this.eventsSubject.next(new Mn("token_received")),this.clearHashAfterLogin&&!T.preventClearHashAfterLogin&&this.clearLocationHash(),this.callOnTokenReceivedIfExists(T),Promise.resolve(!0))}parseState(T){let j=T,Ee="";if(T){const Oe=T.indexOf(this.config.nonceStateSeparator);Oe>-1&&(j=T.substr(0,Oe),Ee=T.substr(Oe+this.config.nonceStateSeparator.length))}return[j,Ee]}validateNonce(T){let j;return j=this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.getItem("nonce"):this._storage.getItem("nonce"),j===T||(console.error("Validating access_token failed, wrong state/nonce.",j,T),!1)}storeIdToken(T){this._storage.setItem("id_token",T.idToken),this._storage.setItem("id_token_claims_obj",T.idTokenClaimsJson),this._storage.setItem("id_token_expires_at",""+T.idTokenExpiresAt),this._storage.setItem("id_token_stored_at",""+this.dateTimeService.now())}storeSessionState(T){this._storage.setItem("session_state",T)}getSessionState(){return this._storage.getItem("session_state")}handleLoginError(T,j){T.onLoginError&&T.onLoginError(j),this.clearHashAfterLogin&&!T.preventClearHashAfterLogin&&this.clearLocationHash()}getClockSkewInMsec(T=6e5){return this.clockSkewInSec||0===this.clockSkewInSec?1e3*this.clockSkewInSec:T}processIdToken(T,j,Ee=!1){const Oe=T.split("."),_t=re(this.padBase64(Oe[0])),en=JSON.parse(_t),On=re(this.padBase64(Oe[1])),pn=JSON.parse(On);let $n;if($n=this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.getItem("nonce"):this._storage.getItem("nonce"),Array.isArray(pn.aud)){if(pn.aud.every(on=>on!==this.clientId)){const on="Wrong audience: "+pn.aud.join(",");return this.logger.warn(on),Promise.reject(on)}}else if(pn.aud!==this.clientId){const on="Wrong audience: "+pn.aud;return this.logger.warn(on),Promise.reject(on)}if(!pn.sub){const on="No sub claim in id_token";return this.logger.warn(on),Promise.reject(on)}if(this.sessionChecksEnabled&&this.silentRefreshSubject&&this.silentRefreshSubject!==pn.sub){const on=`After refreshing, we got an id_token for another user (sub). Expected sub: ${this.silentRefreshSubject}, received sub: ${pn.sub}`;return this.logger.warn(on),Promise.reject(on)}if(!pn.iat){const on="No iat claim in id_token";return this.logger.warn(on),Promise.reject(on)}if(!this.skipIssuerCheck&&pn.iss!==this.issuer){const on="Wrong issuer: "+pn.iss;return this.logger.warn(on),Promise.reject(on)}if(!Ee&&pn.nonce!==$n){const on="Wrong nonce: "+pn.nonce;return this.logger.warn(on),Promise.reject(on)}if(Object.prototype.hasOwnProperty.call(this,"responseType")&&("code"===this.responseType||"id_token"===this.responseType)&&(this.disableAtHashCheck=!0),!this.disableAtHashCheck&&this.requestAccessToken&&!pn.at_hash){const on="An at_hash is needed!";return this.logger.warn(on),Promise.reject(on)}const An=this.dateTimeService.now(),Gn=1e3*pn.iat,bt=1e3*pn.exp,Et=this.getClockSkewInMsec();if(Gn-Et>=An||bt+Et-this.decreaseExpirationBySec<=An){const on="Token has expired";return console.error(on),console.error({now:An,issuedAtMSec:Gn,expiresAtMSec:bt}),Promise.reject(on)}const Vt={accessToken:j,idToken:T,jwks:this.jwks,idTokenClaims:pn,idTokenHeader:en,loadKeys:()=>this.loadJwks()};return this.disableAtHashCheck?this.checkSignature(Vt).then(()=>({idToken:T,idTokenClaims:pn,idTokenClaimsJson:On,idTokenHeader:en,idTokenHeaderJson:_t,idTokenExpiresAt:bt})):this.checkAtHash(Vt).then(on=>{if(!this.disableAtHashCheck&&this.requestAccessToken&&!on){const In="Wrong at_hash";return this.logger.warn(In),Promise.reject(In)}return this.checkSignature(Vt).then(()=>{const ni={idToken:T,idTokenClaims:pn,idTokenClaimsJson:On,idTokenHeader:en,idTokenHeaderJson:_t,idTokenExpiresAt:bt};return this.disableAtHashCheck?ni:this.checkAtHash(Vt).then(li=>{if(this.requestAccessToken&&!li){const Ei="Wrong at_hash";return this.logger.warn(Ei),Promise.reject(Ei)}return ni})})})}getIdentityClaims(){const T=this._storage.getItem("id_token_claims_obj");return T?JSON.parse(T):null}getGrantedScopes(){const T=this._storage.getItem("granted_scopes");return T?JSON.parse(T):null}getIdToken(){return this._storage?this._storage.getItem("id_token"):null}padBase64(T){for(;T.length%4!=0;)T+="=";return T}getAccessToken(){return this._storage?this._storage.getItem("access_token"):null}getRefreshToken(){return this._storage?this._storage.getItem("refresh_token"):null}getAccessTokenExpiration(){return this._storage.getItem("expires_at")?parseInt(this._storage.getItem("expires_at"),10):null}getAccessTokenStoredAt(){return parseInt(this._storage.getItem("access_token_stored_at"),10)}getIdTokenStoredAt(){return parseInt(this._storage.getItem("id_token_stored_at"),10)}getIdTokenExpiration(){return this._storage.getItem("id_token_expires_at")?parseInt(this._storage.getItem("id_token_expires_at"),10):null}hasValidAccessToken(){if(this.getAccessToken()){const T=this._storage.getItem("expires_at"),j=this.dateTimeService.new();return!(T&&parseInt(T,10)-this.decreaseExpirationBySec<j.getTime()-this.getClockSkewInMsec())}return!1}hasValidIdToken(){if(this.getIdToken()){const T=this._storage.getItem("id_token_expires_at"),j=this.dateTimeService.new();return!(T&&parseInt(T,10)-this.decreaseExpirationBySec<j.getTime()-this.getClockSkewInMsec())}return!1}getCustomTokenResponseProperty(T){return this._storage&&this.config.customTokenParameters&&this.config.customTokenParameters.indexOf(T)>=0&&null!==this._storage.getItem(T)?JSON.parse(this._storage.getItem(T)):null}authorizationHeader(){return"Bearer "+this.getAccessToken()}logOut(T={},j=""){let Ee=!1;"boolean"==typeof T&&(Ee=T,T={});const Oe=this.getIdToken();if(this._storage.removeItem("access_token"),this._storage.removeItem("id_token"),this._storage.removeItem("refresh_token"),this.saveNoncesInLocalStorage?(localStorage.removeItem("nonce"),localStorage.removeItem("PKCE_verifier")):(this._storage.removeItem("nonce"),this._storage.removeItem("PKCE_verifier")),this._storage.removeItem("expires_at"),this._storage.removeItem("id_token_claims_obj"),this._storage.removeItem("id_token_expires_at"),this._storage.removeItem("id_token_stored_at"),this._storage.removeItem("access_token_stored_at"),this._storage.removeItem("granted_scopes"),this._storage.removeItem("session_state"),this.config.customTokenParameters&&this.config.customTokenParameters.forEach(_t=>this._storage.removeItem(_t)),this.silentRefreshSubject=null,this.eventsSubject.next(new Pn("logout")),!this.logoutUrl||Ee)return;let st;if(!this.validateUrlForHttps(this.logoutUrl))throw new Error("logoutUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(this.logoutUrl.indexOf("{{")>-1)st=this.logoutUrl.replace(/\{\{id_token\}\}/,encodeURIComponent(Oe)).replace(/\{\{client_id\}\}/,encodeURIComponent(this.clientId));else{let _t=new O.LE({encoder:new It});Oe&&(_t=_t.set("id_token_hint",Oe));const en=this.postLogoutRedirectUri||this.redirectUriAsPostLogoutRedirectUriFallback&&this.redirectUri||"";en&&(_t=_t.set("post_logout_redirect_uri",en),j&&(_t=_t.set("state",j)));for(const bn in T)_t=_t.set(bn,T[bn]);st=this.logoutUrl+(this.logoutUrl.indexOf("?")>-1?"&":"?")+_t.toString()}this.config.openUri(st)}createAndSaveNonce(){const T=this;return this.createNonce().then(function(j){return T.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("nonce",j):T._storage.setItem("nonce",j),j})}ngOnDestroy(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.removeSilentRefreshEventListener();const T=this.document.getElementById(this.silentRefreshIFrameName);T&&T.remove(),this.stopSessionCheckTimer(),this.removeSessionCheckEventListener();const j=this.document.getElementById(this.sessionCheckIFrameName);j&&j.remove()}createNonce(){return new Promise(T=>{if(this.rngUrl)throw new Error("createNonce with rng-web-api has not been implemented so far");const j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~";let Ee=45,Oe="";const st=typeof self>"u"?null:self.crypto||self.msCrypto;if(st){let _t=new Uint8Array(Ee);st.getRandomValues(_t),_t.map||(_t.map=Array.prototype.map),_t=_t.map(en=>j.charCodeAt(en%j.length)),Oe=String.fromCharCode.apply(null,_t)}else for(;0<Ee--;)Oe+=j[Math.random()*j.length|0];T(ge(Oe))})}checkAtHash(T){var j=this;return(0,l.Z)(function*(){return j.tokenValidationHandler?j.tokenValidationHandler.validateAtHash(T):(j.logger.warn("No tokenValidationHandler configured. Cannot check at_hash."),!0)})()}checkSignature(T){return this.tokenValidationHandler?this.tokenValidationHandler.validateSignature(T):(this.logger.warn("No tokenValidationHandler configured. Cannot check signature."),Promise.resolve(null))}initLoginFlow(T="",j={}){return"code"===this.responseType?this.initCodeFlow(T,j):this.initImplicitFlow(T,j)}initCodeFlow(T="",j={}){""!==this.loginUrl?this.initCodeFlowInternal(T,j):this.events.pipe((0,oe.h)(Ee=>"discovery_document_loaded"===Ee.type)).subscribe(()=>this.initCodeFlowInternal(T,j))}initCodeFlowInternal(T="",j={}){if(!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let Ee={},Oe=null;"string"==typeof j?Oe=j:"object"==typeof j&&(Ee=j),this.createLoginUrl(T,Oe,null,!1,Ee).then(this.config.openUri).catch(st=>{console.error("Error in initAuthorizationCodeFlow"),console.error(st)})}createChallangeVerifierPairForPKCE(){var T=this;return(0,l.Z)(function*(){if(!T.crypto)throw new Error("PKCE support for code flow needs a CryptoHander. Did you import the OAuthModule using forRoot() ?");const j=yield T.createNonce();return[ge(yield T.crypto.calcHash(j,"sha-256")),j]})()}extractRecognizedCustomParameters(T){const j=new Map;return this.config.customTokenParameters&&this.config.customTokenParameters.forEach(Ee=>{T[Ee]&&j.set(Ee,JSON.stringify(T[Ee]))}),j}revokeTokenAndLogout(T={},j=!1){const Ee=this.revocationEndpoint,Oe=this.getAccessToken(),st=this.getRefreshToken();if(!Oe)return Promise.resolve();let _t=new O.LE({encoder:new It}),en=(new O.WM).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const bn=btoa(`${this.clientId}:${this.dummyClientSecret}`);en=en.set("Authorization","Basic "+bn)}if(this.useHttpBasicAuth||(_t=_t.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(_t=_t.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const bn of Object.getOwnPropertyNames(this.customQueryParams))_t=_t.set(bn,this.customQueryParams[bn]);return new Promise((bn,On)=>{let pn,$n;if(Oe){const An=_t.set("token",Oe).set("token_type_hint","access_token");pn=this.http.post(Ee,An,{headers:en})}else pn=(0,ee.of)(null);if(st){const An=_t.set("token",st).set("token_type_hint","refresh_token");$n=this.http.post(Ee,An,{headers:en})}else $n=(0,ee.of)(null);j&&(pn=pn.pipe((0,Zt.K)(An=>0===An.status?(0,ee.of)(null):(0,le._)(An))),$n=$n.pipe((0,Zt.K)(An=>0===An.status?(0,ee.of)(null):(0,le._)(An)))),(0,Ae.a)([pn,$n]).subscribe(An=>{this.logOut(T),bn(An),this.logger.info("Token successfully revoked")},An=>{this.logger.error("Error revoking token",An),this.eventsSubject.next(new Le("token_revoke_error",An)),On(An)})})}clearLocationHash(){""!=location.hash&&(location.hash="")}static#e=this.\u0275fac=function(j){return new(j||X)(b.LFG(b.R0b),b.LFG(O.eN),b.LFG(Gt,8),b.LFG(Pt,8),b.LFG(He,8),b.LFG(hn),b.LFG(Mt),b.LFG(nn,8),b.LFG(f.K0),b.LFG(Qe))};static#t=this.\u0275prov=b.Yz7({token:X,factory:X.\u0275fac})}return X})();class ot{}class an{handleError(L){return(0,le._)(L)}}let Jt=(()=>{class X{constructor(T,j,Ee){this.oAuthService=T,this.errorHandler=j,this.moduleConfig=Ee}checkUrl(T){return this.moduleConfig.resourceServer.customUrlValidation?this.moduleConfig.resourceServer.customUrlValidation(T):!this.moduleConfig.resourceServer.allowedUrls||!!this.moduleConfig.resourceServer.allowedUrls.find(j=>T.toLowerCase().startsWith(j.toLowerCase()))}intercept(T,j){const Ee=T.url.toLowerCase();return this.moduleConfig&&this.moduleConfig.resourceServer&&this.checkUrl(Ee)?this.moduleConfig.resourceServer.sendAccessToken?(0,_e.T)((0,ee.of)(this.oAuthService.getAccessToken()).pipe((0,oe.h)(st=>!!st)),this.oAuthService.events.pipe((0,oe.h)(st=>"token_received"===st.type),function qe(X,L){const{first:T,each:j,with:Ee=Z,scheduler:Oe=L??pe.z,meta:st=null}=(0,we.q)(X)?{first:X}:"number"==typeof X?{each:X}:X;if(null==T&&null==j)throw new TypeError("No timeout provided.");return(0,je.e)((_t,en)=>{let bn,On,pn=null,$n=0;const An=Gn=>{On=(0,Ne.f)(en,Oe,()=>{try{bn.unsubscribe(),(0,K.Xf)(Ee({meta:st,lastValue:pn,seen:$n})).subscribe(en)}catch(bt){en.error(bt)}},Gn)};bn=_t.subscribe((0,U.x)(en,Gn=>{On?.unsubscribe(),$n++,en.next(pn=Gn),j>0&&An(j)},void 0,void 0,()=>{On?.closed||On?.unsubscribe(),pn=null})),!$n&&An(null!=T?"number"==typeof T?T:+T-Oe.now():j)})}(this.oAuthService.waitForTokenInMsec||0),(0,Zt.K)(()=>(0,ee.of)(null)),(0,$t.U)(()=>this.oAuthService.getAccessToken()))).pipe((0,xe.q)(1),(0,Ue.z)(st=>{if(st){const en=T.headers.set("Authorization","Bearer "+st);T=T.clone({headers:en})}return j.handle(T).pipe((0,Zt.K)(_t=>this.errorHandler.handleError(_t)))})):j.handle(T).pipe((0,Zt.K)(st=>this.errorHandler.handleError(st))):j.handle(T)}static#e=this.\u0275fac=function(j){return new(j||X)(b.LFG(ze),b.LFG(ot),b.LFG(R,8))};static#t=this.\u0275prov=b.Yz7({token:X,factory:X.\u0275fac})}return X})();function Ln(){return console}function Ze(){return typeof sessionStorage<"u"?sessionStorage:new _n}function Ve(X=null,L=ye){return(0,b.MR2)([ze,hn,{provide:Mt,useFactory:Ln},{provide:Gt,useFactory:Ze},{provide:Pt,useClass:L},{provide:nn,useClass:nt},{provide:ot,useClass:an},{provide:R,useValue:X},{provide:O.TP,useClass:Jt,multi:!0},{provide:Qe,useClass:Tt}])}let et=(()=>{class X{static forRoot(T=null,j=ye){return{ngModule:X,providers:[Ve(T,j)]}}static#e=this.\u0275fac=function(j){return new(j||X)};static#t=this.\u0275mod=b.oAB({type:X});static#n=this.\u0275inj=b.cJS({imports:[f.ez]})}return X})();new b.OlP("AUTH_CONFIG")},9260:(wt,Fe,_)=>{"use strict";_.d(Fe,{Z:()=>l.Z});var l=_(3942);l.Z.registerVersion("firebase","10.13.1","app-compat")},6297:(wt,Fe,_)=>{"use strict";_.r(Fe);var l=_(5861),b=_(3942),f=_(6881),O=_(2090),de=_(1877),ee=_(7582),te=_(4859);const K={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},U_EMAIL_SIGNIN="EMAIL_SIGNIN",U_PASSWORD_RESET="PASSWORD_RESET",U_RECOVER_EMAIL="RECOVER_EMAIL",U_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",U_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",U_VERIFY_EMAIL="VERIFY_EMAIL";const le=function W(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Ae=function ne(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_e=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),fe=new de.Yd("@firebase/auth");function pe(y,...h){fe.logLevel<=de.in.ERROR&&fe.error(`Auth (${f.SDK_VERSION}): ${y}`,...h)}function he(y,...h){throw dt(y,...h)}function xe(y,...h){return dt(y,...h)}function je(y,h,p){const I=Object.assign(Object.assign({},Ae()),{[h]:p});return new O.LL("auth","Firebase",I).create(h,{appName:y.name})}function Pe(y){return je(y,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xe(y,h,p){if(!(h instanceof p))throw p.name!==h.constructor.name&&he(y,"argument-error"),je(y,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dt(y,...h){if("string"!=typeof y){const p=h[0],I=[...h.slice(1)];return I[0]&&(I[0].appName=y.name),y._errorFactory.create(p,...I)}return _e.create(y,...h)}function Ue(y,h,...p){if(!y)throw dt(h,...p)}function ct(y){const h="INTERNAL ASSERTION FAILED: "+y;throw pe(h),new Error(h)}function Ot(y,h){y||ct(h)}function at(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function fn(){return"http:"===$t()||"https:"===$t()}function $t(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class we{constructor(h,p){this.shortDelay=h,this.longDelay=p,Ot(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function jt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(fn()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ke(y,h){Ot(y.emulator,"Emulator should always be set here");const{url:p}=y.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class Ne{static initialize(h,p,I){this.fetchImpl=h,p&&(this.headersImpl=p),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ct("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ct("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ct("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const me={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},qe=new we(3e4,6e4);function Z(y,h){return y.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:y.tenantId}):h}function ye(y,h,p,I){return R.apply(this,arguments)}function R(){return(R=(0,l.Z)(function*(y,h,p,I,Q={}){return Se(y,Q,(0,l.Z)(function*(){let be={},lt={};I&&("GET"===h?lt=I:be={body:JSON.stringify(I)});const At=(0,O.xO)(Object.assign({key:y.config.apiKey},lt)).slice(1),rn=yield y._getAdditionalHeaders();return rn["Content-Type"]="application/json",y.languageCode&&(rn["X-Firebase-Locale"]=y.languageCode),Ne.fetch()(Mt(y,y.config.apiHost,p,At),Object.assign({method:h,headers:rn,referrerPolicy:"no-referrer"},be))}))})).apply(this,arguments)}function Se(y,h,p){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,l.Z)(function*(y,h,p){y._canInitEmulator=!1;const I=Object.assign(Object.assign({},me),h);try{const Q=new _n(y),be=yield Promise.race([p(),Q.promise]);Q.clearNetworkTimeout();const lt=yield be.json();if("needConfirmation"in lt)throw Bn(y,"account-exists-with-different-credential",lt);if(be.ok&&!("errorMessage"in lt))return lt;{const At=be.ok?lt.errorMessage:lt.error.message,[rn,Tn]=At.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===rn)throw Bn(y,"credential-already-in-use",lt);if("EMAIL_EXISTS"===rn)throw Bn(y,"email-already-in-use",lt);if("USER_DISABLED"===rn)throw Bn(y,"user-disabled",lt);const Zn=I[rn]||rn.toLowerCase().replace(/[_\s]+/g,"-");if(Tn)throw je(y,Zn,Tn);he(y,Zn)}}catch(Q){if(Q instanceof O.ZR)throw Q;he(y,"network-request-failed",{message:String(Q)})}})).apply(this,arguments)}function Tt(y,h,p,I){return $e.apply(this,arguments)}function $e(){return($e=(0,l.Z)(function*(y,h,p,I,Q={}){const be=yield ye(y,h,p,I,Q);return"mfaPendingCredential"in be&&he(y,"multi-factor-auth-required",{_serverResponse:be}),be})).apply(this,arguments)}function Mt(y,h,p,I){const Q=`${h}${p}?${I}`;return y.config.emulator?ke(y.config,Q):`${y.config.apiScheme}://${Q}`}function Gt(y){switch(y){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _n{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,I)=>{this.timer=setTimeout(()=>I(xe(this.auth,"network-request-failed")),qe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bn(y,h,p){const I={appName:y.name};p.email&&(I.email=p.email),p.phoneNumber&&(I.phoneNumber=p.phoneNumber);const Q=xe(y,h,I);return Q.customData._tokenResponse=p,Q}function qn(y){return void 0!==y&&void 0!==y.getResponse}function Mn(y){return void 0!==y&&void 0!==y.enterprise}class Pn{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const p of this.recaptchaEnforcementState)if(p.provider&&p.provider===h)return Gt(p.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}}function re(){return(re=(0,l.Z)(function*(y){return(yield ye(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ge(y,h){return He.apply(this,arguments)}function He(){return(He=(0,l.Z)(function*(y,h){return ye(y,"GET","/v2/recaptchaConfig",Z(y,h))})).apply(this,arguments)}function Pt(){return(Pt=(0,l.Z)(function*(y,h){return ye(y,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function hn(){return(hn=(0,l.Z)(function*(y,h){return ye(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ut(y,h){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,l.Z)(function*(y,h){return ye(y,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function De(y){if(y)try{const h=new Date(Number(y));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function sn(){return(sn=(0,l.Z)(function*(y,h=!1){const p=(0,O.m9)(y),I=yield p.getIdToken(h),Q=ai(I);Ue(Q&&Q.exp&&Q.auth_time&&Q.iat,p.auth,"internal-error");const be="object"==typeof Q.firebase?Q.firebase:void 0,lt=be?.sign_in_provider;return{claims:Q,token:I,authTime:De(mn(Q.auth_time)),issuedAtTime:De(mn(Q.iat)),expirationTime:De(mn(Q.exp)),signInProvider:lt||null,signInSecondFactor:be?.sign_in_second_factor||null}})).apply(this,arguments)}function mn(y){return 1e3*Number(y)}function ai(y){const[h,p,I]=y.split(".");if(void 0===h||void 0===p||void 0===I)return pe("JWT malformed, contained fewer than 3 sections"),null;try{const Q=(0,O.tV)(p);return Q?JSON.parse(Q):(pe("Failed to decode base64 JWT payload"),null)}catch(Q){return pe("Caught error parsing JWT payload as JSON",Q?.toString()),null}}function zn(y){const h=ai(y);return Ue(h,"internal-error"),Ue(typeof h.exp<"u","internal-error"),Ue(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}function ri(y,h){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,l.Z)(function*(y,h,p=!1){if(p)return h;try{return yield h}catch(I){throw I instanceof O.ZR&&function Ti({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(I)&&y.auth.currentUser===y&&(yield y.auth.signOut()),I}})).apply(this,arguments)}class nn{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const Q=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,Q)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const I=this.getInterval(h);this.timerId=setTimeout((0,l.Z)(function*(){yield p.iteration()}),I)}iteration(){var h=this;return(0,l.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&h.schedule(!0))}h.schedule()})()}}class pt{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=De(this.lastLoginAt),this.creationTime=De(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function mt(y){return nt.apply(this,arguments)}function nt(){return(nt=(0,l.Z)(function*(y){var h;const p=y.auth,I=yield y.getIdToken(),Q=yield ri(y,ut(p,{idToken:I}));Ue(Q?.users.length,p,"internal-error");const be=Q.users[0];y._notifyReloadListener(be);const lt=null!==(h=be.providerUserInfo)&&void 0!==h&&h.length?Jt(be.providerUserInfo):[],At=function an(y,h){return[...y.filter(I=>!h.some(Q=>Q.providerId===I.providerId)),...h]}(y.providerData,lt),Zn=!!y.isAnonymous&&!(y.email&&be.passwordHash||At?.length),kn={uid:be.localId,displayName:be.displayName||null,photoURL:be.photoUrl||null,email:be.email||null,emailVerified:be.emailVerified||!1,phoneNumber:be.phoneNumber||null,tenantId:be.tenantId||null,providerData:At,metadata:new pt(be.createdAt,be.lastLoginAt),isAnonymous:Zn};Object.assign(y,kn)})).apply(this,arguments)}function ot(){return(ot=(0,l.Z)(function*(y){const h=(0,O.m9)(y);yield mt(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Jt(y){return y.map(h=>{var{providerId:p}=h,I=(0,ee._T)(h,["providerId"]);return{providerId:p,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function Ze(){return(Ze=(0,l.Z)(function*(y,h){const p=yield Se(y,{},(0,l.Z)(function*(){const I=(0,O.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:Q,apiKey:be}=y.config,lt=Mt(y,Q,"/v1/token",`key=${be}`),At=yield y._getAdditionalHeaders();return At["Content-Type"]="application/x-www-form-urlencoded",Ne.fetch()(lt,{method:"POST",headers:At,body:I})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}function et(){return(et=(0,l.Z)(function*(y,h){return ye(y,"POST","/v2/accounts:revokeToken",Z(y,h))})).apply(this,arguments)}class Rt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Ue(h.idToken,"internal-error"),Ue(typeof h.idToken<"u","internal-error"),Ue(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):zn(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}updateFromIdToken(h){Ue(0!==h.length,"internal-error");const p=zn(h);this.updateTokensAndExpiration(h,null,p)}getToken(h,p=!1){var I=this;return(0,l.Z)(function*(){return p||!I.accessToken||I.isExpired?(Ue(I.refreshToken,h,"user-token-expired"),I.refreshToken?(yield I.refresh(h,I.refreshToken),I.accessToken):null):I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var I=this;return(0,l.Z)(function*(){const{accessToken:Q,refreshToken:be,expiresIn:lt}=yield function Ln(y,h){return Ze.apply(this,arguments)}(h,p);I.updateTokensAndExpiration(Q,be,Number(lt))})()}updateTokensAndExpiration(h,p,I){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(h,p){const{refreshToken:I,accessToken:Q,expirationTime:be}=p,lt=new Rt;return I&&(Ue("string"==typeof I,"internal-error",{appName:h}),lt.refreshToken=I),Q&&(Ue("string"==typeof Q,"internal-error",{appName:h}),lt.accessToken=Q),be&&(Ue("number"==typeof be,"internal-error",{appName:h}),lt.expirationTime=be),lt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Rt,this.toJSON())}_performRefresh(){return ct("not implemented")}}function ht(y,h){Ue("string"==typeof y||typeof y>"u","internal-error",{appName:h})}class tt{constructor(h){var{uid:p,auth:I,stsTokenManager:Q}=h,be=(0,ee._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=I,this.stsTokenManager=Q,this.accessToken=Q.accessToken,this.displayName=be.displayName||null,this.email=be.email||null,this.emailVerified=be.emailVerified||!1,this.phoneNumber=be.phoneNumber||null,this.photoURL=be.photoURL||null,this.isAnonymous=be.isAnonymous||!1,this.tenantId=be.tenantId||null,this.providerData=be.providerData?[...be.providerData]:[],this.metadata=new pt(be.createdAt||void 0,be.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,l.Z)(function*(){const I=yield ri(p,p.stsTokenManager.getToken(p.auth,h));return Ue(I,p.auth,"internal-error"),p.accessToken!==I&&(p.accessToken=I,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),I})()}getIdTokenResult(h){return function Wt(y){return sn.apply(this,arguments)}(this,h)}reload(){return function ze(y){return ot.apply(this,arguments)}(this)}_assign(h){this!==h&&(Ue(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const p=new tt(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(h){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var I=this;return(0,l.Z)(function*(){let Q=!1;h.idToken&&h.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(h),Q=!0),p&&(yield mt(I)),yield I.auth._persistUserIfCurrent(I),Q&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var h=this;return(0,l.Z)(function*(){if((0,f._isFirebaseServerApp)(h.auth.app))return Promise.reject(Pe(h.auth));const p=yield h.getIdToken();return yield ri(h,function It(y,h){return Pt.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var I,Q,be,lt,At,rn,Tn,Zn;const kn=null!==(I=p.displayName)&&void 0!==I?I:void 0,Mr=null!==(Q=p.email)&&void 0!==Q?Q:void 0,os=null!==(be=p.phoneNumber)&&void 0!==be?be:void 0,rh=null!==(lt=p.photoURL)&&void 0!==lt?lt:void 0,bf=null!==(At=p.tenantId)&&void 0!==At?At:void 0,xi=null!==(rn=p._redirectEventId)&&void 0!==rn?rn:void 0,oh=null!==(Tn=p.createdAt)&&void 0!==Tn?Tn:void 0,Ef=null!==(Zn=p.lastLoginAt)&&void 0!==Zn?Zn:void 0,{uid:ac,emailVerified:xf,isAnonymous:Ju,providerData:lc,stsTokenManager:Cf}=p;Ue(ac&&Cf,h,"internal-error");const cc=Rt.fromJSON(this.name,Cf);Ue("string"==typeof ac,h,"internal-error"),ht(kn,h.name),ht(Mr,h.name),Ue("boolean"==typeof xf,h,"internal-error"),Ue("boolean"==typeof Ju,h,"internal-error"),ht(os,h.name),ht(rh,h.name),ht(bf,h.name),ht(xi,h.name),ht(oh,h.name),ht(Ef,h.name);const sh=new tt({uid:ac,auth:h,email:Mr,emailVerified:xf,displayName:kn,isAnonymous:Ju,photoURL:rh,phoneNumber:os,tenantId:bf,stsTokenManager:cc,createdAt:oh,lastLoginAt:Ef});return lc&&Array.isArray(lc)&&(sh.providerData=lc.map(Fl=>Object.assign({},Fl))),xi&&(sh._redirectEventId=xi),sh}static _fromIdTokenResponse(h,p,I=!1){return(0,l.Z)(function*(){const Q=new Rt;Q.updateFromServerResponse(p);const be=new tt({uid:p.localId,auth:h,stsTokenManager:Q,isAnonymous:I});return yield mt(be),be})()}static _fromGetAccountInfoResponse(h,p,I){return(0,l.Z)(function*(){const Q=p.users[0];Ue(void 0!==Q.localId,"internal-error");const be=void 0!==Q.providerUserInfo?Jt(Q.providerUserInfo):[],lt=!(Q.email&&Q.passwordHash||be?.length),At=new Rt;At.updateFromIdToken(I);const rn=new tt({uid:Q.localId,auth:h,stsTokenManager:At,isAnonymous:lt}),Tn={uid:Q.localId,displayName:Q.displayName||null,photoURL:Q.photoUrl||null,email:Q.email||null,emailVerified:Q.emailVerified||!1,phoneNumber:Q.phoneNumber||null,tenantId:Q.tenantId||null,providerData:be,metadata:new pt(Q.createdAt,Q.lastLoginAt),isAnonymous:!(Q.email&&Q.passwordHash||be?.length)};return Object.assign(rn,Tn),rn})()}}const X=new Map;function L(y){Ot(y instanceof Function,"Expected a class definition");let h=X.get(y);return h?(Ot(h instanceof y,"Instance stored in cache mismatched with class"),h):(h=new y,X.set(y,h),h)}const j=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(p,I){var Q=this;return(0,l.Z)(function*(){Q.storage[p]=I})()}_get(p){var I=this;return(0,l.Z)(function*(){const Q=I.storage[p];return void 0===Q?null:Q})()}_remove(p){var I=this;return(0,l.Z)(function*(){delete I.storage[p]})()}_addListener(p,I){}_removeListener(p,I){}}return y.type="NONE",y})();function Ee(y,h,p){return`firebase:${y}:${h}:${p}`}class Oe{constructor(h,p,I){this.persistence=h,this.auth=p,this.userKey=I;const{config:Q,name:be}=this.auth;this.fullUserKey=Ee(this.userKey,Q.apiKey,be),this.fullPersistenceKey=Ee("persistence",Q.apiKey,be),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,l.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?tt._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,l.Z)(function*(){if(p.persistence===h)return;const I=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,I?p.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,I="authUser"){return(0,l.Z)(function*(){if(!p.length)return new Oe(L(j),h,I);const Q=(yield Promise.all(p.map(function(){var Tn=(0,l.Z)(function*(Zn){if(yield Zn._isAvailable())return Zn});return function(Zn){return Tn.apply(this,arguments)}}()))).filter(Tn=>Tn);let be=Q[0]||L(j);const lt=Ee(I,h.config.apiKey,h.name);let At=null;for(const Tn of p)try{const Zn=yield Tn._get(lt);if(Zn){const kn=tt._fromJSON(h,Zn);Tn!==be&&(At=kn),be=Tn;break}}catch{}const rn=Q.filter(Tn=>Tn._shouldAllowMigration);return be._shouldAllowMigration&&rn.length?(be=rn[0],At&&(yield be._set(lt,At.toJSON())),yield Promise.all(p.map(function(){var Tn=(0,l.Z)(function*(Zn){if(Zn!==be)try{yield Zn._remove(lt)}catch{}});return function(Zn){return Tn.apply(this,arguments)}}())),new Oe(be,h,I)):new Oe(be,h,I)})()}}function st(y){const h=y.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(On(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(_t(h))return"Firefox";if(h.includes("silk/"))return"Silk";if($n(h))return"Blackberry";if(An(h))return"Webos";if(en(h))return"Safari";if((h.includes("chrome/")||bn(h))&&!h.includes("edge/"))return"Chrome";if(pn(h))return"Android";{const I=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function _t(y=(0,O.z$)()){return/firefox\//i.test(y)}function en(y=(0,O.z$)()){const h=y.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function bn(y=(0,O.z$)()){return/crios\//i.test(y)}function On(y=(0,O.z$)()){return/iemobile/i.test(y)}function pn(y=(0,O.z$)()){return/android/i.test(y)}function $n(y=(0,O.z$)()){return/blackberry/i.test(y)}function An(y=(0,O.z$)()){return/webos/i.test(y)}function Gn(y=(0,O.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function on(y=(0,O.z$)()){return Gn(y)||pn(y)||An(y)||$n(y)||/windows phone/i.test(y)||On(y)}function In(y,h=[]){let p;switch(y){case"Browser":p=st((0,O.z$)());break;case"Worker":p=`${st((0,O.z$)())}-${y}`;break;default:p=y}const I=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${f.SDK_VERSION}/${I}`}class ni{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const I=be=>new Promise((lt,At)=>{try{lt(h(be))}catch(rn){At(rn)}});I.onAbort=p,this.queue.push(I);const Q=this.queue.length-1;return()=>{this.queue[Q]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,l.Z)(function*(){if(p.auth.currentUser===h)return;const I=[];try{for(const Q of p.queue)yield Q(h),Q.onAbort&&I.push(Q.onAbort)}catch(Q){I.reverse();for(const be of I)try{be()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:Q?.message})}})()}}function Ei(){return(Ei=(0,l.Z)(function*(y,h={}){return ye(y,"GET","/v2/passwordPolicy",Z(y,h))})).apply(this,arguments)}class yn{constructor(h){var p,I,Q,be;const lt=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(p=lt.minPasswordLength)&&void 0!==p?p:6,lt.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=lt.maxPasswordLength),void 0!==lt.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=lt.containsLowercaseCharacter),void 0!==lt.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=lt.containsUppercaseCharacter),void 0!==lt.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=lt.containsNumericCharacter),void 0!==lt.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=lt.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(Q=null===(I=h.allowedNonAlphanumericCharacters)||void 0===I?void 0:I.join(""))&&void 0!==Q?Q:"",this.forceUpgradeOnSignin=null!==(be=h.forceUpgradeOnSignin)&&void 0!==be&&be,this.schemaVersion=h.schemaVersion}validatePassword(h){var p,I,Q,be,lt,At;const rn={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,rn),this.validatePasswordCharacterOptions(h,rn),rn.isValid&&(rn.isValid=null===(p=rn.meetsMinPasswordLength)||void 0===p||p),rn.isValid&&(rn.isValid=null===(I=rn.meetsMaxPasswordLength)||void 0===I||I),rn.isValid&&(rn.isValid=null===(Q=rn.containsLowercaseLetter)||void 0===Q||Q),rn.isValid&&(rn.isValid=null===(be=rn.containsUppercaseLetter)||void 0===be||be),rn.isValid&&(rn.isValid=null===(lt=rn.containsNumericCharacter)||void 0===lt||lt),rn.isValid&&(rn.isValid=null===(At=rn.containsNonAlphanumericCharacter)||void 0===At||At),rn}validatePasswordLengthOptions(h,p){const I=this.customStrengthOptions.minPasswordLength,Q=this.customStrengthOptions.maxPasswordLength;I&&(p.meetsMinPasswordLength=h.length>=I),Q&&(p.meetsMaxPasswordLength=h.length<=Q)}validatePasswordCharacterOptions(h,p){let I;this.updatePasswordCharacterOptionsStatuses(p,!1,!1,!1,!1);for(let Q=0;Q<h.length;Q++)I=h.charAt(Q),this.updatePasswordCharacterOptionsStatuses(p,I>="a"&&I<="z",I>="A"&&I<="Z",I>="0"&&I<="9",this.allowedNonAlphanumericCharacters.includes(I))}updatePasswordCharacterOptionsStatuses(h,p,I,Q,be){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=p)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=I)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=Q)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=be))}}class ti{constructor(h,p,I,Q){this.app=h,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=I,this.config=Q,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nr(this),this.idTokenSubscription=new nr(this),this.beforeStateQueue=new ni(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_e,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=Q.sdkClientVersion}_initializeWithPersistence(h,p){var I=this;return p&&(this._popupRedirectResolver=L(p)),this._initializationPromise=this.queue((0,l.Z)(function*(){var Q,be;if(!I._deleted&&(I.persistenceManager=yield Oe.create(I,h),!I._deleted)){if(null!==(Q=I._popupRedirectResolver)&&void 0!==Q&&Q._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(p),I.lastNotifiedUid=(null===(be=I.currentUser)||void 0===be?void 0:be.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,l.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUserFromIdToken(h){var p=this;return(0,l.Z)(function*(){try{const I=yield ut(p,{idToken:h}),Q=yield tt._fromGetAccountInfoResponse(p,I,h);yield p.directlySetCurrentUser(Q)}catch(I){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",I),yield p.directlySetCurrentUser(null)}})()}initializeCurrentUser(h){var p=this;return(0,l.Z)(function*(){var I;if((0,f._isFirebaseServerApp)(p.app)){const At=p.app.settings.authIdToken;return At?new Promise(rn=>{setTimeout(()=>p.initializeCurrentUserFromIdToken(At).then(rn,rn))}):p.directlySetCurrentUser(null)}const Q=yield p.assertedPersistence.getCurrentUser();let be=Q,lt=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const At=null===(I=p.redirectUser)||void 0===I?void 0:I._redirectEventId,rn=be?._redirectEventId,Tn=yield p.tryRedirectSignIn(h);(!At||At===rn)&&Tn?.user&&(be=Tn.user,lt=!0)}if(!be)return p.directlySetCurrentUser(null);if(!be._redirectEventId){if(lt)try{yield p.beforeStateQueue.runMiddleware(be)}catch(At){be=Q,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(At))}return be?p.reloadAndSetCurrentUserOrClear(be):p.directlySetCurrentUser(null)}return Ue(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===be._redirectEventId?p.directlySetCurrentUser(be):p.reloadAndSetCurrentUserOrClear(be)})()}tryRedirectSignIn(h){var p=this;return(0,l.Z)(function*(){let I=null;try{I=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,l.Z)(function*(){try{yield mt(h)}catch(I){if("auth/network-request-failed"!==I?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Zt(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var h=this;return(0,l.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,l.Z)(function*(){if((0,f._isFirebaseServerApp)(p.app))return Promise.reject(Pe(p));const I=h?(0,O.m9)(h):null;return I&&Ue(I.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(I&&I._clone(p))})()}_updateCurrentUser(h,p=!1){var I=this;return(0,l.Z)(function*(){if(!I._deleted)return h&&Ue(I.tenantId===h.tenantId,I,"tenant-id-mismatch"),p||(yield I.beforeStateQueue.runMiddleware(h)),I.queue((0,l.Z)(function*(){yield I.directlySetCurrentUser(h),I.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,l.Z)(function*(){return(0,f._isFirebaseServerApp)(h.app)?Promise.reject(Pe(h)):(yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0))})()}setPersistence(h){var p=this;return(0,f._isFirebaseServerApp)(this.app)?Promise.reject(Pe(this)):this.queue((0,l.Z)(function*(){yield p.assertedPersistence.setPersistence(L(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var p=this;return(0,l.Z)(function*(){p._getPasswordPolicyInternal()||(yield p._updatePasswordPolicy());const I=p._getPasswordPolicyInternal();return I.schemaVersion!==p.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(p._errorFactory.create("unsupported-password-policy-schema-version",{})):I.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,l.Z)(function*(){const p=yield function li(y){return Ei.apply(this,arguments)}(h),I=new yn(p);null===h.tenantId?h._projectPasswordPolicy=I:h._tenantPasswordPolicies[h.tenantId]=I})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new O.LL("auth","Firebase",h())}onAuthStateChanged(h,p,I){return this.registerStateListener(this.authStateSubscription,h,p,I)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,I){return this.registerStateListener(this.idTokenSubscription,h,p,I)}authStateReady(){return new Promise((h,p)=>{if(this.currentUser)h();else{const I=this.onAuthStateChanged(()=>{I(),h()},p)}})}revokeAccessToken(h){var p=this;return(0,l.Z)(function*(){if(p.currentUser){const I=yield p.currentUser.getIdToken(),Q={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:h,idToken:I};null!=p.tenantId&&(Q.tenantId=p.tenantId),yield function Ve(y,h){return et.apply(this,arguments)}(p,Q)}})()}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var I=this;return(0,l.Z)(function*(){const Q=yield I.getOrInitRedirectPersistenceManager(p);return null===h?Q.removeCurrentUser():Q.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,l.Z)(function*(){if(!p.redirectPersistenceManager){const I=h&&L(h)||p._popupRedirectResolver;Ue(I,p,"argument-error"),p.redirectPersistenceManager=yield Oe.create(p,[L(I._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,l.Z)(function*(){var I,Q;return p._isInitialized&&(yield p.queue((0,l.Z)(function*(){}))),(null===(I=p._currentUser)||void 0===I?void 0:I._redirectEventId)===h?p._currentUser:(null===(Q=p.redirectUser)||void 0===Q?void 0:Q._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,l.Z)(function*(){if(h===p.currentUser)return p.queue((0,l.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,I,Q){if(this._deleted)return()=>{};const be="function"==typeof p?p:p.next.bind(p);let lt=!1;const At=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(At,this,"internal-error"),At.then(()=>{lt||be(this.currentUser)}),"function"==typeof p){const rn=h.addObserver(p,I,Q);return()=>{lt=!0,rn()}}{const rn=h.addObserver(p);return()=>{lt=!0,rn()}}}directlySetCurrentUser(h){var p=this;return(0,l.Z)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=In(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,l.Z)(function*(){var p;const I={"X-Client-Version":h.clientVersion};h.app.options.appId&&(I["X-Firebase-gmpid"]=h.app.options.appId);const Q=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();Q&&(I["X-Firebase-Client"]=Q);const be=yield h._getAppCheckToken();return be&&(I["X-Firebase-AppCheck"]=be),I})()}_getAppCheckToken(){var h=this;return(0,l.Z)(function*(){var p;const I=yield null===(p=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return I?.error&&function Me(y,...h){fe.logLevel<=de.in.WARN&&fe.warn(`Auth (${f.SDK_VERSION}): ${y}`,...h)}(`Error while retrieving App Check token: ${I.error}`),I?.token})()}}function oi(y){return(0,O.m9)(y)}class nr{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,O.ne)(p=>this.observer=p)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let lr={loadJS:()=>(0,l.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cr(y){return lr.loadJS(y)}function si(y){return`__${y}${Math.floor(1e6*Math.random())}`}const $o="NO_RECAPTCHA";class zs{constructor(h){this.type="recaptcha-enterprise",this.auth=oi(h)}verify(h="verify",p=!1){var I=this;return(0,l.Z)(function*(){function be(){return be=(0,l.Z)(function*(At){if(!p){if(null==At.tenantId&&null!=At._agentRecaptchaConfig)return At._agentRecaptchaConfig.siteKey;if(null!=At.tenantId&&void 0!==At._tenantRecaptchaConfigs[At.tenantId])return At._tenantRecaptchaConfigs[At.tenantId].siteKey}return new Promise(function(){var rn=(0,l.Z)(function*(Tn,Zn){ge(At,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(kn=>{if(void 0!==kn.recaptchaKey){const Mr=new Pn(kn);return null==At.tenantId?At._agentRecaptchaConfig=Mr:At._tenantRecaptchaConfigs[At.tenantId]=Mr,Tn(Mr.siteKey)}Zn(new Error("recaptcha Enterprise site key undefined"))}).catch(kn=>{Zn(kn)})});return function(Tn,Zn){return rn.apply(this,arguments)}}())}),be.apply(this,arguments)}function lt(At,rn,Tn){const Zn=window.grecaptcha;Mn(Zn)?Zn.enterprise.ready(()=>{Zn.enterprise.execute(At,{action:h}).then(kn=>{rn(kn)}).catch(()=>{rn($o)})}):Tn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((At,rn)=>{(function Q(At){return be.apply(this,arguments)})(I.auth).then(Tn=>{if(!p&&Mn(window.grecaptcha))lt(Tn,At,rn);else{if(typeof window>"u")return void rn(new Error("RecaptchaVerifier is only supported in browser"));let Zn=function _r(){return lr.recaptchaEnterpriseScript}();0!==Zn.length&&(Zn+=Tn),cr(Zn).then(()=>{lt(Tn,At,rn)}).catch(kn=>{rn(kn)})}}).catch(Tn=>{rn(Tn)})})})()}}function Ir(y,h,p){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,l.Z)(function*(y,h,p,I=!1){const Q=new zs(y);let be;try{be=yield Q.verify(p)}catch{be=yield Q.verify(p,!0)}const lt=Object.assign({},h);return Object.assign(lt,I?{captchaResp:be}:{captchaResponse:be}),Object.assign(lt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(lt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),lt})).apply(this,arguments)}function To(y,h,p,I){return Wr.apply(this,arguments)}function Wr(){return Wr=(0,l.Z)(function*(y,h,p,I){var Q;if(null!==(Q=y._getRecaptchaConfig())&&void 0!==Q&&Q.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const be=yield Ir(y,h,p,"getOobCode"===p);return I(y,be)}return I(y,h).catch(function(){var be=(0,l.Z)(function*(lt){if("auth/missing-recaptcha-token"===lt.code){console.log(`${p} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const At=yield Ir(y,h,p,"getOobCode"===p);return I(y,At)}return Promise.reject(lt)});return function(lt){return be.apply(this,arguments)}}())}),Wr.apply(this,arguments)}function Ao(y){const h=y.indexOf(":");return h<0?"":y.substr(0,h+1)}function Hs(y){if(!y)return null;const h=Number(y);return isNaN(h)?null:h}class Yr{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return ct("not implemented")}_getIdTokenResponse(h){return ct("not implemented")}_linkToIdToken(h,p){return ct("not implemented")}_getReauthenticationResolver(h){return ct("not implemented")}}function ur(y,h){return ws.apply(this,arguments)}function ws(){return(ws=(0,l.Z)(function*(y,h){return ye(y,"POST","/v1/accounts:resetPassword",Z(y,h))})).apply(this,arguments)}function xr(){return(xr=(0,l.Z)(function*(y,h){return ye(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ro(y,h){return qi.apply(this,arguments)}function qi(){return(qi=(0,l.Z)(function*(y,h){return ye(y,"POST","/v1/accounts:signUp",h)})).apply(this,arguments)}function Qi(){return(Qi=(0,l.Z)(function*(y,h){return ye(y,"POST","/v1/accounts:update",Z(y,h))})).apply(this,arguments)}function Ga(y,h){return qr.apply(this,arguments)}function qr(){return(qr=(0,l.Z)(function*(y,h){return Tt(y,"POST","/v1/accounts:signInWithPassword",Z(y,h))})).apply(this,arguments)}function ls(y,h){return Do.apply(this,arguments)}function Do(){return(Do=(0,l.Z)(function*(y,h){return ye(y,"POST","/v1/accounts:sendOobCode",Z(y,h))})).apply(this,arguments)}function Is(){return(Is=(0,l.Z)(function*(y,h){return ls(y,h)})).apply(this,arguments)}function Go(y,h){return js.apply(this,arguments)}function js(){return(js=(0,l.Z)(function*(y,h){return ls(y,h)})).apply(this,arguments)}function $s(y,h){return ua.apply(this,arguments)}function ua(){return(ua=(0,l.Z)(function*(y,h){return ls(y,h)})).apply(this,arguments)}function Lo(){return(Lo=(0,l.Z)(function*(y,h){return ls(y,h)})).apply(this,arguments)}function Ts(){return(Ts=(0,l.Z)(function*(y,h){return Tt(y,"POST","/v1/accounts:signInWithEmailLink",Z(y,h))})).apply(this,arguments)}function da(){return(da=(0,l.Z)(function*(y,h){return Tt(y,"POST","/v1/accounts:signInWithEmailLink",Z(y,h))})).apply(this,arguments)}class Bo extends Yr{constructor(h,p,I,Q=null){super("password",I),this._email=h,this._password=p,this._tenantId=Q}static _fromEmailAndPassword(h,p){return new Bo(h,p,"password")}static _fromEmailAndCode(h,p,I=null){return new Bo(h,p,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,l.Z)(function*(){switch(p.signInMethod){case"password":return To(h,{returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ga);case"emailLink":return function xa(y,h){return Ts.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:he(h,"internal-error")}})()}_linkToIdToken(h,p){var I=this;return(0,l.Z)(function*(){switch(I.signInMethod){case"password":return To(h,{idToken:p,returnSecureToken:!0,email:I._email,password:I._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ro);case"emailLink":return function Ca(y,h){return da.apply(this,arguments)}(h,{idToken:p,email:I._email,oobCode:I._password});default:he(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function mo(y,h){return ha.apply(this,arguments)}function ha(){return(ha=(0,l.Z)(function*(y,h){return Tt(y,"POST","/v1/accounts:signInWithIdp",Z(y,h))})).apply(this,arguments)}class dr extends Yr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new dr(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):he("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:I,signInMethod:Q}=p,be=(0,ee._T)(p,["providerId","signInMethod"]);if(!I||!Q)return null;const lt=new dr(I,Q);return lt.idToken=be.idToken||void 0,lt.accessToken=be.accessToken||void 0,lt.secret=be.secret,lt.nonce=be.nonce,lt.pendingToken=be.pendingToken||null,lt}_getIdTokenResponse(h){return mo(h,this.buildRequest())}_linkToIdToken(h,p){const I=this.buildRequest();return I.idToken=p,mo(h,I)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,mo(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,O.xO)(p)}return h}}function cs(){return(cs=(0,l.Z)(function*(y,h){return ye(y,"POST","/v1/accounts:sendVerificationCode",Z(y,h))})).apply(this,arguments)}function es(){return(es=(0,l.Z)(function*(y,h){return Tt(y,"POST","/v1/accounts:signInWithPhoneNumber",Z(y,h))})).apply(this,arguments)}function us(){return(us=(0,l.Z)(function*(y,h){const p=yield Tt(y,"POST","/v1/accounts:signInWithPhoneNumber",Z(y,h));if(p.temporaryProof)throw Bn(y,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const ts={USER_NOT_FOUND:"user-not-found"};function Ks(){return(Ks=(0,l.Z)(function*(y,h){return Tt(y,"POST","/v1/accounts:signInWithPhoneNumber",Z(y,Object.assign(Object.assign({},h),{operation:"REAUTH"})),ts)})).apply(this,arguments)}class hr extends Yr{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,p){return new hr({verificationId:h,verificationCode:p})}static _fromTokenResponse(h,p){return new hr({phoneNumber:h,temporaryProof:p})}_getIdTokenResponse(h){return function Gs(y,h){return es.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,p){return function Ws(y,h){return us.apply(this,arguments)}(h,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Zs(y,h){return Ks.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:p,verificationId:I,verificationCode:Q}=this.params;return h&&p?{temporaryProof:h,phoneNumber:p}:{sessionInfo:I,code:Q}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:p,verificationCode:I,phoneNumber:Q,temporaryProof:be}=h;return I||p||Q||be?new hr({verificationId:p,verificationCode:I,phoneNumber:Q,temporaryProof:be}):null}}class hs{constructor(h){var p,I,Q,be,lt,At;const rn=(0,O.zd)((0,O.pd)(h)),Tn=null!==(p=rn.apiKey)&&void 0!==p?p:null,Zn=null!==(I=rn.oobCode)&&void 0!==I?I:null,kn=function ds(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Q=rn.mode)&&void 0!==Q?Q:null);Ue(Tn&&Zn&&kn,"argument-error"),this.apiKey=Tn,this.operation=kn,this.code=Zn,this.continueUrl=null!==(be=rn.continueUrl)&&void 0!==be?be:null,this.languageCode=null!==(lt=rn.languageCode)&&void 0!==lt?lt:null,this.tenantId=null!==(At=rn.tenantId)&&void 0!==At?At:null}static parseLink(h){const p=function Nr(y){const h=(0,O.zd)((0,O.pd)(y)).link,p=h?(0,O.zd)((0,O.pd)(h)).deep_link_id:null,I=(0,O.zd)((0,O.pd)(y)).deep_link_id;return(I?(0,O.zd)((0,O.pd)(I)).link:null)||I||p||h||y}(h);try{return new hs(p)}catch{return null}}}let ir=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(p,I){return Bo._fromEmailAndPassword(p,I)}static credentialWithLink(p,I){const Q=hs.parseLink(I);return Ue(Q,"argument-error"),Bo._fromEmailAndCode(p,Q.code,Q.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Si{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class so extends Si{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Fi extends so{static credentialFromJSON(h){const p="string"==typeof h?JSON.parse(h):h;return Ue("providerId"in p&&"signInMethod"in p,"argument-error"),dr._fromParams(p)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return Ue(h.idToken||h.accessToken,"argument-error"),dr._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Fi.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Fi.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:p,oauthAccessToken:I,oauthTokenSecret:Q,pendingToken:be,nonce:lt,providerId:At}=h;if(!I&&!Q&&!p&&!be||!At)return null;try{return new Fi(At)._credential({idToken:p,accessToken:I,nonce:lt,pendingToken:be})}catch{return null}}}let Ys=(()=>{class y extends so{constructor(){super("facebook.com")}static credential(p){return dr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Ds=(()=>{class y extends so{constructor(){super("google.com"),this.addScope("profile")}static credential(p,I){return dr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:I})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:I,oauthAccessToken:Q}=p;if(!I&&!Q)return null;try{return y.credential(I,Q)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),So=(()=>{class y extends so{constructor(){super("github.com")}static credential(p){return dr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Ss extends Yr{constructor(h,p){super(h,h),this.pendingToken=p}_getIdTokenResponse(h){return mo(h,this.buildRequest())}_linkToIdToken(h,p){const I=this.buildRequest();return I.idToken=p,mo(h,I)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,mo(h,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:I,signInMethod:Q,pendingToken:be}=p;return I&&Q&&be&&I===Q?new Ss(I,be):null}static _create(h,p){return new Ss(h,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Mo extends Si{constructor(h){Ue(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return Mo.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return Mo.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const p=Ss.fromJSON(h);return Ue(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:p,providerId:I}=h;if(!p||!I)return null;try{return Ss._create(I,p)}catch{return null}}}let ao=(()=>{class y extends so{constructor(){super("twitter.com")}static credential(p,I){return dr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:I})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:I,oauthTokenSecret:Q}=p;if(!I||!Q)return null;try{return y.credential(I,Q)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function qs(y,h){return fs.apply(this,arguments)}function fs(){return(fs=(0,l.Z)(function*(y,h){return Tt(y,"POST","/v1/accounts:signUp",Z(y,h))})).apply(this,arguments)}class Wn{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,I,Q=!1){return(0,l.Z)(function*(){const be=yield tt._fromIdTokenResponse(h,I,Q),lt=ie(I);return new Wn({user:be,providerId:lt,_tokenResponse:I,operationType:p})})()}static _forOperation(h,p,I){return(0,l.Z)(function*(){yield h._updateTokensIfNecessary(I,!0);const Q=ie(I);return new Wn({user:h,providerId:Q,_tokenResponse:I,operationType:p})})()}}function ie(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function A(){return(A=(0,l.Z)(function*(y){var h;if((0,f._isFirebaseServerApp)(y.app))return Promise.reject(Pe(y));const p=oi(y);if(yield p._initializationPromise,null!==(h=p.currentUser)&&void 0!==h&&h.isAnonymous)return new Wn({user:p.currentUser,providerId:null,operationType:"signIn"});const I=yield qs(p,{returnSecureToken:!0}),Q=yield Wn._fromIdTokenResponse(p,"signIn",I,!0);return yield p._updateCurrentUser(Q.user),Q})).apply(this,arguments)}class S extends O.ZR{constructor(h,p,I,Q){var be;super(p.code,p.message),this.operationType=I,this.user=Q,Object.setPrototypeOf(this,S.prototype),this.customData={appName:h.name,tenantId:null!==(be=h.tenantId)&&void 0!==be?be:void 0,_serverResponse:p.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(h,p,I,Q){return new S(h,p,I,Q)}}function q(y,h,p,I){return("reauthenticate"===h?p._getReauthenticationResolver(y):p._getIdTokenResponse(y)).catch(be=>{throw"auth/multi-factor-auth-required"===be.code?S._fromErrorAndOperation(y,be,h,I):be})}function Ge(y){return new Set(y.map(({providerId:h})=>h).filter(h=>!!h))}function Dn(){return Dn=(0,l.Z)(function*(y,h){const p=(0,O.m9)(y);yield pi(!0,p,h);const{providerUserInfo:I}=yield function Qt(y,h){return hn.apply(this,arguments)}(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[h]}),Q=Ge(I||[]);return p.providerData=p.providerData.filter(be=>Q.has(be.providerId)),Q.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p}),Dn.apply(this,arguments)}function vt(y,h){return xn.apply(this,arguments)}function xn(){return(xn=(0,l.Z)(function*(y,h,p=!1){const I=yield ri(y,h._linkToIdToken(y.auth,yield y.getIdToken()),p);return Wn._forOperation(y,"link",I)})).apply(this,arguments)}function pi(y,h,p){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,l.Z)(function*(y,h,p){yield mt(h);const Q=!1===y?"provider-already-linked":"no-such-provider";Ue(Ge(h.providerData).has(p)===y,h.auth,Q)})).apply(this,arguments)}function bi(y,h){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,l.Z)(function*(y,h,p=!1){const{auth:I}=y;if((0,f._isFirebaseServerApp)(I.app))return Promise.reject(Pe(I));const Q="reauthenticate";try{const be=yield ri(y,q(I,Q,h,y),p);Ue(be.idToken,I,"internal-error");const lt=ai(be.idToken);Ue(lt,I,"internal-error");const{sub:At}=lt;return Ue(y.uid===At,I,"user-mismatch"),Wn._forOperation(y,Q,be)}catch(be){throw"auth/user-not-found"===be?.code&&he(I,"user-mismatch"),be}})).apply(this,arguments)}function Wi(y,h){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,l.Z)(function*(y,h,p=!1){if((0,f._isFirebaseServerApp)(y.app))return Promise.reject(Pe(y));const I="signIn",Q=yield q(y,I,h),be=yield Wn._fromIdTokenResponse(y,I,Q);return p||(yield y._updateCurrentUser(be.user)),be})).apply(this,arguments)}function Ji(y,h){return go.apply(this,arguments)}function go(){return(go=(0,l.Z)(function*(y,h){return Wi(oi(y),h)})).apply(this,arguments)}function Vo(y,h){return kr.apply(this,arguments)}function kr(){return(kr=(0,l.Z)(function*(y,h){const p=(0,O.m9)(y);return yield pi(!1,p,h.providerId),vt(p,h)})).apply(this,arguments)}function Cr(y,h){return er.apply(this,arguments)}function er(){return(er=(0,l.Z)(function*(y,h){return bi((0,O.m9)(y),h)})).apply(this,arguments)}function lo(){return(lo=(0,l.Z)(function*(y,h){return Tt(y,"POST","/v1/accounts:signInWithCustomToken",Z(y,h))})).apply(this,arguments)}function Qr(){return Qr=(0,l.Z)(function*(y,h){if((0,f._isFirebaseServerApp)(y.app))return Promise.reject(Pe(y));const p=oi(y),I=yield function Hr(y,h){return lo.apply(this,arguments)}(p,{token:h,returnSecureToken:!0}),Q=yield Wn._fromIdTokenResponse(p,"signIn",I);return yield p._updateCurrentUser(Q.user),Q}),Qr.apply(this,arguments)}class Ms{constructor(h,p){this.factorId=h,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(h,p){return"phoneInfo"in p?Wa._fromServerResponse(h,p):"totpInfo"in p?ml._fromServerResponse(h,p):he(h,"internal-error")}}class Wa extends Ms{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,p){return new Wa(p)}}class ml extends Ms{constructor(h){super("totp",h)}static _fromServerResponse(h,p){return new ml(p)}}function gl(y,h,p){var I;Ue((null===(I=p.url)||void 0===I?void 0:I.length)>0,y,"invalid-continue-uri"),Ue(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(Ue(p.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(Ue(p.android.packageName.length>0,y,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}function co(y){return ns.apply(this,arguments)}function ns(){return(ns=(0,l.Z)(function*(y){const h=oi(y);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function Qs(){return(Qs=(0,l.Z)(function*(y,h,p){const I=oi(y),Q={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};p&&gl(I,Q,p),yield To(I,Q,"getOobCode",Go)})).apply(this,arguments)}function Ps(){return Ps=(0,l.Z)(function*(y,h,p){yield ur((0,O.m9)(y),{oobCode:h,newPassword:p}).catch(function(){var I=(0,l.Z)(function*(Q){throw"auth/password-does-not-meet-requirements"===Q.code&&co(y),Q});return function(Q){return I.apply(this,arguments)}}())}),Ps.apply(this,arguments)}function ma(){return ma=(0,l.Z)(function*(y,h){yield function oo(y,h){return Qi.apply(this,arguments)}((0,O.m9)(y),{oobCode:h})}),ma.apply(this,arguments)}function Zl(y,h){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,l.Z)(function*(y,h){const p=(0,O.m9)(y),I=yield ur(p,{oobCode:h}),Q=I.requestType;switch(Ue(Q,p,"internal-error"),Q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ue(I.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ue(I.mfaInfo,p,"internal-error");default:Ue(I.email,p,"internal-error")}let be=null;return I.mfaInfo&&(be=Ms._fromServerResponse(oi(p),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:be},operation:Q}})).apply(this,arguments)}function Ka(){return(Ka=(0,l.Z)(function*(y,h){const{data:p}=yield Zl((0,O.m9)(y),h);return p.email})).apply(this,arguments)}function Kl(){return(Kl=(0,l.Z)(function*(y,h,p){if((0,f._isFirebaseServerApp)(y.app))return Promise.reject(Pe(y));const I=oi(y),lt=yield To(I,{returnSecureToken:!0,email:h,password:p,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qs).catch(rn=>{throw"auth/password-does-not-meet-requirements"===rn.code&&co(y),rn}),At=yield Wn._fromIdTokenResponse(I,"signIn",lt);return yield I._updateCurrentUser(At.user),At})).apply(this,arguments)}function fr(){return(fr=(0,l.Z)(function*(y,h,p){const I=oi(y),Q={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};(function be(lt,At){Ue(At.handleCodeInApp,I,"argument-error"),At&&gl(I,lt,At)})(Q,p),yield To(I,Q,"getOobCode",$s)})).apply(this,arguments)}function Yl(){return(Yl=(0,l.Z)(function*(y,h,p){if((0,f._isFirebaseServerApp)(y.app))return Promise.reject(Pe(y));const I=(0,O.m9)(y),Q=ir.credentialWithLink(h,p||at());return Ue(Q._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),Ji(I,Q)})).apply(this,arguments)}function Ya(){return(Ya=(0,l.Z)(function*(y,h){return ye(y,"POST","/v1/accounts:createAuthUri",Z(y,h))})).apply(this,arguments)}function qa(){return qa=(0,l.Z)(function*(y,h){const I={identifier:h,continueUri:fn()?at():"http://localhost"},{signinMethods:Q}=yield function Du(y,h){return Ya.apply(this,arguments)}((0,O.m9)(y),I);return Q||[]}),qa.apply(this,arguments)}function Da(){return Da=(0,l.Z)(function*(y,h){const p=(0,O.m9)(y),Q={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};h&&gl(p.auth,Q,h);const{email:be}=yield function Jo(y,h){return Is.apply(this,arguments)}(p.auth,Q);be!==y.email&&(yield y.reload())}),Da.apply(this,arguments)}function ce(){return ce=(0,l.Z)(function*(y,h,p){const I=(0,O.m9)(y),be={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:h};p&&gl(I.auth,be,p);const{email:lt}=yield function Rr(y,h){return Lo.apply(this,arguments)}(I.auth,be);lt!==y.email&&(yield y.reload())}),ce.apply(this,arguments)}function ve(){return(ve=(0,l.Z)(function*(y,h){return ye(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Ht(){return Ht=(0,l.Z)(function*(y,{displayName:h,photoURL:p}){if(void 0===h&&void 0===p)return;const I=(0,O.m9)(y),be={idToken:yield I.getIdToken(),displayName:h,photoUrl:p,returnSecureToken:!0},lt=yield ri(I,function V(y,h){return ve.apply(this,arguments)}(I.auth,be));I.displayName=lt.displayName||null,I.photoURL=lt.photoUrl||null;const At=I.providerData.find(({providerId:rn})=>"password"===rn);At&&(At.displayName=I.displayName,At.photoURL=I.photoURL),yield I._updateTokensIfNecessary(lt)}),Ht.apply(this,arguments)}function Ki(y,h,p){return Oi.apply(this,arguments)}function Oi(){return Oi=(0,l.Z)(function*(y,h,p){const{auth:I}=y,be={idToken:yield y.getIdToken(),returnSecureToken:!0};h&&(be.email=h),p&&(be.password=p);const lt=yield ri(y,function Gi(y,h){return xr.apply(this,arguments)}(I,be));yield y._updateTokensIfNecessary(lt,!0)}),Oi.apply(this,arguments)}class yi{constructor(h,p,I={}){this.isNewUser=h,this.providerId=p,this.profile=I}}class tr extends yi{constructor(h,p,I,Q){super(h,p,I),this.username=Q}}class Li extends yi{constructor(h,p){super(h,"facebook.com",p)}}class Lr extends tr{constructor(h,p){super(h,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class ps extends yi{constructor(h,p){super(h,"google.com",p)}}class Xr extends tr{constructor(h,p,I){super(h,"twitter.com",p,I)}}function Ko(y){const{user:h,_tokenResponse:p}=y;return h.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function Mi(y){var h,p;if(!y)return null;const{providerId:I}=y,Q=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},be=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!I&&y?.idToken){const lt=null===(p=null===(h=ai(y.idToken))||void 0===h?void 0:h.firebase)||void 0===p?void 0:p.sign_in_provider;if(lt)return new yi(be,"anonymous"!==lt&&"custom"!==lt?lt:null)}if(!I)return null;switch(I){case"facebook.com":return new Li(be,Q);case"github.com":return new Lr(be,Q);case"google.com":return new ps(be,Q);case"twitter.com":return new Xr(be,Q,y.screenName||null);case"custom":case"anonymous":return new yi(be,null);default:return new yi(be,I,Q)}}(p)}class pr{constructor(h,p,I){this.type=h,this.credential=p,this.user=I}static _fromIdtoken(h,p){return new pr("enroll",h,p)}static _fromMfaPendingCredential(h){return new pr("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var p,I;if(h?.multiFactorSession){if(null!==(p=h.multiFactorSession)&&void 0!==p&&p.pendingCredential)return pr._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(I=h.multiFactorSession)&&void 0!==I&&I.idToken)return pr._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Yo{constructor(h,p,I){this.session=h,this.hints=p,this.signInResolver=I}static _fromError(h,p){const I=oi(h),Q=p.customData._serverResponse,be=(Q.mfaInfo||[]).map(At=>Ms._fromServerResponse(I,At));Ue(Q.mfaPendingCredential,I,"internal-error");const lt=pr._fromMfaPendingCredential(Q.mfaPendingCredential);return new Yo(lt,be,function(){var At=(0,l.Z)(function*(rn){const Tn=yield rn._process(I,lt);delete Q.mfaInfo,delete Q.mfaPendingCredential;const Zn=Object.assign(Object.assign({},Q),{idToken:Tn.idToken,refreshToken:Tn.refreshToken});switch(p.operationType){case"signIn":const kn=yield Wn._fromIdTokenResponse(I,p.operationType,Zn);return yield I._updateCurrentUser(kn.user),kn;case"reauthenticate":return Ue(p.user,I,"internal-error"),Wn._forOperation(p.user,p.operationType,Zn);default:he(I,"internal-error")}});return function(rn){return At.apply(this,arguments)}}())}resolveSignIn(h){var p=this;return(0,l.Z)(function*(){return p.signInResolver(h)})()}}class Xs{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(I=>Ms._fromServerResponse(h.auth,I)))})}static _fromUser(h){return new Xs(h)}getSession(){var h=this;return(0,l.Z)(function*(){return pr._fromIdtoken(yield h.user.getIdToken(),h.user)})()}enroll(h,p){var I=this;return(0,l.Z)(function*(){const Q=h,be=yield I.getSession(),lt=yield ri(I.user,Q._process(I.user.auth,be,p));return yield I.user._updateTokensIfNecessary(lt),I.user.reload()})()}unenroll(h){var p=this;return(0,l.Z)(function*(){const I="string"==typeof h?h:h.uid,Q=yield p.user.getIdToken();try{const be=yield ri(p.user,function yl(y,h){return ye(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Z(y,h))}(p.user.auth,{idToken:Q,mfaEnrollmentId:I}));p.enrolledFactors=p.enrolledFactors.filter(({uid:lt})=>lt!==I),yield p.user._updateTokensIfNecessary(be),yield p.user.reload()}catch(be){throw be}})()}}const qo=new WeakMap,_s="__sak";class Mu{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(_s,"1"),this.storage.removeItem(_s),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Pc=(()=>{class y extends Mu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,I)=>this.onStorageEvent(p,I),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=on(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const I of Object.keys(this.listeners)){const Q=this.storage.getItem(I),be=this.localCache[I];Q!==be&&p(I,be,Q)}}onStorageEvent(p,I=!1){if(!p.key)return void this.forAllChangedKeys((At,rn,Tn)=>{this.notifyListeners(At,Tn)});const Q=p.key;I?this.detachListener():this.stopPolling();const be=()=>{const At=this.storage.getItem(Q);!I&&this.localCache[Q]===At||this.notifyListeners(Q,At)},lt=this.storage.getItem(Q);!function Vt(){return(0,O.w1)()&&10===document.documentMode}()||lt===p.newValue||p.newValue===p.oldValue?be():setTimeout(be,10)}notifyListeners(p,I){this.localCache[p]=I;const Q=this.listeners[p];if(Q)for(const be of Array.from(Q))be(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,I,Q)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:I,newValue:Q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(I)}_removeListener(p,I){this.listeners[p]&&(this.listeners[p].delete(I),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,I){var Q=()=>super._set,be=this;return(0,l.Z)(function*(){yield Q().call(be,p,I),be.localCache[p]=JSON.stringify(I)})()}_get(p){var I=()=>super._get,Q=this;return(0,l.Z)(function*(){const be=yield I().call(Q,p);return Q.localCache[p]=JSON.stringify(be),be})()}_remove(p){var I=()=>super._remove,Q=this;return(0,l.Z)(function*(){yield I().call(Q,p),delete Q.localCache[p]})()}}return y.type="LOCAL",y})(),Jr=(()=>{class y extends Mu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,I){}_removeListener(p,I){}}return y.type="SESSION",y})();let Rd=(()=>{class y{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const I=this.receivers.find(be=>be.isListeningto(p));if(I)return I;const Q=new y(p);return this.receivers.push(Q),Q}isListeningto(p){return this.eventTarget===p}handleEvent(p){var I=this;return(0,l.Z)(function*(){const Q=p,{eventId:be,eventType:lt,data:At}=Q.data,rn=I.handlersMap[lt];if(!rn?.size)return;Q.ports[0].postMessage({status:"ack",eventId:be,eventType:lt});const Tn=Array.from(rn).map(function(){var kn=(0,l.Z)(function*(Mr){return Mr(Q.origin,At)});return function(Mr){return kn.apply(this,arguments)}}()),Zn=yield function Oc(y){return Promise.all(y.map(function(){var h=(0,l.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(I){return{fulfilled:!1,reason:I}}});return function(p){return h.apply(this,arguments)}}()))}(Tn);Q.ports[0].postMessage({status:"done",eventId:be,eventType:lt,response:Zn})})()}_subscribe(p,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(I)}_unsubscribe(p,I){this.handlersMap[p]&&I&&this.handlersMap[p].delete(I),(!I||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Xa(y="",h=10){let p="";for(let I=0;I<h;I++)p+=Math.floor(10*Math.random());return y+p}class bl{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,I=50){var Q=this;return(0,l.Z)(function*(){const be=typeof MessageChannel<"u"?new MessageChannel:null;if(!be)throw new Error("connection_unavailable");let lt,At;return new Promise((rn,Tn)=>{const Zn=Xa("",20);be.port1.start();const kn=setTimeout(()=>{Tn(new Error("unsupported_event"))},I);At={messageChannel:be,onMessage(Mr){const os=Mr;if(os.data.eventId===Zn)switch(os.data.status){case"ack":clearTimeout(kn),lt=setTimeout(()=>{Tn(new Error("timeout"))},3e3);break;case"done":clearTimeout(lt),rn(os.data.response);break;default:clearTimeout(kn),clearTimeout(lt),Tn(new Error("invalid_response"))}}},Q.handlers.add(At),be.port1.addEventListener("message",At.onMessage),Q.target.postMessage({eventType:h,eventId:Zn,data:p},[be.port2])}).finally(()=>{At&&Q.removeMessageHandler(At)})})()}}function rr(){return window}function Ja(){return typeof rr().WorkerGlobalScope<"u"&&"function"==typeof rr().importScripts}function ga(){return(ga=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const or="firebaseLocalStorageDb",Rg=1,Fc="firebaseLocalStorage",xp="fbase_key";class Pa{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Nc(y,h){return y.transaction([Fc],h?"readwrite":"readonly").objectStore(Fc)}function Fd(){const y=indexedDB.open(or,Rg);return new Promise((h,p)=>{y.addEventListener("error",()=>{p(y.error)}),y.addEventListener("upgradeneeded",()=>{const I=y.result;try{I.createObjectStore(Fc,{keyPath:xp})}catch(Q){p(Q)}}),y.addEventListener("success",(0,l.Z)(function*(){const I=y.result;I.objectStoreNames.contains(Fc)?h(I):(I.close(),yield function Pu(){const y=indexedDB.deleteDatabase(or);return new Pa(y).toPromise()}(),h(yield Fd()))}))})}function El(y,h,p){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,l.Z)(function*(y,h,p){const I=Nc(y,!0).put({[xp]:h,value:p});return new Pa(I).toPromise()})).apply(this,arguments)}function ji(){return(ji=(0,l.Z)(function*(y,h){const p=Nc(y,!1).get(h),I=yield new Pa(p).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function Pi(y,h){const p=Nc(y,!0).delete(h);return new Pa(p).toPromise()}const is=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,l.Z)(function*(){return p.db||(p.db=yield Fd()),p.db})()}_withRetries(p){var I=this;return(0,l.Z)(function*(){let Q=0;for(;;)try{const be=yield I._openDb();return yield p(be)}catch(be){if(Q++>3)throw be;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,l.Z)(function*(){return Ja()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,l.Z)(function*(){p.receiver=Rd._getInstance(function kd(){return Ja()?self:null}()),p.receiver._subscribe("keyChanged",function(){var I=(0,l.Z)(function*(Q,be){return{keyProcessed:(yield p._poll()).includes(be.key)}});return function(Q,be){return I.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var I=(0,l.Z)(function*(Q,be){return["keyChanged"]});return function(Q,be){return I.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,l.Z)(function*(){var I,Q;if(p.activeServiceWorker=yield function kc(){return ga.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new bl(p.activeServiceWorker);const be=yield p.sender._send("ping",{},800);be&&null!==(I=be[0])&&void 0!==I&&I.fulfilled&&null!==(Q=be[0])&&void 0!==Q&&Q.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var I=this;return(0,l.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function Od(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:p},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const p=yield Fd();return yield El(p,_s,"1"),yield Pi(p,_s),!0}catch{}return!1})()}_withPendingWrite(p){var I=this;return(0,l.Z)(function*(){I.pendingWrites++;try{yield p()}finally{I.pendingWrites--}})()}_set(p,I){var Q=this;return(0,l.Z)(function*(){return Q._withPendingWrite((0,l.Z)(function*(){return yield Q._withRetries(be=>El(be,p,I)),Q.localCache[p]=I,Q.notifyServiceWorker(p)}))})()}_get(p){var I=this;return(0,l.Z)(function*(){const Q=yield I._withRetries(be=>function Yh(y,h){return ji.apply(this,arguments)}(be,p));return I.localCache[p]=Q,Q})()}_remove(p){var I=this;return(0,l.Z)(function*(){return I._withPendingWrite((0,l.Z)(function*(){return yield I._withRetries(Q=>Pi(Q,p)),delete I.localCache[p],I.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,l.Z)(function*(){const I=yield p._withRetries(lt=>{const At=Nc(lt,!1).getAll();return new Pa(At).toPromise()});if(!I)return[];if(0!==p.pendingWrites)return[];const Q=[],be=new Set;if(0!==I.length)for(const{fbase_key:lt,value:At}of I)be.add(lt),JSON.stringify(p.localCache[lt])!==JSON.stringify(At)&&(p.notifyListeners(lt,At),Q.push(lt));for(const lt of Object.keys(p.localCache))p.localCache[lt]&&!be.has(lt)&&(p.notifyListeners(lt,null),Q.push(lt));return Q})()}notifyListeners(p,I){this.localCache[p]=I;const Q=this.listeners[p];if(Q)for(const be of Array.from(Q))be(I)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(I)}_removeListener(p,I){this.listeners[p]&&(this.listeners[p].delete(I),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})(),J=1e12;class Ce{constructor(h){this.auth=h,this.counter=J,this._widgets=new Map}render(h,p){const I=this.counter;return this._widgets.set(I,new Re(h,this.auth.name,p||{})),this.counter++,I}reset(h){var p;const I=h||J;null===(p=this._widgets.get(I))||void 0===p||p.delete(),this._widgets.delete(I)}getResponse(h){var p;return(null===(p=this._widgets.get(h||J))||void 0===p?void 0:p.getResponse())||""}execute(h){var p=this;return(0,l.Z)(function*(){var I;return null===(I=p._widgets.get(h||J))||void 0===I||I.execute(),""})()}}class Re{constructor(h,p,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Q="string"==typeof h?document.getElementById(h):h;Ue(Q,"argument-error",{appName:p}),this.container=Q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Dt(y){const h=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<y;I++)h.push(p.charAt(Math.floor(Math.random()*p.length)));return h.join("")}(50);const{callback:h,"expired-callback":p}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ln=si("rcb"),Vn=new we(3e4,6e4);class Hn{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=rr().grecaptcha)||void 0===h||!h.render)}load(h,p=""){return Ue(function mi(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(p),h,"argument-error"),this.shouldResolveImmediately(p)&&qn(rr().grecaptcha)?Promise.resolve(rr().grecaptcha):new Promise((I,Q)=>{const be=rr().setTimeout(()=>{Q(xe(h,"network-request-failed"))},Vn.get());rr()[ln]=()=>{rr().clearTimeout(be),delete rr()[ln];const At=rr().grecaptcha;if(!At||!qn(At))return void Q(xe(h,"internal-error"));const rn=At.render;At.render=(Tn,Zn)=>{const kn=rn(Tn,Zn);return this.counter++,kn},this.hostLanguage=p,I(At)},cr(`${function ui(){return lr.recaptchaV2Script}()}?${(0,O.xO)({onload:ln,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(be),Q(xe(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var p;return!(null===(p=rr().grecaptcha)||void 0===p||!p.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ar{load(h){return(0,l.Z)(function*(){return new Ce(h)})()}clearedOneInstance(){}}const Po="recaptcha",Qo={theme:"light",type:"image"};class el{constructor(h,p,I=Object.assign({},Qo)){this.parameters=I,this.type=Po,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=oi(h),this.isInvisible="invisible"===this.parameters.size,Ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Q="string"==typeof p?document.getElementById(p):p;Ue(Q,this.auth,"argument-error"),this.container=Q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ar:new Hn,this.validateStartingState()}verify(){var h=this;return(0,l.Z)(function*(){h.assertNotDestroyed();const p=yield h.render(),I=h.getAssertedRecaptcha();return I.getResponse(p)||new Promise(be=>{const lt=At=>{At&&(h.tokenChangeListeners.delete(lt),be(At))};h.tokenChangeListeners.add(lt),h.isInvisible&&I.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){Ue(!this.parameters.sitekey,this.auth,"argument-error"),Ue(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return p=>{if(this.tokenChangeListeners.forEach(I=>I(p)),"function"==typeof h)h(p);else if("string"==typeof h){const I=rr()[h];"function"==typeof I&&I(p)}}}assertNotDestroyed(){Ue(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,l.Z)(function*(){if(yield h.init(),!h.widgetId){let p=h.container;if(!h.isInvisible){const I=document.createElement("div");p.appendChild(I),p=I}h.widgetId=h.getAssertedRecaptcha().render(p,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,l.Z)(function*(){Ue(fn()&&!Ja(),h.auth,"internal-error"),yield function un(){let y=null;return new Promise(h=>{"complete"!==document.readyState?(y=()=>h(),window.addEventListener("load",y)):h()}).catch(h=>{throw y&&window.removeEventListener("load",y),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const p=yield function Le(y){return re.apply(this,arguments)}(h.auth);Ue(p,h.auth,"internal-error"),h.parameters.sitekey=p})()}getAssertedRecaptcha(){return Ue(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class wr{constructor(h,p){this.verificationId=h,this.onConfirmation=p}confirm(h){const p=hr._fromVerification(this.verificationId,h);return this.onConfirmation(p)}}function Ra(){return(Ra=(0,l.Z)(function*(y,h,p){if((0,f._isFirebaseServerApp)(y.app))return Promise.reject(Pe(y));const I=oi(y),Q=yield Yt(I,h,(0,O.m9)(p));return new wr(Q,be=>Ji(I,be))})).apply(this,arguments)}function Yn(){return(Yn=(0,l.Z)(function*(y,h,p){const I=(0,O.m9)(y);yield pi(!1,I,"phone");const Q=yield Yt(I.auth,h,(0,O.m9)(p));return new wr(Q,be=>Vo(I,be))})).apply(this,arguments)}function Sn(){return(Sn=(0,l.Z)(function*(y,h,p){const I=(0,O.m9)(y);if((0,f._isFirebaseServerApp)(I.auth.app))return Promise.reject(Pe(I.auth));const Q=yield Yt(I.auth,h,(0,O.m9)(p));return new wr(Q,be=>Cr(I,be))})).apply(this,arguments)}function Yt(y,h,p){return dn.apply(this,arguments)}function dn(){return dn=(0,l.Z)(function*(y,h,p){var I;const Q=yield p.verify();try{let be;if(Ue("string"==typeof Q,y,"argument-error"),Ue(p.type===Po,y,"argument-error"),be="string"==typeof h?{phoneNumber:h}:h,"session"in be){const lt=be.session;if("phoneNumber"in be)return Ue("enroll"===lt.type,y,"internal-error"),(yield function Sa(y,h){return ye(y,"POST","/v2/accounts/mfaEnrollment:start",Z(y,h))}(y,{idToken:lt.credential,phoneEnrollmentInfo:{phoneNumber:be.phoneNumber,recaptchaToken:Q}})).phoneSessionInfo.sessionInfo;{Ue("signin"===lt.type,y,"internal-error");const At=(null===(I=be.multiFactorHint)||void 0===I?void 0:I.uid)||be.multiFactorUid;return Ue(At,y,"missing-multi-factor-info"),(yield function Lc(y,h){return ye(y,"POST","/v2/accounts/mfaSignIn:start",Z(y,h))}(y,{mfaPendingCredential:lt.credential,mfaEnrollmentId:At,phoneSignInInfo:{recaptchaToken:Q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:lt}=yield function Wo(y,h){return cs.apply(this,arguments)}(y,{phoneNumber:be.phoneNumber,recaptchaToken:Q});return lt}}finally{p._reset()}}),dn.apply(this,arguments)}function Ou(){return(Ou=(0,l.Z)(function*(y,h){const p=(0,O.m9)(y);if((0,f._isFirebaseServerApp)(p.auth.app))return Promise.reject(Pe(p.auth));yield vt(p,h)})).apply(this,arguments)}let ku=(()=>{class y{constructor(p){this.providerId=y.PROVIDER_ID,this.auth=oi(p)}verifyPhoneNumber(p,I){return Yt(this.auth,p,(0,O.m9)(I))}static credential(p,I){return hr._fromVerification(p,I)}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:I,temporaryProof:Q}=p;return I&&Q?hr._fromTokenResponse(I,Q):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Xl(y,h){return h?L(h):(Ue(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Cl extends Yr{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return mo(h,this._buildIdpRequest())}_linkToIdToken(h,p){return mo(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return mo(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function Fu(y){return Wi(y.auth,new Cl(y),y.bypassAuthState)}function Og(y){const{auth:h,user:p}=y;return Ue(p,h,"internal-error"),bi(p,new Cl(y),y.bypassAuthState)}function kg(y){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,l.Z)(function*(y){const{auth:h,user:p}=y;return Ue(p,h,"internal-error"),vt(p,new Cl(y),y.bypassAuthState)})).apply(this,arguments)}class Fg{constructor(h,p,I,Q,be=!1){this.auth=h,this.resolver=I,this.user=Q,this.bypassAuthState=be,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,l.Z)(function*(I,Q){h.pendingPromise={resolve:I,reject:Q};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(be){h.reject(be)}});return function(I,Q){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,l.Z)(function*(){const{urlResponse:I,sessionId:Q,postBody:be,tenantId:lt,error:At,type:rn}=h;if(At)return void p.reject(At);const Tn={auth:p.auth,requestUri:I,sessionId:Q,tenantId:lt||void 0,postBody:be||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(rn)(Tn))}catch(Zn){p.reject(Zn)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Fu;case"linkViaPopup":case"linkViaRedirect":return kg;case"reauthViaPopup":case"reauthViaRedirect":return Og;default:he(this.auth,"internal-error")}}resolve(h){Ot(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Ot(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Iv=new we(2e3,1e4);function _i(){return(_i=(0,l.Z)(function*(y,h,p){if((0,f._isFirebaseServerApp)(y.app))return Promise.reject(xe(y,"operation-not-supported-in-this-environment"));const I=oi(y);Xe(y,h,Si);const Q=Xl(I,p);return new wl(I,"signInViaPopup",h,Q).executeNotNull()})).apply(this,arguments)}function Jl(){return(Jl=(0,l.Z)(function*(y,h,p){const I=(0,O.m9)(y);if((0,f._isFirebaseServerApp)(I.auth.app))return Promise.reject(xe(I.auth,"operation-not-supported-in-this-environment"));Xe(I.auth,h,Si);const Q=Xl(I.auth,p);return new wl(I.auth,"reauthViaPopup",h,Q,I).executeNotNull()})).apply(this,arguments)}function ei(){return(ei=(0,l.Z)(function*(y,h,p){const I=(0,O.m9)(y);Xe(I.auth,h,Si);const Q=Xl(I.auth,p);return new wl(I.auth,"linkViaPopup",h,Q,I).executeNotNull()})).apply(this,arguments)}let wl=(()=>{class y extends Fg{constructor(p,I,Q,be,lt){super(p,I,be,lt),this.provider=Q,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var p=this;return(0,l.Z)(function*(){const I=yield p.execute();return Ue(I,p.auth,"internal-error"),I})()}onExecution(){var p=this;return(0,l.Z)(function*(){Ot(1===p.filter.length,"Popup operations only handle one event");const I=Xa();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],I),p.authWindow.associatedEvent=I,p.resolver._originValidation(p.auth).catch(Q=>{p.reject(Q)}),p.resolver._isIframeWebStorageSupported(p.auth,Q=>{Q||p.reject(xe(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(xe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const p=()=>{var I,Q;this.pollId=null!==(Q=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==Q&&Q.closed?window.setTimeout(()=>{this.pollId=null,this.reject(xe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,Iv.get())};p()}}return y.currentPopupAction=null,y})();const ki="pendingRedirect",Vc=new Map;class Fr extends Fg{constructor(h,p,I=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,I),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,l.Z)(function*(){let I=Vc.get(p.auth._key());if(!I){try{const be=(yield function Rn(y,h){return Il.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;I=()=>Promise.resolve(be)}catch(Q){I=()=>Promise.reject(Q)}Vc.set(p.auth._key(),I)}return p.bypassAuthState||Vc.set(p.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,I=this;return(0,l.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(I,h);if("unknown"!==h.type){if(h.eventId){const Q=yield I.auth._redirectUserForId(h.eventId);if(Q)return I.user=Q,p().call(I,h);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Il(){return(Il=(0,l.Z)(function*(y,h){const p=Uc(h),I=Ng(y);if(!(yield I._isAvailable()))return!1;const Q="true"===(yield I._get(p));return yield I._remove(p),Q})).apply(this,arguments)}function ec(y,h){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,l.Z)(function*(y,h){return Ng(y)._set(Uc(h),"true")})).apply(this,arguments)}function _a(y,h){Vc.set(y._key(),h)}function Ng(y){return L(y._redirectPersistence)}function Uc(y){return Ee(ki,y.config.apiKey,y.name)}function Lg(y,h,p){return function Bg(y,h,p){return vs.apply(this,arguments)}(y,h,p)}function vs(){return(vs=(0,l.Z)(function*(y,h,p){if((0,f._isFirebaseServerApp)(y.app))return Promise.reject(Pe(y));const I=oi(y);Xe(y,h,Si),yield I._initializationPromise;const Q=Xl(I,p);return yield ec(Q,I),Q._openRedirect(I,h,"signInViaRedirect")})).apply(this,arguments)}function qh(y,h,p){return function Qh(y,h,p){return zc.apply(this,arguments)}(y,h,p)}function zc(){return(zc=(0,l.Z)(function*(y,h,p){const I=(0,O.m9)(y);if(Xe(I.auth,h,Si),(0,f._isFirebaseServerApp)(I.auth.app))return Promise.reject(Pe(I.auth));yield I.auth._initializationPromise;const Q=Xl(I.auth,p);yield ec(Q,I.auth);const be=yield tc(I);return Q._openRedirect(I.auth,h,"reauthViaRedirect",be)})).apply(this,arguments)}function tl(y,h,p){return function Bd(y,h,p){return Nt.apply(this,arguments)}(y,h,p)}function Nt(){return(Nt=(0,l.Z)(function*(y,h,p){const I=(0,O.m9)(y);Xe(I.auth,h,Si),yield I.auth._initializationPromise;const Q=Xl(I.auth,p);yield pi(!1,I,h.providerId),yield ec(Q,I.auth);const be=yield tc(I);return Q._openRedirect(I.auth,h,"linkViaRedirect",be)})).apply(this,arguments)}function ea(){return(ea=(0,l.Z)(function*(y,h){return yield oi(y)._initializationPromise,Nu(y,h,!1)})).apply(this,arguments)}function Nu(y,h){return Xh.apply(this,arguments)}function Xh(){return(Xh=(0,l.Z)(function*(y,h,p=!1){if((0,f._isFirebaseServerApp)(y.app))return Promise.reject(Pe(y));const I=oi(y),Q=Xl(I,h),lt=yield new Fr(I,Q,p).execute();return lt&&!p&&(delete lt.user._redirectEventId,yield I._persistUserIfCurrent(lt.user),yield I._setRedirectUser(null,h)),lt})).apply(this,arguments)}function tc(y){return ta.apply(this,arguments)}function ta(){return(ta=(0,l.Z)(function*(y){const h=Xa(`${y.uid}:::`);return y._redirectEventId=h,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),h})).apply(this,arguments)}class Al{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(h,I)&&(p=!0,this.sendToConsumer(h,I),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Ug(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Lu(y);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var I;if(h.error&&!Lu(h)){const Q=(null===(I=h.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";p.onError(xe(this.auth,Q))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const I=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&I}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jh(h))}saveEventToCache(h){this.cachedEventUids.add(Jh(h)),this.lastProcessedEventTime=Date.now()}}function Jh(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(h=>h).join("-")}function Lu({type:y,error:h}){return"unknown"===y&&"auth/no-auth-event"===h?.code}function wp(y){return mr.apply(this,arguments)}function mr(){return(mr=(0,l.Z)(function*(y,h={}){return ye(y,"GET","/v1/projects",h)})).apply(this,arguments)}const nc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hc=/^https?/;function Ui(){return(Ui=(0,l.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:h}=yield wp(y);for(const p of h)try{if(Bu(p))return}catch{}he(y,"unauthorized-domain")})).apply(this,arguments)}function Bu(y){const h=at(),{protocol:p,hostname:I}=new URL(h);if(y.startsWith("chrome-extension://")){const lt=new URL(y);return""===lt.hostname&&""===I?"chrome-extension:"===p&&y.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&lt.hostname===I}if(!Hc.test(p))return!1;if(nc.test(y))return I===y;const Q=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Q+"|"+Q+")$","i").test(I)}const ef=new we(3e4,6e4);function na(){const y=rr().___jsl;if(y?.H)for(const h of Object.keys(y.H))if(y.H[h].r=y.H[h].r||[],y.H[h].L=y.H[h].L||[],y.H[h].r=[...y.H[h].L],y.CP)for(let p=0;p<y.CP.length;p++)y.CP[p]=null}let Dl=null;const Ap=new we(5e3,15e3),zg="__/auth/iframe",Dp="emulator/auth/iframe",Hg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tf(y){const h=y.config;Ue(h.authDomain,y,"auth-domain-config-required");const p=h.emulator?ke(h,Dp):`https://${y.config.authDomain}/${zg}`,I={apiKey:h.apiKey,appName:y.name,v:f.SDK_VERSION},Q=jg.get(y.config.apiHost);Q&&(I.eid=Q);const be=y._getFrameworks();return be.length&&(I.fw=be.join(",")),`${p}?${(0,O.xO)(I).slice(1)}`}function rf(){return rf=(0,l.Z)(function*(y){const h=yield function Tp(y){return Dl=Dl||function Ip(y){return new Promise((h,p)=>{var I,Q,be;function lt(){na(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{na(),p(xe(y,"network-request-failed"))},timeout:ef.get()})}if(null!==(Q=null===(I=rr().gapi)||void 0===I?void 0:I.iframes)&&void 0!==Q&&Q.Iframe)h(gapi.iframes.getContext());else{if(null===(be=rr().gapi)||void 0===be||!be.load){const At=si("iframefcb");return rr()[At]=()=>{gapi.load?lt():p(xe(y,"network-request-failed"))},cr(`${function Io(){return lr.gapiScript}()}?onload=${At}`).catch(rn=>p(rn))}lt()}}).catch(h=>{throw Dl=null,h})}(y),Dl}(y),p=rr().gapi;return Ue(p,y,"internal-error"),h.open({where:document.body,url:tf(y),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Hg,dontclear:!0},I=>new Promise(function(){var Q=(0,l.Z)(function*(be,lt){yield I.restyle({setHideOnLeave:!1});const At=xe(y,"network-request-failed"),rn=rr().setTimeout(()=>{lt(At)},Ap.get());function Tn(){rr().clearTimeout(rn),be(I)}I.ping(Tn).then(Tn,()=>{lt(At)})});return function(be,lt){return Q.apply(this,arguments)}}()))}),rf.apply(this,arguments)}const Vu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$g=500,Gg=600,sf="_blank",af="http://localhost";class lf{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Sp="__/auth/handler",Mp="emulator/auth/handler",zd=encodeURIComponent("fac");function Uu(y,h,p,I,Q,be){return cf.apply(this,arguments)}function cf(){return(cf=(0,l.Z)(function*(y,h,p,I,Q,be){Ue(y.config.authDomain,y,"auth-domain-config-required"),Ue(y.config.apiKey,y,"invalid-api-key");const lt={apiKey:y.config.apiKey,appName:y.name,authType:p,redirectUrl:I,v:f.SDK_VERSION,eventId:Q};if(h instanceof Si){h.setDefaultLanguage(y.languageCode),lt.providerId=h.providerId||"",(0,O.xb)(h.getCustomParameters())||(lt.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Zn,kn]of Object.entries(be||{}))lt[Zn]=kn}if(h instanceof so){const Zn=h.getScopes().filter(kn=>""!==kn);Zn.length>0&&(lt.scopes=Zn.join(","))}y.tenantId&&(lt.tid=y.tenantId);const At=lt;for(const Zn of Object.keys(At))void 0===At[Zn]&&delete At[Zn];const rn=yield y._getAppCheckToken(),Tn=rn?`#${zd}=${encodeURIComponent(rn)}`:"";return`${function Wg({config:y}){return y.emulator?ke(y,Mp):`https://${y.authDomain}/${Sp}`}(y)}?${(0,O.xO)(At).slice(1)}${Tn}`})).apply(this,arguments)}const zu="webStorageSupport",uf=class vo{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jr,this._completeRedirectFn=Nu,this._overrideRedirectResult=_a}_openPopup(h,p,I,Q){var be=this;return(0,l.Z)(function*(){var lt;Ot(null===(lt=be.eventManagers[h._key()])||void 0===lt?void 0:lt.manager,"_initialize() not called before _openPopup()");const At=yield Uu(h,p,I,at(),Q);return function jc(y,h,p,I=$g,Q=Gg){const be=Math.max((window.screen.availHeight-Q)/2,0).toString(),lt=Math.max((window.screen.availWidth-I)/2,0).toString();let At="";const rn=Object.assign(Object.assign({},Vu),{width:I.toString(),height:Q.toString(),top:be,left:lt}),Tn=(0,O.z$)().toLowerCase();p&&(At=bn(Tn)?sf:p),_t(Tn)&&(h=h||af,rn.scrollbars="yes");const Zn=Object.entries(rn).reduce((Mr,[os,rh])=>`${Mr}${os}=${rh},`,"");if(function Et(y=(0,O.z$)()){var h;return Gn(y)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Tn)&&"_self"!==At)return function Ud(y,h){const p=document.createElement("a");p.href=y,p.target=h;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(I)}(h||"",At),new lf(null);const kn=window.open(h||"",At,Zn);Ue(kn,y,"popup-blocked");try{kn.focus()}catch{}return new lf(kn)}(h,At,Xa())})()}_openRedirect(h,p,I,Q){var be=this;return(0,l.Z)(function*(){return yield be._originValidation(h),function Ma(y){rr().location.href=y}(yield Uu(h,p,I,at(),Q)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:Q,promise:be}=this.eventManagers[p];return Q?Promise.resolve(Q):(Ot(be,"If manager is not set, promise should be"),be)}const I=this.initAndGetManager(h);return this.eventManagers[p]={promise:I},I.catch(()=>{delete this.eventManagers[p]}),I}initAndGetManager(h){var p=this;return(0,l.Z)(function*(){const I=yield function nf(y){return rf.apply(this,arguments)}(h),Q=new Al(h);return I.register("authEvent",be=>(Ue(be?.authEvent,h,"invalid-auth-event"),{status:Q.onEvent(be.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:Q},p.iframes[h._key()]=I,Q})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(zu,{type:zu},Q=>{var be;const lt=null===(be=Q?.[0])||void 0===be?void 0:be[zu];void 0!==lt&&p(!!lt),he(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Vd(y){return Ui.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return on()||en()||Gn()}};class nl{constructor(h){this.factorId=h}_process(h,p,I){switch(p.type){case"enroll":return this._finalizeEnroll(h,p.credential,I);case"signin":return this._finalizeSignIn(h,p.credential);default:return ct("unexpected MultiFactorSessionType")}}}class $c extends nl{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new $c(h)}_finalizeEnroll(h,p,I){return function _l(y,h){return ye(y,"POST","/v2/accounts/mfaEnrollment:finalize",Z(y,h))}(h,{idToken:p,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,p){return function D(y,h){return ye(y,"POST","/v2/accounts/mfaSignIn:finalize",Z(y,h))}(h,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let df=(()=>{class y{constructor(){}static assertion(p){return $c._fromCredential(p)}}return y.FACTOR_ID="phone",y})();var Hd="@firebase/auth";class rs{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,l.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(I=>{h(I?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);p&&(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ia(){return window}(0,O.Pz)("authIdTokenMaxAge"),function Vi(y){lr=y}({loadJS:y=>new Promise((h,p)=>{const I=document.createElement("script");I.setAttribute("src",y),I.onload=h,I.onerror=Q=>{const be=xe("internal-error");be.customData=Q,p(be)},I.type="text/javascript",I.charset="UTF-8",function Hu(){var y,h;return null!==(h=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==h?h:document}().appendChild(I)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Zg(y){(0,f._registerComponent)(new te.wA("auth",(h,{options:p})=>{const I=h.getProvider("app").getImmediate(),Q=h.getProvider("heartbeat"),be=h.getProvider("app-check-internal"),{apiKey:lt,authDomain:At}=I.options;Ue(lt&&!lt.includes(":"),"invalid-api-key",{appName:I.name});const rn={apiKey:lt,authDomain:At,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:In(y)},Tn=new ti(I,Q,be,rn);return function Ri(y,h){const p=h?.persistence||[],I=(Array.isArray(p)?p:[p]).map(L);h?.errorMap&&y._updateErrorMap(h.errorMap),y._initializeWithPersistence(I,h?.popupRedirectResolver)}(Tn,p),Tn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,I)=>{h.getProvider("auth-internal").initialize()})),(0,f._registerComponent)(new te.wA("auth-internal",h=>{const p=oi(h.getProvider("auth").getImmediate());return new rs(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,f.registerVersion)(Hd,"1.7.8",function hf(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(y)),(0,f.registerVersion)(Hd,"1.7.8","esm2017")}("Browser");const Wc=2e3;function Fs(){return Fs=(0,l.Z)(function*(y,h,p){var I;const{BuildInfo:Q}=ia();Ot(h.sessionId,"AuthEvent did not contain a session ID");const be=yield function ff(y){return Gd.apply(this,arguments)}(h.sessionId),lt={};return Gn()?lt.ibi=Q.packageName:pn()?lt.apn=Q.packageName:he(y,"operation-not-supported-in-this-environment"),Q.displayName&&(lt.appDisplayName=Q.displayName),lt.sessionId=be,Uu(y,p,h.type,void 0,null!==(I=h.eventId)&&void 0!==I?I:void 0,lt)}),Fs.apply(this,arguments)}function Sl(){return(Sl=(0,l.Z)(function*(y){const{BuildInfo:h}=ia(),p={};Gn()?p.iosBundleId=h.packageName:pn()?p.androidPackageName=h.packageName:he(y,"operation-not-supported-in-this-environment"),yield wp(y,p)})).apply(this,arguments)}function va(){return(va=(0,l.Z)(function*(y,h,p){const{cordova:I}=ia();let Q=()=>{};try{yield new Promise((be,lt)=>{let At=null;function rn(){var kn;be();const Mr=null===(kn=I.plugins.browsertab)||void 0===kn?void 0:kn.close;"function"==typeof Mr&&Mr(),"function"==typeof p?.close&&p.close()}function Tn(){At||(At=window.setTimeout(()=>{lt(xe(y,"redirect-cancelled-by-user"))},Wc))}function Zn(){"visible"===document?.visibilityState&&Tn()}h.addPassiveListener(rn),document.addEventListener("resume",Tn,!1),pn()&&document.addEventListener("visibilitychange",Zn,!1),Q=()=>{h.removePassiveListener(rn),document.removeEventListener("resume",Tn,!1),document.removeEventListener("visibilitychange",Zn,!1),At&&window.clearTimeout(At)}})}finally{Q()}})).apply(this,arguments)}function Gd(){return(Gd=(0,l.Z)(function*(y){const h=function Zc(y){if(Ot(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const h=new ArrayBuffer(y.length),p=new Uint8Array(h);for(let I=0;I<y.length;I++)p[I]=y.charCodeAt(I);return p}(y),p=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(p)).map(Q=>Q.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const pf=20;class ju extends Al{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInitialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInitialized(),this.passiveListeners.forEach(p=>p(h)),super.onEvent(h)}initialized(){var h=this;return(0,l.Z)(function*(){yield h.initPromise})()}}function Rl(y){return ol.apply(this,arguments)}function ol(){return(ol=(0,l.Z)(function*(y){const h=yield $u()._get(ic(y));return h&&(yield $u()._remove(ic(y))),h})).apply(this,arguments)}function Wd(){const y=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<pf;p++){const I=Math.floor(Math.random()*h.length);y.push(h.charAt(I))}return y.join("")}function $u(){return L(Pc)}function ic(y){return Ee("authEvent",y.config.apiKey,y.name)}function Gu(y){if(!y?.includes("?"))return{};const[h,...p]=y.split("?");return(0,O.zd)(p.join("?"))}const mf=class Yd{constructor(){this._redirectPersistence=Jr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Nu,this._overrideRedirectResult=_a}_initialize(h){var p=this;return(0,l.Z)(function*(){const I=h._key();let Q=p.eventManagers.get(I);return Q||(Q=new ju(h),p.eventManagers.set(I,Q),p.attachCallbackListeners(h,Q)),Q})()}_openPopup(h){he(h,"operation-not-supported-in-this-environment")}_openRedirect(h,p,I,Q){var be=this;return(0,l.Z)(function*(){!function Ml(y){var h,p,I,Q,be,lt,At,rn,Tn,Zn;const kn=ia();Ue("function"==typeof(null===(h=kn?.universalLinks)||void 0===h?void 0:h.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ue(typeof(null===(p=kn?.BuildInfo)||void 0===p?void 0:p.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ue("function"==typeof(null===(be=null===(Q=null===(I=kn?.cordova)||void 0===I?void 0:I.plugins)||void 0===Q?void 0:Q.browsertab)||void 0===be?void 0:be.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ue("function"==typeof(null===(rn=null===(At=null===(lt=kn?.cordova)||void 0===lt?void 0:lt.plugins)||void 0===At?void 0:At.browsertab)||void 0===rn?void 0:rn.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ue("function"==typeof(null===(Zn=null===(Tn=kn?.cordova)||void 0===Tn?void 0:Tn.InAppBrowser)||void 0===Zn?void 0:Zn.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const lt=yield be._initialize(h);yield lt.initialized(),lt.resetRedirect(),function Tv(){Vc.clear()}(),yield be._originValidation(h);const At=function Pl(y,h,p=null){return{type:h,eventId:p,urlResponse:null,sessionId:Wd(),postBody:null,tenantId:y.tenantId,error:xe(y,"no-auth-event")}}(h,I,Q);yield function Kc(y,h){return $u()._set(ic(y),h)}(h,At);const rn=yield function $d(y,h,p){return Fs.apply(this,arguments)}(h,At,p),Tn=yield function ka(y){const{cordova:h}=ia();return new Promise(p=>{h.plugins.browsertab.isAvailable(I=>{let Q=null;I?h.plugins.browsertab.openUrl(y):Q=h.InAppBrowser.open(y,function bt(y=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),p(Q)})})}(rn);return function ra(y,h,p){return va.apply(this,arguments)}(h,lt,Tn)})()}_isIframeWebStorageSupported(h,p){throw new Error("Method not implemented.")}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function rl(y){return Sl.apply(this,arguments)}(h)),this.originValidationPromises[p]}attachCallbackListeners(h,p){const{universalLinks:I,handleOpenURL:Q,BuildInfo:be}=ia(),lt=setTimeout((0,l.Z)(function*(){yield Rl(h),p.onEvent(yo())}),500),At=function(){var Zn=(0,l.Z)(function*(kn){clearTimeout(lt);const Mr=yield Rl(h);let os=null;Mr&&kn?.url&&(os=function Pp(y,h){var p,I;const Q=function Rp(y){const h=Gu(y),p=h.link?decodeURIComponent(h.link):void 0,I=Gu(p).link,Q=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return Gu(Q).link||Q||I||p||y}(h);if(Q.includes("/__/auth/callback")){const be=Gu(Q),lt=be.firebaseError?function Zd(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(be.firebaseError)):null,At=null===(I=null===(p=lt?.code)||void 0===p?void 0:p.split("auth/"))||void 0===I?void 0:I[1],rn=At?xe(At):null;return rn?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:rn,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:Q,postBody:null}}return null}(Mr,kn.url)),p.onEvent(os||yo())});return function(Mr){return Zn.apply(this,arguments)}}();typeof I<"u"&&"function"==typeof I.subscribe&&I.subscribe(null,At);const rn=Q,Tn=`${be.packageName.toLowerCase()}://`;ia().handleOpenURL=function(){var Zn=(0,l.Z)(function*(kn){if(kn.toLowerCase().startsWith(Tn)&&At({url:kn}),"function"==typeof rn)try{rn(kn)}catch(Mr){console.error(Mr)}});return function(kn){return Zn.apply(this,arguments)}}()}};function yo(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:xe("no-auth-event")}}const Op=1e3;function Yc(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function kp(y=(0,O.z$)()){return!("file:"!==Yc()&&"ionic:"!==Yc()&&"capacitor:"!==Yc()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function qd(){try{const y=self.localStorage,h=Xa();if(y)return y.setItem(h,"1"),y.removeItem(h),!function qc(y=(0,O.z$)()){return function Ai(){return(0,O.w1)()&&11===document?.documentMode}()||function sr(y=(0,O.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,O.hl)()}catch{return Zu()&&(0,O.hl)()}return!1}function Zu(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Qd(){return(function Wu(){return"http:"===Yc()||"https:"===Yc()}()||(0,O.ru)()||kp())&&!function Fa(){return(0,O.b$)()||(0,O.UG)()}()&&qd()&&!Zu()}function Xd(){return kp()&&typeof document<"u"}function Jd(){return(Jd=(0,l.Z)(function*(){return!!Xd()&&new Promise(y=>{const h=setTimeout(()=>{y(!1)},Op);document.addEventListener("deviceready",()=>{clearTimeout(h),y(!0)})})})).apply(this,arguments)}const Ns={LOCAL:"local",NONE:"none",SESSION:"session"},Ku=Ue,Yu="persistence";function rc(y){return qu.apply(this,arguments)}function qu(){return(qu=(0,l.Z)(function*(y){yield y._initializationPromise;const h=vf(),p=Ee(Yu,y.config.apiKey,y.name);h&&h.setItem(p,y._getPersistence())})).apply(this,arguments)}function vf(){var y;try{return(null===(y=function Fp(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const Av=Ue;class sl{constructor(){this.browserResolver=L(uf),this.cordovaResolver=L(mf),this.underlyingResolver=null,this._redirectPersistence=Jr,this._completeRedirectFn=Nu,this._overrideRedirectResult=_a}_initialize(h){var p=this;return(0,l.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,p,I,Q){var be=this;return(0,l.Z)(function*(){return yield be.selectUnderlyingResolver(),be.assertedUnderlyingResolver._openPopup(h,p,I,Q)})()}_openRedirect(h,p,I,Q){var be=this;return(0,l.Z)(function*(){return yield be.selectUnderlyingResolver(),be.assertedUnderlyingResolver._openRedirect(h,p,I,Q)})()}_isIframeWebStorageSupported(h,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,p)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return Xd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Av(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,l.Z)(function*(){if(h.underlyingResolver)return;const p=yield function _f(){return Jd.apply(this,arguments)}();h.underlyingResolver=p?h.cordovaResolver:h.browserResolver})()}}function oc(y){return y.unwrap()}function Qc(y){return Lp(y)}function Lp(y){const{_tokenResponse:h}=y instanceof O.ZR?y.customData:y;if(!h)return null;if(!(y instanceof O.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return ku.credentialFromResult(y);const p=h.providerId;if(!p||p===K.PASSWORD)return null;let I;switch(p){case K.GOOGLE:I=Ds;break;case K.FACEBOOK:I=Ys;break;case K.GITHUB:I=So;break;case K.TWITTER:I=ao;break;default:const{oauthIdToken:Q,oauthAccessToken:be,oauthTokenSecret:lt,pendingToken:At,nonce:rn}=h;return be||lt||Q||At?At?p.startsWith("saml.")?Ss._create(p,At):dr._fromParams({providerId:p,signInMethod:p,pendingToken:At,idToken:Q,accessToken:be}):new Fi(p).credential({idToken:Q,accessToken:be,rawNonce:rn}):null}return y instanceof O.ZR?I.credentialFromError(y):I.credentialFromResult(y)}function Xo(y,h){return h.catch(p=>{throw p instanceof O.ZR&&function yf(y,h){var p;const I=null===(p=h.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===h?.code)h.resolver=new Xc(y,function _o(y,h){var p;const I=(0,O.m9)(y),Q=h;return Ue(h.customData.operationType,I,"argument-error"),Ue(null===(p=Q.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,I,"argument-error"),Yo._fromError(I,Q)}(y,h));else if(I){const Q=Lp(h),be=h;Q&&(be.credential=Q,be.tenantId=I.tenantId||void 0,be.email=I.email||void 0,be.phoneNumber=I.phoneNumber||void 0)}}(y,p),p}).then(p=>{const Q=p.user;return{operationType:p.operationType,credential:Qc(p),additionalUserInfo:Ko(p),user:La.getOrCreate(Q)}})}function ya(y,h){return eh.apply(this,arguments)}function eh(){return(eh=(0,l.Z)(function*(y,h){const p=yield h;return{verificationId:p.verificationId,confirm:I=>Xo(y,p.confirm(I))}})).apply(this,arguments)}class Xc{constructor(h,p){this.resolver=p,this.auth=function sc(y){return y.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return Xo(oc(this.auth),this.resolver.resolveSignIn(h))}}class La{constructor(h){this._delegate=h,this.multiFactor=function Mc(y){const h=(0,O.m9)(y);return qo.has(h)||qo.set(h,Xs._fromUser(h)),qo.get(h)}(h)}static getOrCreate(h){return La.USER_MAP.has(h)||La.USER_MAP.set(h,new La(h)),La.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var p=this;return(0,l.Z)(function*(){return Xo(p.auth,Vo(p._delegate,h))})()}linkWithPhoneNumber(h,p){var I=this;return(0,l.Z)(function*(){return ya(I.auth,function jn(y,h,p){return Yn.apply(this,arguments)}(I._delegate,h,p))})()}linkWithPopup(h){var p=this;return(0,l.Z)(function*(){return Xo(p.auth,function Dr(y,h,p){return ei.apply(this,arguments)}(p._delegate,h,sl))})()}linkWithRedirect(h){var p=this;return(0,l.Z)(function*(){return yield rc(oi(p.auth)),tl(p._delegate,h,sl)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var p=this;return(0,l.Z)(function*(){return Xo(p.auth,Cr(p._delegate,h))})()}reauthenticateWithPhoneNumber(h,p){return ya(this.auth,function Ru(y,h,p){return Sn.apply(this,arguments)}(this._delegate,h,p))}reauthenticateWithPopup(h){return Xo(this.auth,function Bc(y,h,p){return Jl.apply(this,arguments)}(this._delegate,h,sl))}reauthenticateWithRedirect(h){var p=this;return(0,l.Z)(function*(){return yield rc(oi(p.auth)),qh(p._delegate,h,sl)})()}sendEmailVerification(h){return function Aa(y,h){return Da.apply(this,arguments)}(this._delegate,h)}unlink(h){var p=this;return(0,l.Z)(function*(){return yield function Ut(y,h){return Dn.apply(this,arguments)}(p._delegate,h),p})()}updateEmail(h){return function Xt(y,h){const p=(0,O.m9)(y);return(0,f._isFirebaseServerApp)(p.auth.app)?Promise.reject(Pe(p.auth)):Ki(p,h,null)}(this._delegate,h)}updatePassword(h){return function Kn(y,h){return Ki((0,O.m9)(y),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function jr(y,h){return Ou.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function Ke(y,h){return Ht.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,p){return function N(y,h,p){return ce.apply(this,arguments)}(this._delegate,h,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}La.USER_MAP=new WeakMap;const kl=Ue;let Ba=(()=>{class y{constructor(p,I){if(this.app=p,I.isInitialized())return this._delegate=I.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Q}=p.options;kl(Q,"invalid-api-key",{appName:p.name}),kl(Q,"invalid-api-key",{appName:p.name});const be=typeof window<"u"?sl:void 0;this._delegate=I.initialize({options:{persistence:th(Q,p.name),popupRedirectResolver:be}}),this._delegate._updateErrorMap(le),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?La.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,I){!function vr(y,h,p){const I=oi(y);Ue(I._canInitEmulator,I,"emulator-config-failed"),Ue(/^https?:\/\//.test(h),I,"invalid-emulator-scheme");const Q=!!p?.disableWarnings,be=Ao(h),{host:lt,port:At}=function Cs(y){const h=Ao(y),p=/(\/\/)?([^?#/]+)/.exec(y.substr(h.length));if(!p)return{host:"",port:null};const I=p[2].split("@").pop()||"",Q=/^(\[[^\]]+\])(:|$)/.exec(I);if(Q){const be=Q[1];return{host:be,port:Hs(I.substr(be.length+1))}}{const[be,lt]=I.split(":");return{host:be,port:Hs(lt)}}}(h);I.config.emulator={url:`${be}//${lt}${null===At?"":`:${At}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:lt,port:At,protocol:be.replace(":",""),options:Object.freeze({disableWarnings:Q})}),Q||function No(){function y(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,p,I)}applyActionCode(p){return function Ia(y,h){return ma.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return Zl(this._delegate,p)}confirmPasswordReset(p,I){return function Za(y,h,p){return Ps.apply(this,arguments)}(this._delegate,p,I)}createUserWithEmailAndPassword(p,I){var Q=this;return(0,l.Z)(function*(){return Xo(Q._delegate,function Ac(y,h,p){return Kl.apply(this,arguments)}(Q._delegate,p,I))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function Su(y,h){return qa.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function Tu(y,h){return"EMAIL_SIGNIN"===hs.parseLink(h)?.operation}(0,p)}getRedirectResult(){var p=this;return(0,l.Z)(function*(){kl(Qd(),p._delegate,"operation-not-supported-in-this-environment");const I=yield function Os(y,h){return ea.apply(this,arguments)}(p._delegate,sl);return I?Xo(p._delegate,Promise.resolve(I)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function gf(y,h){oi(y)._logFramework(h)}(this._delegate,p)}onAuthStateChanged(p,I,Q){const{next:be,error:lt,complete:At}=Oo(p,I,Q);return this._delegate.onAuthStateChanged(be,lt,At)}onIdTokenChanged(p,I,Q){const{next:be,error:lt,complete:At}=Oo(p,I,Q);return this._delegate.onIdTokenChanged(be,lt,At)}sendSignInLinkToEmail(p,I){return function Zo(y,h,p){return fr.apply(this,arguments)}(this._delegate,p,I)}sendPasswordResetEmail(p,I){return function pa(y,h,p){return Qs.apply(this,arguments)}(this._delegate,p,I||void 0)}setPersistence(p){var I=this;return(0,l.Z)(function*(){let Q;switch(function Na(y,h){Ku(Object.values(Ns).includes(h),y,"invalid-persistence-type"),(0,O.b$)()?Ku(h!==Ns.SESSION,y,"unsupported-persistence-type"):(0,O.UG)()?Ku(h===Ns.NONE,y,"unsupported-persistence-type"):Zu()?Ku(h===Ns.NONE||h===Ns.LOCAL&&(0,O.hl)(),y,"unsupported-persistence-type"):Ku(h===Ns.NONE||qd(),y,"unsupported-persistence-type")}(I._delegate,p),p){case Ns.SESSION:Q=Jr;break;case Ns.LOCAL:Q=(yield L(is)._isAvailable())?is:Pc;break;case Ns.NONE:Q=j;break;default:return he("argument-error",{appName:I._delegate.name})}return I._delegate.setPersistence(Q)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return Xo(this._delegate,function E(y){return A.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return Xo(this._delegate,Ji(this._delegate,p))}signInWithCustomToken(p){return Xo(this._delegate,function Uo(y,h){return Qr.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,I){return Xo(this._delegate,function Zi(y,h,p){return(0,f._isFirebaseServerApp)(y.app)?Promise.reject(Pe(y)):Ji((0,O.m9)(y),ir.credential(h,p)).catch(function(){var I=(0,l.Z)(function*(Q){throw"auth/password-does-not-meet-requirements"===Q.code&&co(y),Q});return function(Q){return I.apply(this,arguments)}}())}(this._delegate,p,I))}signInWithEmailLink(p,I){return Xo(this._delegate,function Au(y,h,p){return Yl.apply(this,arguments)}(this._delegate,p,I))}signInWithPhoneNumber(p,I){return ya(this._delegate,function eo(y,h,p){return Ra.apply(this,arguments)}(this._delegate,p,I))}signInWithPopup(p){var I=this;return(0,l.Z)(function*(){return kl(Qd(),I._delegate,"operation-not-supported-in-this-environment"),Xo(I._delegate,function Cp(y,h,p){return _i.apply(this,arguments)}(I._delegate,p,sl))})()}signInWithRedirect(p){var I=this;return(0,l.Z)(function*(){return kl(Qd(),I._delegate,"operation-not-supported-in-this-environment"),yield rc(I._delegate),Lg(I._delegate,p,sl)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function Iu(y,h){return Ka.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Ns,y})();function Oo(y,h,p){let I=y;"function"!=typeof y&&({next:I,error:h,complete:p}=y);const Q=I;return{next:lt=>Q(lt&&La.getOrCreate(lt)),error:h,complete:p}}function th(y,h){const p=function Np(y,h){const p=vf();if(!p)return[];const I=Ee(Yu,y,h);switch(p.getItem(I)){case Ns.NONE:return[j];case Ns.LOCAL:return[is,Jr];case Ns.SESSION:return[Jr];default:return[]}}(y,h);if(typeof self<"u"&&!p.includes(is)&&p.push(is),typeof window<"u")for(const I of[Pc,Jr])p.includes(I)||p.push(I);return p.includes(j)||p.push(j),p}class nh{constructor(){this.providerId="phone",this._delegate=new ku(oc(b.Z.auth()))}static credential(h,p){return ku.credential(h,p)}verifyPhoneNumber(h,p){return this._delegate.verifyPhoneNumber(h,p)}unwrap(){return this._delegate}}nh.PHONE_SIGN_IN_METHOD=ku.PHONE_SIGN_IN_METHOD,nh.PROVIDER_ID=ku.PROVIDER_ID;const Br=Ue;class Qu{constructor(h,p,I=b.Z.app()){var Q;Br(null===(Q=I.options)||void 0===Q?void 0:Q.apiKey,"invalid-api-key",{appName:I.name}),this._delegate=new el(I.auth(),h,p),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ih(y){y.INTERNAL.registerComponent(new te.wA("auth-compat",h=>{const p=h.getProvider("app-compat").getImmediate(),I=h.getProvider("auth");return new Ba(p,I)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:U_EMAIL_SIGNIN,PASSWORD_RESET:U_PASSWORD_RESET,RECOVER_EMAIL:U_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:U_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:U_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:U_VERIFY_EMAIL}},EmailAuthProvider:ir,FacebookAuthProvider:Ys,GithubAuthProvider:So,GoogleAuthProvider:Ds,OAuthProvider:Fi,SAMLAuthProvider:Mo,PhoneAuthProvider:nh,PhoneMultiFactorGenerator:df,RecaptchaVerifier:Qu,TwitterAuthProvider:ao,Auth:Ba,AuthCredential:Yr,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.5.13")}(b.Z)},7185:(wt,Fe,_)=>{"use strict";_.d(Fe,{Rh:()=>jt,_W:()=>Ot});var l=_(4650),b=_(7340),f=_(6895),O=_(7579),de=_(1481);const ee=["toast-component",""];function te(me,qe){if(1&me){const Z=l.EpF();l.TgZ(0,"button",5),l.NdJ("click",function(){l.CHM(Z);const R=l.oxw();return l.KtG(R.remove())}),l.TgZ(1,"span",6),l._uU(2,"\xd7"),l.qZA()()}}function z(me,qe){if(1&me&&(l.ynx(0),l._uU(1),l.BQk()),2&me){const Z=l.oxw(2);l.xp6(1),l.hij("[",Z.duplicatesCount+1,"]")}}function K(me,qe){if(1&me&&(l.TgZ(0,"div"),l._uU(1),l.YNc(2,z,2,1,"ng-container",4),l.qZA()),2&me){const Z=l.oxw();l.Tol(Z.options.titleClass),l.uIk("aria-label",Z.title),l.xp6(1),l.hij(" ",Z.title," "),l.xp6(1),l.Q6J("ngIf",Z.duplicatesCount)}}function Y(me,qe){if(1&me&&l._UZ(0,"div",7),2&me){const Z=l.oxw();l.Tol(Z.options.messageClass),l.Q6J("innerHTML",Z.message,l.oJD)}}function k(me,qe){if(1&me&&(l.TgZ(0,"div",8),l._uU(1),l.qZA()),2&me){const Z=l.oxw();l.Tol(Z.options.messageClass),l.uIk("aria-label",Z.message),l.xp6(1),l.hij(" ",Z.message," ")}}function U(me,qe){if(1&me&&(l.TgZ(0,"div"),l._UZ(1,"div",9),l.qZA()),2&me){const Z=l.oxw();l.xp6(1),l.Udp("width",Z.width+"%")}}class Me{constructor(qe,Z){this.component=qe,this.injector=Z}attach(qe,Z){return this._attachedHost=qe,qe.attach(this,Z)}detach(){const qe=this._attachedHost;if(qe)return this._attachedHost=void 0,qe.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(qe){this._attachedHost=qe}}class pe{attach(qe,Z){return this._attachedPortal=qe,this.attachComponentPortal(qe,Z)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(qe){this._disposeFn=qe}}class he{constructor(qe){this._overlayRef=qe,this.duplicatesCount=0,this._afterClosed=new O.x,this._activate=new O.x,this._manualClose=new O.x,this._resetTimeout=new O.x,this._countDuplicate=new O.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(qe,Z){qe&&this._resetTimeout.next(),Z&&this._countDuplicate.next(++this.duplicatesCount)}}class xe{constructor(qe,Z,ye,R,Se,Qe){this.toastId=qe,this.config=Z,this.message=ye,this.title=R,this.toastType=Se,this.toastRef=Qe,this._onTap=new O.x,this._onAction=new O.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(qe){this._onAction.next(qe)}onAction(){return this._onAction.asObservable()}}const Pe=new l.OlP("ToastConfig");class Xe extends pe{constructor(qe,Z,ye){super(),this._hostDomElement=qe,this._componentFactoryResolver=Z,this._appRef=ye}attachComponentPortal(qe,Z){const ye=this._componentFactoryResolver.resolveComponentFactory(qe.component);let R;return R=ye.create(qe.injector),this._appRef.attachView(R.hostView),this.setDisposeFn(()=>{this._appRef.detachView(R.hostView),R.destroy()}),Z?this._hostDomElement.insertBefore(this._getComponentRootNode(R),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(R)),R}_getComponentRootNode(qe){return qe.hostView.rootNodes[0]}}let dt=(()=>{class me{constructor(){this._document=(0,l.f3M)(f.K0)}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Z=this._document.createElement("div");Z.classList.add("overlay-container"),Z.setAttribute("aria-live","polite"),this._document.body.appendChild(Z),this._containerElement=Z}}return me.\u0275fac=function(Z){return new(Z||me)},me.\u0275prov=l.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})();class Ue{constructor(qe){this._portalHost=qe}attach(qe,Z=!0){return this._portalHost.attach(qe,Z)}detach(){return this._portalHost.detach()}}let ct=(()=>{class me{constructor(){this._overlayContainer=(0,l.f3M)(dt),this._componentFactoryResolver=(0,l.f3M)(l._Vd),this._appRef=(0,l.f3M)(l.z2F),this._document=(0,l.f3M)(f.K0),this._paneElements=new Map}create(Z,ye){return this._createOverlayRef(this.getPaneElement(Z,ye))}getPaneElement(Z="",ye){return this._paneElements.get(ye)||this._paneElements.set(ye,{}),this._paneElements.get(ye)[Z]||(this._paneElements.get(ye)[Z]=this._createPaneElement(Z,ye)),this._paneElements.get(ye)[Z]}_createPaneElement(Z,ye){const R=this._document.createElement("div");return R.id="toast-container",R.classList.add(Z),R.classList.add("toast-container"),ye?ye.getContainerElement().appendChild(R):this._overlayContainer.getContainerElement().appendChild(R),R}_createPortalHost(Z){return new Xe(Z,this._componentFactoryResolver,this._appRef)}_createOverlayRef(Z){return new Ue(this._createPortalHost(Z))}}return me.\u0275fac=function(Z){return new(Z||me)},me.\u0275prov=l.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})(),Ot=(()=>{class me{constructor(Z,ye,R,Se,Qe){this.overlay=ye,this._injector=R,this.sanitizer=Se,this.ngZone=Qe,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...Z.default,...Z.config},Z.config.iconClasses&&(this.toastrConfig.iconClasses={...Z.default.iconClasses,...Z.config.iconClasses})}show(Z,ye,R={},Se=""){return this._preBuildNotification(Se,Z,ye,this.applyConfig(R))}success(Z,ye,R={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",Z,ye,this.applyConfig(R))}error(Z,ye,R={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",Z,ye,this.applyConfig(R))}info(Z,ye,R={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",Z,ye,this.applyConfig(R))}warning(Z,ye,R={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",Z,ye,this.applyConfig(R))}clear(Z){for(const ye of this.toasts)if(void 0!==Z){if(ye.toastId===Z)return void ye.toastRef.manualClose()}else ye.toastRef.manualClose()}remove(Z){const ye=this._findToast(Z);if(!ye||(ye.activeToast.toastRef.close(),this.toasts.splice(ye.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const R=this.toasts[this.currentlyActive].toastRef;R.isInactive()||(this.currentlyActive=this.currentlyActive+1,R.activate())}return!0}findDuplicate(Z="",ye="",R,Se){const{includeTitleDuplicates:Qe}=this.toastrConfig;for(const Tt of this.toasts)if((!Qe||Qe&&Tt.title===Z)&&Tt.message===ye)return Tt.toastRef.onDuplicate(R,Se),Tt;return null}applyConfig(Z={}){return{...this.toastrConfig,...Z}}_findToast(Z){for(let ye=0;ye<this.toasts.length;ye++)if(this.toasts[ye].toastId===Z)return{index:ye,activeToast:this.toasts[ye]};return null}_preBuildNotification(Z,ye,R,Se){return Se.onActivateTick?this.ngZone.run(()=>this._buildNotification(Z,ye,R,Se)):this._buildNotification(Z,ye,R,Se)}_buildNotification(Z,ye,R,Se){if(!Se.toastComponent)throw new Error("toastComponent required");const Qe=this.findDuplicate(R,ye,this.toastrConfig.resetTimeoutOnDuplicate&&Se.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&R||ye)&&this.toastrConfig.preventDuplicates&&null!==Qe)return Qe;this.previousToastMessage=ye;let Tt=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Tt=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const $e=this.overlay.create(Se.positionClass,this.overlayContainer);this.index=this.index+1;let Mt=ye;ye&&Se.enableHtml&&(Mt=this.sanitizer.sanitize(l.q3G.HTML,ye));const Gt=new he($e),_n=new xe(this.index,Se,Mt,R,Z,Gt),qn=l.zs3.create({providers:[{provide:xe,useValue:_n}],parent:this._injector}),Mn=new Me(Se.toastComponent,qn),Pn=$e.attach(Mn,Se.newestOnTop);Gt.componentInstance=Pn.instance;const Le={toastId:this.index,title:R||"",message:ye||"",toastRef:Gt,onShown:Gt.afterActivate(),onHidden:Gt.afterClosed(),onTap:_n.onTap(),onAction:_n.onAction(),portal:Pn};return Tt||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Le.toastRef.activate()})),this.toasts.push(Le),Le}}return me.\u0275fac=function(Z){return new(Z||me)(l.LFG(Pe),l.LFG(ct),l.LFG(l.zs3),l.LFG(de.H7),l.LFG(l.R0b))},me.\u0275prov=l.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})(),at=(()=>{class me{get displayStyle(){if("inactive"===this.state.value)return"none"}constructor(Z,ye,R){this.toastrService=Z,this.toastPackage=ye,this.ngZone=R,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=ye.message,this.title=ye.title,this.options=ye.config,this.originalTimeout=ye.config.timeOut,this.toastClasses=`${ye.toastType} ${ye.config.toastClass}`,this.sub=ye.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=ye.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=ye.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=ye.toastRef.countDuplicate().subscribe(Se=>{this.duplicatesCount=Se})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Z=(new Date).getTime();this.width=(this.hideTime-Z)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(Z,ye){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(Z),ye)):this.timeout=setTimeout(()=>Z(),ye)}outsideInterval(Z,ye){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(Z),ye)):this.intervalId=setInterval(()=>Z(),ye)}runInsideAngular(Z){this.ngZone?this.ngZone.run(()=>Z()):Z()}}return me.\u0275fac=function(Z){return new(Z||me)(l.Y36(Ot),l.Y36(xe),l.Y36(l.R0b))},me.\u0275cmp=l.Xpm({type:me,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(Z,ye){1&Z&&l.NdJ("click",function(){return ye.tapToast()})("mouseenter",function(){return ye.stickAround()})("mouseleave",function(){return ye.delayedHideToast()}),2&Z&&(l.d8E("@flyInOut",ye.state),l.Tol(ye.toastClasses),l.Udp("display",ye.displayStyle))},standalone:!0,features:[l.jDz],attrs:ee,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(Z,ye){1&Z&&(l.YNc(0,te,3,0,"button",0),l.YNc(1,K,3,5,"div",1),l.YNc(2,Y,1,3,"div",2),l.YNc(3,k,2,4,"div",3),l.YNc(4,U,2,2,"div",4)),2&Z&&(l.Q6J("ngIf",ye.options.closeButton),l.xp6(1),l.Q6J("ngIf",ye.title),l.xp6(1),l.Q6J("ngIf",ye.message&&ye.options.enableHtml),l.xp6(1),l.Q6J("ngIf",ye.message&&!ye.options.enableHtml),l.xp6(1),l.Q6J("ngIf",ye.options.progressBar))},dependencies:[f.O5],encapsulation:2,data:{animation:[(0,b.X$)("flyInOut",[(0,b.SB)("inactive",(0,b.oB)({opacity:0})),(0,b.SB)("active",(0,b.oB)({opacity:1})),(0,b.SB)("removed",(0,b.oB)({opacity:0})),(0,b.eR)("inactive => active",(0,b.jt)("{{ easeTime }}ms {{ easing }}")),(0,b.eR)("active => removed",(0,b.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),me})();const fn={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:at},$t=(me={})=>(0,l.MR2)([{provide:Pe,useValue:{default:fn,config:me}}]);let jt=(()=>{class me{static forRoot(Z={}){return{ngModule:me,providers:[$t(Z)]}}}return me.\u0275fac=function(Z){return new(Z||me)},me.\u0275mod=l.oAB({type:me}),me.\u0275inj=l.cJS({imports:[at]}),me})()},5861:(wt,Fe,_)=>{"use strict";function l(f,O,de,ee,te,z,K){try{var Y=f[z](K),k=Y.value}catch(U){return void de(U)}Y.done?O(k):Promise.resolve(k).then(ee,te)}function b(f){return function(){var O=this,de=arguments;return new Promise(function(ee,te){var z=f.apply(O,de);function K(k){l(z,ee,te,K,Y,"next",k)}function Y(k){l(z,ee,te,K,Y,"throw",k)}K(void 0)})}}_.d(Fe,{Z:()=>b})},7582:(wt,Fe,_)=>{"use strict";function O(we,ke){var Ne={};for(var me in we)Object.prototype.hasOwnProperty.call(we,me)&&ke.indexOf(me)<0&&(Ne[me]=we[me]);if(null!=we&&"function"==typeof Object.getOwnPropertySymbols){var qe=0;for(me=Object.getOwnPropertySymbols(we);qe<me.length;qe++)ke.indexOf(me[qe])<0&&Object.prototype.propertyIsEnumerable.call(we,me[qe])&&(Ne[me[qe]]=we[me[qe]])}return Ne}function U(we,ke,Ne,me){return new(Ne||(Ne=Promise))(function(Z,ye){function R(Tt){try{Qe(me.next(Tt))}catch($e){ye($e)}}function Se(Tt){try{Qe(me.throw(Tt))}catch($e){ye($e)}}function Qe(Tt){Tt.done?Z(Tt.value):function qe(Z){return Z instanceof Ne?Z:new Ne(function(ye){ye(Z)})}(Tt.value).then(R,Se)}Qe((me=me.apply(we,ke||[])).next())})}function pe(we){return this instanceof pe?(this.v=we,this):new pe(we)}function he(we,ke,Ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var qe,me=Ne.apply(we,ke||[]),Z=[];return qe={},R("next"),R("throw"),R("return",function ye(Gt){return function(_n){return Promise.resolve(_n).then(Gt,$e)}}),qe[Symbol.asyncIterator]=function(){return this},qe;function R(Gt,_n){me[Gt]&&(qe[Gt]=function(Bn){return new Promise(function(qn,Mn){Z.push([Gt,Bn,qn,Mn])>1||Se(Gt,Bn)})},_n&&(qe[Gt]=_n(qe[Gt])))}function Se(Gt,_n){try{!function Qe(Gt){Gt.value instanceof pe?Promise.resolve(Gt.value.v).then(Tt,$e):Mt(Z[0][2],Gt)}(me[Gt](_n))}catch(Bn){Mt(Z[0][3],Bn)}}function Tt(Gt){Se("next",Gt)}function $e(Gt){Se("throw",Gt)}function Mt(Gt,_n){Gt(_n),Z.shift(),Z.length&&Se(Z[0][0],Z[0][1])}}function je(we){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ne,ke=we[Symbol.asyncIterator];return ke?ke.call(we):(we=function Ae(we){var ke="function"==typeof Symbol&&Symbol.iterator,Ne=ke&&we[ke],me=0;if(Ne)return Ne.call(we);if(we&&"number"==typeof we.length)return{next:function(){return we&&me>=we.length&&(we=void 0),{value:we&&we[me++],done:!we}}};throw new TypeError(ke?"Object is not iterable.":"Symbol.iterator is not defined.")}(we),Ne={},me("next"),me("throw"),me("return"),Ne[Symbol.asyncIterator]=function(){return this},Ne);function me(Z){Ne[Z]=we[Z]&&function(ye){return new Promise(function(R,Se){!function qe(Z,ye,R,Se){Promise.resolve(Se).then(function(Qe){Z({value:Qe,done:R})},ye)}(R,Se,(ye=we[Z](ye)).done,ye.value)})}}}_.d(Fe,{FC:()=>he,KL:()=>je,_T:()=>O,mG:()=>U,qq:()=>pe}),"function"==typeof SuppressedError&&SuppressedError}},wt=>{wt(wt.s=9673)}]);