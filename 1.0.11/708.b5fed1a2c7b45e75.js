"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[708],{5708:(Ot,m,a)=>{a.r(m),a.d(m,{FreeDashboardModule:()=>Tt});var d=a(6895),g=a(1779),M=a(3951),x=a(3402),U=a(1327),T=a(9171),P=a(5861),t=a(4650),h=a(4416),O=a(6196),v=a(8157),u=a(3378),b=a(1572),_=a(3937),f=a(927),Z=a(6391),A=a(9865),w=a(3695);function j(i,r){if(1&i&&(t.TgZ(0,"div",1)(1,"div",26)(2,"div",19)(3,"div",27),t._uU(4),t.qZA(),t.TgZ(5,"div",28)(6,"div")(7,"p",23),t._uU(8),t.ALo(9,"timeAgo"),t.qZA(),t.TgZ(10,"p",23),t._uU(11),t.ALo(12,"date"),t.qZA()(),t.TgZ(13,"div")(14,"p",23),t._uU(15),t.qZA(),t.TgZ(16,"p",23),t._uU(17),t.qZA()()()()()()),2&i){const e=r.$implicit,n=t.oxw();t.xp6(3),t.MGl("routerLink","/job-details/",e.id,""),t.xp6(1),t.Oqu(e.title),t.xp6(4),t.hij("Posted: ",t.lcZ(9,6,e.datePosted),""),t.xp6(3),t.hij("Expired: ",t.lcZ(12,8,e.expiryDate),""),t.xp6(4),t.hij("",n.getViews(e.id)," Views"),t.xp6(2),t.hij("",n.getApplicants(e.id)," Applicants")}}function q(i,r){1&i&&(t.TgZ(0,"p"),t._uU(1,"Currently you do not have any shared ads"),t.qZA())}function S(i,r){1&i&&(t.TgZ(0,"div"),t._UZ(1,"app-failed-to-load-data"),t.qZA())}function J(i,r){1&i&&(t.TgZ(0,"div"),t._UZ(1,"app-result-not-found"),t.qZA())}function k(i,r){1&i&&(t.TgZ(0,"div"),t._UZ(1,"app-network-error"),t.qZA())}function D(i,r){1&i&&(t.TgZ(0,"div"),t._UZ(1,"app-forbidden"),t.qZA())}let I=(()=>{class i{constructor(e,n,o,s){this.employeeService=e,this.companyService=n,this.jobApplyService=o,this.cookieService=s,this.progressValue=50,this.progressMode="determinate",this.personalProgressValue=8,this.personalProgressMode="determinate",this.applicants=[],this.filteredApplicants=[],this.views=[],this.filteredViews=[],this.applicantsMap={},this.viewsMap={},this.jobPosts=[],this.loading=!1,this.serverError=!1,this.notFound=!1,this.forbidden=!1,this.corsError=!1,this.unexpectedError=!1,this.cname="",this.cemail="",this.cphone="",this.chq="",this.formLocked=!0}ngOnInit(){var e=this;return(0,P.Z)(function*(){e.employeeId=e.cookieService.userID(),e.companyId=e.cookieService.organization(),e.getEmployee(e.employeeId),e.getCompany(e.companyId),e.fetchJobPostData()})()}ngAfterViewInit(){document.querySelectorAll(".material-icons").forEach(n=>{n.setAttribute("translate","no")})}getEmployee(e){this.loading=!0,this.employeeService.fetchFullEmployee(e).subscribe(n=>{this.employee=n,this.calculateProfileProgress(this.employee?.employee,"employer")},n=>{404===n.status?this.notFound=!0:500===n.status?this.serverError=!0:0===n.status?this.corsError=!0:403===n.status?this.forbidden=!0:this.unexpectedError=!0,this.loading=!1})}getCompany(e){this.loading=!0,this.companyService.fetchFullCompany(e).subscribe(n=>{this.company=n,this.jobPosts=n?.postedJobs[0]?.postedJobs,this.calculateProfileProgress(n?.company,"company"),this.cname=this.company?.company?.name,this.cemail=this.company?.company?.contactEmail,this.cphone=this.company?.company?.contactNumber,this.chq=this.company?.company?.location,this.cname&&this.cemail&&this.cphone&&this.chq&&(this.formLocked=!1),this.loading=!1},n=>{if(404===n.status)return this.notFound=!0,void location.reload();500===n.status?this.serverError=!0:0===n.status?this.corsError=!0:403===n.status?this.forbidden=!0:this.unexpectedError=!0,this.loading=!1})}calculateProfileProgress(e,n){if(this.loading=!1,!e||!e.profileCompleted)return this.progressValue=0,void(this.personalProgressValue=0);const o=e.profileCompleted;if("object"!=typeof o||null===o)return this.progressValue=0,void(this.personalProgressValue=0);const s=Object.values(o),l=s.length,c=s.filter(Pt=>!0===Pt).length;"employer"===n?this.personalProgressValue=Math.round(c/l*100):"company"===n&&(this.progressValue=Math.round(c/l*100))}fetchJobPostData(){this.jobApplyService.fetchJobApply().subscribe(e=>{e?.forEach(n=>{this.applicantsMap[n.jobId]=n.applicants?.length||0,this.viewsMap[n.jobId]=n.viewers?.length||0})},e=>{console.log(e)})}getApplicants(e){return this.applicantsMap[e]||0}getViews(e){return this.viewsMap[e]||0}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(h.G),t.Y36(O.J),t.Y36(v.v),t.Y36(u.e))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-free-main-db"]],decls:80,vars:19,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-6"],[1,"h2-1","mt-5"],[1,"h2-2"],[1,"d-flex","align-items-center","justify-content-center","w-100","my-5","c-j-progress"],["title","Company Name",1,"check-ball",3,"ngClass"],[1,"material-icons"],[1,"tag"],[1,"check-line"],["title","Company Email",1,"check-ball",3,"ngClass"],["title","Company Phone",1,"check-ball",3,"ngClass"],["title","Head Quarter",1,"check-ball",3,"ngClass"],["title","Ready to go",1,"check-ball","ready",3,"ngClass"],[1,"notification-area"],[1,"not-title-1"],[1,"not-title-2"],[1,"w-100","d-flex","align-items-center","justify-content-end"],[1,"col","col-lg-8"],[1,"card-1"],[1,"d-flex","align-items-center","justify-content-around","justify-content-md-between"],[1,"progress-spinner",3,"mode","value"],[1,"title-1"],[1,"m-0"],["class","row",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-12"],[1,"title-2",3,"routerLink"],[1,"d-flex","align-items-center","justify-content-between"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),t._uU(4,"Hi,"),t.qZA(),t.TgZ(5,"h2",4),t._uU(6),t.qZA(),t.TgZ(7,"div",5)(8,"div",6)(9,"i",7),t._uU(10,"check"),t.qZA(),t.TgZ(11,"div",8),t._uU(12,"Name"),t.qZA()(),t._UZ(13,"div",9),t.TgZ(14,"div",10)(15,"i",7),t._uU(16,"check"),t.qZA(),t.TgZ(17,"div",8),t._uU(18,"Email"),t.qZA()(),t._UZ(19,"div",9),t.TgZ(20,"div",11)(21,"i",7),t._uU(22,"check"),t.qZA(),t.TgZ(23,"div",8),t._uU(24,"Phone"),t.qZA()(),t._UZ(25,"div",9),t.TgZ(26,"div",12)(27,"i",7),t._uU(28,"check"),t.qZA(),t.TgZ(29,"div",8),t._uU(30,"Location"),t.qZA()(),t._UZ(31,"div",9),t.TgZ(32,"div",13)(33,"i",7),t._uU(34),t.qZA(),t.TgZ(35,"div",8),t._uU(36,"Ready to go"),t.qZA()()(),t.TgZ(37,"div",14)(38,"div")(39,"p",15),t._uU(40,"See what's new!"),t.qZA(),t.TgZ(41,"p"),t._uU(42,"Currently you do not have any new notifications"),t.qZA()(),t.TgZ(43,"div")(44,"p",16),t._uU(45,"Older notifications"),t.qZA(),t.TgZ(46,"p"),t._uU(47,"Currently you do not have any new notifications"),t.qZA()()()(),t.TgZ(48,"div",2)(49,"div",17)(50,"div",18)(51,"div",19)(52,"div",20)(53,"div"),t._UZ(54,"mat-progress-spinner",21),t.qZA(),t.TgZ(55,"div")(56,"div",22),t._uU(57,"Business Profile Completion"),t.qZA(),t.TgZ(58,"p",23),t._uU(59),t.qZA()()()(),t.TgZ(60,"div",19)(61,"div",20)(62,"div"),t._UZ(63,"mat-progress-spinner",21),t.qZA(),t.TgZ(64,"div")(65,"div",22),t._uU(66,"Personal Profile Completion"),t.qZA(),t.TgZ(67,"p",23),t._uU(68),t.qZA()()()()()(),t.TgZ(69,"div",17)(70,"div",18)(71,"div",19)(72,"div",22),t._uU(73,"Latest Ads Posted"),t.qZA(),t.YNc(74,j,18,10,"div",24),t.YNc(75,q,2,0,"p",25),t.qZA()()()()()(),t.YNc(76,S,2,0,"div",25),t.YNc(77,J,2,0,"div",25),t.YNc(78,k,2,0,"div",25),t.YNc(79,D,2,0,"div",25)),2&n&&(t.xp6(6),t.Oqu(null!=o.employee&&null!=o.employee.employee&&o.employee.employee.firstname?null==o.employee||null==o.employee.employee?null:o.employee.employee.firstname:"User"),t.xp6(2),t.Q6J("ngClass",o.cname?"active":""),t.xp6(6),t.Q6J("ngClass",o.cemail?"active":""),t.xp6(6),t.Q6J("ngClass",o.cphone?"active":""),t.xp6(6),t.Q6J("ngClass",o.chq?"active":""),t.xp6(6),t.Q6J("ngClass",o.formLocked?"":"active"),t.xp6(2),t.Oqu(o.formLocked?"lock_outline":"lock_open"),t.xp6(20),t.Q6J("mode",o.progressMode)("value",o.progressValue),t.xp6(5),t.hij("",o.progressValue,"%"),t.xp6(4),t.Q6J("mode",o.personalProgressMode)("value",o.personalProgressValue),t.xp6(5),t.hij("",o.personalProgressValue,"%"),t.xp6(6),t.Q6J("ngForOf",o.jobPosts),t.xp6(1),t.Q6J("ngIf",0==(null==o.jobPosts?null:o.jobPosts.length)),t.xp6(1),t.Q6J("ngIf",!o.loading&&o.serverError),t.xp6(1),t.Q6J("ngIf",o.notFound&&0==o.company.length),t.xp6(1),t.Q6J("ngIf",o.corsError),t.xp6(1),t.Q6J("ngIf",o.forbidden&&0==o.company.length||o.unexpectedError))},dependencies:[d.mk,d.sg,d.O5,g.rH,b.Ou,_.o,f.o,Z.z,A.t,d.uU,w.e],styles:[".h2-1[_ngcontent-%COMP%]{color:var(--color-text-300)}.h2-2[_ngcontent-%COMP%]{color:var(--color-text-100);font-weight:700}.notification-area[_ngcontent-%COMP%]{padding:max(20px,3vw) 0}.notification-area[_ngcontent-%COMP%]   .not-title-1[_ngcontent-%COMP%], .notification-area[_ngcontent-%COMP%]   .not-title-2[_ngcontent-%COMP%]{font-weight:450;margin-bottom:10px;font-size:18px}.notification-area[_ngcontent-%COMP%]   .not-title-1[_ngcontent-%COMP%]{color:var(--color-primary-100)}.notification-area[_ngcontent-%COMP%]   .not-title-2[_ngcontent-%COMP%]{margin-top:20px;color:var(--color-text-100)}.card-1[_ngcontent-%COMP%]{margin:10px 0;padding:20px}.card-1[_ngcontent-%COMP%]   .progress-spinner[_ngcontent-%COMP%]{width:70px!important;height:70px!important;display:flex;align-items:center;justify-content:center}.card-1[_ngcontent-%COMP%]   .title-2[_ngcontent-%COMP%]{color:var(--color-text-100);font-weight:450;transition:all .3s ease}.card-1[_ngcontent-%COMP%]   .title-2[_ngcontent-%COMP%]:hover{color:var(--color-primary-100);cursor:pointer}.c-j-progress[_ngcontent-%COMP%]{padding:0 30px}.c-j-progress[_ngcontent-%COMP%]   .check-ball[_ngcontent-%COMP%]{min-width:30px;min-height:30px;border-radius:50%;background-color:var(--color-surface-mixed-100);margin:0 5px;border:2px solid var(--color-primary-200);position:relative;padding:5px;cursor:pointer}.c-j-progress[_ngcontent-%COMP%]   .check-ball[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:none;color:#fff;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:20px}.c-j-progress[_ngcontent-%COMP%]   .check-ball[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{position:absolute;bottom:-40px;transform:translate(-50%);white-space:nowrap;color:var(--color-text-200);font-weight:450}@media screen and (max-width: 1000px){.c-j-progress[_ngcontent-%COMP%]   .check-ball[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{display:none}}.c-j-progress[_ngcontent-%COMP%]   .check-ball.active[_ngcontent-%COMP%]{background-color:var(--color-primary-200)}.c-j-progress[_ngcontent-%COMP%]   .check-ball.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:block}.c-j-progress[_ngcontent-%COMP%]   .check-ball.ready[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:block;color:var(--color-text-200)}.c-j-progress[_ngcontent-%COMP%]   .check-ball.active.ready[_ngcontent-%COMP%]{background-color:var(--color-primary-200);border:2px solid var(--color-primary-200)}.c-j-progress[_ngcontent-%COMP%]   .check-ball.active.ready[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}.c-j-progress[_ngcontent-%COMP%]   .check-line[_ngcontent-%COMP%]{width:100%;height:2px;background-color:var(--color-primary-200)}@media screen and (max-width: 1000px){.c-j-progress[_ngcontent-%COMP%]{padding:0}}"]})}return i})();var E=a(2906),F=a(4191),p=a(1896),C=a(5107),L=a(8140),N=a(6613),Q=a(6644),$=a(9046),Y=a(1110);const V=["table"],H=["closeModal"],B=["closeModal2"];function G(i,r){if(1&i&&(t.TgZ(0,"div",27)(1,"div",28)(2,"div",29),t._uU(3,"Applicants per Job"),t.qZA(),t._UZ(4,"app-applicants-per-job-bar-chart",30),t.qZA()()),2&i){const e=t.oxw();t.xp6(4),t.Q6J("jobData",e.jobApplicants)}}function z(i,r){if(1&i&&(t.TgZ(0,"div",27)(1,"div",28)(2,"div",29),t._uU(3,"Resume Download Rates"),t.qZA(),t._UZ(4,"app-resume-download-rates-chart",30),t.qZA()()),2&i){const e=t.oxw();t.xp6(4),t.Q6J("jobData",e.jobApplicants)}}function R(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"tr",51)(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"span",52),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.viewCandidateProfile(s.employeeId))}),t._uU(5),t.qZA(),t._uU(6," from "),t.TgZ(7,"span",53),t._uU(8),t.qZA(),t._UZ(9,"br"),t.TgZ(10,"span",54)(11,"a",55),t._uU(12),t.qZA()()(),t.TgZ(13,"td",56)(14,"a",57)(15,"button",58),t._uU(16,"Download CV "),t.qZA()()(),t.TgZ(17,"td",59)(18,"button",60)(19,"i",16),t._uU(20,"download"),t.qZA()()(),t.TgZ(21,"td")(22,"div",39)(23,"button",61)(24,"i",16),t._uU(25,"more_vert"),t.qZA()(),t.TgZ(26,"ul",41)(27,"li")(28,"a",43),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.viewCandidateProfile(s.employeeId))}),t._uU(29,"View"),t.qZA()(),t.TgZ(30,"li"),t._UZ(31,"hr",44),t.qZA(),t.TgZ(32,"li")(33,"a",62),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw().$implicit,c=t.oxw();return t.KtG(c.selectToInterview(l.jobId,s))}),t._uU(34,"Select to Interview"),t.qZA()(),t.TgZ(35,"li")(36,"a",62),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw().$implicit,c=t.oxw();return t.KtG(c.removeFromStack(l.jobId,s))}),t._uU(37,"Reject"),t.qZA()(),t.TgZ(38,"li"),t._UZ(39,"hr",44),t.qZA(),t.TgZ(40,"li")(41,"a",63),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw().$implicit,c=t.oxw();return t.KtG(c.openDeleteModal(l.jobId,s,"delete"))}),t._uU(42,"Delete"),t.qZA()()()()()()}if(2&i){const e=r.$implicit,n=r.index;t.xp6(2),t.Oqu(n+1),t.xp6(3),t.Oqu(e.name),t.xp6(3),t.Oqu(e.location),t.xp6(3),t.MGl("href","mailto:",e.email,"",t.LSH),t.xp6(1),t.Oqu(e.email),t.xp6(2),t.Q6J("href",e.resume,t.LSH),t.xp6(19),t.Q6J("ngClass","Selected"===e.status?"active":""),t.xp6(3),t.Q6J("ngClass","Rejected"===e.status?"active":"")}}function K(i,r){1&i&&(t.TgZ(0,"tr")(1,"td",64),t._uU(2,"No Applicants"),t.qZA()())}function X(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",31)(1,"div",28)(2,"div",32)(3,"div",29),t._uU(4," Job ID: "),t.TgZ(5,"a",33),t._uU(6),t.qZA(),t.TgZ(7,"a",34)(8,"i",16),t._uU(9,"call_made"),t.qZA()(),t._UZ(10,"i",35),t.qZA(),t.TgZ(11,"div",32)(12,"button",36),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.toggleApplicants(s))}),t.TgZ(13,"p",37),t._uU(14),t.qZA(),t.TgZ(15,"i",38),t._uU(16),t.qZA()(),t.TgZ(17,"div",39)(18,"button",40)(19,"i",16),t._uU(20,"more_horiz"),t.qZA()(),t.TgZ(21,"ul",41)(22,"li")(23,"a",42),t._uU(24,"View ad"),t.qZA()(),t.TgZ(25,"li")(26,"a",43),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.exportToCsv(s.jobId,s.applicants))}),t._uU(27,"Export"),t.qZA()(),t.TgZ(28,"li")(29,"a",43),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.analyzeJob(s.jobId))}),t._uU(30,"Analyze"),t.qZA()(),t.TgZ(31,"li"),t._UZ(32,"hr",44),t.qZA(),t.TgZ(33,"li")(34,"a",45),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.openDeleteModal(s.id,s,"deleteJob"))}),t._uU(35,"Delete"),t.qZA()()()()()(),t.TgZ(36,"table",46)(37,"thead",47)(38,"tr")(39,"th",48),t._uU(40),t.qZA(),t.TgZ(41,"th",49),t._uU(42),t.qZA()()(),t.TgZ(43,"tbody",47),t.YNc(44,R,43,8,"tr",50),t.ALo(45,"truncateComments"),t.YNc(46,K,3,0,"tr",4),t.qZA()()()()}if(2&i){const e=r.$implicit,n=t.oxw();t.xp6(5),t.MGl("routerLink","/job-details/",e.jobId,""),t.xp6(1),t.hij("",e.jobId," "),t.xp6(1),t.MGl("routerLink","/job-details/",e.jobId,""),t.xp6(7),t.hij("See ",e.showAllApplicants?"less":"all",""),t.xp6(2),t.Oqu(e.showAllApplicants?"expand":"compress"),t.xp6(7),t.MGl("routerLink","/job-details/",e.jobId,""),t.xp6(17),t.hij("Applicants (",e.applicants?e.applicants.length:0,")"),t.xp6(1),t.uIk("data-bs-whatever",e.jobId),t.xp6(1),t.hij(" Views (",e.viewers?e.viewers.length:0,") "),t.xp6(2),t.Q6J("ngForOf",t.xi3(45,11,e.applicants,e.showAllApplicants?e.applicants.length:n.maxApplicantsDisplayed)),t.xp6(2),t.Q6J("ngIf",!e.applicants)}}function W(i,r){1&i&&(t.TgZ(0,"div"),t._UZ(1,"app-failed-to-load-data"),t.qZA())}function tt(i,r){1&i&&(t.TgZ(0,"div"),t._UZ(1,"app-result-not-found"),t.qZA())}function et(i,r){1&i&&(t.TgZ(0,"div"),t._UZ(1,"app-network-error"),t.qZA())}function nt(i,r){1&i&&(t.TgZ(0,"div"),t._UZ(1,"app-forbidden"),t.qZA())}let ot=(()=>{class i{constructor(e,n,o,s,l,c){this.jobApplyService=e,this.employeeService=n,this.router=o,this.themeService=s,this.alertService=l,this.cookieService=c,this.jobApplicants=[],this.viewers=[],this.maxApplicantsDisplayed=1,this.loading=!1,this.serverError=!1,this.notFound=!1,this.forbidden=!1,this.corsError=!1,this.unexpectedError=!1}ngOnInit(){this.companyId=this.cookieService.organization(),this.fetchApplicants()}ngAfterViewInit(){document.querySelectorAll(".material-icons").forEach(s=>{s.setAttribute("translate","no")}),[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map(function(s){return new bootstrap.Tooltip(s)});const o=document.getElementById("viewsModel");o&&o.addEventListener("show.bs.modal",s=>{const c=s.relatedTarget.getAttribute("data-bs-whatever");this.selectedJobId=c,this.fetchJobViewers(this.selectedJobId)})}fetchApplicants(){this.loading=!0,this.jobApplyService.fetchJobApplyByCompanyId(this.companyId).subscribe(e=>{this.jobApplicants=e?.map(n=>({...n,showAllApplicants:!1})),this.loading=!1},e=>{404===e.status?this.notFound=!0:500===e.status?this.serverError=!0:0===e.status?this.corsError=!0:403===e.status?this.forbidden=!0:this.unexpectedError=!0,this.loading=!1})}fetchJobViewers(e){this.jobApplyService.fetchJobViewerByJobId(e).subscribe(n=>{this.viewers=n},n=>{console.error("Error fetching job viewers",n),this.viewers=[]})}viewCandidateProfile(e){e&&(this.router.navigate(["/candidate-profile"],{queryParams:{id:e}}),setTimeout(()=>{window.location.reload()},500))}toggleApplicants(e){e.showAllApplicants=!e.showAllApplicants}analyzeJob(e){if(e){const n=this.router.serializeUrl(this.router.createUrlTree(["/job-analysis",e]));window.open(n,"_blank")}}exportToCsv(e,n){if(!n||!n.length)return void this.alertService.warningMessage("No data to export","Warning");const o=this.datasetToCsv(n);this.downloadCsv(o,`${e}-data.csv`)}datasetToCsv(e){return[Object.keys(e[0]).join(","),...e.map(s=>Object.values(s).map(l=>`"${l}"`).join(","))].join("\n")}downloadCsv(e,n){const o=new Blob([e],{type:"text/csv"}),s=window.URL.createObjectURL(o),l=document.createElement("a");l.setAttribute("href",s),l.setAttribute("download",n),l.click(),window.URL.revokeObjectURL(s)}setEmployeeJobStatus(e,n,o){null!=e&&this.employeeService.editFavJobStatus(e,{jobId:n,status:o}).subscribe(s=>{},s=>{console.error(s)})}selectToInterview(e,n){n&&this.jobApplyService.updateSingleApplicant(e,n.id,{...n,status:"Selected"}).subscribe(o=>{this.setEmployeeJobStatus(n.employeeId,e,"inprogress"),this.alertService.successMessage("Candidate Selected for Interview","Success")},o=>{this.alertService.errorMessage("Something went wrong. Please try again","Error")})}removeFromStack(e,n){n&&this.jobApplyService.updateSingleApplicant(e,n.id,{...n,status:"Rejected"}).subscribe(o=>{this.setEmployeeJobStatus(n.employeeId,e,"rejected"),this.alertService.successMessage("Candidate Rejected","Success")},o=>{this.alertService.errorMessage("Something went wrong. Please try again","Error")})}deleteSingleApplicant(e,n){n&&this.jobApplyService.deleteSingleApplicant(this.companyId,e,n.id).subscribe(o=>{this.setEmployeeJobStatus(n.employeeId,e,"deleted"),this.dismissModal("delete"),this.alertService.successMessage("Candidate Deleted","Success"),this.jobApplyService.clearCacheCompanyId(),this.fetchApplicants()},o=>{this.dismissModal("delete"),this.alertService.errorMessage("Something went wrong. Please try again","Error")})}deleteAllApplicants(e){e&&this.jobApplyService.deleteCompleteApply(e).subscribe(n=>{this.dismissModal("deleteJob"),this.alertService.successMessage("All Applicants Deleted","Success"),this.jobApplyService.clearCacheCompanyId(),this.fetchApplicants()},n=>{this.dismissModal("deleteJob"),this.alertService.errorMessage("Something went wrong. Please try again","Error")})}openDeleteModal(e,n,o){switch(o){case"delete":default:this.jobId=e,this.applicantData=n;break;case"deleteJob":this.jobId=e}}dismissModal(e){switch(e){case"delete":this.closeModal.nativeElement.click();break;case"deleteJob":this.closeModal2.nativeElement.click()}}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(v.v),t.Y36(h.G),t.Y36(g.F0),t.Y36(L.f),t.Y36(N.m),t.Y36(u.e))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-applicants-db"]],viewQuery:function(n,o){if(1&n&&(t.Gf(V,5),t.Gf(H,5),t.Gf(B,5)),2&n){let s;t.iGM(s=t.CRH())&&(o.table=s.first),t.iGM(s=t.CRH())&&(o.closeModal=s.first),t.iGM(s=t.CRH())&&(o.closeModal2=s.first)}},decls:60,vars:8,consts:[[1,"container"],[1,"row"],["class","col-12 col-md-6",4,"ngIf"],["class","col-12",4,"ngFor","ngForOf"],[4,"ngIf"],["id","viewsModel","tabindex","-1","aria-labelledby","viewsModelLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-dialog-scrollable"],[1,"modal-content"],[1,"modal-header"],["id","viewsModelLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"sample-wrapper"],["alt","sample",3,"src"],[1,"sample-overlay"],["routerLink","/pricing",1,"unlock"],[1,"material-icons"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","deleteCandidateModel","tabindex","-1","aria-labelledby","deleteCandidateModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],["id","deleteCandidateModalLabel",1,"modal-title","fs-5"],["closeModal",""],["type","button",1,"btn","btn-danger",3,"click"],["id","deleteJobModel","tabindex","-1","aria-labelledby","deleteJobModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteJobModalLabel",1,"modal-title","fs-5"],["closeModal2",""],[1,"col-12","col-md-6"],[1,"card-1"],[1,"title-1"],[3,"jobData"],[1,"col-12"],[1,"d-flex","align-items-center","justify-content-between"],[1,"d-none","d-sm-inline",3,"routerLink"],[1,"d-inline","d-sm-none",3,"routerLink"],["data-bs-toggle","tooltip","data-bs-placement","top","data-bs-custom-class","custom-tooltip","data-bs-title","Check the job details",1,"fa","fa-question-circle"],[1,"see-more-btn","me-1",3,"click"],[1,"d-none","d-sm-block","m-0"],[1,"d-block","d-sm-none","material-icons"],[1,"dropdown"],["data-bs-toggle","dropdown","aria-expanded","false",1,"see-more-btn","pb-0"],[1,"dropdown-menu"],[1,"dropdown-item",3,"routerLink"],[1,"dropdown-item",3,"click"],[1,"dropdown-divider"],["data-bs-toggle","modal","data-bs-target","#deleteJobModel",1,"dropdown-item","danger",3,"click"],[1,"table","table-hover","table-borderless","w-100"],[1,"w-100"],["scope","col","colspan","3"],["scope","col","data-bs-toggle","modal","data-bs-target","#viewsModel",1,"hyperlink"],["class","applicants-list-row",4,"ngFor","ngForOf"],[1,"applicants-list-row"],["data-bs-toggle","tooltip","data-bs-placement","top","data-bs-custom-class","custom-tooltip","data-bs-title","Click to view profile",1,"bold-text","hyperlink",3,"click"],[1,"bold-text"],["data-bs-toggle","tooltip","data-bs-placement","top","data-bs-custom-class","custom-tooltip","data-bs-title","Click to send email",1,"bold-text"],[1,"hyperlink",3,"href"],[1,"d-none","d-md-table-cell"],["target","_blank",3,"href"],["data-bs-toggle","tooltip","data-bs-placement","top","data-bs-custom-class","custom-tooltip","data-bs-title","Click to download CV",1,"btn-1"],[1,"d-table-cell","d-md-none"],[1,"btn-1"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn-1"],[1,"dropdown-item",3,"ngClass","click"],["data-bs-toggle","modal","data-bs-target","#deleteCandidateModel",1,"dropdown-item","danger",3,"click"],["colspan","3"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,G,5,1,"div",2),t.YNc(3,z,5,1,"div",2),t.qZA(),t.TgZ(4,"div",1),t.YNc(5,X,47,14,"div",3),t.YNc(6,W,2,0,"div",4),t.YNc(7,tt,2,0,"div",4),t.YNc(8,et,2,0,"div",4),t.YNc(9,nt,2,0,"div",4),t.qZA()(),t.TgZ(10,"div",5)(11,"div",6)(12,"div",7)(13,"div",8)(14,"h1",9),t._uU(15,"Job Viewers"),t.qZA(),t._UZ(16,"button",10),t.qZA(),t.TgZ(17,"div",11)(18,"div",12),t._UZ(19,"img",13),t.TgZ(20,"div",14)(21,"p"),t._uU(22,"This feature is available in the pro version"),t.qZA(),t.TgZ(23,"button",15)(24,"i",16),t._uU(25,"lock"),t.qZA(),t._uU(26," Unlock"),t.qZA()()()(),t.TgZ(27,"div",17)(28,"button",18),t._uU(29,"Close"),t.qZA()()()()(),t.TgZ(30,"div",19)(31,"div",20)(32,"div",7)(33,"div",8)(34,"h1",21),t._uU(35,"Delete Account"),t.qZA(),t._UZ(36,"button",10,22),t.qZA(),t.TgZ(38,"div",11),t._uU(39," Are you sure you want to delete this applicant? This action cannot be undone! "),t.qZA(),t.TgZ(40,"div",17)(41,"button",18),t._uU(42,"Close"),t.qZA(),t.TgZ(43,"button",23),t.NdJ("click",function(){return o.deleteSingleApplicant(o.jobId,o.applicantData)}),t._uU(44,"Delete"),t.qZA()()()()(),t.TgZ(45,"div",24)(46,"div",20)(47,"div",7)(48,"div",8)(49,"h1",25),t._uU(50,"Delete Account"),t.qZA(),t._UZ(51,"button",10,26),t.qZA(),t.TgZ(53,"div",11),t._uU(54," Are you sure you want to delete this content? This will erase all data associated with it and this action cannot be undone! "),t.qZA(),t.TgZ(55,"div",17)(56,"button",18),t._uU(57,"Close"),t.qZA(),t.TgZ(58,"button",23),t.NdJ("click",function(){return o.deleteAllApplicants(o.jobId)}),t._uU(59,"Delete"),t.qZA()()()()()),2&n&&(t.xp6(2),t.Q6J("ngIf",o.jobApplicants&&o.jobApplicants.length>0),t.xp6(1),t.Q6J("ngIf",o.jobApplicants&&o.jobApplicants.length>0),t.xp6(2),t.Q6J("ngForOf",o.jobApplicants),t.xp6(1),t.Q6J("ngIf",!o.loading&&o.serverError),t.xp6(1),t.Q6J("ngIf",0==(null==o.jobApplicants?null:o.jobApplicants.length)),t.xp6(1),t.Q6J("ngIf",o.corsError),t.xp6(1),t.Q6J("ngIf",o.forbidden&&0==(null==o.jobApplicants?null:o.jobApplicants.length)||o.unexpectedError),t.xp6(10),t.Q6J("src",o.themeService.isDarkMode()?"./assets/imgs/companies/dashboards/view-sample-d.png":"./assets/imgs/companies/dashboards/view-sample.png",t.LSH))},dependencies:[d.mk,d.sg,d.O5,g.rH,Q.D,$.h,_.o,f.o,Z.z,A.t,Y.R],styles:[".card-1[_ngcontent-%COMP%]{width:100%;overflow-x:auto;margin:12px 0}.btn-1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0;font-size:18px}.applicants-list-row[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-secondary-600)}.see-more-btn[_ngcontent-%COMP%]{cursor:pointer;border:1px solid var(--color-secondary-600);border-radius:5px;background-color:var(--color-surface-mixed-200);color:var(--color-text-200);padding:2px 8px}.see-more-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0;padding:0;font-size:16px}.see-more-btn[_ngcontent-%COMP%]:hover{background-color:var(--color-surface-mixed-300)}.danger[_ngcontent-%COMP%]{color:var(--color-danger-200)}.danger[_ngcontent-%COMP%]:hover{color:var(--color-danger-100)}"]})}return i})();var it=a(5872),st=a(2340),at=a(529);let lt=(()=>{class i{constructor(e){this.http=e,this.apiUrl=st.N.apiUrl}getSubscription(e){return this.http.get(`${this.apiUrl}/subscriptions/${e}`)}getUsage(e){return this.http.get(`${this.apiUrl}/usage/${e}`)}getBillingHistory(e){return this.http.get(`${this.apiUrl}/billing/history/${e}`)}getPaymentMethods(e){return this.http.get(`${this.apiUrl}/payment-methods/${e}`)}updateSubscription(e,n){return this.http.put(`${this.apiUrl}/subscriptions/${e}`,n)}updatePaymentMethod(e,n){return this.http.post(`${this.apiUrl}/payment-methods/${e}`,n)}static#t=this.\u0275fac=function(n){return new(n||i)(t.LFG(at.eN))};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var rt=a(3162);function ct(i,r){if(1&i&&(t.TgZ(0,"div")(1,"strong"),t._uU(2,"Plan:"),t.qZA(),t._uU(3),t._UZ(4,"br"),t.TgZ(5,"strong"),t._uU(6,"Billing Cycle:"),t.qZA(),t._uU(7),t._UZ(8,"br"),t.TgZ(9,"strong"),t._uU(10,"Cost:"),t.qZA(),t._uU(11),t._UZ(12,"br"),t.TgZ(13,"strong"),t._uU(14,"Start Date:"),t.qZA(),t._uU(15),t.ALo(16,"date"),t._UZ(17,"br"),t.TgZ(18,"strong"),t._uU(19,"End Date:"),t.qZA(),t._uU(20),t.ALo(21,"date"),t._UZ(22,"br"),t.TgZ(23,"strong"),t._uU(24,"Status: "),t.qZA(),t.TgZ(25,"span"),t._uU(26,"Active"),t.qZA()()),2&i){const e=r.$implicit;t.xp6(3),t.hij(" ",e.plan_name," "),t.xp6(4),t.hij(" ",e.billing_cycle," "),t.xp6(4),t.hij(" $",e.cost," "),t.xp6(4),t.hij(" ",t.lcZ(16,7,e.start_date)," "),t.xp6(5),t.hij(" ",t.lcZ(21,9,e.end_date)," "),t.xp6(5),t.ekj("active",e.is_active)}}function dt(i,r){if(1&i&&(t.TgZ(0,"div")(1,"strong"),t._uU(2,"Overage Charges:"),t.qZA(),t._uU(3),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(3),t.hij(" $",e.overage_charges," ")}}function pt(i,r){if(1&i&&(t.TgZ(0,"div")(1,"div")(2,"strong"),t._uU(3,"Job Posts:"),t.qZA(),t._uU(4),t._UZ(5,"br")(6,"mat-progress-bar",8),t.qZA(),t.TgZ(7,"div")(8,"strong"),t._uU(9,"Applicant Views:"),t.qZA(),t._uU(10),t._UZ(11,"br")(12,"mat-progress-bar",8),t.qZA(),t.YNc(13,dt,4,1,"div",9),t.qZA()),2&i){const e=r.$implicit,n=t.oxw();t.xp6(4),t.AsE(" ",e.job_posts_used," / ",e.job_posts_allowed,""),t.xp6(2),t.Q6J("value",n.calculatePercentage(e.job_posts_used,e.job_posts_allowed)),t.xp6(4),t.AsE(" ",e.applicant_views_used," / ",e.applicant_views_allowed,""),t.xp6(2),t.Q6J("value",n.calculatePercentage(e.applicant_views_used,e.applicant_views_allowed)),t.xp6(1),t.Q6J("ngIf",e.overage_charges>0)}}function gt(i,r){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td")(9,"a",10),t._uU(10,"Download Invoice"),t.qZA()()()),2&i){const e=r.$implicit;t.xp6(2),t.Oqu(t.lcZ(3,4,e.date)),t.xp6(3),t.hij("$",e.amount,""),t.xp6(2),t.Oqu(e.status),t.xp6(2),t.s9C("href",e.invoiceUrl,t.LSH)}}function ut(i,r){if(1&i&&(t.TgZ(0,"div")(1,"div")(2,"strong"),t._uU(3),t.qZA(),t._uU(4),t._UZ(5,"br"),t.TgZ(6,"strong"),t._uU(7,"Expiry Date:"),t.qZA(),t._uU(8),t.ALo(9,"date"),t._UZ(10,"br"),t.qZA()()),2&i){const e=r.$implicit;t.xp6(3),t.hij("",e.type,":"),t.xp6(1),t.hij(" **** **** **** ",e.last_four," "),t.xp6(4),t.hij(" ",t.xi3(9,3,e.expiry_date,"MM/yyyy")," ")}}const ht=[{path:"",component:U.j,children:[{path:"",redirectTo:"/dashboard/overview",pathMatch:"full"},{path:"overview",component:I,canActivate:[p.u,C.a]},{path:"personal-profile",component:F.a,canActivate:[p.u]},{path:"personal-profile-settings",component:M.p,canActivate:[p.u]},{path:"business-profile-my",component:T.x,canActivate:[p.u]},{path:"business-profile-settings",component:E.K,canActivate:[p.u]},{path:"company-jobs",component:x.Y,canActivate:[p.u]},{path:"applicants",component:ot,canActivate:[p.u]},{path:"company-analysis",component:it.b,canActivate:[p.u]},{path:"billing",component:(()=>{class i{constructor(e,n){this.billingService=e,this.cookiesService=n}ngOnInit(){this.companyId=this.cookiesService.organization(),this.loadSubscription(),this.loadUsage(),this.loadBillingHistory(),this.loadPaymentMethods()}loadSubscription(){this.billingService.getSubscription(this.companyId).subscribe({next:e=>{this.subscription=e},error:e=>{console.error("Error loading subscription",e)}})}loadUsage(){this.billingService.getUsage(this.companyId).subscribe({next:e=>{this.usage=e},error:e=>{console.error("Error loading usage",e)}})}loadBillingHistory(){this.billingService.getBillingHistory(this.companyId).subscribe({next:e=>{this.billingHistory=e},error:e=>{console.error("Error loading billing history",e)}})}loadPaymentMethods(){this.billingService.getPaymentMethods(this.companyId).subscribe({next:e=>{this.paymentMethods=e},error:e=>{console.error("Error loading payment methods",e)}})}openUpgradePlan(){const e={...this.subscription,plan_name:"Premium",cost:49.99};this.billingService.updateSubscription(this.companyId,e).subscribe({next:()=>{this.loadSubscription()},error:n=>{console.error("Error updating subscription",n)}})}openManagePaymentMethods(){this.billingService.updatePaymentMethod(this.companyId,{id:"2",type:"Credit Card",last_four:"1234",expiry_date:"2026-01-01"}).subscribe({next:()=>{this.loadPaymentMethods()},error:n=>{console.error("Error updating payment method",n)}})}calculatePercentage(e,n){return e/n*100}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(lt),t.Y36(u.e))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-billing-and-usage"]],decls:34,vars:4,consts:[[1,"container"],[1,"billing-usage"],[1,"subscription-details"],[4,"ngFor","ngForOf"],[1,"btn-1",3,"click"],[1,"usage-data"],[1,"billing-history"],[1,"payment-methods"],[3,"value"],[4,"ngIf"],["download","",3,"href"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"section",2)(3,"h3"),t._uU(4,"Subscription Plan"),t.qZA(),t.YNc(5,ct,27,11,"div",3),t.TgZ(6,"button",4),t.NdJ("click",function(){return o.openUpgradePlan()}),t._uU(7,"Upgrade/Downgrade Plan"),t.qZA()(),t.TgZ(8,"section",5)(9,"h3"),t._uU(10,"Usage Overview"),t.qZA(),t.YNc(11,pt,14,7,"div",3),t.qZA(),t.TgZ(12,"section",6)(13,"h3"),t._uU(14,"Billing History"),t.qZA(),t.TgZ(15,"table")(16,"thead")(17,"tr")(18,"th"),t._uU(19,"Date"),t.qZA(),t.TgZ(20,"th"),t._uU(21,"Amount"),t.qZA(),t.TgZ(22,"th"),t._uU(23,"Status"),t.qZA(),t.TgZ(24,"th"),t._uU(25,"Invoice"),t.qZA()()(),t.TgZ(26,"tbody"),t.YNc(27,gt,11,6,"tr",3),t.qZA()()(),t.TgZ(28,"section",7)(29,"h3"),t._uU(30,"Payment Methods"),t.qZA(),t.YNc(31,ut,11,6,"div",3),t.TgZ(32,"button",4),t.NdJ("click",function(){return o.openManagePaymentMethods()}),t._uU(33,"Manage Payment Methods"),t.qZA()()()()),2&n&&(t.xp6(5),t.Q6J("ngForOf",o.subscription),t.xp6(6),t.Q6J("ngForOf",o.usage),t.xp6(16),t.Q6J("ngForOf",o.billingHistory),t.xp6(4),t.Q6J("ngForOf",o.paymentMethods))},dependencies:[d.sg,d.O5,rt.pW,d.uU],styles:[".billing-usage[_ngcontent-%COMP%]{max-width:800px;margin:auto;padding:max(20px,3vw) 0}.billing-usage[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{margin-bottom:20px;padding:15px;border:1px solid #ccc;border-radius:8px}.billing-usage[_ngcontent-%COMP%]   .btn-1[_ngcontent-%COMP%]{margin-top:10px}.billing-usage[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:max(14px,1.6vw);margin-top:10px;font-size:20px;font-weight:600}.billing-usage[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.billing-usage[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], .billing-usage[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .billing-usage[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd}.billing-usage[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .billing-usage[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px;text-align:left}.billing-usage[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:#2ecc71}.billing-usage[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]{margin:10px 0}.billing-usage[_ngcontent-%COMP%]   .subscription-details[_ngcontent-%COMP%], .billing-usage[_ngcontent-%COMP%]   .usage-data[_ngcontent-%COMP%], .billing-usage[_ngcontent-%COMP%]   .billing-history[_ngcontent-%COMP%], .billing-usage[_ngcontent-%COMP%]   .payment-methods[_ngcontent-%COMP%]{color:var(--color-text-200)}.billing-usage[_ngcontent-%COMP%]   .subscription-details[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .billing-usage[_ngcontent-%COMP%]   .usage-data[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .billing-usage[_ngcontent-%COMP%]   .billing-history[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .billing-usage[_ngcontent-%COMP%]   .payment-methods[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--color-text-100);font-weight:450}"]})}return i})(),canActivate:[p.u]}],canActivate:[p.u,C.a]}];let vt=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i});static#n=this.\u0275inj=t.cJS({imports:[g.Bz.forChild(ht),g.Bz]})}return i})();var bt=a(7392),_t=a(8255),ft=a(9101),Zt=a(9022),y=a(4006),At=a(3267),Ct=a(266),yt=a(5829),Mt=a(1687),xt=a(259),Ut=a(8608);let Tt=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i});static#n=this.\u0275inj=t.cJS({imports:[d.ez,vt,bt.Ps,_t.Tx,ft.ot,y.UX,At.SJ,Zt.To,Ct.AV,b.Cq,y.u5,yt.D,Mt.S,xt.p,Ut.v]})}return i})()}}]);