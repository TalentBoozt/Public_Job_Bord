"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[460],{2460:(M,l,n)=>{n.r(l),n.d(l,{ResetPasswordFormModule:()=>P});var m=n(6895),a=n(1779),s=n(4650),p=n(4429),u=n(8353),i=n(4006);function g(e,v){if(1&e&&(s.TgZ(0,"div",5)(1,"p",12),s._uU(2),s.qZA()()),2&e){const t=s.oxw();s.xp6(2),s.Oqu(t.errorMessage)}}function h(e,v){if(1&e&&(s.TgZ(0,"div",5)(1,"p",13),s._uU(2),s.qZA()()),2&e){const t=s.oxw();s.xp6(2),s.Oqu(t.successMessage)}}const w=[{path:"",component:(()=>{class e{constructor(t,o,r,d){this.route=t,this.credentialService=o,this.router=r,this.encryptionService=d,this.token="",this.password="",this.confirmPassword="",this.loading=!1,this.errorMessage="",this.successMessage=""}ngOnInit(){this.token=this.route.snapshot.queryParams.token}onSubmit(){if(this.password!==this.confirmPassword)return void(this.errorMessage="Passwords do not match.");this.loading=!0,this.errorMessage="",this.successMessage="";const t=this.encryptionService.encryptPassword(this.password);this.credentialService.resetPassword(this.token,t).subscribe(o=>{this.loading=!1,this.password="",this.confirmPassword="",this.successMessage="Password has been reset successfully",setTimeout(()=>{this.router.navigate(["/login"])},1e3)},o=>{this.loading=!1,this.errorMessage="Failed to reset password. Please try again."})}static#s=this.\u0275fac=function(o){return new(o||e)(s.Y36(a.gz),s.Y36(p.T),s.Y36(a.F0),s.Y36(u.C))};static#e=this.\u0275cmp=s.Xpm({type:e,selectors:[["app-reset-password-form"]],decls:19,vars:5,consts:[[1,"container"],[1,"form-card-1"],[1,"title"],[3,"ngSubmit"],[1,"row","form-wrapper"],[1,"col-12"],["for","password"],["type","password","id","password","name","password","placeholder","Enter new password","required","",3,"ngModel","ngModelChange"],["for","confirmPassword"],["type","password","id","confirmPassword","name","confirmPassword","placeholder","Confirm new password","required","",3,"ngModel","ngModelChange"],["type","submit",1,"btn-1","w-100",3,"disabled"],["class","col-12",4,"ngIf"],[1,"error-message"],[1,"success-message"]],template:function(o,r){1&o&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),s._uU(3,"Set New Password"),s.qZA(),s.TgZ(4,"form",3),s.NdJ("ngSubmit",function(){return r.onSubmit()}),s.TgZ(5,"div",4)(6,"div",5)(7,"label",6),s._uU(8,"New Password:"),s.qZA(),s.TgZ(9,"input",7),s.NdJ("ngModelChange",function(c){return r.password=c}),s.qZA()(),s.TgZ(10,"div",5)(11,"label",8),s._uU(12,"Confirm Password:"),s.qZA(),s.TgZ(13,"input",9),s.NdJ("ngModelChange",function(c){return r.confirmPassword=c}),s.qZA()(),s.TgZ(14,"div",5)(15,"button",10),s._uU(16,"Reset Password"),s.qZA()(),s.YNc(17,g,3,1,"div",11),s.YNc(18,h,3,1,"div",11),s.qZA()()()()),2&o&&(s.xp6(9),s.Q6J("ngModel",r.password),s.xp6(4),s.Q6J("ngModel",r.confirmPassword),s.xp6(2),s.Q6J("disabled",r.loading),s.xp6(2),s.Q6J("ngIf",r.errorMessage),s.xp6(1),s.Q6J("ngIf",r.successMessage))},dependencies:[m.O5,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.On,i.F]})}return e})()}];let f=(()=>{class e{static#s=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275mod=s.oAB({type:e});static#o=this.\u0275inj=s.cJS({imports:[a.Bz.forChild(w),a.Bz]})}return e})(),P=(()=>{class e{static#s=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275mod=s.oAB({type:e});static#o=this.\u0275inj=s.cJS({imports:[m.ez,f,i.u5]})}return e})()}}]);