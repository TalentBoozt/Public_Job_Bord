<div class="container">
  <div class="health-dashboard">
    <h2>Health Metrics</h2>
    <div class="overall-status">
      <p><strong>Overall Status:</strong> {{ overallStatus }} <i [ngClass]="overallStatus === 'UP' ? 'fa fa-caret-up' : 'fa fa-caret-down'" aria-hidden="true"></i></p>
      <p><strong>Server Uptime:</strong> {{ serverUpTime }} <i class="fa fa-clock-o" aria-hidden="true"></i></p>
    </div>

    <table class="health-table">
      <thead>
      <tr>
        <th>Component</th>
        <th>Status</th>
        <th>Details</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let metric of healthMetrics">
        <td>{{ metric.name }}</td>
        <td [class.up]="metric.status === 'UP'" [class.down]="metric.status !== 'UP'">
          {{ metric.status }} <i [ngClass]="metric.status === 'UP' ? 'fa fa-caret-up' : 'fa fa-caret-down'" aria-hidden="true"></i>
        </td>
        <td>
          <ul>
            <li *ngFor="let detail of metric.details | keyvalue">
              {{ detail.key }}: {{ detail.value }}
            </li>
          </ul>
        </td>
      </tr>
      </tbody>
    </table>
  </div>

  <div class="row">
    <div class="col-12 col-md-6">
      <div class="disk-space-dashboard">
        <h3>Free Disk Space</h3>

        <!-- Progress Bar -->
        <div class="progress-bar-container">
          <div class="progress-bar-background">
            <div class="progress-bar-fill" [ngClass]="progressBarClass" [style.width]="freeSpacePercentage + '%'"></div>
          </div>
          <span class="progress-text">{{ freeSpacePercentage | number: '1.0-0' }}% Free</span>
        </div>

        <!-- Optional: Display the free and total disk space -->
        <p><strong>Free Space:</strong> {{ freeDiskSpace | number }} GB</p>
        <p><strong>Total Space:</strong> {{ totalDiskSpace | number }} GB</p>
      </div>
    </div>
    <div class="col-12 col-md-6">
      <div class="disk-space-dashboard">
        <h3>Used Disk Space</h3>

        <!-- Progress Bar -->
        <div class="progress-bar-container">
          <div class="progress-bar-background">
            <div class="progress-bar-fill" [ngClass]="progressBarClass" [style.width]="usedSpacePercentage + '%'"></div>
          </div>
          <span class="progress-text">{{ usedSpacePercentage | number: '1.0-0' }}% Used</span>
        </div>

        <!-- Optional: Display the free and total disk space -->
        <p><strong>Free Space:</strong> {{ freeDiskSpace | number }} GB</p>
        <p><strong>Total Space:</strong> {{ totalDiskSpace | number }} GB</p>
      </div>
    </div>
  </div>
</div>

